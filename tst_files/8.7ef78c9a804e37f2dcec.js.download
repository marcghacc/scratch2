(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"/kAC":function(t,e,n){var i=n("3cYt")({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});t.exports=i},"1uat":function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("MlIO"),function(){var t=i,e=t.lib.Hasher,n=t.x64,o=n.Word,r=n.WordArray,a=t.algo;function s(){return o.create.apply(o,arguments)}var c=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],l=[];!function(){for(var t=0;t<80;t++)l[t]=s()}();var p=a.SHA512=e.extend({_doReset:function(){this._hash=new r.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],o=n[1],r=n[2],a=n[3],s=n[4],p=n[5],d=n[6],u=n[7],g=i.high,h=i.low,b=o.high,f=o.low,m=r.high,v=r.low,y=a.high,C=a.low,x=s.high,w=s.low,P=p.high,O=p.low,M=d.high,_=d.low,k=u.high,S=u.low,A=g,I=h,R=b,T=f,F=m,E=v,D=y,L=C,N=x,H=w,G=P,B=O,j=M,U=_,z=k,V=S,Z=0;Z<80;Z++){var $=l[Z];if(Z<16)var W=$.high=0|t[e+2*Z],J=$.low=0|t[e+2*Z+1];else{var q=l[Z-15],K=q.high,Y=q.low,Q=(Y>>>1|K<<31)^(Y>>>8|K<<24)^(Y>>>7|K<<25),X=l[Z-2],tt=X.high,et=X.low,nt=(et>>>19|tt<<13)^(et<<3|tt>>>29)^(et>>>6|tt<<26),it=l[Z-7],ot=l[Z-16],rt=ot.low;$.high=W=(W=(W=((K>>>1|Y<<31)^(K>>>8|Y<<24)^K>>>7)+it.high+((J=Q+it.low)>>>0<Q>>>0?1:0))+((tt>>>19|et<<13)^(tt<<3|et>>>29)^tt>>>6)+((J+=nt)>>>0<nt>>>0?1:0))+ot.high+((J+=rt)>>>0<rt>>>0?1:0),$.low=J}var at,st=N&G^~N&j,ct=H&B^~H&U,lt=A&R^A&F^R&F,pt=(I>>>28|A<<4)^(I<<30|A>>>2)^(I<<25|A>>>7),dt=c[Z],ut=dt.low,gt=z+((N>>>14|H<<18)^(N>>>18|H<<14)^(N<<23|H>>>9))+((at=V+((H>>>14|N<<18)^(H>>>18|N<<14)^(H<<23|N>>>9)))>>>0<V>>>0?1:0),ht=pt+(I&T^I&E^T&E);z=j,V=U,j=G,U=B,G=N,B=H,N=D+(gt=(gt=(gt=gt+st+((at+=ct)>>>0<ct>>>0?1:0))+dt.high+((at+=ut)>>>0<ut>>>0?1:0))+W+((at+=J)>>>0<J>>>0?1:0))+((H=L+at|0)>>>0<L>>>0?1:0)|0,D=F,L=E,F=R,E=T,R=A,T=I,A=gt+(((A>>>28|I<<4)^(A<<30|I>>>2)^(A<<25|I>>>7))+lt+(ht>>>0<pt>>>0?1:0))+((I=at+ht|0)>>>0<at>>>0?1:0)|0}h=i.low=h+I,i.high=g+A+(h>>>0<I>>>0?1:0),f=o.low=f+T,o.high=b+R+(f>>>0<T>>>0?1:0),v=r.low=v+E,r.high=m+F+(v>>>0<E>>>0?1:0),C=a.low=C+L,a.high=y+D+(C>>>0<L>>>0?1:0),w=s.low=w+H,s.high=x+N+(w>>>0<H>>>0?1:0),O=p.low=O+B,p.high=P+G+(O>>>0<B>>>0?1:0),_=d.low=_+U,d.high=M+j+(_>>>0<U>>>0?1:0),S=u.low=S+V,u.high=k+z+(S>>>0<V>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[30+(i+128>>>10<<5)]=Math.floor(n/4294967296),e[31+(i+128>>>10<<5)]=n,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(p),t.HmacSHA512=e._createHmacHelper(p)}(),i.SHA512)},"3y9D":function(t,e,n){var i,o,r,a,s,c,l;t.exports=(l=n("Ib8C"),r=(o=(i=l).lib).WordArray,s=[],c=i.algo.SHA1=(a=o.Hasher).extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],o=n[1],r=n[2],a=n[3],c=n[4],l=0;l<80;l++){if(l<16)s[l]=0|t[e+l];else{var p=s[l-3]^s[l-8]^s[l-14]^s[l-16];s[l]=p<<1|p>>>31}var d=(i<<5|i>>>27)+c+s[l];d+=l<20?1518500249+(o&r|~o&a):l<40?1859775393+(o^r^a):l<60?(o&r|o&a|r&a)-1894007588:(o^r^a)-899497514,c=a,a=r,r=o<<30|o>>>2,o=i,i=d}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+r|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[14+(i+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(i+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),i.SHA1=a._createHelper(c),i.HmacSHA1=a._createHmacHelper(c),l.SHA1)},"5hvy":function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("MlIO"),function(t){var e=i,n=e.lib,o=n.WordArray,r=n.Hasher,a=e.x64.Word,s=e.algo,c=[],l=[],p=[];!function(){for(var t=1,e=0,n=0;n<24;n++){c[t+5*e]=(n+1)*(n+2)/2%64;var i=(2*t+3*e)%5;t=e%5,e=i}for(t=0;t<5;t++)for(e=0;e<5;e++)l[t+5*e]=e+(2*t+3*e)%5*5;for(var o=1,r=0;r<24;r++){for(var s=0,d=0,u=0;u<7;u++){if(1&o){var g=(1<<u)-1;g<32?d^=1<<g:s^=1<<g-32}128&o?o=o<<1^113:o<<=1}p[r]=a.create(s,d)}}();var d=[];!function(){for(var t=0;t<25;t++)d[t]=a.create()}();var u=s.SHA3=r.extend({cfg:r.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var n=this._state,i=this.blockSize/2,o=0;o<i;o++){var r=t[e+2*o],a=t[e+2*o+1];r=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),(R=n[o]).high^=a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),R.low^=r}for(var s=0;s<24;s++){for(var u=0;u<5;u++){for(var g=0,h=0,b=0;b<5;b++)g^=(R=n[u+5*b]).high,h^=R.low;var f=d[u];f.high=g,f.low=h}for(u=0;u<5;u++){var m=d[(u+4)%5],v=d[(u+1)%5],y=v.high,C=v.low;for(g=m.high^(y<<1|C>>>31),h=m.low^(C<<1|y>>>31),b=0;b<5;b++)(R=n[u+5*b]).high^=g,R.low^=h}for(var x=1;x<25;x++){var w=(R=n[x]).high,P=R.low,O=c[x];O<32?(g=w<<O|P>>>32-O,h=P<<O|w>>>32-O):(g=P<<O-32|w>>>64-O,h=w<<O-32|P>>>64-O);var M=d[l[x]];M.high=g,M.low=h}var _=d[0],k=n[0];for(_.high=k.high,_.low=k.low,u=0;u<5;u++)for(b=0;b<5;b++){var S=d[x=u+5*b],A=d[(u+1)%5+5*b],I=d[(u+2)%5+5*b];(R=n[x]).high=S.high^~A.high&I.high,R.low=S.low^~A.low&I.low}var R,T=p[s];(R=n[0]).high^=T.high,R.low^=T.low}},_doFinalize:function(){var e=this._data,n=e.words,i=8*e.sigBytes,r=32*this.blockSize;n[i>>>5]|=1<<24-i%32,n[(t.ceil((i+1)/r)*r>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,c=s/8,l=[],p=0;p<c;p++){var d=a[p],u=d.high,g=d.low;u=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),l.push(g=16711935&(g<<8|g>>>24)|4278255360&(g<<24|g>>>8)),l.push(u)}return new o.init(l,s)},clone:function(){for(var t=r.clone.call(this),e=t._state=this._state.slice(0),n=0;n<25;n++)e[n]=e[n].clone();return t}});e.SHA3=r._createHelper(u),e.HmacSHA3=r._createHmacHelper(u)}(Math),i.SHA3)},"9OqN":function(t,e,n){var i,o,r;t.exports=(r=n("Ib8C"),n("OLod"),r.mode.CTR=(o=(i=r.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,o=this._iv,r=this._counter;o&&(r=this._counter=o.slice(0),this._iv=void 0);var a=r.slice(0);n.encryptBlock(a,0),r[i-1]=r[i-1]+1|0;for(var s=0;s<i;s++)t[e+s]^=a[s]}}),i.Decryptor=o,i),r.mode.CTR)},ALsQ:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("OLod"),i.mode.CFB=function(){var t=i.lib.BlockCipherMode.extend();function e(t,e,n,i){var o=this._iv;if(o){var r=o.slice(0);this._iv=void 0}else r=this._prevBlock;i.encryptBlock(r,0);for(var a=0;a<n;a++)t[e+a]^=r[a]}return t.Encryptor=t.extend({processBlock:function(t,n){var i=this._cipher,o=i.blockSize;e.call(this,t,n,o,i),this._prevBlock=t.slice(n,n+o)}}),t.Decryptor=t.extend({processBlock:function(t,n){var i=this._cipher,o=i.blockSize,r=t.slice(n,n+o);e.call(this,t,n,o,i),this._prevBlock=r}}),t}(),i.mode.CFB)},"B5V+":function(t,e,n){"use strict";var i=i||{};i.scope={},i.arrayIteratorImpl=function(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}},i.arrayIterator=function(t){return{next:i.arrayIteratorImpl(t)}},i.ASSUME_ES5=!1,i.ASSUME_NO_NATIVE_MAP=!1,i.ASSUME_NO_NATIVE_SET=!1,i.SIMPLE_FROUND_POLYFILL=!1,i.ISOLATE_POLYFILLS=!1,i.FORCE_POLYFILL_PROMISE=!1,i.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,i.defineProperty=i.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t},i.getGlobal=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")},i.global=i.getGlobal(this),i.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),i.TRUST_ES6_POLYFILLS=!i.ISOLATE_POLYFILLS||i.IS_SYMBOL_NATIVE,i.polyfills={},i.propertyToPolyfillSymbol={},i.POLYFILL_PREFIX="$jscp$",i.polyfill=function(t,e,n,o){e&&(i.ISOLATE_POLYFILLS?i.polyfillIsolated(t,e,n,o):i.polyfillUnisolated(t,e,n,o))},i.polyfillUnisolated=function(t,e){var n=i.global;t=t.split(".");for(var o=0;o<t.length-1;o++){var r=t[o];if(!(r in n))return;n=n[r]}(e=e(o=n[t=t[t.length-1]]))!=o&&null!=e&&i.defineProperty(n,t,{configurable:!0,writable:!0,value:e})},i.polyfillIsolated=function(t,e,n){var o=t.split("."),r=o[0];r=!(t=1===o.length)&&r in i.polyfills?i.polyfills:i.global;for(var a=0;a<o.length-1;a++){var s=o[a];if(!(s in r))return;r=r[s]}o=o[o.length-1],null!=(e=e(n=i.IS_SYMBOL_NATIVE&&"es6"===n?r[o]:null))&&(t?i.defineProperty(i.polyfills,o,{configurable:!0,writable:!0,value:e}):e!==n&&(void 0===i.propertyToPolyfillSymbol[o]&&(t=1e9*Math.random()>>>0,i.propertyToPolyfillSymbol[o]=i.IS_SYMBOL_NATIVE?i.global.Symbol(o):i.POLYFILL_PREFIX+t+"$"+o),i.defineProperty(r,i.propertyToPolyfillSymbol[o],{configurable:!0,writable:!0,value:e})))},i.initSymbol=function(){},i.polyfill("Symbol",(function(t){function e(t,e){this.$jscomp$symbol$id_=t,i.defineProperty(this,"description",{configurable:!0,writable:!0,value:e})}if(t)return t;e.prototype.toString=function(){return this.$jscomp$symbol$id_};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",o=0;return function t(i){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new e(n+(i||"")+"_"+o++,i)}}),"es6","es3"),i.polyfill("Symbol.iterator",(function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<e.length;n++){var o=i.global[e[n]];"function"==typeof o&&"function"!=typeof o.prototype[t]&&i.defineProperty(o.prototype,t,{configurable:!0,writable:!0,value:function(){return i.iteratorPrototype(i.arrayIteratorImpl(this))}})}return t}),"es6","es3"),i.iteratorPrototype=function(t){return(t={next:t})[Symbol.iterator]=function(){return this},t},i.iteratorFromArray=function(t,e){t instanceof String&&(t+="");var n=0,i=!1,o={next:function(){if(!i&&n<t.length){var o=n++;return{value:e(o,t[o]),done:!1}}return i=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o},i.polyfill("Array.prototype.keys",(function(t){return t||function(){return i.iteratorFromArray(this,(function(t){return t}))}}),"es6","es3"),i.polyfill("Array.prototype.values",(function(t){return t||function(){return i.iteratorFromArray(this,(function(t,e){return e}))}}),"es8","es3"),i.checkStringArgs=function(t,e,n){if(null==t)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return t+""},i.polyfill("String.prototype.startsWith",(function(t){return t||function(t,e){var n=i.checkStringArgs(this,t,"startsWith"),o=n.length,r=(t+="").length;e=Math.max(0,Math.min(0|e,n.length));for(var a=0;a<r&&e<o;)if(n[e++]!=t[a++])return!1;return a>=r}}),"es6","es3"),i.owns=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.assign=i.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(t,e){for(var n=1;n<arguments.length;n++){var o=arguments[n];if(o)for(var r in o)i.owns(o,r)&&(t[r]=o[r])}return t},i.polyfill("Object.assign",(function(t){return t||i.assign}),"es6","es3"),i.checkEs6ConformanceViaProxy=function(){try{var t={},e=Object.create(new i.global.Proxy(t,{get:function(n,i,o){return n==t&&"q"==i&&o==e}}));return!0===e.q}catch(n){return!1}},i.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,i.ES6_CONFORMANCE=i.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&i.checkEs6ConformanceViaProxy(),i.makeIterator=function(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):i.arrayIterator(t)},i.polyfill("WeakMap",(function(t){function e(t){if(this.id_=(c+=Math.random()+1).toString(),t){t=i.makeIterator(t);for(var e;!(e=t.next()).done;)this.set((e=e.value)[0],e[1])}}function n(){}function o(t){var e=typeof t;return"object"===e&&null!==t||"function"===e}function r(t){if(!i.owns(t,s)){var e=new n;i.defineProperty(t,s,{value:e})}}function a(t){if(!i.ISOLATE_POLYFILLS){var e=Object[t];e&&(Object[t]=function(t){return t instanceof n?t:(Object.isExtensible(t)&&r(t),e(t))})}}if(i.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(t&&i.ES6_CONFORMANCE)return t}else if(function(){if(!t||!Object.seal)return!1;try{var e=Object.seal({}),n=Object.seal({}),i=new t([[e,2],[n,3]]);return 2==i.get(e)&&3==i.get(n)&&(i.delete(e),i.set(n,4),!i.has(e)&&4==i.get(n))}catch(o){return!1}}())return t;var s="$jscomp_hidden_"+Math.random();a("freeze"),a("preventExtensions"),a("seal");var c=0;return e.prototype.set=function(t,e){if(!o(t))throw Error("Invalid WeakMap key");if(r(t),!i.owns(t,s))throw Error("WeakMap key fail: "+t);return t[s][this.id_]=e,this},e.prototype.get=function(t){return o(t)&&i.owns(t,s)?t[s][this.id_]:void 0},e.prototype.has=function(t){return o(t)&&i.owns(t,s)&&i.owns(t[s],this.id_)},e.prototype.delete=function(t){return!!(o(t)&&i.owns(t,s)&&i.owns(t[s],this.id_))&&delete t[s][this.id_]},e}),"es6","es3"),i.MapEntry=function(){},i.polyfill("Map",(function(t){function e(){var t={};return t.previous=t.next=t.head=t}function n(t,e){var n=t.head_;return i.iteratorPrototype((function(){if(n){for(;n.head!=t.head_;)n=n.previous;for(;n.next!=n.head;)return{done:!1,value:e(n=n.next)};n=null}return{done:!0,value:void 0}}))}function o(t,e){var n=e&&typeof e;"object"==n||"function"==n?a.has(e)?n=a.get(e):(n=""+ ++s,a.set(e,n)):n="p_"+e;var o=t.data_[n];if(o&&i.owns(t.data_,n))for(t=0;t<o.length;t++){var r=o[t];if(e!=e&&r.key!=r.key||e===r.key)return{id:n,list:o,index:t,entry:r}}return{id:n,list:o,index:-1,entry:void 0}}function r(t){if(this.data_={},this.head_=e(),this.size=0,t){t=i.makeIterator(t);for(var n;!(n=t.next()).done;)this.set((n=n.value)[0],n[1])}}if(i.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(t&&i.ES6_CONFORMANCE)return t}else if(function(){if(i.ASSUME_NO_NATIVE_MAP||!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),n=new t(i.makeIterator([[e,"s"]]));if("s"!=n.get(e)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var o=n.entries(),r=o.next();return!r.done&&r.value[0]==e&&"s"==r.value[1]&&!((r=o.next()).done||4!=r.value[0].x||"t"!=r.value[1]||!o.next().done)}catch(a){return!1}}())return t;var a=new WeakMap;r.prototype.set=function(t,e){var n=o(this,t=0===t?0:t);return n.list||(n.list=this.data_[n.id]=[]),n.entry?n.entry.value=e:(n.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:t,value:e},n.list.push(n.entry),this.head_.previous.next=n.entry,this.head_.previous=n.entry,this.size++),this},r.prototype.delete=function(t){return!(!(t=o(this,t)).entry||!t.list||(t.list.splice(t.index,1),t.list.length||delete this.data_[t.id],t.entry.previous.next=t.entry.next,t.entry.next.previous=t.entry.previous,t.entry.head=null,this.size--,0))},r.prototype.clear=function(){this.data_={},this.head_=this.head_.previous=e(),this.size=0},r.prototype.has=function(t){return!!o(this,t).entry},r.prototype.get=function(t){return(t=o(this,t).entry)&&t.value},r.prototype.entries=function(){return n(this,(function(t){return[t.key,t.value]}))},r.prototype.keys=function(){return n(this,(function(t){return t.key}))},r.prototype.values=function(){return n(this,(function(t){return t.value}))},r.prototype.forEach=function(t,e){for(var n,i=this.entries();!(n=i.next()).done;)t.call(e,(n=n.value)[1],n[0],this)},r.prototype[Symbol.iterator]=r.prototype.entries;var s=0;return r}),"es6","es3"),i.polyfill("String.prototype.endsWith",(function(t){return t||function(t,e){var n=i.checkStringArgs(this,t,"endsWith");t+="",void 0===e&&(e=n.length),e=Math.max(0,Math.min(0|e,n.length));for(var o=t.length;0<o&&0<e;)if(n[--e]!=t[--o])return!1;return 0>=o}}),"es6","es3"),i.polyfill("Number.isNaN",(function(t){return t||function(t){return"number"==typeof t&&isNaN(t)}}),"es6","es3"),i.polyfill("Object.entries",(function(t){return t||function(t){var e,n=[];for(e in t)i.owns(t,e)&&n.push([e,t[e]]);return n}}),"es8","es3"),t.exports=function(){function t(t){if(this.opts={},this.defaults={},this.messages=Object.assign({},F),this.rules={any:O,array:P,boolean:w,class:x,custom:C,currency:y,date:v,email:m,enum:f,equal:b,forbidden:h,function:g,multi:u,number:d,object:p,objectID:l,record:c,string:s,tuple:a,url:r,uuid:o,mac:i,luhn:n},this.aliases={},this.cache=new Map,this.customFunctions={},t){if(_(this.opts,t),t.defaults&&_(this.defaults,t.defaults),t.messages)for(var M in t.messages)this.addMessage(M,t.messages[M]);if(t.aliases)for(var k in t.aliases)this.alias(k,t.aliases[k]);if(t.customRules)for(var S in t.customRules)this.add(S,t.customRules[S]);if(t.customFunctions)for(var A in t.customFunctions)this.addCustomFunction(A,t.customFunctions[A]);if(t.plugins){if(t=t.plugins,!Array.isArray(t))throw Error("Plugins type must be array");t.forEach(this.plugin.bind(this))}this.opts.debug&&(t=function(t){return t},"undefined"==typeof window&&(t=e),this._formatter=t)}}function e(t){return A||(A=S(),I={parser:"babel",useTabs:!1,printWidth:120,trailingComma:"none",tabWidth:4,singleQuote:!1,semi:!0,bracketSpacing:!0},R=S(),T={language:"js",theme:R.fromJson({keyword:["white","bold"],built_in:"magenta",literal:"cyan",number:"magenta",regexp:"red",string:["yellow","bold"],symbol:"plain",class:"blue",attr:"plain",function:["white","bold"],title:"plain",params:"green",comment:"grey"})}),t=A.format(t,I),R.highlight(t,T)}function n(t){return{source:'\n\t\t\tif (typeof value !== "string") {\n\t\t\t\t'+this.makeError({type:"string",actual:"value",messages:t=t.messages})+'\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tif (typeof value !== "string")\n\t\t\t\tvalue = String(value);\n\n\t\t\tval = value.replace(/\\D+/g, "");\n\n\t\t\tvar array = [0, 2, 4, 6, 8, 1, 3, 5, 7, 9];\n\t\t\tvar len = val ? val.length : 0,\n\t\t\t\tbit = 1,\n\t\t\t\tsum = 0;\n\t\t\twhile (len--) {\n\t\t\t\tsum += !(bit ^= 1) ? parseInt(val[len], 10) : array[val[len]];\n\t\t\t}\n\n\t\t\tif (!(sum % 10 === 0 && sum > 0)) {\n\t\t\t\t'+this.makeError({type:"luhn",actual:"value",messages:t})+"\n\t\t\t}\n\n\t\t\treturn value;\n\t\t"}}function i(t){return{source:'\n\t\t\tif (typeof value !== "string") {\n\t\t\t\t'+this.makeError({type:"string",actual:"value",messages:t=t.messages})+"\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tvar v = value.toLowerCase();\n\t\t\tif (!"+$.toString()+".test(v)) {\n\t\t\t\t"+this.makeError({type:"mac",actual:"value",messages:t})+"\n\t\t\t}\n\t\t\t\n\t\t\treturn value;\n\t\t"}}function o(t){var e=t.schema,n=[];return n.push('\n\t\tif (typeof value !== "string") {\n\t\t\t'+this.makeError({type:"string",actual:"value",messages:t=t.messages})+"\n\t\t\treturn value;\n\t\t}\n\n\t\tvar val = value.toLowerCase();\n\t\tif (!"+Z.toString()+".test(val)) {\n\t\t\t"+this.makeError({type:"uuid",actual:"value",messages:t})+"\n\t\t\treturn value;\n\t\t}\n\n\t\tconst version = val.charAt(14) | 0;\n\t"),7>parseInt(e.version)&&n.push("\n\t\t\tif ("+e.version+" !== version) {\n\t\t\t\t"+this.makeError({type:"uuidVersion",expected:e.version,actual:"version",messages:t})+"\n\t\t\t\treturn value;\n\t\t\t}\n\t\t"),n.push('\n\t\tswitch (version) {\n\t\tcase 0:\n\t\tcase 1:\n\t\tcase 2:\n\t\tcase 6:\n\t\t\tbreak;\n\t\tcase 3:\n\t\tcase 4:\n\t\tcase 5:\n\t\t\tif (["8", "9", "a", "b"].indexOf(val.charAt(19)) === -1) {\n\t\t\t\t'+this.makeError({type:"uuid",actual:"value",messages:t})+"\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t"),{source:n.join("\n")}}function r(t){var e=t.schema,n=[];return n.push('\n\t\tif (typeof value !== "string") {\n\t\t\t'+this.makeError({type:"string",actual:"value",messages:t=t.messages})+"\n\t\t\treturn value;\n\t\t}\n\t"),n.push(e.empty?"\n\t\t\tif (value.length === 0) return value;\n\t\t":"\n\t\t\tif (value.length === 0) {\n\t\t\t\t"+this.makeError({type:"urlEmpty",actual:"value",messages:t})+"\n\t\t\t\treturn value;\n\t\t\t}\n\t\t"),n.push("\n\t\tif (!"+V.toString()+".test(value)) {\n\t\t\t"+this.makeError({type:"url",actual:"value",messages:t})+"\n\t\t}\n\n\t\treturn value;\n\t"),{source:n.join("\n")}}function a(t,e,n){var i=t.schema,o=t.messages;if(t=[],null!=i.items){if(!Array.isArray(i.items))throw Error("Invalid '"+i.type+"' schema. The 'items' field must be an array.");if(0===i.items.length)throw Error("Invalid '"+i.type+"' schema. The 'items' field must not be an empty array.")}if(t.push("\n\t\tif (!Array.isArray(value)) {\n\t\t\t"+this.makeError({type:"tuple",actual:"value",messages:o})+"\n\t\t\treturn value;\n\t\t}\n\n\t\tvar len = value.length;\n\t"),!1===i.empty&&t.push("\n\t\t\tif (len === 0) {\n\t\t\t\t"+this.makeError({type:"tupleEmpty",actual:"value",messages:o})+"\n\t\t\t\treturn value;\n\t\t\t}\n\t\t"),null!=i.items){for(t.push("\n\t\t\tif ("+i.empty+" !== false && len === 0) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tif (len !== "+i.items.length+") {\n\t\t\t\t"+this.makeError({type:"tupleLength",expected:i.items.length,actual:"len",messages:o})+"\n\t\t\t\treturn value;\n\t\t\t}\n\t\t"),t.push("\n\t\t\tvar arr = value;\n\t\t\tvar parentField = field;\n\t\t"),o=0;o<i.items.length;o++){t.push("\n\t\t\tvalue = arr["+o+"];\n\t\t");var r=e+"["+o+"]",a=this.getRuleFromSchema(i.items[o]);t.push(this.compileRule(a,n,r,"\n\t\t\tarr["+o+"] = "+(n.async?"await ":"")+"context.fn[%%INDEX%%](arr["+o+'], (parentField ? parentField : "") + "[" + '+o+' + "]", parent, errors, context);\n\t\t',"arr["+o+"]"))}t.push("\n\t\treturn arr;\n\t")}else t.push("\n\t\treturn value;\n\t");return{source:t.join("\n")}}function s(t){var e=t.schema;t=t.messages;var n=[],i=!1;if(!0===e.convert&&(i=!0,n.push('\n\t\t\tif (typeof value !== "string") {\n\t\t\t\tvalue = String(value);\n\t\t\t}\n\t\t')),n.push('\n\t\tif (typeof value !== "string") {\n\t\t\t'+this.makeError({type:"string",actual:"value",messages:t})+"\n\t\t\treturn value;\n\t\t}\n\n\t\tvar origValue = value;\n\t"),e.trim&&(i=!0,n.push("\n\t\t\tvalue = value.trim();\n\t\t")),e.trimLeft&&(i=!0,n.push("\n\t\t\tvalue = value.trimLeft();\n\t\t")),e.trimRight&&(i=!0,n.push("\n\t\t\tvalue = value.trimRight();\n\t\t")),e.padStart&&(i=!0,n.push("\n\t\t\tvalue = value.padStart("+e.padStart+", "+JSON.stringify(null!=e.padChar?e.padChar:" ")+");\n\t\t")),e.padEnd&&(i=!0,n.push("\n\t\t\tvalue = value.padEnd("+e.padEnd+", "+JSON.stringify(null!=e.padChar?e.padChar:" ")+");\n\t\t")),e.lowercase&&(i=!0,n.push("\n\t\t\tvalue = value.toLowerCase();\n\t\t")),e.uppercase&&(i=!0,n.push("\n\t\t\tvalue = value.toUpperCase();\n\t\t")),e.localeLowercase&&(i=!0,n.push("\n\t\t\tvalue = value.toLocaleLowerCase();\n\t\t")),e.localeUppercase&&(i=!0,n.push("\n\t\t\tvalue = value.toLocaleUpperCase();\n\t\t")),n.push("\n\t\t\tvar len = value.length;\n\t"),!1===e.empty?n.push("\n\t\t\tif (len === 0) {\n\t\t\t\t"+this.makeError({type:"stringEmpty",actual:"value",messages:t})+"\n\t\t\t}\n\t\t"):!0===e.empty&&n.push("\n\t\t\tif (len === 0) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t"),null!=e.min&&n.push("\n\t\t\tif (len < "+e.min+") {\n\t\t\t\t"+this.makeError({type:"stringMin",expected:e.min,actual:"len",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.max&&n.push("\n\t\t\tif (len > "+e.max+") {\n\t\t\t\t"+this.makeError({type:"stringMax",expected:e.max,actual:"len",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.length&&n.push("\n\t\t\tif (len !== "+e.length+") {\n\t\t\t\t"+this.makeError({type:"stringLength",expected:e.length,actual:"len",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.pattern){var o=e.pattern;"string"==typeof e.pattern&&(o=new RegExp(e.pattern,e.patternFlags)),n.push("\n\t\t\tif (!"+o.toString()+".test(value)) {\n\t\t\t\t"+this.makeError({type:"stringPattern",expected:'"'+o.toString().replace(/"/g,"\\$&")+'"',actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t")}return null!=e.contains&&n.push('\n\t\t\tif (value.indexOf("'+e.contains+'") === -1) {\n\t\t\t\t'+this.makeError({type:"stringContains",expected:'"'+e.contains+'"',actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.enum&&(o=JSON.stringify(e.enum),n.push("\n\t\t\tif ("+o+".indexOf(value) === -1) {\n\t\t\t\t"+this.makeError({type:"stringEnum",expected:'"'+e.enum.join(", ")+'"',actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t")),!0===e.numeric&&n.push("\n\t\t\tif (!"+H.toString()+".test(value) ) {\n\t\t\t\t"+this.makeError({type:"stringNumeric",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.alpha&&n.push("\n\t\t\tif(!"+G.toString()+".test(value)) {\n\t\t\t\t"+this.makeError({type:"stringAlpha",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.alphanum&&n.push("\n\t\t\tif(!"+B.toString()+".test(value)) {\n\t\t\t\t"+this.makeError({type:"stringAlphanum",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.alphadash&&n.push("\n\t\t\tif(!"+j.toString()+".test(value)) {\n\t\t\t\t"+this.makeError({type:"stringAlphadash",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.hex&&n.push("\n\t\t\tif(value.length % 2 !== 0 || !"+U.toString()+".test(value)) {\n\t\t\t\t"+this.makeError({type:"stringHex",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.singleLine&&n.push('\n\t\t\tif(value.includes("\\n")) {\n\t\t\t\t'+this.makeError({type:"stringSingleLine",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.base64&&n.push("\n\t\t\tif(!"+z.toString()+".test(value)) {\n\t\t\t\t"+this.makeError({type:"stringBase64",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),n.push("\n\t\treturn value;\n\t"),{sanitized:i,source:n.join("\n")}}function c(t,e,n){var i=t.schema,o=[];for(var r in o.push('\n\t\tif (typeof value !== "object" || value === null || Array.isArray(value)) {\n\t\t\t'+this.makeError({type:"record",actual:"value",messages:t.messages})+"\n\t\t\treturn value;\n\t\t}\n\t"),t=i.key||"string",i=i.value||"any",o.push("\n\t\tconst record = value;\n\t\tlet sanitizedKey, sanitizedValue;\n\t\tconst result = {};\n\t\tfor (let key in value) {\n\t"),o.push("sanitizedKey = value = key;"),(t=this.getRuleFromSchema(t)).messages)r.startsWith("string")&&(t.messages[r]=t.messages[r].replace(" field "," key "));return o.push(this.compileRule(t,n,null,"\n\t\tsanitizedKey = "+(n.async?"await ":"")+'context.fn[%%INDEX%%](key, field ? field + "." + key : key, record, errors, context);\n\t',"sanitizedKey")),o.push("sanitizedValue = value = record[key];"),r=this.getRuleFromSchema(i),o.push(this.compileRule(r,n,e+"[key]","\n\t\tsanitizedValue = "+(n.async?"await ":"")+'context.fn[%%INDEX%%](value, field ? field + "." + key : key, record, errors, context);\n\t',"sanitizedValue")),o.push("result[sanitizedKey] = sanitizedValue;"),o.push("\n\t\t}\n\t"),o.push("return result;"),{source:o.join("\n")}}function l(t,e,n){e=t.schema;var i=t.messages,o=[];return n.customs[t=t.index]?n.customs[t].schema=e:n.customs[t]={schema:e},o.push("\n\t\tconst ObjectID = context.customs["+t+"].schema.ObjectID;\n\t\tif (!ObjectID.isValid(value)) {\n\t\t\t"+this.makeError({type:"objectID",actual:"value",messages:i})+"\n\t\t\treturn;\n\t\t}\n\t"),o.push(!0===e.convert?"return new ObjectID(value)":"hexString"===e.convert?"return value.toString()":"return value"),{source:o.join("\n")}}function p(t,e,n){var i=this,o=t.schema,r=[];r.push('\n\t\tif (typeof value !== "object" || value === null || Array.isArray(value)) {\n\t\t\t'+this.makeError({type:"object",actual:"value",messages:t=t.messages})+"\n\t\t\treturn value;\n\t\t}\n\t");var a=o.properties||o.props;if(a){r.push("var parentObj = value;"),r.push("var parentField = field;");for(var s=Object.keys(a).filter((function(t){return!i.isMetaKey(t)})),c=0;c<s.length;c++){var l=s[c],p=this.getRuleFromSchema(a[l]),d=k(l),u=L.test(d)?"."+d:"['"+d+"']",g="parentObj"+u;l=(e?e+".":"")+l;var h=p.schema.label;h=h?"'"+k(h)+"'":void 0,r.push("\n// Field: "+k(l)),r.push('field = parentField ? parentField + "'+u+'" : "'+d+'";'),r.push("value = "+g+";"),r.push("label = "+h),r.push(this.compileRule(p,n,l,"\n\t\t\t\t"+g+" = "+(n.async?"await ":"")+"context.fn[%%INDEX%%](value, field, parentObj, errors, context, label);\n\t\t\t",g)),!0===this.opts.haltOnFirstError&&r.push("if (errors.length) return parentObj;")}o.strict&&(e=Object.keys(a),r.push("\n\t\t\t\tfield = parentField;\n\t\t\t\tvar invalidProps = [];\n\t\t\t\tvar props = Object.keys(parentObj);\n\n\t\t\t\tfor (let i = 0; i < props.length; i++) {\n\t\t\t\t\tif ("+JSON.stringify(e)+".indexOf(props[i]) === -1) {\n\t\t\t\t\t\tinvalidProps.push(props[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (invalidProps.length) {\n\t\t\t"),"remove"===o.strict?(r.push("\n\t\t\t\t\tif (errors.length === 0) {\n\t\t\t\t"),r.push("\n\t\t\t\t\t\tinvalidProps.forEach(function(field) {\n\t\t\t\t\t\t\tdelete parentObj[field];\n\t\t\t\t\t\t});\n\t\t\t\t"),r.push("\n\t\t\t\t\t}\n\t\t\t\t")):r.push("\n\t\t\t\t\t"+this.makeError({type:"objectStrict",expected:'"'+e.join(", ")+'"',actual:"invalidProps.join(', ')",messages:t})+"\n\t\t\t\t"),r.push("\n\t\t\t\t}\n\t\t\t"))}return null==o.minProps&&null==o.maxProps||r.push(o.strict?"\n\t\t\t\tprops = Object.keys("+(a?"parentObj":"value")+");\n\t\t\t":"\n\t\t\t\tvar props = Object.keys("+(a?"parentObj":"value")+");\n\t\t\t\t"+(a?"field = parentField;":"")+"\n\t\t\t"),null!=o.minProps&&r.push("\n\t\t\tif (props.length < "+o.minProps+") {\n\t\t\t\t"+this.makeError({type:"objectMinProps",expected:o.minProps,actual:"props.length",messages:t})+"\n\t\t\t}\n\t\t"),null!=o.maxProps&&r.push("\n\t\t\tif (props.length > "+o.maxProps+") {\n\t\t\t\t"+this.makeError({type:"objectMaxProps",expected:o.maxProps,actual:"props.length",messages:t})+"\n\t\t\t}\n\t\t"),r.push(a?"\n\t\t\treturn parentObj;\n\t\t":"\n\t\t\treturn value;\n\t\t"),{source:r.join("\n")}}function d(t){var e=t.schema;t=t.messages;var n=[];n.push("\n\t\tvar origValue = value;\n\t");var i=!1;return!0===e.convert&&(i=!0,n.push('\n\t\t\tif (typeof value !== "number") {\n\t\t\t\tvalue = Number(value);\n\t\t\t}\n\t\t')),n.push('\n\t\tif (typeof value !== "number" || isNaN(value) || !isFinite(value)) {\n\t\t\t'+this.makeError({type:"number",actual:"origValue",messages:t})+"\n\t\t\treturn value;\n\t\t}\n\t"),null!=e.min&&n.push("\n\t\t\tif (value < "+e.min+") {\n\t\t\t\t"+this.makeError({type:"numberMin",expected:e.min,actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.max&&n.push("\n\t\t\tif (value > "+e.max+") {\n\t\t\t\t"+this.makeError({type:"numberMax",expected:e.max,actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.equal&&n.push("\n\t\t\tif (value !== "+e.equal+") {\n\t\t\t\t"+this.makeError({type:"numberEqual",expected:e.equal,actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.notEqual&&n.push("\n\t\t\tif (value === "+e.notEqual+") {\n\t\t\t\t"+this.makeError({type:"numberNotEqual",expected:e.notEqual,actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.integer&&n.push("\n\t\t\tif (value % 1 !== 0) {\n\t\t\t\t"+this.makeError({type:"numberInteger",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.positive&&n.push("\n\t\t\tif (value <= 0) {\n\t\t\t\t"+this.makeError({type:"numberPositive",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.negative&&n.push("\n\t\t\tif (value >= 0) {\n\t\t\t\t"+this.makeError({type:"numberNegative",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),n.push("\n\t\treturn value;\n\t"),{sanitized:i,source:n.join("\n")}}function u(t,e,n){var i=t.schema;(t=[]).push("\n\t\tvar hasValid = false;\n\t\tvar newVal = value;\n\t\tvar checkErrors = [];\n\t\tvar errorsSize = errors.length;\n\t");for(var o=0;o<i.rules.length;o++){t.push("\n\t\t\tif (!hasValid) {\n\t\t\t\tvar _errors = [];\n\t\t");var r=this.getRuleFromSchema(i.rules[o]);t.push(this.compileRule(r,n,e,"var tmpVal = "+(n.async?"await ":"")+"context.fn[%%INDEX%%](value, field, parent, _errors, context);","tmpVal")),t.push("\n\t\t\t\tif (errors.length == errorsSize && _errors.length == 0) {\n\t\t\t\t\thasValid = true;\n\t\t\t\t\tnewVal = tmpVal;\n\t\t\t\t} else {\n\t\t\t\t\tArray.prototype.push.apply(checkErrors, [].concat(_errors, errors.splice(errorsSize)));\n\t\t\t\t}\n\t\t\t}\n\t\t")}return t.push("\n\t\tif (!hasValid) {\n\t\t\tArray.prototype.push.apply(errors, checkErrors);\n\t\t}\n\n\t\treturn newVal;\n\t"),{source:t.join("\n")}}function g(t){return{source:'\n\t\t\tif (typeof value !== "function")\n\t\t\t\t'+this.makeError({type:"function",actual:"value",messages:t.messages})+"\n\n\t\t\treturn value;\n\t\t"}}function h(t){var e=t.schema;t=t.messages;var n=[];return n.push("\n\t\tif (value !== null && value !== undefined) {\n\t"),n.push(e.remove?"\n\t\t\treturn undefined;\n\t\t":"\n\t\t\t"+this.makeError({type:"forbidden",actual:"value",messages:t})+"\n\t\t"),n.push("\n\t\t}\n\n\t\treturn value;\n\t"),{source:n.join("\n")}}function b(t){var e=t.schema;t=t.messages;var n=[];return e.field?(n.push(e.strict?'\n\t\t\t\tif (value !== parent["'+e.field+'"])\n\t\t\t':'\n\t\t\t\tif (value != parent["'+e.field+'"])\n\t\t\t'),n.push("\n\t\t\t\t"+this.makeError({type:"equalField",actual:"value",expected:JSON.stringify(e.field),messages:t})+"\n\t\t")):(n.push(e.strict?"\n\t\t\t\tif (value !== "+JSON.stringify(e.value)+")\n\t\t\t":"\n\t\t\t\tif (value != "+JSON.stringify(e.value)+")\n\t\t\t"),n.push("\n\t\t\t\t"+this.makeError({type:"equalValue",actual:"value",expected:JSON.stringify(e.value),messages:t})+"\n\t\t")),n.push("\n\t\treturn value;\n\t"),{source:n.join("\n")}}function f(t){var e=t.schema;return t=t.messages,{source:"\n\t\t\tif ("+JSON.stringify(e.values||[])+".indexOf(value) === -1)\n\t\t\t\t"+this.makeError({type:"enumValue",expected:'"'+e.values.join(", ")+'"',actual:"value",messages:t})+"\n\t\t\t\n\t\t\treturn value;\n\t\t"}}function m(t){var e=t.schema,n=[],i="precise"==e.mode?E:D,o=!1;return n.push('\n\t\tif (typeof value !== "string") {\n\t\t\t'+this.makeError({type:"string",actual:"value",messages:t=t.messages})+"\n\t\t\treturn value;\n\t\t}\n\t"),n.push(e.empty?"\n\t\t\tif (value.length === 0) return value;\n\t\t":"\n\t\t\tif (value.length === 0) {\n\t\t\t\t"+this.makeError({type:"emailEmpty",actual:"value",messages:t})+"\n\t\t\t\treturn value;\n\t\t\t}\n\t\t"),e.normalize&&(o=!0,n.push("\n\t\t\tvalue = value.trim().toLowerCase();\n\t\t")),null!=e.min&&n.push("\n\t\t\tif (value.length < "+e.min+") {\n\t\t\t\t"+this.makeError({type:"emailMin",expected:e.min,actual:"value.length",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.max&&n.push("\n\t\t\tif (value.length > "+e.max+") {\n\t\t\t\t"+this.makeError({type:"emailMax",expected:e.max,actual:"value.length",messages:t})+"\n\t\t\t}\n\t\t"),n.push("\n\t\tif (!"+i.toString()+".test(value)) {\n\t\t\t"+this.makeError({type:"email",actual:"value",messages:t})+"\n\t\t}\n\n\t\treturn value;\n\t"),{sanitized:o,source:n.join("\n")}}function v(t){var e=t.schema;t=t.messages;var n=[],i=!1;return n.push("\n\t\tvar origValue = value;\n\t"),!0===e.convert&&(i=!0,n.push("\n\t\t\tif (!(value instanceof Date)) {\n\t\t\t\tvalue = new Date(value.length && !isNaN(+value) ? +value : value);\n\t\t\t}\n\t\t")),n.push("\n\t\tif (!(value instanceof Date) || isNaN(value.getTime()))\n\t\t\t"+this.makeError({type:"date",actual:"origValue",messages:t})+"\n\n\t\treturn value;\n\t"),{sanitized:i,source:n.join("\n")}}function y(t){var e=t.schema;t=t.messages;var n=e.currencySymbol||null,i=e.thousandSeparator||",",o=e.decimalSeparator||".",r=e.customRegex;return e=!e.symbolOptional,e="(?=.*\\d)^(-?~1|~1-?)(([0-9]\\d{0,2}(~2\\d{3})*)|0)?(\\~3\\d{1,2})?$".replace(/~1/g,n?"\\"+n+(e?"":"?"):"").replace("~2",i).replace("~3",o),(n=[]).push("\n\t\tif (!value.match("+(r||new RegExp(e))+")) {\n\t\t\t"+this.makeError({type:"currency",actual:"value",messages:t})+"\n\t\t\treturn value;\n\t\t}\n\n\t\treturn value;\n\t"),{source:n.join("\n")}}function C(t,e,n){var i=[];return i.push("\n\t\t"+this.makeCustomValidator({fnName:"check",path:e,schema:t.schema,messages:t.messages,context:n,ruleIndex:t.index})+"\n\t\treturn value;\n\t"),{source:i.join("\n")}}function x(t,e,n){var i=t.messages,o=[],r=(e=t.schema).instanceOf.name?e.instanceOf.name:"<UnknowClass>";return n.customs[t=t.index]?n.customs[t].schema=e:n.customs[t]={schema:e},o.push("\n\t\tif (!(value instanceof context.customs["+t+"].schema.instanceOf))\n\t\t\t"+this.makeError({type:"classInstanceOf",actual:"value",expected:"'"+r+"'",messages:i})+"\n\t"),o.push("\n\t\treturn value;\n\t"),{source:o.join("\n")}}function w(t){var e=t.schema;t=t.messages;var n=[],i=!1;return n.push("\n\t\tvar origValue = value;\n\t"),!0===e.convert&&(i=!0,n.push('\n\t\t\tif (typeof value !== "boolean") {\n\t\t\t\tif (\n\t\t\t\tvalue === 1\n\t\t\t\t|| value === "true"\n\t\t\t\t|| value === "1"\n\t\t\t\t|| value === "on"\n\t\t\t\t) {\n\t\t\t\t\tvalue = true;\n\t\t\t\t} else if (\n\t\t\t\tvalue === 0\n\t\t\t\t|| value === "false"\n\t\t\t\t|| value === "0"\n\t\t\t\t|| value === "off"\n\t\t\t\t) {\n\t\t\t\t\tvalue = false;\n\t\t\t\t}\n\t\t\t}\n\t\t')),n.push('\n\t\tif (typeof value !== "boolean") {\n\t\t\t'+this.makeError({type:"boolean",actual:"origValue",messages:t})+"\n\t\t}\n\t\t\n\t\treturn value;\n\t"),{sanitized:i,source:n.join("\n")}}function P(t,e,n){var i=t.schema,o=t.messages;t=[];var r=!1;if(!0===i.convert&&(r=!0,t.push("\n\t\t\tif (!Array.isArray(value) && value != null) {\n\t\t\t\tvalue = [value];\n\t\t\t}\n\t\t")),t.push("\n\t\tif (!Array.isArray(value)) {\n\t\t\t"+this.makeError({type:"array",actual:"value",messages:o})+"\n\t\t\treturn value;\n\t\t}\n\n\t\tvar len = value.length;\n\t"),!1===i.empty&&t.push("\n\t\t\tif (len === 0) {\n\t\t\t\t"+this.makeError({type:"arrayEmpty",actual:"value",messages:o})+"\n\t\t\t}\n\t\t"),null!=i.min&&t.push("\n\t\t\tif (len < "+i.min+") {\n\t\t\t\t"+this.makeError({type:"arrayMin",expected:i.min,actual:"len",messages:o})+"\n\t\t\t}\n\t\t"),null!=i.max&&t.push("\n\t\t\tif (len > "+i.max+") {\n\t\t\t\t"+this.makeError({type:"arrayMax",expected:i.max,actual:"len",messages:o})+"\n\t\t\t}\n\t\t"),null!=i.length&&t.push("\n\t\t\tif (len !== "+i.length+") {\n\t\t\t\t"+this.makeError({type:"arrayLength",expected:i.length,actual:"len",messages:o})+"\n\t\t\t}\n\t\t"),null!=i.contains&&t.push("\n\t\t\tif (value.indexOf("+JSON.stringify(i.contains)+") === -1) {\n\t\t\t\t"+this.makeError({type:"arrayContains",expected:JSON.stringify(i.contains),actual:"value",messages:o})+"\n\t\t\t}\n\t\t"),!0===i.unique&&t.push("\n\t\t\tif(len > (new Set(value)).size) {\n\t\t\t\t"+this.makeError({type:"arrayUnique",expected:"Array.from(new Set(value.filter((item, index) => value.indexOf(item) !== index)))",actual:"value",messages:o})+"\n\t\t\t}\n\t\t"),null!=i.enum){var a=JSON.stringify(i.enum);t.push("\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tif ("+a+".indexOf(value[i]) === -1) {\n\t\t\t\t\t"+this.makeError({type:"arrayEnum",expected:'"'+i.enum.join(", ")+'"',actual:"value[i]",messages:o})+"\n\t\t\t\t}\n\t\t\t}\n\t\t")}return null!=i.items?(t.push("\n\t\t\tvar arr = value;\n\t\t\tvar parentField = field;\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvalue = arr[i];\n\t\t"),e+="[]",i=this.getRuleFromSchema(i.items),t.push(this.compileRule(i,n,e,"arr[i] = "+(n.async?"await ":"")+'context.fn[%%INDEX%%](arr[i], (parentField ? parentField : "") + "[" + i + "]", parent, errors, context)',"arr[i]")),t.push("\n\t\t\t}\n\t\t"),t.push("\n\t\treturn arr;\n\t")):t.push("\n\t\treturn value;\n\t"),{sanitized:r,source:t.join("\n")}}function O(){var t=[];return t.push("\n\t\treturn value;\n\t"),{source:t.join("\n")}}function M(t,e,n){return t.replace(e,null==n?"":"function"==typeof n.toString?n:typeof n)}function _(t,e,n){for(var i in void 0===n&&(n={}),e){var o=e[i];(o="object"==typeof o&&!Array.isArray(o)&&null!=o&&0<Object.keys(o).length)?(t[i]=t[i]||{},_(t[i],e[i],n)):!0===n.skipIfExist&&void 0!==t[i]||(t[i]=e[i])}return t}function k(t){return t.replace(N,(function(t){switch(t){case'"':case"'":case"\\":return"\\"+t;case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}}))}function S(){throw Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}var A,I,R,T,F={required:"The '{field}' field is required.",string:"The '{field}' field must be a string.",stringEmpty:"The '{field}' field must not be empty.",stringMin:"The '{field}' field length must be greater than or equal to {expected} characters long.",stringMax:"The '{field}' field length must be less than or equal to {expected} characters long.",stringLength:"The '{field}' field length must be {expected} characters long.",stringPattern:"The '{field}' field fails to match the required pattern.",stringContains:"The '{field}' field must contain the '{expected}' text.",stringEnum:"The '{field}' field does not match any of the allowed values.",stringNumeric:"The '{field}' field must be a numeric string.",stringAlpha:"The '{field}' field must be an alphabetic string.",stringAlphanum:"The '{field}' field must be an alphanumeric string.",stringAlphadash:"The '{field}' field must be an alphadash string.",stringHex:"The '{field}' field must be a hex string.",stringSingleLine:"The '{field}' field must be a single line string.",stringBase64:"The '{field}' field must be a base64 string.",number:"The '{field}' field must be a number.",numberMin:"The '{field}' field must be greater than or equal to {expected}.",numberMax:"The '{field}' field must be less than or equal to {expected}.",numberEqual:"The '{field}' field must be equal to {expected}.",numberNotEqual:"The '{field}' field can't be equal to {expected}.",numberInteger:"The '{field}' field must be an integer.",numberPositive:"The '{field}' field must be a positive number.",numberNegative:"The '{field}' field must be a negative number.",array:"The '{field}' field must be an array.",arrayEmpty:"The '{field}' field must not be an empty array.",arrayMin:"The '{field}' field must contain at least {expected} items.",arrayMax:"The '{field}' field must contain less than or equal to {expected} items.",arrayLength:"The '{field}' field must contain {expected} items.",arrayContains:"The '{field}' field must contain the '{expected}' item.",arrayUnique:"The '{actual}' value in '{field}' field does not unique the '{expected}' values.",arrayEnum:"The '{actual}' value in '{field}' field does not match any of the '{expected}' values.",tuple:"The '{field}' field must be an array.",tupleEmpty:"The '{field}' field must not be an empty array.",tupleLength:"The '{field}' field must contain {expected} items.",boolean:"The '{field}' field must be a boolean.",currency:"The '{field}' must be a valid currency format",date:"The '{field}' field must be a Date.",dateMin:"The '{field}' field must be greater than or equal to {expected}.",dateMax:"The '{field}' field must be less than or equal to {expected}.",enumValue:"The '{field}' field value '{expected}' does not match any of the allowed values.",equalValue:"The '{field}' field value must be equal to '{expected}'.",equalField:"The '{field}' field value must be equal to '{expected}' field value.",forbidden:"The '{field}' field is forbidden.",function:"The '{field}' field must be a function.",email:"The '{field}' field must be a valid e-mail.",emailEmpty:"The '{field}' field must not be empty.",emailMin:"The '{field}' field length must be greater than or equal to {expected} characters long.",emailMax:"The '{field}' field length must be less than or equal to {expected} characters long.",luhn:"The '{field}' field must be a valid checksum luhn.",mac:"The '{field}' field must be a valid MAC address.",object:"The '{field}' must be an Object.",objectStrict:"The object '{field}' contains forbidden keys: '{actual}'.",objectMinProps:"The object '{field}' must contain at least {expected} properties.",objectMaxProps:"The object '{field}' must contain {expected} properties at most.",url:"The '{field}' field must be a valid URL.",urlEmpty:"The '{field}' field must not be empty.",uuid:"The '{field}' field must be a valid UUID.",uuidVersion:"The '{field}' field must be a valid UUID version provided.",classInstanceOf:"The '{field}' field must be an instance of the '{expected}' class.",objectID:"The '{field}' field must be an valid ObjectID",record:"The '{field}' must be an Object."},E=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,D=/^\S+@\S+\.\S+$/,L=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/,N=/["'\\\n\r\u2028\u2029]/g,H=/^-?[0-9]\d*(\.\d+)?$/,G=/^[a-zA-Z]+$/,B=/^[a-zA-Z0-9]+$/,j=/^[a-zA-Z0-9_-]+$/,U=/^[0-9a-fA-F]+$/,z=/^(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+/]{3}=)?$/,V=/^https?:\/\/\S+/,Z=/^([0-9a-f]{8}-[0-9a-f]{4}-[1-6][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}|[0]{8}-[0]{4}-[0]{4}-[0]{4}-[0]{12})$/i,$=/^((([a-f0-9][a-f0-9]+[-]){5}|([a-f0-9][a-f0-9]+[:]){5})([a-f0-9][a-f0-9])$)|(^([a-f0-9][a-f0-9][a-f0-9][a-f0-9]+[.]){2}([a-f0-9][a-f0-9][a-f0-9][a-f0-9]))$/i;try{var W=new Function("return Object.getPrototypeOf(async function(){}).constructor")()}catch(J){}return t.prototype.validate=function(t,e){return this.compile(e)(t)},t.prototype.wrapRequiredCheckSourceCode=function(t,e,n,i){var o=[],r=this.opts.considerNullAsAValue;void 0===r&&(r=!1);var a=!0===t.schema.optional||"forbidden"===t.schema.type,s=r?!1!==t.schema.nullable||"forbidden"===t.schema.type:!0===t.schema.optional||!0===t.schema.nullable||"forbidden"===t.schema.type;return(r?null!=t.schema.default&&null!=t.schema.default:null!=t.schema.default)?(a=!1,r?!1===t.schema.nullable&&(s=!1):!0!==t.schema.nullable&&(s=!1),"function"==typeof t.schema.default?(n.customs[t.index]||(n.customs[t.index]={}),n.customs[t.index].defaultFn=t.schema.default,t="context.customs["+t.index+"].defaultFn.call(this, context.rules["+t.index+"].schema, field, parent, context)"):t=JSON.stringify(t.schema.default),i="\n\t\t\t\tvalue = "+t+";\n\t\t\t\t"+i+" = value;\n\t\t\t"):i=this.makeError({type:"required",actual:"value",messages:t.messages}),o.push("\n\t\t\tif (value === undefined) { "+(a?"\n// allow undefined\n":i)+" }\n\t\t\telse if (value === null) { "+(s?"\n// allow null\n":i)+" }\n\t\t\t"+(e?"else { "+e+" }":"")+"\n\t\t"),o.join("\n")},t.prototype.isMetaKey=function(t){return t.startsWith("$$")},t.prototype.removeMetasKeys=function(t){var e=this;Object.keys(t).forEach((function(n){e.isMetaKey(n)&&delete t[n]}))},t.prototype.compile=function(t){function e(t,e){return i.data=t,e&&e.meta&&(i.meta=e.meta),r.call(n,t,i)}if(null===t||"object"!=typeof t)throw Error("Invalid schema.");var n=this,i={index:0,async:!0===t.$$async,rules:[],fn:[],customs:{},customFunctions:this.customFunctions,utils:{replace:M}};if(this.cache.clear(),delete t.$$async,i.async&&!W)throw Error("Asynchronous mode is not supported.");if(!0!==t.$$root)if(Array.isArray(t))t=this.getRuleFromSchema(t).schema;else{var o=Object.assign({},t);t={type:"object",strict:o.$$strict,properties:o},this.removeMetasKeys(o)}o=["var errors = [];","var field;","var parent = null;","var label = "+(t.label?'"'+t.label+'"':"null")+";"],t=this.getRuleFromSchema(t),o.push(this.compileRule(t,i,null,(i.async?"await ":"")+"context.fn[%%INDEX%%](value, field, null, errors, context, label);","value")),o.push("if (errors.length) {"),o.push("\n\t\t\treturn errors.map(err => {\n\t\t\t\tif (err.message) {\n\t\t\t\t\terr.message = context.utils.replace(err.message, /\\{field\\}/g, err.label || err.field);\n\t\t\t\t\terr.message = context.utils.replace(err.message, /\\{expected\\}/g, err.expected);\n\t\t\t\t\terr.message = context.utils.replace(err.message, /\\{actual\\}/g, err.actual);\n\t\t\t\t}\n\t\t\t\tif(!err.label) delete err.label\n\t\t\t\treturn err;\n\t\t\t});\n\t\t"),o.push("}"),o.push("return true;"),t=o.join("\n");var r=new(i.async?W:Function)("value","context",t);return this.opts.debug&&console.log(this._formatter("// Main check function\n"+r.toString())),this.cache.clear(),e.async=i.async,e},t.prototype.compileRule=function(t,e,n,i,o){var r=[],a=this.cache.get(t.schema);return a?((t=a).cycle=!0,t.cycleStack=[],r.push(this.wrapRequiredCheckSourceCode(t,"\n\t\t\t\tvar rule = context.rules["+t.index+"];\n\t\t\t\tif (rule.cycleStack.indexOf(value) === -1) {\n\t\t\t\t\trule.cycleStack.push(value);\n\t\t\t\t\t"+i.replace(/%%INDEX%%/g,t.index)+"\n\t\t\t\t\trule.cycleStack.pop(value);\n\t\t\t\t}\n\t\t\t",e,o))):(this.cache.set(t.schema,t),t.index=e.index,e.rules[e.index]=t,a=null!=n?n:"$$root",e.index++,(n=t.ruleFunction.call(this,t,n,e)).source=n.source.replace(/%%INDEX%%/g,t.index),n=new(e.async?W:Function)("value","field","parent","errors","context","label",n.source),e.fn[t.index]=n.bind(this),r.push(this.wrapRequiredCheckSourceCode(t,i.replace(/%%INDEX%%/g,t.index),e,o)),r.push(this.makeCustomValidator({vName:o,path:a,schema:t.schema,context:e,messages:t.messages,ruleIndex:t.index})),this.opts.debug&&console.log(this._formatter("// Context.fn["+t.index+"]\n"+n.toString()))),r.join("\n")},t.prototype.getRuleFromSchema=function(t){t=this.resolveType(t);var e=this.aliases[t.type];if(e&&(delete t.type,t=_(t,e,{skipIfExist:!0})),!(e=this.rules[t.type]))throw Error("Invalid '"+t.type+"' type in validator schema.");return{messages:Object.assign({},this.messages,t.messages),schema:_(t,this.defaults[t.type],{skipIfExist:!0}),ruleFunction:e}},t.prototype.parseShortHand=function(t){var e=(t=t.split("|").map((function(t){return t.trim()})))[0],n=e.endsWith("[]")?this.getRuleFromSchema({type:"array",items:e.slice(0,-2)}).schema:{type:t[0]};return t.slice(1).forEach((function(t){var e=t.indexOf(":");if(-1!==e){var i=t.substring(0,e).trim();"true"===(t=t.substring(e+1).trim())||"false"===t?t="true"===t:Number.isNaN(Number(t))||(t=Number(t)),n[i]=t}else t.startsWith("no-")?n[t.slice(3)]=!1:n[t]=!0})),n},t.prototype.makeError=function(t){var e=t.type,n=t.field,i=t.expected,o=t.actual,r={type:'"'+e+'"',message:'"'+t.messages[e]+'"'};return r.field=n?'"'+n+'"':"field",null!=i&&(r.expected=i),null!=o&&(r.actual=o),r.label="label","errors.push({ "+Object.keys(r).map((function(t){return t+": "+r[t]})).join(", ")+" });"},t.prototype.makeCustomValidator=function(t){var e=t.vName;void 0===e&&(e="value");var n=t.fnName;void 0===n&&(n="custom");var i=t.ruleIndex,o=t.path,r=t.schema,a=t.context,s=t.messages;t="rule"+i;var c="fnCustomErrors"+i;if("function"==typeof r[n]||Array.isArray(r[n])){a.customs[i]?(a.customs[i].messages=s,a.customs[i].schema=r):a.customs[i]={messages:s,schema:r};var l=[];if(this.opts.useNewCustomCheckerFunction){if(l.push("\n               \t\tconst "+t+" = context.customs["+i+"];\n\t\t\t\t\tconst "+c+" = [];\n\t\t\t\t"),Array.isArray(r[n]))for(var p=0;p<r[n].length;p++){var d=r[n][p];"string"==typeof d&&(d=this.parseShortHand(d),r[n][p]=d);var u=1e3*i+p;a.customs[u]={messages:s,schema:Object.assign({},r,{custom:d,index:p})},l.push("\n\t\t\t\t\t\t\tconst "+t+"_"+p+" = context.customs["+u+"];\n\n\t\t\t\t\t \t"),d.type&&l.push("\n\t\t\t\t\t\t\t "+e+" = "+(a.async?"await ":"")+"context.customFunctions["+t+".schema."+n+"["+p+"].type].call(this, "+e+", "+c+" , "+t+"_"+p+'.schema, "'+o+'", parent, context);\n\t\t\t\t\t\t\t'),"function"==typeof d&&l.push("\n\t\t\t\t\t\t\t"+e+" = "+(a.async?"await ":"")+t+".schema."+n+"["+p+"].call(this, "+e+", "+c+" , "+t+'.schema, "'+o+'", parent, context);\n\t\t\t\t\t\t\t')}else l.push("\n\t\t\t\t\t"+e+" = "+(a.async?"await ":"")+t+".schema."+n+".call(this, "+e+", "+c+" , "+t+'.schema, "'+o+'", parent, context);\n\t\t\t\t\t');l.push("\n\t\t\t\t\tif (Array.isArray("+c+" )) {\n                  \t\t"+c+" .forEach(err => errors.push(Object.assign({ message: "+t+".messages[err.type], field }, err)));\n\t\t\t\t\t}\n\t\t\t\t")}else l.push("\n\t\t\t\t\tconst "+t+" = context.customs["+i+"];\n\t\t\t\t\tconst "+(r="res_"+t)+" = "+(a.async?"await ":"")+t+".schema."+n+".call(this, "+e+", "+t+'.schema, "'+o+'", parent, context);\n\t\t\t\t\tif (Array.isArray('+r+")) {\n\t\t\t\t\t\t"+r+".forEach(err => errors.push(Object.assign({ message: "+t+".messages[err.type], field }, err)));\n\t\t\t\t\t}\n\t\t\t");return l.join("\n")}return""},t.prototype.add=function(t,e){this.rules[t]=e},t.prototype.addCustomFunction=function(t,e){this.customFunctions[t]=e},t.prototype.addMessage=function(t,e){this.messages[t]=e},t.prototype.alias=function(t,e){if(this.rules[t])throw Error("Alias name must not be a rule name");this.aliases[t]=e},t.prototype.plugin=function(t){if("function"!=typeof t)throw Error("Plugin fn type must be function");return t(this)},t.prototype.resolveType=function(t){var e=this;if("string"==typeof t)t=this.parseShortHand(t);else if(Array.isArray(t)){if(0===t.length)throw Error("Invalid schema.");(t={type:"multi",rules:t}).rules.map((function(t){return e.getRuleFromSchema(t)})).every((function(t){return!0===t.schema.optional}))&&(t.optional=!0);var n=!this.opts.considerNullAsAValue;t.rules.map((function(t){return e.getRuleFromSchema(t)})).every((function(t){return t.schema.nullable===n}))&&(t.nullable=n)}if(t.$$type){var i=this.getRuleFromSchema(t.$$type).schema;delete t.$$type;var o,r=Object.assign({},t);for(o in t)delete t[o];_(t,i,{skipIfExist:!0}),t.props=r}return t},t.prototype.normalize=function(t){var e=this,n=this.resolveType(t);return this.aliases[n.type]&&(n=_(n,this.normalize(this.aliases[n.type]),{skipIfExists:!0})),"multi"===(n=_(n,this.defaults[n.type],{skipIfExist:!0})).type?(n.rules=n.rules.map((function(t){return e.normalize(t)})),n.optional=n.rules.every((function(t){return!0===t.optional})),n):"array"===n.type?(n.items=this.normalize(n.items),n):("object"===n.type&&n.props&&Object.entries(n.props).forEach((function(t){return n.props[t[0]]=e.normalize(t[1])})),"object"==typeof t&&(t.type?(t=this.normalize(t.type),_(n,t,{skipIfExists:!0})):Object.entries(t).forEach((function(t){return n[t[0]]=e.normalize(t[1])}))),n)},t}()},Bnag:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},E4JC:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var t=i,e=t.lib.StreamCipher,n=[],o=[],r=[],a=t.algo.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,n=0;n<4;n++)t[n]=16711935&(t[n]<<8|t[n]>>>24)|4278255360&(t[n]<<24|t[n]>>>8);var i=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],o=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,n=0;n<4;n++)s.call(this);for(n=0;n<8;n++)o[n]^=i[n+4&7];if(e){var r=e.words,a=r[0],c=r[1],l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),p=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),d=l>>>16|4294901760&p,u=p<<16|65535&l;for(o[0]^=l,o[1]^=d,o[2]^=p,o[3]^=u,o[4]^=l,o[5]^=d,o[6]^=p,o[7]^=u,n=0;n<4;n++)s.call(this)}},_doProcessBlock:function(t,e){var i=this._X;s.call(this),n[0]=i[0]^i[5]>>>16^i[3]<<16,n[1]=i[2]^i[7]>>>16^i[5]<<16,n[2]=i[4]^i[1]>>>16^i[7]<<16,n[3]=i[6]^i[3]>>>16^i[1]<<16;for(var o=0;o<4;o++)n[o]=16711935&(n[o]<<8|n[o]>>>24)|4278255360&(n[o]<<24|n[o]>>>8),t[e+o]^=n[o]},blockSize:4,ivSize:2});function s(){for(var t=this._X,e=this._C,n=0;n<8;n++)o[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var i=t[n]+e[n],a=65535&i,s=i>>>16;r[n]=((a*a>>>17)+a*s>>>15)+s*s^((4294901760&i)*i|0)+((65535&i)*i|0)}t[0]=r[0]+(r[7]<<16|r[7]>>>16)+(r[6]<<16|r[6]>>>16)|0,t[1]=r[1]+(r[0]<<8|r[0]>>>24)+r[7]|0,t[2]=r[2]+(r[1]<<16|r[1]>>>16)+(r[0]<<16|r[0]>>>16)|0,t[3]=r[3]+(r[2]<<8|r[2]>>>24)+r[1]|0,t[4]=r[4]+(r[3]<<16|r[3]>>>16)+(r[2]<<16|r[2]>>>16)|0,t[5]=r[5]+(r[4]<<8|r[4]>>>24)+r[3]|0,t[6]=r[6]+(r[5]<<16|r[5]>>>16)+(r[4]<<16|r[4]>>>16)|0,t[7]=r[7]+(r[6]<<8|r[6]>>>24)+r[5]|0}t.Rabbit=e._createHelper(a)}(),i.Rabbit)},ELcG:function(t,e,n){var i;t.exports=(i=n("Ib8C"),function(t){var e=i,n=e.lib,o=n.WordArray,r=n.Hasher,a=e.algo,s=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),p=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=o.create([0,1518500249,1859775393,2400959708,2840853838]),u=o.create([1352829926,1548603684,1836072691,2053994217,0]),g=a.RIPEMD160=r.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var i=e+n,o=t[i];t[i]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var r,a,g,C,x,w,P,O,M,_,k,S=this._hash.words,A=d.words,I=u.words,R=s.words,T=c.words,F=l.words,E=p.words;for(w=r=S[0],P=a=S[1],O=g=S[2],M=C=S[3],_=x=S[4],n=0;n<80;n+=1)k=r+t[e+R[n]]|0,k+=n<16?h(a,g,C)+A[0]:n<32?b(a,g,C)+A[1]:n<48?f(a,g,C)+A[2]:n<64?m(a,g,C)+A[3]:v(a,g,C)+A[4],k=(k=y(k|=0,F[n]))+x|0,r=x,x=C,C=y(g,10),g=a,a=k,k=w+t[e+T[n]]|0,k+=n<16?v(P,O,M)+I[0]:n<32?m(P,O,M)+I[1]:n<48?f(P,O,M)+I[2]:n<64?b(P,O,M)+I[3]:h(P,O,M)+I[4],k=(k=y(k|=0,E[n]))+_|0,w=_,_=M,M=y(O,10),O=P,P=k;k=S[1]+g+M|0,S[1]=S[2]+C+_|0,S[2]=S[3]+x+w|0,S[3]=S[4]+r+P|0,S[4]=S[0]+a+O|0,S[0]=k},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;e[i>>>5]|=128<<24-i%32,e[14+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(e.length+1),this._process();for(var o=this._hash,r=o.words,a=0;a<5;a++){var s=r[a];r[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return o},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});function h(t,e,n){return t^e^n}function b(t,e,n){return t&e|~t&n}function f(t,e,n){return(t|~e)^n}function m(t,e,n){return t&n|e&~n}function v(t,e,n){return t^(e|~n)}function y(t,e){return t<<e|t>>>32-e}e.RIPEMD160=r._createHelper(g),e.HmacRIPEMD160=r._createHmacHelper(g)}(Math),i.RIPEMD160)},EPeh:function(t,e,n){"use strict";n.r(e),n.d(e,"SecureModule",(function(){return oP}));var i=n("ofXK"),o=n("ODXe"),r=n("KQm4"),a=n("1OyB"),s=n("vuIU"),c=n("fXoL"),l=(n("uFwe"),n("md7G")),p=n("2WcH"),d=n("foSv"),u=n("ReuC"),g=n("Ji7U");function h(t){return null!=t&&"false"!=="".concat(t)}function b(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function f(t){return t instanceof c.l?t.nativeElement:t}var m=n("XNiG"),v=n("LRne"),y=n("HDdC"),C=n("xgIS");function x(t,e,n,i){var o=Object(u.a)(Object(d.a)(1&i?t.prototype:t),e,n);return 2&i?function(t){return o.apply(n,t)}:o}var w=function(t){function e(t,n){var i,o,r,s;return Object(a.a)(this,e),o=this,r=e,s=[t,n],r=Object(d.a)(r),(i=Object(l.a)(o,Object(p.a)()?Reflect.construct(r,s||[],Object(d.a)(o).constructor):r.apply(o,s))).scheduler=t,i.work=n,i}return Object(g.a)(e,t),Object(s.a)(e,[{key:"requestAsyncId",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?x(e,"requestAsyncId",this,3)([t,n,i]):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))}},{key:"recycleAsyncId",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return x(e,"recycleAsyncId",this,3)([t,n,i]);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)}}])}(n("3N8a").a);function P(t,e,n){return e=Object(d.a)(e),Object(l.a)(t,Object(p.a)()?Reflect.construct(e,n||[],Object(d.a)(t).constructor):e.apply(t,n))}var O=new(function(t){function e(){return Object(a.a)(this,e),P(this,e,arguments)}return Object(g.a)(e,t),Object(s.a)(e,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,o=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<o&&(t=n.shift()));if(this.active=!1,e){for(;++i<o&&(t=n.shift());)t.unsubscribe();throw e}}}])}(n("IjjT").a))(w),M=n("quSY");n("/uUt");var _=n("D0XW"),k=n("l7GE"),S=n("ZUHj");function A(t){return function(e){return e.lift(new I(t))}}var I=function(){return Object(s.a)((function t(e){Object(a.a)(this,t),this.durationSelector=e}),[{key:"call",value:function(t,e){return e.subscribe(new R(t,this.durationSelector))}}])}(),R=function(t){function e(t,n){var i,o,r,s;return Object(a.a)(this,e),o=this,r=e,s=[t],r=Object(d.a)(r),(i=Object(l.a)(o,Object(p.a)()?Reflect.construct(r,s||[],Object(d.a)(o).constructor):r.apply(o,s))).durationSelector=n,i.hasValue=!1,i}return Object(g.a)(e,t),Object(s.a)(e,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(t)}catch(i){return this.destination.error(i)}var n=Object(S.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(t,e,n,i){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}])}(k.a),T=n("PqYM");function F(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.a;return A((function(){return Object(T.a)(t,e)}))}var E=n("pLZG"),D=n("1G5W"),L=n("JX91");n("7o/Q");var N,H=n("eIep");n("UXun");try{N="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(rP){N=!1}var G,B,j=function(){var t=Object(s.a)((function t(e){Object(a.a)(this,t),this._platformId=e,this.isBrowser=this._platformId?Object(i.u)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!N)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}));return t.\u0275fac=function(e){return new(e||t)(c.Wb(c.B))},t.\u0275prov=Object(c.Ib)({factory:function(){return new t(Object(c.Wb)(c.B))},token:t,providedIn:"root"}),t}();function U(t){return function(){if(null==G&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return G=!0}}))}finally{G=G||!1}return G}()?t:!!t.capture}var z=new c.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(c.V)(i.d)}}),V=function(){var t=function(){return Object(s.a)((function t(e){if(Object(a.a)(this,t),this.value="ltr",this.change=new c.n,e){var n=(e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null);this.value="ltr"===n||"rtl"===n?n:"ltr"}}),[{key:"ngOnDestroy",value:function(){this.change.complete()}}])}();return t.\u0275fac=function(e){return new(e||t)(c.Wb(z,8))},t.\u0275prov=Object(c.Ib)({factory:function(){return new t(Object(c.Wb)(z,8))},token:t,providedIn:"root"}),t}(),Z=function(){var t=function(){return Object(s.a)((function t(e,n,i){Object(a.a)(this,t),this._ngZone=e,this._platform=n,this._scrolled=new m.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}),[{key:"register",value:function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe((function(){return e._scrolled.next(t)})))}},{key:"deregister",value:function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}},{key:"scrolled",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new y.a((function(n){t._globalSubscription||t._addGlobalListener();var i=e>0?t._scrolled.pipe(F(e)).subscribe(n):t._scrolled.subscribe(n);return t._scrolledCount++,function(){i.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}})):Object(v.a)()}},{key:"ngOnDestroy",value:function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach((function(e,n){return t.deregister(n)})),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Object(E.a)((function(t){return!t||n.indexOf(t)>-1})))}},{key:"getAncestorScrollContainers",value:function(t){var e=this,n=[];return this.scrollContainers.forEach((function(i,o){e._scrollableContainsElement(o,t)&&n.push(o)})),n}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_scrollableContainsElement",value:function(t,e){var n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular((function(){var e=t._getWindow();return Object(C.a)(e.document,"scroll").subscribe((function(){return t._scrolled.next()}))}))}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}])}();return t.\u0275fac=function(e){return new(e||t)(c.Wb(c.z),c.Wb(j),c.Wb(i.d,8))},t.\u0275prov=Object(c.Ib)({factory:function(){return new t(Object(c.Wb)(c.z),Object(c.Wb)(j),Object(c.Wb)(i.d,8))},token:t,providedIn:"root"}),t}(),$=function(){var t=function(){return Object(s.a)((function t(e,n,i){var o=this;Object(a.a)(this,t),this._platform=e,this._change=new m.a,this._changeListener=function(t){o._change.next(t)},this._document=i,n.runOutsideAngular((function(){if(e.isBrowser){var t=o._getWindow();t.addEventListener("resize",o._changeListener),t.addEventListener("orientationchange",o._changeListener)}o.change().subscribe((function(){return o._updateViewportSize()}))}))}),[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,i=e.height;return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+n,height:i,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=this._getDocument(),e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(F(t)):this._change}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_updateViewportSize",value:function(){var t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}])}();return t.\u0275fac=function(e){return new(e||t)(c.Wb(j),c.Wb(c.z),c.Wb(i.d,8))},t.\u0275prov=Object(c.Ib)({factory:function(){return new t(Object(c.Wb)(j),Object(c.Wb)(c.z),Object(c.Wb)(i.d,8))},token:t,providedIn:"root"}),t}(),W=function(){var t=Object(s.a)((function t(){Object(a.a)(this,t)}));return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)}}),t}(),J=n("l5mm"),q=n("VRyK"),K=n("lJxs"),Y=n("IzEk"),Q=n("vkgz");function X(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function tt(t,e){var n=e?"":"none";X(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function et(t,e){var n=t.style;n.position=e?"":"fixed",n.top=n.opacity=e?"":"0",n.left=e?"":"-999em"}function nt(t){var e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function it(t,e){return t.getPropertyValue(e).split(",").map((function(t){return t.trim()}))}function ot(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function rt(t,e,n){return n>=t.top&&n<=t.bottom&&e>=t.left&&e<=t.right}function at(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function st(t,e,n,i){var o=t.width*e,r=t.height*e;return i>t.top-r&&i<t.bottom+r&&n>t.left-o&&n<t.right+o}var ct=function(){return Object(s.a)((function t(e,n){Object(a.a)(this,t),this._document=e,this._viewportRuler=n,this.positions=new Map}),[{key:"clear",value:function(){this.positions.clear()}},{key:"cache",value:function(t){var e=this;this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach((function(t){e.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:ot(t)})}))}},{key:"handleScroll",value:function(t){var e=t.target,n=this.positions.get(e);if(!n)return null;var i,o,r=e===this._document?e.documentElement:e,a=n.scrollPosition;if(e===this._document){var s=this._viewportRuler.getViewportScrollPosition();i=s.top,o=s.left}else i=e.scrollTop,o=e.scrollLeft;var c=a.top-i,l=a.left-o;return this.positions.forEach((function(t,n){t.clientRect&&e!==n&&r.contains(n)&&at(t.clientRect,c,l)})),a.top=i,a.left=o,{top:c,left:l}}}])}();function lt(t){var e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),i=t.nodeName.toLowerCase();e.removeAttribute("id");for(var o=0;o<n.length;o++)n[o].removeAttribute("id");return"canvas"===i?gt(t,e):"input"!==i&&"select"!==i&&"textarea"!==i||ut(t,e),pt("canvas",t,e,gt),pt("input, textarea, select",t,e,ut),e}function pt(t,e,n,i){var o=e.querySelectorAll(t);if(o.length)for(var r=n.querySelectorAll(t),a=0;a<o.length;a++)i(o[a],r[a])}var dt=0;function ut(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name="mat-clone-".concat(e.name,"-").concat(dt++))}function gt(t,e){var n=e.getContext("2d");if(n)try{n.drawImage(t,0,0)}catch(rP){}}var ht=U({passive:!0}),bt=U({passive:!1}),ft=function(){return Object(s.a)((function t(e,n,i,o,r,s){var c=this;Object(a.a)(this,t),this._config=n,this._document=i,this._ngZone=o,this._viewportRuler=r,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new m.a,this._pointerMoveSubscription=M.a.EMPTY,this._pointerUpSubscription=M.a.EMPTY,this._scrollSubscription=M.a.EMPTY,this._resizeSubscription=M.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new m.a,this.started=new m.a,this.released=new m.a,this.ended=new m.a,this.entered=new m.a,this.exited=new m.a,this.dropped=new m.a,this.moved=this._moveEvents,this._pointerDown=function(t){if(c.beforeStarted.next(),c._handles.length){var e=c._handles.find((function(e){var n=t.target;return!!n&&(n===e||e.contains(n))}));!e||c._disabledHandles.has(e)||c.disabled||c._initializeDragSequence(e,t)}else c.disabled||c._initializeDragSequence(c._rootElement,t)},this._pointerMove=function(t){t.preventDefault();var e=c._getPointerPositionOnPage(t);if(c._hasStartedDragging){c._boundaryElement&&(c._previewRect&&(c._previewRect.width||c._previewRect.height)||(c._previewRect=(c._preview||c._rootElement).getBoundingClientRect()));var n=c._getConstrainedPointerPosition(e);if(c._hasMoved=!0,c._lastKnownPointerPosition=e,c._updatePointerDirectionDelta(n),c._dropContainer)c._updateActiveDropContainer(n,e);else{var i=c._activeTransform;if(i.x=n.x-c._pickupPositionOnPage.x+c._passiveTransform.x,i.y=n.y-c._pickupPositionOnPage.y+c._passiveTransform.y,c._applyRootElementTransform(i.x,i.y),"undefined"!=typeof SVGElement&&c._rootElement instanceof SVGElement){var o="translate(".concat(i.x," ").concat(i.y,")");c._rootElement.setAttribute("transform",o)}}c._moveEvents.observers.length&&c._ngZone.run((function(){c._moveEvents.next({source:c,pointerPosition:n,event:t,distance:c._getDragDistance(n),delta:c._pointerDirectionDelta})}))}else if(Math.abs(e.x-c._pickupPositionOnPage.x)+Math.abs(e.y-c._pickupPositionOnPage.y)>=c._config.dragStartThreshold){var r=Date.now()>=c._dragStartTime+c._getDragStartDelay(t),a=c._dropContainer;if(!r)return void c._endDragSequence(t);a&&(a.isDragging()||a.isReceiving())||(c._hasStartedDragging=!0,c._ngZone.run((function(){return c._startDragSequence(t)})))}},this._pointerUp=function(t){c._endDragSequence(t)},this.withRootElement(e),this._parentPositions=new ct(i,r),s.registerDragItem(this)}),[{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(t){var e=h(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}},{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getVisibleElement",value:function(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}},{key:"withHandles",value:function(t){return this._handles=t.map((function(t){return f(t)})),this._handles.forEach((function(t){return tt(t,!1)})),this._toggleNativeDragInteractions(),this}},{key:"withPreviewTemplate",value:function(t){return this._previewTemplate=t,this}},{key:"withPlaceholderTemplate",value:function(t){return this._placeholderTemplate=t,this}},{key:"withRootElement",value:function(t){var e=this,n=f(t);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular((function(){n.addEventListener("mousedown",e._pointerDown,bt),n.addEventListener("touchstart",e._pointerDown,ht)})),this._initialTransform=void 0,this._rootElement=n),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}},{key:"withBoundaryElement",value:function(t){var e=this;return this._boundaryElement=t?f(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe((function(){return e._containInsideBoundaryOnResize()}))),this}},{key:"dispose",value:function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&yt(this._rootElement),yt(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}},{key:"isDragging",value:function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"disableHandle",value:function(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}},{key:"enableHandle",value:function(t){this._disabledHandles.delete(t)}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"_withDropContainer",value:function(t){this._dropContainer=t}},{key:"getFreeDragPosition",value:function(){var t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}},{key:"setFreeDragPosition",value:function(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}},{key:"_sortFromLastPointerPosition",value:function(){var t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}},{key:"_removeSubscriptions",value:function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}},{key:"_destroyPreview",value:function(){this._preview&&yt(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}},{key:"_destroyPlaceholder",value:function(){this._placeholder&&yt(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}},{key:"_endDragSequence",value:function(t){var e=this;this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then((function(){e._cleanupDragArtifacts(t),e._cleanupCachedDimensions(),e._dragDropRegistry.stopDragging(e)}))):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run((function(){e.ended.next({source:e,distance:e._getDragDistance(e._getPointerPositionOnPage(t))})})),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}},{key:"_startDragSequence",value:function(t){Ct(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();var e,n=this._dropContainer;if(n){var i=this._rootElement,o=i.parentNode,r=this._preview=this._createPreviewElement(),a=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment("");o.insertBefore(s,i),et(i,!1),this._document.body.appendChild(o.replaceChild(a,i)),(e=this._document,e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body).appendChild(r),this.started.next({source:this}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}},{key:"_initializeDragSequence",value:function(t,e){var n=this;e.stopPropagation();var i=this.isDragging(),o=Ct(e),r=!o&&0!==e.button,a=this._rootElement,s=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),!(i||r||s)){this._handles.length&&(this._rootElementTapHighlight=a.style.webkitTapHighlightColor||"",a.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe((function(t){n._updateOnScroll(t)})),this._boundaryElement&&(this._boundaryRect=ot(this._boundaryElement));var c=this._previewTemplate;this._pickupPositionInElement=c&&c.template&&!c.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);var l=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:l.x,y:l.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}}},{key:"_cleanupDragArtifacts",value:function(t){var e=this;et(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run((function(){var n=e._dropContainer,i=n.getItemIndex(e),o=e._getPointerPositionOnPage(t),r=e._getDragDistance(e._getPointerPositionOnPage(t)),a=n._isOverContainer(o.x,o.y);e.ended.next({source:e,distance:r}),e.dropped.next({item:e,currentIndex:i,previousIndex:e._initialIndex,container:n,previousContainer:e._initialContainer,isPointerOverContainer:a,distance:r}),n.drop(e,i,e._initialContainer,a,r,e._initialIndex),e._dropContainer=e._initialContainer}))}},{key:"_updateActiveDropContainer",value:function(t,e){var n=this,i=t.x,o=t.y,r=e.x,a=e.y,s=this._initialContainer._getSiblingContainerFromPosition(this,i,o);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,o)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run((function(){n.exited.next({item:n,container:n._dropContainer}),n._dropContainer.exit(n),n._dropContainer=s,n._dropContainer.enter(n,i,o,s===n._initialContainer&&s.sortingDisabled?n._initialIndex:void 0),n.entered.next({item:n,container:s,currentIndex:s.getItemIndex(n)})})),this._dropContainer._startScrollingIfNecessary(r,a),this._dropContainer._sortItem(this,i,o,this._pointerDirectionDelta),this._preview.style.transform=mt(i-this._pickupPositionInElement.x,o-this._pickupPositionInElement.y)}},{key:"_createPreviewElement",value:function(){var t,e=this._previewTemplate,n=this.previewClass,i=e?e.template:null;if(i&&e){var o=e.matchSize?this._rootElement.getBoundingClientRect():null,r=e.viewContainer.createEmbeddedView(i,e.context);r.detectChanges(),t=xt(r,this._document),this._previewRef=r,e.matchSize?wt(t,o):t.style.transform=mt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var a=this._rootElement;wt(t=lt(a),a.getBoundingClientRect())}return X(t.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:"".concat(this._config.zIndex||1e3)}),tt(t,!1),t.classList.add("cdk-drag-preview"),t.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach((function(e){return t.classList.add(e)})):t.classList.add(n)),t}},{key:"_animatePreviewToPlaceholder",value:function(){var t=this;if(!this._hasMoved)return Promise.resolve();var e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=mt(e.left,e.top);var n=function(t){var e=getComputedStyle(t),n=it(e,"transition-property"),i=n.find((function(t){return"transform"===t||"all"===t}));if(!i)return 0;var o=n.indexOf(i),r=it(e,"transition-duration"),a=it(e,"transition-delay");return nt(r[o])+nt(a[o])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular((function(){return new Promise((function(e){var i=function(n){(!n||n.target===t._preview&&"transform"===n.propertyName)&&(t._preview.removeEventListener("transitionend",i),e(),clearTimeout(o))},o=setTimeout(i,1.5*n);t._preview.addEventListener("transitionend",i)}))}))}},{key:"_createPlaceholderElement",value:function(){var t,e=this._placeholderTemplate,n=e?e.template:null;return n?(this._placeholderRef=e.viewContainer.createEmbeddedView(n,e.context),this._placeholderRef.detectChanges(),t=xt(this._placeholderRef,this._document)):t=lt(this._rootElement),t.classList.add("cdk-drag-placeholder"),t}},{key:"_getPointerPositionInElement",value:function(t,e){var n=this._rootElement.getBoundingClientRect(),i=t===this._rootElement?null:t,o=i?i.getBoundingClientRect():n,r=Ct(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition();return{x:o.left-n.left+(r.pageX-o.left-a.left),y:o.top-n.top+(r.pageY-o.top-a.top)}}},{key:"_getPointerPositionOnPage",value:function(t){var e=this._getViewportScrollPosition(),n=Ct(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,i=n.pageX-e.left,o=n.pageY-e.top;if(this._ownerSVGElement){var r=this._ownerSVGElement.getScreenCTM();if(r){var a=this._ownerSVGElement.createSVGPoint();return a.x=i,a.y=o,a.matrixTransform(r.inverse())}}return{x:i,y:o}}},{key:"_getConstrainedPointerPosition",value:function(t){var e=this._dropContainer?this._dropContainer.lockAxis:null,n=this.constrainPosition?this.constrainPosition(t,this):t,i=n.x,o=n.y;if("x"===this.lockAxis||"x"===e?o=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(i=this._pickupPositionOnPage.x),this._boundaryRect){var r=this._pickupPositionInElement,a=r.x,s=r.y,c=this._boundaryRect,l=this._previewRect,p=c.top+s,d=c.bottom-(l.height-s);i=vt(i,c.left+a,c.right-(l.width-a)),o=vt(o,p,d)}return{x:i,y:o}}},{key:"_updatePointerDirectionDelta",value:function(t){var e=t.x,n=t.y,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,r=Math.abs(e-o.x),a=Math.abs(n-o.y);return r>this._config.pointerDirectionChangeThreshold&&(i.x=e>o.x?1:-1,o.x=e),a>this._config.pointerDirectionChangeThreshold&&(i.y=n>o.y?1:-1,o.y=n),i}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,tt(this._rootElement,t))}}},{key:"_removeRootElementListeners",value:function(t){t.removeEventListener("mousedown",this._pointerDown,bt),t.removeEventListener("touchstart",this._pointerDown,ht)}},{key:"_applyRootElementTransform",value:function(t,e){var n=mt(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}},{key:"_getDragDistance",value:function(t){var e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}},{key:"_containInsideBoundaryOnResize",value:function(){var t=this._passiveTransform,e=t.x,n=t.y;if(!(0===e&&0===n||this.isDragging())&&this._boundaryElement){var i=this._boundaryElement.getBoundingClientRect(),o=this._rootElement.getBoundingClientRect();if(!(0===i.width&&0===i.height||0===o.width&&0===o.height)){var r=i.left-o.left,a=o.right-i.right,s=i.top-o.top,c=o.bottom-i.bottom;i.width>o.width?(r>0&&(e+=r),a>0&&(e-=a)):e=0,i.height>o.height?(s>0&&(n+=s),c>0&&(n-=c)):n=0,e===this._passiveTransform.x&&n===this._passiveTransform.y||this.setFreeDragPosition({y:n,x:e})}}}},{key:"_getDragStartDelay",value:function(t){var e=this.dragStartDelay;return"number"==typeof e?e:Ct(t)?e.touch:e?e.mouse:0}},{key:"_updateOnScroll",value:function(t){var e=this._parentPositions.handleScroll(t);if(e){var n=t.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&at(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}},{key:"_getViewportScrollPosition",value:function(){var t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}}])}();function mt(t,e){return"translate3d(".concat(Math.round(t),"px, ").concat(Math.round(e),"px, 0)")}function vt(t,e,n){return Math.max(e,Math.min(n,t))}function yt(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ct(t){return"t"===t.type[0]}function xt(t,e){var n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];var i=e.createElement("div");return n.forEach((function(t){return i.appendChild(t)})),i}function wt(t,e){t.style.width="".concat(e.width,"px"),t.style.height="".concat(e.height,"px"),t.style.transform=mt(e.left,e.top)}function Pt(t,e,n){var i=Ot(e,t.length-1),o=Ot(n,t.length-1);if(i!==o){for(var r=t[i],a=o<i?-1:1,s=i;s!==o;s+=a)t[s]=t[s+a];t[o]=r}}function Ot(t,e){return Math.max(0,Math.min(e,t))}var Mt=function(){return Object(s.a)((function t(e,n,i,o,r){var s=this;Object(a.a)(this,t),this._dragDropRegistry=n,this._ngZone=o,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=function(){return!0},this.beforeStarted=new m.a,this.entered=new m.a,this.exited=new m.a,this.dropped=new m.a,this.sorted=new m.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=M.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new m.a,this._cachedShadowRoot=null,this._startScrollInterval=function(){s._stopScrolling(),Object(J.a)(0,O).pipe(Object(D.a)(s._stopScrollTimers)).subscribe((function(){var t=s._scrollNode;1===s._verticalScrollDirection?kt(t,-2):2===s._verticalScrollDirection&&kt(t,2),1===s._horizontalScrollDirection?St(t,-2):2===s._horizontalScrollDirection&&St(t,2)}))},this.element=f(e),this._document=i,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new ct(i,r)}),[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){var t=this,e=f(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach((function(e){return e._startReceiving(t)})),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}},{key:"enter",value:function(t,e,n,i){var o;this.start(),null==i?-1===(o=this.sortingDisabled?this._draggables.indexOf(t):-1)&&(o=this._getItemIndexFromPointerPosition(t,e,n)):o=i;var r=this._activeDraggables,a=r.indexOf(t),s=t.getPlaceholderElement(),c=r[o];if(c===t&&(c=r[o+1]),a>-1&&r.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){var l=c.getRootElement();l.parentElement.insertBefore(s,l),r.splice(o,0,t)}else if(this._shouldEnterAsFirstChild(e,n)){var p=r[0].getRootElement();p.parentNode.insertBefore(s,p),r.unshift(t)}else f(this.element).appendChild(s),r.push(t);s.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}},{key:"exit",value:function(t){this._reset(),this.exited.next({item:t,container:this})}},{key:"drop",value:function(t,e,n,i,o,r){this._reset(),null==r&&(r=n.getItemIndex(t)),this.dropped.next({item:t,currentIndex:e,previousIndex:r,container:this,previousContainer:n,isPointerOverContainer:i,distance:o})}},{key:"withItems",value:function(t){var e=this,n=this._draggables;return this._draggables=t,t.forEach((function(t){return t._withDropContainer(e)})),this.isDragging()&&(n.filter((function(t){return t.isDragging()})).every((function(e){return-1===t.indexOf(e)}))?this._reset():this._cacheItems()),this}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"connectedTo",value:function(t){return this._siblings=t.slice(),this}},{key:"withOrientation",value:function(t){return this._orientation=t,this}},{key:"withScrollableParents",value:function(t){var e=f(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e].concat(Object(r.a)(t)):t.slice(),this}},{key:"getScrollableParents",value:function(){return this._scrollableElements}},{key:"getItemIndex",value:function(t){return this._isDragging?_t("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,(function(e){return e.drag===t})):this._draggables.indexOf(t)}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(t,e,n,i){if(!this.sortingDisabled&&st(this._clientRect,.05,e,n)){var o=this._itemPositions,r=this._getItemIndexFromPointerPosition(t,e,n,i);if(!(-1===r&&o.length>0)){var a="horizontal"===this._orientation,s=_t(o,(function(e){return e.drag===t})),c=o[r],l=c.clientRect,p=s>r?1:-1,d=this._getItemOffsetPx(o[s].clientRect,l,p),u=this._getSiblingOffsetPx(s,o,p),g=o.slice();Pt(o,s,r),this.sorted.next({previousIndex:s,currentIndex:r,container:this,item:t}),o.forEach((function(e,n){if(g[n]!==e){var i=e.drag===t,o=i?d:u,r=i?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=o,a?(r.style.transform="translate3d(".concat(Math.round(e.offset),"px, 0, 0)"),at(e.clientRect,0,o)):(r.style.transform="translate3d(0, ".concat(Math.round(e.offset),"px, 0)"),at(e.clientRect,o,0))}})),this._previousSwap.overlaps=rt(l,e,n),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?i.x:i.y}}}},{key:"_startScrollingIfNecessary",value:function(t,e){var n=this;if(!this.autoScrollDisabled){var i,r=0,a=0;if(this._parentPositions.positions.forEach((function(s,c){if(c!==n._document&&s.clientRect&&!i&&st(s.clientRect,.05,t,e)){var l=function(t,e,n,i){var o=At(e,i),r=It(e,n),a=0,s=0;if(o){var c=t.scrollTop;1===o?c>0&&(a=1):t.scrollHeight-c>t.clientHeight&&(a=2)}if(r){var l=t.scrollLeft;1===r?l>0&&(s=1):t.scrollWidth-l>t.clientWidth&&(s=2)}return[a,s]}(c,s.clientRect,t,e),p=Object(o.a)(l,2);a=p[1],((r=p[0])||a)&&(i=c)}})),!r&&!a){var s=this._viewportRuler.getViewportSize(),c=s.width,l=s.height,p={width:c,height:l,top:0,right:c,bottom:l,left:0};r=At(p,e),a=It(p,t),i=window}!i||r===this._verticalScrollDirection&&a===this._horizontalScrollDirection&&i===this._scrollNode||(this._verticalScrollDirection=r,this._horizontalScrollDirection=a,this._scrollNode=i,(r||a)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_cacheParentPositions",value:function(){var t=f(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}},{key:"_cacheItemPositions",value:function(){var t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map((function(t){var e=t.getVisibleElement();return{drag:t,offset:0,clientRect:ot(e)}})).sort((function(e,n){return t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top}))}},{key:"_reset",value:function(){var t=this;this._isDragging=!1;var e=f(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach((function(t){var e=t.getRootElement();e&&(e.style.transform="")})),this._siblings.forEach((function(e){return e._stopReceiving(t)})),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}},{key:"_getSiblingOffsetPx",value:function(t,e,n){var i="horizontal"===this._orientation,o=e[t].clientRect,r=e[t+-1*n],a=o[i?"width":"height"]*n;if(r){var s=i?"left":"top",c=i?"right":"bottom";-1===n?a-=r.clientRect[s]-o[c]:a+=o[s]-r.clientRect[c]}return a}},{key:"_getItemOffsetPx",value:function(t,e,n){var i="horizontal"===this._orientation,o=i?e.left-t.left:e.top-t.top;return-1===n&&(o+=i?e.width-t.width:e.height-t.height),o}},{key:"_shouldEnterAsFirstChild",value:function(t,e){if(!this._activeDraggables.length)return!1;var n=this._itemPositions,i="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){var o=n[n.length-1].clientRect;return i?t>=o.right:e>=o.bottom}var r=n[0].clientRect;return i?t<=r.left:e<=r.top}},{key:"_getItemIndexFromPointerPosition",value:function(t,e,n,i){var o=this,r="horizontal"===this._orientation;return _t(this._itemPositions,(function(a,s,c){var l=a.drag,p=a.clientRect;return l===t?c.length<2:(!i||l!==o._previousSwap.drag||!o._previousSwap.overlaps||(r?i.x:i.y)!==o._previousSwap.delta)&&(r?e>=Math.floor(p.left)&&e<Math.floor(p.right):n>=Math.floor(p.top)&&n<Math.floor(p.bottom))}))}},{key:"_cacheItems",value:function(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}},{key:"_isOverContainer",value:function(t,e){return rt(this._clientRect,t,e)}},{key:"_getSiblingContainerFromPosition",value:function(t,e,n){return this._siblings.find((function(i){return i._canReceive(t,e,n)}))}},{key:"_canReceive",value:function(t,e,n){if(!rt(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;var i=this._getShadowRoot().elementFromPoint(e,n);if(!i)return!1;var o=f(this.element);return i===o||o.contains(i)}},{key:"_startReceiving",value:function(t){var e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}},{key:"_stopReceiving",value:function(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}},{key:"_listenToScrollEvents",value:function(){var t=this;this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe((function(e){if(t.isDragging()){var n=t._parentPositions.handleScroll(e);n&&(t._itemPositions.forEach((function(t){at(t.clientRect,n.top,n.left)})),t._itemPositions.forEach((function(e){var n=e.drag;t._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})))}else t.isReceiving()&&t._cacheParentPositions()}))}},{key:"_getShadowRoot",value:function(){if(!this._cachedShadowRoot){var t=function(t){if(function(){if(null==B){var t="undefined"!=typeof document?document.head:null;B=!(!t||!t.createShadowRoot&&!t.attachShadow)}return B}()){var e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(f(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}])}();function _t(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function kt(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function St(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function At(t,e){var n=t.top,i=t.bottom,o=.05*t.height;return e>=n-o&&e<=n+o?1:e>=i-o&&e<=i+o?2:0}function It(t,e){var n=t.left,i=t.right,o=.05*t.width;return e>=n-o&&e<=n+o?1:e>=i-o&&e<=i+o?2:0}var Rt=U({passive:!1,capture:!0}),Tt=function(){var t=function(){return Object(s.a)((function t(e,n){var i=this;Object(a.a)(this,t),this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new m.a,this.pointerUp=new m.a,this.scroll=new m.a,this._preventDefaultWhileDragging=function(t){i._activeDragInstances.size&&t.preventDefault()},this._persistentTouchmoveListener=function(t){i._activeDragInstances.size&&(t.preventDefault(),i.pointerMove.next(t))},this._document=n}),[{key:"registerDropContainer",value:function(t){this._dropInstances.has(t)||this._dropInstances.add(t)}},{key:"registerDragItem",value:function(t){var e=this;this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular((function(){e._document.addEventListener("touchmove",e._persistentTouchmoveListener,Rt)}))}},{key:"removeDropContainer",value:function(t){this._dropInstances.delete(t)}},{key:"removeDragItem",value:function(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Rt)}},{key:"startDragging",value:function(t,e){var n=this;if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){var i=e.type.startsWith("touch");this._globalListeners.set(i?"touchend":"mouseup",{handler:function(t){return n.pointerUp.next(t)},options:!0}).set("scroll",{handler:function(t){return n.scroll.next(t)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Rt}),i||this._globalListeners.set("mousemove",{handler:function(t){return n.pointerMove.next(t)},options:Rt}),this._ngZone.runOutsideAngular((function(){n._globalListeners.forEach((function(t,e){n._document.addEventListener(e,t.handler,t.options)}))}))}}},{key:"stopDragging",value:function(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}},{key:"isDragging",value:function(t){return this._activeDragInstances.has(t)}},{key:"ngOnDestroy",value:function(){var t=this;this._dragInstances.forEach((function(e){return t.removeDragItem(e)})),this._dropInstances.forEach((function(e){return t.removeDropContainer(e)})),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var t=this;this._globalListeners.forEach((function(e,n){t._document.removeEventListener(n,e.handler,e.options)})),this._globalListeners.clear()}}])}();return t.\u0275fac=function(e){return new(e||t)(c.Wb(c.z),c.Wb(i.d))},t.\u0275prov=Object(c.Ib)({factory:function(){return new t(Object(c.Wb)(c.z),Object(c.Wb)(i.d))},token:t,providedIn:"root"}),t}(),Ft={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Et=function(){var t=function(){return Object(s.a)((function t(e,n,i,o){Object(a.a)(this,t),this._document=e,this._ngZone=n,this._viewportRuler=i,this._dragDropRegistry=o}),[{key:"createDrag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ft;return new ft(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}},{key:"createDropList",value:function(t){return new Mt(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}])}();return t.\u0275fac=function(e){return new(e||t)(c.Wb(i.d),c.Wb(c.z),c.Wb($),c.Wb(Tt))},t.\u0275prov=Object(c.Ib)({factory:function(){return new t(Object(c.Wb)(i.d),Object(c.Wb)(c.z),Object(c.Wb)($),Object(c.Wb)(Tt))},token:t,providedIn:"root"}),t}(),Dt=new c.q("CDK_DRAG_PARENT"),Lt=new c.q("CdkDropListGroup"),Nt=new c.q("CDK_DRAG_CONFIG"),Ht=0,Gt=new c.q("CdkDropList"),Bt=function(){var t=function(){function t(e,n,i,o,r,s,l){var p=this;Object(a.a)(this,t),this.element=e,this._changeDetectorRef=i,this._dir=o,this._group=r,this._scrollDispatcher=s,this._destroyed=new m.a,this.connectedTo=[],this.id="cdk-drop-list-".concat(Ht++),this.enterPredicate=function(){return!0},this.dropped=new c.n,this.entered=new c.n,this.exited=new c.n,this.sorted=new c.n,this._unsortedItems=new Set,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=function(t,e){return p.enterPredicate(t.data,e.data)},this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),r&&r._items.add(this)}return Object(s.a)(t,[{key:"disabled",get:function(){return this._disabled||!!this._group&&this._group.disabled},set:function(t){this._dropListRef.disabled=this._disabled=h(t)}},{key:"addItem",value:function(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"removeItem",value:function(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"getSortedItems",value:function(){return Array.from(this._unsortedItems).sort((function(t,e){return t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}))}},{key:"ngOnDestroy",value:function(){var e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}},{key:"_setupInputSyncSubscription",value:function(e){var n=this;this._dir&&this._dir.change.pipe(Object(L.a)(this._dir.value),Object(D.a)(this._destroyed)).subscribe((function(t){return e.withDirection(t)})),e.beforeStarted.subscribe((function(){var i,o=(i=n.connectedTo,Array.isArray(i)?i:[i]).map((function(e){return"string"==typeof e?t._dropLists.find((function(t){return t.id===e})):e}));if(n._group&&n._group._items.forEach((function(t){-1===o.indexOf(t)&&o.push(t)})),!n._scrollableParentsResolved&&n._scrollDispatcher){var r=n._scrollDispatcher.getAncestorScrollContainers(n.element).map((function(t){return t.getElementRef().nativeElement}));n._dropListRef.withScrollableParents(r),n._scrollableParentsResolved=!0}e.disabled=n.disabled,e.lockAxis=n.lockAxis,e.sortingDisabled=h(n.sortingDisabled),e.autoScrollDisabled=h(n.autoScrollDisabled),e.connectedTo(o.filter((function(t){return t&&t!==n})).map((function(t){return t._dropListRef}))).withOrientation(n.orientation)}))}},{key:"_handleEvents",value:function(t){var e=this;t.beforeStarted.subscribe((function(){e._syncItemsWithRef(),e._changeDetectorRef.markForCheck()})),t.entered.subscribe((function(t){e.entered.emit({container:e,item:t.item.data,currentIndex:t.currentIndex})})),t.exited.subscribe((function(t){e.exited.emit({container:e,item:t.item.data}),e._changeDetectorRef.markForCheck()})),t.sorted.subscribe((function(t){e.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:e,item:t.item.data})})),t.dropped.subscribe((function(t){e.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance}),e._changeDetectorRef.markForCheck()}))}},{key:"_assignDefaults",value:function(t){var e=t.lockAxis,n=t.draggingDisabled,i=t.sortingDisabled,o=t.listAutoScrollDisabled,r=t.listOrientation;this.disabled=null!=n&&n,this.sortingDisabled=null!=i&&i,this.autoScrollDisabled=null!=o&&o,this.orientation=r||"vertical",e&&(this.lockAxis=e)}},{key:"_syncItemsWithRef",value:function(){this._dropListRef.withItems(this.getSortedItems().map((function(t){return t._dragRef})))}}])}();return t.\u0275fac=function(e){return new(e||t)(c.Mb(c.l),c.Mb(Et),c.Mb(c.h),c.Mb(V,8),c.Mb(Lt,12),c.Mb(Z),c.Mb(Nt,8))},t.\u0275dir=c.Hb({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(c.Vb("id",e.id),c.Eb("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[c.zb([{provide:Lt,useValue:void 0},{provide:Gt,useExisting:t}])]}),t._dropLists=[],t}(),jt=new c.q("CdkDragHandle"),Ut=new c.q("CdkDragPlaceholder"),zt=new c.q("CdkDragPreview"),Vt=function(){var t=function(){return Object(s.a)((function t(e,n,i,o,r,s,l,p,d,u){var g=this;Object(a.a)(this,t),this.element=e,this.dropContainer=n,this._document=i,this._ngZone=o,this._viewContainerRef=r,this._dir=l,this._changeDetectorRef=d,this._selfHandle=u,this._destroyed=new m.a,this.started=new c.n,this.released=new c.n,this.ended=new c.n,this.entered=new c.n,this.exited=new c.n,this.dropped=new c.n,this.moved=new y.a((function(t){var e=g._dragRef.moved.pipe(Object(K.a)((function(t){return{source:g,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}}))).subscribe(t);return function(){e.unsubscribe()}})),this._dragRef=p.createDrag(e,{dragStartThreshold:s&&null!=s.dragStartThreshold?s.dragStartThreshold:5,pointerDirectionChangeThreshold:s&&null!=s.pointerDirectionChangeThreshold?s.pointerDirectionChangeThreshold:5,zIndex:null==s?void 0:s.zIndex}),this._dragRef.data=this,s&&this._assignDefaults(s),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}),[{key:"disabled",get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(t){this._disabled=h(t),this._dragRef.disabled=this._disabled}},{key:"getPlaceholderElement",value:function(){return this._dragRef.getPlaceholderElement()}},{key:"getRootElement",value:function(){return this._dragRef.getRootElement()}},{key:"reset",value:function(){this._dragRef.reset()}},{key:"getFreeDragPosition",value:function(){return this._dragRef.getFreeDragPosition()}},{key:"ngAfterViewInit",value:function(){var t=this;this._ngZone.onStable.pipe(Object(Y.a)(1),Object(D.a)(this._destroyed)).subscribe((function(){t._updateRootElement(),t._handles.changes.pipe(Object(L.a)(t._handles),Object(Q.a)((function(e){var n=e.filter((function(e){return e._parentDrag===t})).map((function(t){return t.element}));t._selfHandle&&t.rootElementSelector&&n.push(t.element),t._dragRef.withHandles(n)})),Object(H.a)((function(t){return q.a.apply(void 0,Object(r.a)(t.map((function(t){return t._stateChanges.pipe(Object(L.a)(t))}))))})),Object(D.a)(t._destroyed)).subscribe((function(e){var n=t._dragRef,i=e.element.nativeElement;e.disabled?n.disableHandle(i):n.enableHandle(i)})),t.freeDragPosition&&t._dragRef.setFreeDragPosition(t.freeDragPosition)}))}},{key:"ngOnChanges",value:function(t){var e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}},{key:"ngOnDestroy",value:function(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}},{key:"_updateRootElement",value:function(){var t=this.element.nativeElement,e=this.rootElementSelector?Zt(t,this.rootElementSelector):t;this._dragRef.withRootElement(e||t)}},{key:"_getBoundaryElement",value:function(){var t=this.boundaryElement;return t?"string"==typeof t?Zt(this.element.nativeElement,t):f(t):null}},{key:"_syncInputs",value:function(t){var e=this;t.beforeStarted.subscribe((function(){if(!t.isDragging()){var n=e._dir,i=e.dragStartDelay,o=e._placeholderTemplate?{template:e._placeholderTemplate.templateRef,context:e._placeholderTemplate.data,viewContainer:e._viewContainerRef}:null,r=e._previewTemplate?{template:e._previewTemplate.templateRef,context:e._previewTemplate.data,matchSize:e._previewTemplate.matchSize,viewContainer:e._viewContainerRef}:null;t.disabled=e.disabled,t.lockAxis=e.lockAxis,t.dragStartDelay="object"==typeof i&&i?i:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return b(t)?Number(t):e}(i),t.constrainPosition=e.constrainPosition,t.previewClass=e.previewClass,t.withBoundaryElement(e._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(r),n&&t.withDirection(n.value)}}))}},{key:"_handleEvents",value:function(t){var e=this;t.started.subscribe((function(){e.started.emit({source:e}),e._changeDetectorRef.markForCheck()})),t.released.subscribe((function(){e.released.emit({source:e})})),t.ended.subscribe((function(t){e.ended.emit({source:e,distance:t.distance}),e._changeDetectorRef.markForCheck()})),t.entered.subscribe((function(t){e.entered.emit({container:t.container.data,item:e,currentIndex:t.currentIndex})})),t.exited.subscribe((function(t){e.exited.emit({container:t.container.data,item:e})})),t.dropped.subscribe((function(t){e.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:e,distance:t.distance})}))}},{key:"_assignDefaults",value:function(t){var e=t.lockAxis,n=t.dragStartDelay,i=t.constrainPosition,o=t.previewClass,r=t.boundaryElement,a=t.draggingDisabled,s=t.rootElementSelector;this.disabled=null!=a&&a,this.dragStartDelay=n||0,e&&(this.lockAxis=e),i&&(this.constrainPosition=i),o&&(this.previewClass=o),r&&(this.boundaryElement=r),s&&(this.rootElementSelector=s)}}])}();return t.\u0275fac=function(e){return new(e||t)(c.Mb(c.l),c.Mb(Gt,12),c.Mb(i.d),c.Mb(c.z),c.Mb(c.P),c.Mb(Nt,8),c.Mb(V,8),c.Mb(Et),c.Mb(c.h),c.Mb(jt,10))},t.\u0275dir=c.Hb({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){var i;1&t&&(c.Fb(n,zt,!0),c.Fb(n,Ut,!0),c.Fb(n,jt,!0)),2&t&&(c.uc(i=c.ac())&&(e._previewTemplate=i.first),c.uc(i=c.ac())&&(e._placeholderTemplate=i.first),c.uc(i=c.ac())&&(e._handles=i))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&c.Eb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[c.zb([{provide:Dt,useExisting:t}]),c.yb]}),t}();function Zt(t,e){for(var n=t.parentElement;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}var $t=function(){var t=Object(s.a)((function t(){Object(a.a)(this,t)}));return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},providers:[Et],imports:[W]}),t}(),Wt=n("tyNb"),Jt=n("mGf7"),qt=n("PCNd"),Kt=function(){function t(){}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[i.c,qt.a]]}),t}(),Yt=n("IeL7"),Qt=n("7AKx"),Xt=n("L5wJ"),te=n("Kj3r"),ee=n("k4Da"),ne=n.n(ee),ie=n("oSXT"),oe=n.n(ie),re=n("BsQw"),ae=n("E8h8"),se=n("fust"),ce=function(t){return t[t.App=0]="App",t[t.Folder=1]="Folder",t[t.Favorite=2]="Favorite",t[t.Sidenav=3]="Sidenav",t}({}),le=n("mrSG"),pe=n("xLjT"),de=n("2Vo4"),ue=n("cp0P"),ge=n("BkRI"),he=n.n(ge),be=n("xweI"),fe=n.n(be),me=n("UfWW"),ve=n.n(me),ye=n("J2m7"),Ce=n.n(ye),xe=n("cGNx"),we=n("22oA"),Pe=n("jtHE"),Oe=n("NFKh"),Me=[{alpha2:"US",alpha3:"USA",countryCallingCodes:["+1"],currencies:["USD"],emoji:"\ud83c\uddfa\ud83c\uddf8",ioc:"USA",languages:["eng"],name:"United States",status:"assigned"},{alpha2:"AC",alpha3:"",countryCallingCodes:["+247"],currencies:["USD"],emoji:"",ioc:"SHP",languages:["eng"],name:"Ascension Island",status:"reserved"},{alpha2:"AD",alpha3:"AND",countryCallingCodes:["+376"],currencies:["EUR"],emoji:"\ud83c\udde6\ud83c\udde9",ioc:"AND",languages:["cat"],name:"Andorra",status:"assigned"},{alpha2:"AE",alpha3:"ARE",countryCallingCodes:["+971"],currencies:["AED"],emoji:"\ud83c\udde6\ud83c\uddea",ioc:"UAE",languages:["ara"],name:"United Arab Emirates",status:"assigned"},{alpha2:"AF",alpha3:"AFG",countryCallingCodes:["+93"],currencies:["AFN"],emoji:"\ud83c\udde6\ud83c\uddeb",ioc:"AFG",languages:["pus"],name:"Afghanistan",status:"assigned"},{alpha2:"AG",alpha3:"ATG",countryCallingCodes:["+1 268"],currencies:["XCD"],emoji:"\ud83c\udde6\ud83c\uddec",ioc:"ANT",languages:["eng"],name:"Antigua And Barbuda",status:"assigned"},{alpha2:"AI",alpha3:"AIA",countryCallingCodes:["+1 264"],currencies:["XCD"],emoji:"\ud83c\udde6\ud83c\uddee",ioc:"",languages:["eng"],name:"Anguilla",status:"assigned"},{alpha2:"AI",alpha3:"AFI",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"French Afar and Issas",status:"deleted"},{alpha2:"AL",alpha3:"ALB",countryCallingCodes:["+355"],currencies:["ALL"],emoji:"\ud83c\udde6\ud83c\uddf1",ioc:"ALB",languages:["sqi"],name:"Albania",status:"assigned"},{alpha2:"AM",alpha3:"ARM",countryCallingCodes:["+374"],currencies:["AMD"],emoji:"\ud83c\udde6\ud83c\uddf2",ioc:"ARM",languages:["hye","rus"],name:"Armenia",status:"assigned"},{alpha2:"AN",alpha3:"ANT",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Netherlands Antilles",status:"deleted"},{alpha2:"AO",alpha3:"AGO",countryCallingCodes:["+244"],currencies:["AOA"],emoji:"\ud83c\udde6\ud83c\uddf4",ioc:"ANG",languages:["por"],name:"Angola",status:"assigned"},{alpha2:"AQ",alpha3:"ATA",countryCallingCodes:["+672"],currencies:[],emoji:"\ud83c\udde6\ud83c\uddf6",ioc:"",languages:[],name:"Antarctica",status:"assigned"},{alpha2:"AR",alpha3:"ARG",countryCallingCodes:["+54"],currencies:["ARS"],emoji:"\ud83c\udde6\ud83c\uddf7",ioc:"ARG",languages:["spa"],name:"Argentina",status:"assigned"},{alpha2:"AS",alpha3:"ASM",countryCallingCodes:["+1 684"],currencies:["USD"],emoji:"\ud83c\udde6\ud83c\uddf8",ioc:"ASA",languages:["eng","smo"],name:"American Samoa",status:"assigned"},{alpha2:"AT",alpha3:"AUT",countryCallingCodes:["+43"],currencies:["EUR"],emoji:"\ud83c\udde6\ud83c\uddf9",ioc:"AUT",languages:["deu"],name:"Austria",status:"assigned"},{alpha2:"AU",alpha3:"AUS",countryCallingCodes:["+61"],currencies:["AUD"],emoji:"\ud83c\udde6\ud83c\uddfa",ioc:"AUS",languages:["eng"],name:"Australia",status:"assigned"},{alpha2:"AW",alpha3:"ABW",countryCallingCodes:["+297"],currencies:["AWG"],emoji:"\ud83c\udde6\ud83c\uddfc",ioc:"ARU",languages:["nld"],name:"Aruba",status:"assigned"},{alpha2:"AX",alpha3:"ALA",countryCallingCodes:["+358"],currencies:["EUR"],emoji:"\ud83c\udde6\ud83c\uddfd",ioc:"",languages:["swe"],name:"\xc5land Islands",status:"assigned"},{alpha2:"AZ",alpha3:"AZE",countryCallingCodes:["+994"],currencies:["AZN"],emoji:"\ud83c\udde6\ud83c\uddff",ioc:"AZE",languages:["aze"],name:"Azerbaijan",status:"assigned"},{alpha2:"BA",alpha3:"BIH",countryCallingCodes:["+387"],currencies:["BAM"],emoji:"\ud83c\udde7\ud83c\udde6",ioc:"BIH",languages:["bos","cre","srp"],name:"Bosnia & Herzegovina",status:"assigned"},{alpha2:"BB",alpha3:"BRB",countryCallingCodes:["+1 246"],currencies:["BBD"],emoji:"\ud83c\udde7\ud83c\udde7",ioc:"BAR",languages:["eng"],name:"Barbados",status:"assigned"},{alpha2:"BD",alpha3:"BGD",countryCallingCodes:["+880"],currencies:["BDT"],emoji:"\ud83c\udde7\ud83c\udde9",ioc:"BAN",languages:["ben"],name:"Bangladesh",status:"assigned"},{alpha2:"BE",alpha3:"BEL",countryCallingCodes:["+32"],currencies:["EUR"],emoji:"\ud83c\udde7\ud83c\uddea",ioc:"BEL",languages:["nld","fra","deu"],name:"Belgium",status:"assigned"},{alpha2:"BF",alpha3:"BFA",countryCallingCodes:["+226"],currencies:["XOF"],emoji:"\ud83c\udde7\ud83c\uddeb",ioc:"BUR",languages:["fra"],name:"Burkina Faso",status:"assigned"},{alpha2:"BG",alpha3:"BGR",countryCallingCodes:["+359"],currencies:["BGN"],emoji:"\ud83c\udde7\ud83c\uddec",ioc:"BUL",languages:["bul"],name:"Bulgaria",status:"assigned"},{alpha2:"BH",alpha3:"BHR",countryCallingCodes:["+973"],currencies:["BHD"],emoji:"\ud83c\udde7\ud83c\udded",ioc:"BRN",languages:["ara"],name:"Bahrain",status:"assigned"},{alpha2:"BI",alpha3:"BDI",countryCallingCodes:["+257"],currencies:["BIF"],emoji:"\ud83c\udde7\ud83c\uddee",ioc:"BDI",languages:["fra"],name:"Burundi",status:"assigned"},{alpha2:"BJ",alpha3:"BEN",countryCallingCodes:["+229"],currencies:["XOF"],emoji:"\ud83c\udde7\ud83c\uddef",ioc:"BEN",languages:["fra"],name:"Benin",status:"assigned"},{alpha2:"BL",alpha3:"BLM",countryCallingCodes:["+590"],currencies:["EUR"],emoji:"\ud83c\udde7\ud83c\uddf1",ioc:"",languages:["fra"],name:"Saint Barth\xe9lemy",status:"assigned"},{alpha2:"BM",alpha3:"BMU",countryCallingCodes:["+1 441"],currencies:["BMD"],emoji:"\ud83c\udde7\ud83c\uddf2",ioc:"BER",languages:["eng"],name:"Bermuda",status:"assigned"},{alpha2:"BN",alpha3:"BRN",countryCallingCodes:["+673"],currencies:["BND"],emoji:"\ud83c\udde7\ud83c\uddf3",ioc:"BRU",languages:["msa","eng"],name:"Brunei Darussalam",status:"assigned"},{alpha2:"BO",alpha3:"BOL",countryCallingCodes:["+591"],currencies:["BOB","BOV"],emoji:"\ud83c\udde7\ud83c\uddf4",ioc:"BOL",languages:["spa","aym","que"],name:"Bolivia, Plurinational State Of",status:"assigned"},{alpha2:"BQ",alpha3:"BES",countryCallingCodes:["+599"],currencies:["USD"],emoji:"\ud83c\udde7\ud83c\uddf6",ioc:"",languages:["nld"],name:"Bonaire, Saint Eustatius And Saba",status:"assigned"},{alpha2:"BQ",alpha3:"ATB",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"British Antarctic Territory",status:"deleted"},{alpha2:"BR",alpha3:"BRA",countryCallingCodes:["+55"],currencies:["BRL"],emoji:"\ud83c\udde7\ud83c\uddf7",ioc:"BRA",languages:["por"],name:"Brazil",status:"assigned"},{alpha2:"BS",alpha3:"BHS",countryCallingCodes:["+1 242"],currencies:["BSD"],emoji:"\ud83c\udde7\ud83c\uddf8",ioc:"BAH",languages:["eng"],name:"Bahamas",status:"assigned"},{alpha2:"BT",alpha3:"BTN",countryCallingCodes:["+975"],currencies:["INR","BTN"],emoji:"\ud83c\udde7\ud83c\uddf9",ioc:"BHU",languages:["dzo"],name:"Bhutan",status:"assigned"},{alpha2:"BU",alpha3:"BUR",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Burma",status:"deleted"},{alpha2:"BV",alpha3:"BVT",countryCallingCodes:[],currencies:["NOK"],emoji:"\ud83c\udde7\ud83c\uddfb",ioc:"",languages:[],name:"Bouvet Island",status:"assigned"},{alpha2:"BW",alpha3:"BWA",countryCallingCodes:["+267"],currencies:["BWP"],emoji:"\ud83c\udde7\ud83c\uddfc",ioc:"BOT",languages:["eng","tsn"],name:"Botswana",status:"assigned"},{alpha2:"BY",alpha3:"BLR",countryCallingCodes:["+375"],currencies:["BYR"],emoji:"\ud83c\udde7\ud83c\uddfe",ioc:"BLR",languages:["bel","rus"],name:"Belarus",status:"assigned"},{alpha2:"BY",alpha3:"BYS",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Byelorussian SSR",status:"deleted"},{alpha2:"BZ",alpha3:"BLZ",countryCallingCodes:["+501"],currencies:["BZD"],emoji:"\ud83c\udde7\ud83c\uddff",ioc:"BIZ",languages:["eng"],name:"Belize",status:"assigned"},{alpha2:"CA",alpha3:"CAN",countryCallingCodes:["+1"],currencies:["CAD"],emoji:"\ud83c\udde8\ud83c\udde6",ioc:"CAN",languages:["eng","fra"],name:"Canada",status:"assigned"},{alpha2:"CC",alpha3:"CCK",countryCallingCodes:["+61"],currencies:["AUD"],emoji:"\ud83c\udde8\ud83c\udde8",ioc:"",languages:["eng"],name:"Cocos (Keeling) Islands",status:"assigned"},{alpha2:"CD",alpha3:"COD",countryCallingCodes:["+243"],currencies:["CDF"],emoji:"\ud83c\udde8\ud83c\udde9",ioc:"COD",languages:["fra","lin","kon","swa"],name:"Democratic Republic Of Congo",status:"assigned"},{alpha2:"CF",alpha3:"CAF",countryCallingCodes:["+236"],currencies:["XAF"],emoji:"\ud83c\udde8\ud83c\uddeb",ioc:"CAF",languages:["fra","sag"],name:"Central African Republic",status:"assigned"},{alpha2:"CG",alpha3:"COG",countryCallingCodes:["+242"],currencies:["XAF"],emoji:"\ud83c\udde8\ud83c\uddec",ioc:"CGO",languages:["fra","lin"],name:"Republic Of Congo",status:"assigned"},{alpha2:"CH",alpha3:"CHE",countryCallingCodes:["+41"],currencies:["CHF","CHE","CHW"],emoji:"\ud83c\udde8\ud83c\udded",ioc:"SUI",languages:["deu","fra","ita","roh"],name:"Switzerland",status:"assigned"},{alpha2:"CI",alpha3:"CIV",countryCallingCodes:["+225"],currencies:["XOF"],emoji:"\ud83c\udde8\ud83c\uddee",ioc:"CIV",languages:["fra"],name:"C\xf4te d'Ivoire",status:"assigned"},{alpha2:"CK",alpha3:"COK",countryCallingCodes:["+682"],currencies:["NZD"],emoji:"\ud83c\udde8\ud83c\uddf0",ioc:"COK",languages:["eng","mri"],name:"Cook Islands",status:"assigned"},{alpha2:"CL",alpha3:"CHL",countryCallingCodes:["+56"],currencies:["CLP","CLF"],emoji:"\ud83c\udde8\ud83c\uddf1",ioc:"CHI",languages:["spa"],name:"Chile",status:"assigned"},{alpha2:"CM",alpha3:"CMR",countryCallingCodes:["+237"],currencies:["XAF"],emoji:"\ud83c\udde8\ud83c\uddf2",ioc:"CMR",languages:["eng","fra"],name:"Cameroon",status:"assigned"},{alpha2:"CN",alpha3:"CHN",countryCallingCodes:["+86"],currencies:["CNY"],emoji:"\ud83c\udde8\ud83c\uddf3",ioc:"CHN",languages:["zho"],name:"China",status:"assigned"},{alpha2:"CO",alpha3:"COL",countryCallingCodes:["+57"],currencies:["COP","COU"],emoji:"\ud83c\udde8\ud83c\uddf4",ioc:"COL",languages:["spa"],name:"Colombia",status:"assigned"},{alpha2:"CP",alpha3:"",countryCallingCodes:[],currencies:["EUR"],emoji:"",ioc:"",languages:[],name:"Clipperton Island",status:"reserved"},{alpha2:"CR",alpha3:"CRI",countryCallingCodes:["+506"],currencies:["CRC"],emoji:"\ud83c\udde8\ud83c\uddf7",ioc:"CRC",languages:["spa"],name:"Costa Rica",status:"assigned"},{alpha2:"CS",alpha3:"CSK",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Czechoslovakia",status:"deleted"},{alpha2:"CS",alpha3:"SCG",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Serbia and Montenegro",status:"deleted"},{alpha2:"CT",alpha3:"CTE",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Canton and Enderbury Islands",status:"deleted"},{alpha2:"CU",alpha3:"CUB",countryCallingCodes:["+53"],currencies:["CUP","CUC"],emoji:"\ud83c\udde8\ud83c\uddfa",ioc:"CUB",languages:["spa"],name:"Cuba",status:"assigned"},{alpha2:"CV",alpha3:"CPV",countryCallingCodes:["+238"],currencies:["CVE"],emoji:"\ud83c\udde8\ud83c\uddfb",ioc:"CPV",languages:["por"],name:"Cabo Verde",status:"assigned"},{alpha2:"CW",alpha3:"CUW",countryCallingCodes:["+599"],currencies:["ANG"],emoji:"\ud83c\udde8\ud83c\uddfc",ioc:"",languages:["nld"],name:"Curacao",status:"assigned"},{alpha2:"CX",alpha3:"CXR",countryCallingCodes:["+61"],currencies:["AUD"],emoji:"\ud83c\udde8\ud83c\uddfd",ioc:"",languages:["eng"],name:"Christmas Island",status:"assigned"},{alpha2:"CY",alpha3:"CYP",countryCallingCodes:["+357"],currencies:["EUR"],emoji:"\ud83c\udde8\ud83c\uddfe",ioc:"CYP",languages:["ell","tur"],name:"Cyprus",status:"assigned"},{alpha2:"CZ",alpha3:"CZE",countryCallingCodes:["+420"],currencies:["CZK"],emoji:"\ud83c\udde8\ud83c\uddff",ioc:"CZE",languages:["ces"],name:"Czech Republic",status:"assigned"},{alpha2:"DD",alpha3:"DDR",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"German Democratic Republic",status:"deleted"},{alpha2:"DE",alpha3:"DEU",countryCallingCodes:["+49"],currencies:["EUR"],emoji:"\ud83c\udde9\ud83c\uddea",ioc:"GER",languages:["deu"],name:"Germany",status:"assigned"},{alpha2:"DG",alpha3:"",countryCallingCodes:[],currencies:["USD"],emoji:"",ioc:"",languages:[],name:"Diego Garcia",status:"reserved"},{alpha2:"DJ",alpha3:"DJI",countryCallingCodes:["+253"],currencies:["DJF"],emoji:"\ud83c\udde9\ud83c\uddef",ioc:"DJI",languages:["ara","fra"],name:"Djibouti",status:"assigned"},{alpha2:"DK",alpha3:"DNK",countryCallingCodes:["+45"],currencies:["DKK"],emoji:"\ud83c\udde9\ud83c\uddf0",ioc:"DEN",languages:["dan"],name:"Denmark",status:"assigned"},{alpha2:"DM",alpha3:"DMA",countryCallingCodes:["+1 767"],currencies:["XCD"],emoji:"\ud83c\udde9\ud83c\uddf2",ioc:"DMA",languages:["eng"],name:"Dominica",status:"assigned"},{alpha2:"DO",alpha3:"DOM",countryCallingCodes:["+1 809","+1 829","+1 849"],currencies:["DOP"],emoji:"\ud83c\udde9\ud83c\uddf4",ioc:"DOM",languages:["spa"],name:"Dominican Republic",status:"assigned"},{alpha2:"DY",alpha3:"DHY",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Dahomey",status:"deleted"},{alpha2:"DZ",alpha3:"DZA",countryCallingCodes:["+213"],currencies:["DZD"],emoji:"\ud83c\udde9\ud83c\uddff",ioc:"ALG",languages:["ara"],name:"Algeria",status:"assigned"},{alpha2:"EA",alpha3:"",countryCallingCodes:[],currencies:["EUR"],emoji:"",ioc:"",languages:[],name:"Ceuta, Mulilla",status:"reserved"},{alpha2:"EC",alpha3:"ECU",countryCallingCodes:["+593"],currencies:["USD"],emoji:"\ud83c\uddea\ud83c\udde8",ioc:"ECU",languages:["spa","que"],name:"Ecuador",status:"assigned"},{alpha2:"EE",alpha3:"EST",countryCallingCodes:["+372"],currencies:["EUR"],emoji:"\ud83c\uddea\ud83c\uddea",ioc:"EST",languages:["est"],name:"Estonia",status:"assigned"},{alpha2:"EG",alpha3:"EGY",countryCallingCodes:["+20"],currencies:["EGP"],emoji:"\ud83c\uddea\ud83c\uddec",ioc:"EGY",languages:["ara"],name:"Egypt",status:"assigned"},{alpha2:"EH",alpha3:"ESH",countryCallingCodes:["+212"],currencies:["MAD"],emoji:"\ud83c\uddea\ud83c\udded",ioc:"",languages:[],name:"Western Sahara",status:"assigned"},{alpha2:"ER",alpha3:"ERI",countryCallingCodes:["+291"],currencies:["ERN"],emoji:"\ud83c\uddea\ud83c\uddf7",ioc:"ERI",languages:["eng","ara","tir"],name:"Eritrea",status:"assigned"},{alpha2:"ES",alpha3:"ESP",countryCallingCodes:["+34"],currencies:["EUR"],emoji:"\ud83c\uddea\ud83c\uddf8",ioc:"ESP",languages:["spa"],name:"Spain",status:"assigned"},{alpha2:"ET",alpha3:"ETH",countryCallingCodes:["+251"],currencies:["ETB"],emoji:"\ud83c\uddea\ud83c\uddf9",ioc:"ETH",languages:["amh"],name:"Ethiopia",status:"assigned"},{alpha2:"EU",alpha3:"",countryCallingCodes:["+388"],currencies:["EUR"],emoji:"\ud83c\uddea\ud83c\uddfa",ioc:"",languages:[],name:"European Union",status:"reserved"},{alpha2:"FI",alpha3:"FIN",countryCallingCodes:["+358"],currencies:["EUR"],emoji:"\ud83c\uddeb\ud83c\uddee",ioc:"FIN",languages:["fin","swe"],name:"Finland",status:"assigned"},{alpha2:"FJ",alpha3:"FJI",countryCallingCodes:["+679"],currencies:["FJD"],emoji:"\ud83c\uddeb\ud83c\uddef",ioc:"FIJ",languages:["eng","fij"],name:"Fiji",status:"assigned"},{alpha2:"FK",alpha3:"FLK",countryCallingCodes:["+500"],currencies:["FKP"],emoji:"\ud83c\uddeb\ud83c\uddf0",ioc:"",languages:["eng"],name:"Falkland Islands",status:"assigned"},{alpha2:"FM",alpha3:"FSM",countryCallingCodes:["+691"],currencies:["USD"],emoji:"\ud83c\uddeb\ud83c\uddf2",ioc:"FSM",languages:["eng"],name:"Micronesia, Federated States Of",status:"assigned"},{alpha2:"FO",alpha3:"FRO",countryCallingCodes:["+298"],currencies:["DKK"],emoji:"\ud83c\uddeb\ud83c\uddf4",ioc:"FAI",languages:["fao","dan"],name:"Faroe Islands",status:"assigned"},{alpha2:"FQ",alpha3:"ATF",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"French Southern and Antarctic Territories",status:"deleted"},{alpha2:"FR",alpha3:"FRA",countryCallingCodes:["+33"],currencies:["EUR"],emoji:"\ud83c\uddeb\ud83c\uddf7",ioc:"FRA",languages:["fra"],name:"France",status:"assigned"},{alpha2:"FX",alpha3:"",countryCallingCodes:["+241"],currencies:["EUR"],emoji:"",ioc:"",languages:["fra"],name:"France, Metropolitan",status:"reserved"},{alpha2:"GA",alpha3:"GAB",countryCallingCodes:["+241"],currencies:["XAF"],emoji:"\ud83c\uddec\ud83c\udde6",ioc:"GAB",languages:["fra"],name:"Gabon",status:"assigned"},{alpha2:"GB",alpha3:"GBR",countryCallingCodes:["+44"],currencies:["GBP"],emoji:"\ud83c\uddec\ud83c\udde7",ioc:"GBR",languages:["eng","cor","gle","gla","cym"],name:"United Kingdom",status:"assigned"},{alpha2:"GD",alpha3:"GRD",countryCallingCodes:["+473"],currencies:["XCD"],emoji:"\ud83c\uddec\ud83c\udde9",ioc:"GRN",languages:["eng"],name:"Grenada",status:"assigned"},{alpha2:"GE",alpha3:"GEO",countryCallingCodes:["+995"],currencies:["GEL"],emoji:"\ud83c\uddec\ud83c\uddea",ioc:"GEO",languages:["kat"],name:"Georgia",status:"assigned"},{alpha2:"GE",alpha3:"GEL",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Gilbert and Ellice Islands",status:"deleted"},{alpha2:"GF",alpha3:"GUF",countryCallingCodes:["+594"],currencies:["EUR"],emoji:"\ud83c\uddec\ud83c\uddeb",ioc:"",languages:["fra"],name:"French Guiana",status:"assigned"},{alpha2:"GG",alpha3:"GGY",countryCallingCodes:["+44"],currencies:["GBP"],emoji:"\ud83c\uddec\ud83c\uddec",ioc:"GCI",languages:["fra"],name:"Guernsey",status:"assigned"},{alpha2:"GH",alpha3:"GHA",countryCallingCodes:["+233"],currencies:["GHS"],emoji:"\ud83c\uddec\ud83c\udded",ioc:"GHA",languages:["eng"],name:"Ghana",status:"assigned"},{alpha2:"GI",alpha3:"GIB",countryCallingCodes:["+350"],currencies:["GIP"],emoji:"\ud83c\uddec\ud83c\uddee",ioc:"",languages:["eng"],name:"Gibraltar",status:"assigned"},{alpha2:"GL",alpha3:"GRL",countryCallingCodes:["+299"],currencies:["DKK"],emoji:"\ud83c\uddec\ud83c\uddf1",ioc:"",languages:["kal"],name:"Greenland",status:"assigned"},{alpha2:"GM",alpha3:"GMB",countryCallingCodes:["+220"],currencies:["GMD"],emoji:"\ud83c\uddec\ud83c\uddf2",ioc:"GAM",languages:["eng"],name:"Gambia",status:"assigned"},{alpha2:"GN",alpha3:"GIN",countryCallingCodes:["+224"],currencies:["GNF"],emoji:"\ud83c\uddec\ud83c\uddf3",ioc:"GUI",languages:["fra"],name:"Guinea",status:"assigned"},{alpha2:"GP",alpha3:"GLP",countryCallingCodes:["+590"],currencies:["EUR"],emoji:"\ud83c\uddec\ud83c\uddf5",ioc:"",languages:["fra"],name:"Guadeloupe",status:"assigned"},{alpha2:"GQ",alpha3:"GNQ",countryCallingCodes:["+240"],currencies:["XAF"],emoji:"\ud83c\uddec\ud83c\uddf6",ioc:"GEQ",languages:["spa","fra","por"],name:"Equatorial Guinea",status:"assigned"},{alpha2:"GR",alpha3:"GRC",countryCallingCodes:["+30"],currencies:["EUR"],emoji:"\ud83c\uddec\ud83c\uddf7",ioc:"GRE",languages:["ell"],name:"Greece",status:"assigned"},{alpha2:"GS",alpha3:"SGS",countryCallingCodes:[],currencies:["GBP"],emoji:"\ud83c\uddec\ud83c\uddf8",ioc:"",languages:["eng"],name:"South Georgia And The South Sandwich Islands",status:"assigned"},{alpha2:"GT",alpha3:"GTM",countryCallingCodes:["+502"],currencies:["GTQ"],emoji:"\ud83c\uddec\ud83c\uddf9",ioc:"GUA",languages:["spa"],name:"Guatemala",status:"assigned"},{alpha2:"GU",alpha3:"GUM",countryCallingCodes:["+1 671"],currencies:["USD"],emoji:"\ud83c\uddec\ud83c\uddfa",ioc:"GUM",languages:["eng"],name:"Guam",status:"assigned"},{alpha2:"GW",alpha3:"GNB",countryCallingCodes:["+245"],currencies:["XOF"],emoji:"\ud83c\uddec\ud83c\uddfc",ioc:"GBS",languages:["por"],name:"Guinea-bissau",status:"assigned"},{alpha2:"GY",alpha3:"GUY",countryCallingCodes:["+592"],currencies:["GYD"],emoji:"\ud83c\uddec\ud83c\uddfe",ioc:"GUY",languages:["eng"],name:"Guyana",status:"assigned"},{alpha2:"HK",alpha3:"HKG",countryCallingCodes:["+852"],currencies:["HKD"],emoji:"\ud83c\udded\ud83c\uddf0",ioc:"HKG",languages:["zho","eng"],name:"Hong Kong",status:"assigned"},{alpha2:"HM",alpha3:"HMD",countryCallingCodes:[],currencies:["AUD"],emoji:"\ud83c\udded\ud83c\uddf2",ioc:"",languages:[],name:"Heard Island And McDonald Islands",status:"assigned"},{alpha2:"HN",alpha3:"HND",countryCallingCodes:["+504"],currencies:["HNL"],emoji:"\ud83c\udded\ud83c\uddf3",ioc:"HON",languages:["spa"],name:"Honduras",status:"assigned"},{alpha2:"HR",alpha3:"HRV",countryCallingCodes:["+385"],currencies:["HRK"],emoji:"\ud83c\udded\ud83c\uddf7",ioc:"CRO",languages:["hrv"],name:"Croatia",status:"assigned"},{alpha2:"HT",alpha3:"HTI",countryCallingCodes:["+509"],currencies:["HTG","USD"],emoji:"\ud83c\udded\ud83c\uddf9",ioc:"HAI",languages:["fra","hat"],name:"Haiti",status:"assigned"},{alpha2:"HU",alpha3:"HUN",countryCallingCodes:["+36"],currencies:["HUF"],emoji:"\ud83c\udded\ud83c\uddfa",ioc:"HUN",languages:["hun"],name:"Hungary",status:"assigned"},{alpha2:"HV",alpha3:"HVO",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Upper Volta",status:"deleted"},{alpha2:"IC",alpha3:"",countryCallingCodes:[],currencies:["EUR"],emoji:"",ioc:"",languages:[],name:"Canary Islands",status:"reserved"},{alpha2:"ID",alpha3:"IDN",countryCallingCodes:["+62"],currencies:["IDR"],emoji:"\ud83c\uddee\ud83c\udde9",ioc:"INA",languages:["ind"],name:"Indonesia",status:"assigned"},{alpha2:"IE",alpha3:"IRL",countryCallingCodes:["+353"],currencies:["EUR"],emoji:"\ud83c\uddee\ud83c\uddea",ioc:"IRL",languages:["eng","gle"],name:"Ireland",status:"assigned"},{alpha2:"IL",alpha3:"ISR",countryCallingCodes:["+972"],currencies:["ILS"],emoji:"\ud83c\uddee\ud83c\uddf1",ioc:"ISR",languages:["heb","ara","eng"],name:"Israel",status:"assigned"},{alpha2:"IM",alpha3:"IMN",countryCallingCodes:["+44"],currencies:["GBP"],emoji:"\ud83c\uddee\ud83c\uddf2",ioc:"",languages:["eng","glv"],name:"Isle Of Man",status:"assigned"},{alpha2:"IN",alpha3:"IND",countryCallingCodes:["+91"],currencies:["INR"],emoji:"\ud83c\uddee\ud83c\uddf3",ioc:"IND",languages:["eng","hin"],name:"India",status:"assigned"},{alpha2:"IO",alpha3:"IOT",countryCallingCodes:["+246"],currencies:["USD"],emoji:"\ud83c\uddee\ud83c\uddf4",ioc:"",languages:["eng"],name:"British Indian Ocean Territory",status:"assigned"},{alpha2:"IQ",alpha3:"IRQ",countryCallingCodes:["+964"],currencies:["IQD"],emoji:"\ud83c\uddee\ud83c\uddf6",ioc:"IRQ",languages:["ara","kur"],name:"Iraq",status:"assigned"},{alpha2:"IR",alpha3:"IRN",countryCallingCodes:["+98"],currencies:["IRR"],emoji:"\ud83c\uddee\ud83c\uddf7",ioc:"IRI",languages:["fas"],name:"Iran, Islamic Republic Of",status:"assigned"},{alpha2:"IS",alpha3:"ISL",countryCallingCodes:["+354"],currencies:["ISK"],emoji:"\ud83c\uddee\ud83c\uddf8",ioc:"ISL",languages:["isl"],name:"Iceland",status:"assigned"},{alpha2:"IT",alpha3:"ITA",countryCallingCodes:["+39"],currencies:["EUR"],emoji:"\ud83c\uddee\ud83c\uddf9",ioc:"ITA",languages:["ita"],name:"Italy",status:"assigned"},{alpha2:"JE",alpha3:"JEY",countryCallingCodes:["+44"],currencies:["GBP"],emoji:"\ud83c\uddef\ud83c\uddea",ioc:"JCI",languages:["eng","fra"],name:"Jersey",status:"assigned"},{alpha2:"JM",alpha3:"JAM",countryCallingCodes:["+1 876"],currencies:["JMD"],emoji:"\ud83c\uddef\ud83c\uddf2",ioc:"JAM",languages:["eng"],name:"Jamaica",status:"assigned"},{alpha2:"JO",alpha3:"JOR",countryCallingCodes:["+962"],currencies:["JOD"],emoji:"\ud83c\uddef\ud83c\uddf4",ioc:"JOR",languages:["ara"],name:"Jordan",status:"assigned"},{alpha2:"JP",alpha3:"JPN",countryCallingCodes:["+81"],currencies:["JPY"],emoji:"\ud83c\uddef\ud83c\uddf5",ioc:"JPN",languages:["jpn"],name:"Japan",status:"assigned"},{alpha2:"JT",alpha3:"JTN",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Johnston Island",status:"deleted"},{alpha2:"KE",alpha3:"KEN",countryCallingCodes:["+254"],currencies:["KES"],emoji:"\ud83c\uddf0\ud83c\uddea",ioc:"KEN",languages:["eng","swa"],name:"Kenya",status:"assigned"},{alpha2:"KG",alpha3:"KGZ",countryCallingCodes:["+996"],currencies:["KGS"],emoji:"\ud83c\uddf0\ud83c\uddec",ioc:"KGZ",languages:["rus"],name:"Kyrgyzstan",status:"assigned"},{alpha2:"KH",alpha3:"KHM",countryCallingCodes:["+855"],currencies:["KHR"],emoji:"\ud83c\uddf0\ud83c\udded",ioc:"CAM",languages:["khm"],name:"Cambodia",status:"assigned"},{alpha2:"KI",alpha3:"KIR",countryCallingCodes:["+686"],currencies:["AUD"],emoji:"\ud83c\uddf0\ud83c\uddee",ioc:"KIR",languages:["eng"],name:"Kiribati",status:"assigned"},{alpha2:"KM",alpha3:"COM",countryCallingCodes:["+269"],currencies:["KMF"],emoji:"\ud83c\uddf0\ud83c\uddf2",ioc:"COM",languages:["ara","fra"],name:"Comoros",status:"assigned"},{alpha2:"KN",alpha3:"KNA",countryCallingCodes:["+1 869"],currencies:["XCD"],emoji:"\ud83c\uddf0\ud83c\uddf3",ioc:"SKN",languages:["eng"],name:"Saint Kitts And Nevis",status:"assigned"},{alpha2:"KP",alpha3:"PRK",countryCallingCodes:["+850"],currencies:["KPW"],emoji:"\ud83c\uddf0\ud83c\uddf5",ioc:"PRK",languages:["kor"],name:"Korea, Democratic People's Republic Of",status:"assigned"},{alpha2:"KR",alpha3:"KOR",countryCallingCodes:["+82"],currencies:["KRW"],emoji:"\ud83c\uddf0\ud83c\uddf7",ioc:"KOR",languages:["kor"],name:"Korea, Republic Of",status:"assigned"},{alpha2:"KW",alpha3:"KWT",countryCallingCodes:["+965"],currencies:["KWD"],emoji:"\ud83c\uddf0\ud83c\uddfc",ioc:"KUW",languages:["ara"],name:"Kuwait",status:"assigned"},{alpha2:"KY",alpha3:"CYM",countryCallingCodes:["+1 345"],currencies:["KYD"],emoji:"\ud83c\uddf0\ud83c\uddfe",ioc:"CAY",languages:["eng"],name:"Cayman Islands",status:"assigned"},{alpha2:"KZ",alpha3:"KAZ",countryCallingCodes:["+7","+7 6","+7 7"],currencies:["KZT"],emoji:"\ud83c\uddf0\ud83c\uddff",ioc:"KAZ",languages:["kaz","rus"],name:"Kazakhstan",status:"assigned"},{alpha2:"LA",alpha3:"LAO",countryCallingCodes:["+856"],currencies:["LAK"],emoji:"\ud83c\uddf1\ud83c\udde6",ioc:"LAO",languages:["lao"],name:"Lao People's Democratic Republic",status:"assigned"},{alpha2:"LB",alpha3:"LBN",countryCallingCodes:["+961"],currencies:["LBP"],emoji:"\ud83c\uddf1\ud83c\udde7",ioc:"LIB",languages:["ara","hye"],name:"Lebanon",status:"assigned"},{alpha2:"LC",alpha3:"LCA",countryCallingCodes:["+1 758"],currencies:["XCD"],emoji:"\ud83c\uddf1\ud83c\udde8",ioc:"LCA",languages:["eng"],name:"Saint Lucia",status:"assigned"},{alpha2:"LI",alpha3:"LIE",countryCallingCodes:["+423"],currencies:["CHF"],emoji:"\ud83c\uddf1\ud83c\uddee",ioc:"LIE",languages:["deu"],name:"Liechtenstein",status:"assigned"},{alpha2:"LK",alpha3:"LKA",countryCallingCodes:["+94"],currencies:["LKR"],emoji:"\ud83c\uddf1\ud83c\uddf0",ioc:"SRI",languages:["sin","tam"],name:"Sri Lanka",status:"assigned"},{alpha2:"LR",alpha3:"LBR",countryCallingCodes:["+231"],currencies:["LRD"],emoji:"\ud83c\uddf1\ud83c\uddf7",ioc:"LBR",languages:["eng"],name:"Liberia",status:"assigned"},{alpha2:"LS",alpha3:"LSO",countryCallingCodes:["+266"],currencies:["LSL","ZAR"],emoji:"\ud83c\uddf1\ud83c\uddf8",ioc:"LES",languages:["eng","sot"],name:"Lesotho",status:"assigned"},{alpha2:"LT",alpha3:"LTU",countryCallingCodes:["+370"],currencies:["EUR"],emoji:"\ud83c\uddf1\ud83c\uddf9",ioc:"LTU",languages:["lit"],name:"Lithuania",status:"assigned"},{alpha2:"LU",alpha3:"LUX",countryCallingCodes:["+352"],currencies:["EUR"],emoji:"\ud83c\uddf1\ud83c\uddfa",ioc:"LUX",languages:["fra","deu","ltz"],name:"Luxembourg",status:"assigned"},{alpha2:"LV",alpha3:"LVA",countryCallingCodes:["+371"],currencies:["EUR"],emoji:"\ud83c\uddf1\ud83c\uddfb",ioc:"LAT",languages:["lav"],name:"Latvia",status:"assigned"},{alpha2:"LY",alpha3:"LBY",countryCallingCodes:["+218"],currencies:["LYD"],emoji:"\ud83c\uddf1\ud83c\uddfe",ioc:"LBA",languages:["ara"],name:"Libya",status:"assigned"},{alpha2:"MA",alpha3:"MAR",countryCallingCodes:["+212"],currencies:["MAD"],emoji:"\ud83c\uddf2\ud83c\udde6",ioc:"MAR",languages:["ara"],name:"Morocco",status:"assigned"},{alpha2:"MC",alpha3:"MCO",countryCallingCodes:["+377"],currencies:["EUR"],emoji:"\ud83c\uddf2\ud83c\udde8",ioc:"MON",languages:["fra"],name:"Monaco",status:"assigned"},{alpha2:"MD",alpha3:"MDA",countryCallingCodes:["+373"],currencies:["MDL"],emoji:"\ud83c\uddf2\ud83c\udde9",ioc:"MDA",languages:["ron"],name:"Moldova",status:"assigned"},{alpha2:"ME",alpha3:"MNE",countryCallingCodes:["+382"],currencies:["EUR"],emoji:"\ud83c\uddf2\ud83c\uddea",ioc:"MNE",languages:["mot"],name:"Montenegro",status:"assigned"},{alpha2:"MF",alpha3:"MAF",countryCallingCodes:["+590"],currencies:["EUR"],emoji:"\ud83c\uddf2\ud83c\uddeb",ioc:"",languages:["fra"],name:"Saint Martin",status:"assigned"},{alpha2:"MG",alpha3:"MDG",countryCallingCodes:["+261"],currencies:["MGA"],emoji:"\ud83c\uddf2\ud83c\uddec",ioc:"MAD",languages:["fra","mlg"],name:"Madagascar",status:"assigned"},{alpha2:"MH",alpha3:"MHL",countryCallingCodes:["+692"],currencies:["USD"],emoji:"\ud83c\uddf2\ud83c\udded",ioc:"MHL",languages:["eng","mah"],name:"Marshall Islands",status:"assigned"},{alpha2:"MI",alpha3:"MID",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Midway Islands",status:"deleted"},{alpha2:"MK",alpha3:"MKD",countryCallingCodes:["+389"],currencies:["MKD"],emoji:"\ud83c\uddf2\ud83c\uddf0",ioc:"MKD",languages:["mkd"],name:"Macedonia, The Former Yugoslav Republic Of",status:"assigned"},{alpha2:"ML",alpha3:"MLI",countryCallingCodes:["+223"],currencies:["XOF"],emoji:"\ud83c\uddf2\ud83c\uddf1",ioc:"MLI",languages:["fra"],name:"Mali",status:"assigned"},{alpha2:"MM",alpha3:"MMR",countryCallingCodes:["+95"],currencies:["MMK"],emoji:"\ud83c\uddf2\ud83c\uddf2",ioc:"MYA",languages:["mya"],name:"Myanmar",status:"assigned"},{alpha2:"MN",alpha3:"MNG",countryCallingCodes:["+976"],currencies:["MNT"],emoji:"\ud83c\uddf2\ud83c\uddf3",ioc:"MGL",languages:["mon"],name:"Mongolia",status:"assigned"},{alpha2:"MO",alpha3:"MAC",countryCallingCodes:["+853"],currencies:["MOP"],emoji:"\ud83c\uddf2\ud83c\uddf4",ioc:"MAC",languages:["zho","por"],name:"Macao",status:"assigned"},{alpha2:"MP",alpha3:"MNP",countryCallingCodes:["+1 670"],currencies:["USD"],emoji:"\ud83c\uddf2\ud83c\uddf5",ioc:"",languages:["eng"],name:"Northern Mariana Islands",status:"assigned"},{alpha2:"MQ",alpha3:"MTQ",countryCallingCodes:["+596"],currencies:["EUR"],emoji:"\ud83c\uddf2\ud83c\uddf6",ioc:"",languages:[],name:"Martinique",status:"assigned"},{alpha2:"MR",alpha3:"MRT",countryCallingCodes:["+222"],currencies:["MRO"],emoji:"\ud83c\uddf2\ud83c\uddf7",ioc:"MTN",languages:["ara","fra"],name:"Mauritania",status:"assigned"},{alpha2:"MS",alpha3:"MSR",countryCallingCodes:["+1 664"],currencies:["XCD"],emoji:"\ud83c\uddf2\ud83c\uddf8",ioc:"",languages:[],name:"Montserrat",status:"assigned"},{alpha2:"MT",alpha3:"MLT",countryCallingCodes:["+356"],currencies:["EUR"],emoji:"\ud83c\uddf2\ud83c\uddf9",ioc:"MLT",languages:["mlt","eng"],name:"Malta",status:"assigned"},{alpha2:"MU",alpha3:"MUS",countryCallingCodes:["+230"],currencies:["MUR"],emoji:"\ud83c\uddf2\ud83c\uddfa",ioc:"MRI",languages:["eng","fra"],name:"Mauritius",status:"assigned"},{alpha2:"MV",alpha3:"MDV",countryCallingCodes:["+960"],currencies:["MVR"],emoji:"\ud83c\uddf2\ud83c\uddfb",ioc:"MDV",languages:["div"],name:"Maldives",status:"assigned"},{alpha2:"MW",alpha3:"MWI",countryCallingCodes:["+265"],currencies:["MWK"],emoji:"\ud83c\uddf2\ud83c\uddfc",ioc:"MAW",languages:["eng","nya"],name:"Malawi",status:"assigned"},{alpha2:"MX",alpha3:"MEX",countryCallingCodes:["+52"],currencies:["MXN","MXV"],emoji:"\ud83c\uddf2\ud83c\uddfd",ioc:"MEX",languages:["spa"],name:"Mexico",status:"assigned"},{alpha2:"MY",alpha3:"MYS",countryCallingCodes:["+60"],currencies:["MYR"],emoji:"\ud83c\uddf2\ud83c\uddfe",ioc:"MAS",languages:["msa","eng"],name:"Malaysia",status:"assigned"},{alpha2:"MZ",alpha3:"MOZ",countryCallingCodes:["+258"],currencies:["MZN"],emoji:"\ud83c\uddf2\ud83c\uddff",ioc:"MOZ",languages:["por"],name:"Mozambique",status:"assigned"},{alpha2:"NA",alpha3:"NAM",countryCallingCodes:["+264"],currencies:["NAD","ZAR"],emoji:"\ud83c\uddf3\ud83c\udde6",ioc:"NAM",languages:["eng"],name:"Namibia",status:"assigned"},{alpha2:"NC",alpha3:"NCL",countryCallingCodes:["+687"],currencies:["XPF"],emoji:"\ud83c\uddf3\ud83c\udde8",ioc:"",languages:["fra"],name:"New Caledonia",status:"assigned"},{alpha2:"NE",alpha3:"NER",countryCallingCodes:["+227"],currencies:["XOF"],emoji:"\ud83c\uddf3\ud83c\uddea",ioc:"NIG",languages:["fra"],name:"Niger",status:"assigned"},{alpha2:"NF",alpha3:"NFK",countryCallingCodes:["+672"],currencies:["AUD"],emoji:"\ud83c\uddf3\ud83c\uddeb",ioc:"",languages:["eng"],name:"Norfolk Island",status:"assigned"},{alpha2:"NG",alpha3:"NGA",countryCallingCodes:["+234"],currencies:["NGN"],emoji:"\ud83c\uddf3\ud83c\uddec",ioc:"NGR",languages:["eng"],name:"Nigeria",status:"assigned"},{alpha2:"NH",alpha3:"NHB",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"New Hebrides",status:"deleted"},{alpha2:"NI",alpha3:"NIC",countryCallingCodes:["+505"],currencies:["NIO"],emoji:"\ud83c\uddf3\ud83c\uddee",ioc:"NCA",languages:["spa"],name:"Nicaragua",status:"assigned"},{alpha2:"NL",alpha3:"NLD",countryCallingCodes:["+31"],currencies:["EUR"],emoji:"\ud83c\uddf3\ud83c\uddf1",ioc:"NED",languages:["nld"],name:"Netherlands",status:"assigned"},{alpha2:"NO",alpha3:"NOR",countryCallingCodes:["+47"],currencies:["NOK"],emoji:"\ud83c\uddf3\ud83c\uddf4",ioc:"NOR",languages:["nor"],name:"Norway",status:"assigned"},{alpha2:"NP",alpha3:"NPL",countryCallingCodes:["+977"],currencies:["NPR"],emoji:"\ud83c\uddf3\ud83c\uddf5",ioc:"NEP",languages:["nep"],name:"Nepal",status:"assigned"},{alpha2:"NQ",alpha3:"ATN",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Dronning Maud Land",status:"deleted"},{alpha2:"NR",alpha3:"NRU",countryCallingCodes:["+674"],currencies:["AUD"],emoji:"\ud83c\uddf3\ud83c\uddf7",ioc:"NRU",languages:["eng","nau"],name:"Nauru",status:"assigned"},{alpha2:"NT",alpha3:"NTZ",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Neutral Zone",status:"deleted"},{alpha2:"NU",alpha3:"NIU",countryCallingCodes:["+683"],currencies:["NZD"],emoji:"\ud83c\uddf3\ud83c\uddfa",ioc:"",languages:["eng"],name:"Niue",status:"assigned"},{alpha2:"NZ",alpha3:"NZL",countryCallingCodes:["+64"],currencies:["NZD"],emoji:"\ud83c\uddf3\ud83c\uddff",ioc:"NZL",languages:["eng"],name:"New Zealand",status:"assigned"},{alpha2:"OM",alpha3:"OMN",countryCallingCodes:["+968"],currencies:["OMR"],emoji:"\ud83c\uddf4\ud83c\uddf2",ioc:"OMA",languages:["ara"],name:"Oman",status:"assigned"},{alpha2:"PA",alpha3:"PAN",countryCallingCodes:["+507"],currencies:["PAB","USD"],emoji:"\ud83c\uddf5\ud83c\udde6",ioc:"PAN",languages:["spa"],name:"Panama",status:"assigned"},{alpha2:"PC",alpha3:"PCI",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Pacific Islands, Trust Territory of the",status:"deleted"},{alpha2:"PE",alpha3:"PER",countryCallingCodes:["+51"],currencies:["PEN"],emoji:"\ud83c\uddf5\ud83c\uddea",ioc:"PER",languages:["spa","aym","que"],name:"Peru",status:"assigned"},{alpha2:"PF",alpha3:"PYF",countryCallingCodes:["+689"],currencies:["XPF"],emoji:"\ud83c\uddf5\ud83c\uddeb",ioc:"",languages:["fra"],name:"French Polynesia",status:"assigned"},{alpha2:"PG",alpha3:"PNG",countryCallingCodes:["+675"],currencies:["PGK"],emoji:"\ud83c\uddf5\ud83c\uddec",ioc:"PNG",languages:["eng"],name:"Papua New Guinea",status:"assigned"},{alpha2:"PH",alpha3:"PHL",countryCallingCodes:["+63"],currencies:["PHP"],emoji:"\ud83c\uddf5\ud83c\udded",ioc:"PHI",languages:["eng"],name:"Philippines",status:"assigned"},{alpha2:"PK",alpha3:"PAK",countryCallingCodes:["+92"],currencies:["PKR"],emoji:"\ud83c\uddf5\ud83c\uddf0",ioc:"PAK",languages:["urd","eng"],name:"Pakistan",status:"assigned"},{alpha2:"PL",alpha3:"POL",countryCallingCodes:["+48"],currencies:["PLN"],emoji:"\ud83c\uddf5\ud83c\uddf1",ioc:"POL",languages:["pol"],name:"Poland",status:"assigned"},{alpha2:"PM",alpha3:"SPM",countryCallingCodes:["+508"],currencies:["EUR"],emoji:"\ud83c\uddf5\ud83c\uddf2",ioc:"",languages:["eng"],name:"Saint Pierre And Miquelon",status:"assigned"},{alpha2:"PN",alpha3:"PCN",countryCallingCodes:["+872"],currencies:["NZD"],emoji:"\ud83c\uddf5\ud83c\uddf3",ioc:"",languages:["eng"],name:"Pitcairn",status:"assigned"},{alpha2:"PR",alpha3:"PRI",countryCallingCodes:["+1 787","+1 939"],currencies:["USD"],emoji:"\ud83c\uddf5\ud83c\uddf7",ioc:"PUR",languages:["spa","eng"],name:"Puerto Rico",status:"assigned"},{alpha2:"PS",alpha3:"PSE",countryCallingCodes:["+970"],currencies:["JOD","EGP","ILS"],emoji:"\ud83c\uddf5\ud83c\uddf8",ioc:"PLE",languages:["ara"],name:"Palestinian Territory, Occupied",status:"assigned"},{alpha2:"PT",alpha3:"PRT",countryCallingCodes:["+351"],currencies:["EUR"],emoji:"\ud83c\uddf5\ud83c\uddf9",ioc:"POR",languages:["por"],name:"Portugal",status:"assigned"},{alpha2:"PU",alpha3:"PUS",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"U.S. Miscellaneous Pacific Islands",status:"deleted"},{alpha2:"PW",alpha3:"PLW",countryCallingCodes:["+680"],currencies:["USD"],emoji:"\ud83c\uddf5\ud83c\uddfc",ioc:"PLW",languages:["eng"],name:"Palau",status:"assigned"},{alpha2:"PY",alpha3:"PRY",countryCallingCodes:["+595"],currencies:["PYG"],emoji:"\ud83c\uddf5\ud83c\uddfe",ioc:"PAR",languages:["spa"],name:"Paraguay",status:"assigned"},{alpha2:"PZ",alpha3:"PCZ",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Panama Canal Zone",status:"deleted"},{alpha2:"QA",alpha3:"QAT",countryCallingCodes:["+974"],currencies:["QAR"],emoji:"\ud83c\uddf6\ud83c\udde6",ioc:"QAT",languages:["ara"],name:"Qatar",status:"assigned"},{alpha2:"RE",alpha3:"REU",countryCallingCodes:["+262"],currencies:["EUR"],emoji:"\ud83c\uddf7\ud83c\uddea",ioc:"",languages:["fra"],name:"Reunion",status:"assigned"},{alpha2:"RH",alpha3:"RHO",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Southern Rhodesia",status:"deleted"},{alpha2:"RO",alpha3:"ROU",countryCallingCodes:["+40"],currencies:["RON"],emoji:"\ud83c\uddf7\ud83c\uddf4",ioc:"ROU",languages:["ron"],name:"Romania",status:"assigned"},{alpha2:"RS",alpha3:"SRB",countryCallingCodes:["+381"],currencies:["RSD"],emoji:"\ud83c\uddf7\ud83c\uddf8",ioc:"SRB",languages:["srp"],name:"Serbia",status:"assigned"},{alpha2:"RU",alpha3:"RUS",countryCallingCodes:["+7","+7 3","+7 4","+7 8"],currencies:["RUB"],emoji:"\ud83c\uddf7\ud83c\uddfa",ioc:"RUS",languages:["rus"],name:"Russian Federation",status:"assigned"},{alpha2:"RW",alpha3:"RWA",countryCallingCodes:["+250"],currencies:["RWF"],emoji:"\ud83c\uddf7\ud83c\uddfc",ioc:"RWA",languages:["eng","fra","kin"],name:"Rwanda",status:"assigned"},{alpha2:"SA",alpha3:"SAU",countryCallingCodes:["+966"],currencies:["SAR"],emoji:"\ud83c\uddf8\ud83c\udde6",ioc:"KSA",languages:["ara"],name:"Saudi Arabia",status:"assigned"},{alpha2:"SB",alpha3:"SLB",countryCallingCodes:["+677"],currencies:["SBD"],emoji:"\ud83c\uddf8\ud83c\udde7",ioc:"SOL",languages:["eng"],name:"Solomon Islands",status:"assigned"},{alpha2:"SC",alpha3:"SYC",countryCallingCodes:["+248"],currencies:["SCR"],emoji:"\ud83c\uddf8\ud83c\udde8",ioc:"SEY",languages:["eng","fra"],name:"Seychelles",status:"assigned"},{alpha2:"SD",alpha3:"SDN",countryCallingCodes:["+249"],currencies:["SDG"],emoji:"\ud83c\uddf8\ud83c\udde9",ioc:"SUD",languages:["ara","eng"],name:"Sudan",status:"assigned"},{alpha2:"SE",alpha3:"SWE",countryCallingCodes:["+46"],currencies:["SEK"],emoji:"\ud83c\uddf8\ud83c\uddea",ioc:"SWE",languages:["swe"],name:"Sweden",status:"assigned"},{alpha2:"SG",alpha3:"SGP",countryCallingCodes:["+65"],currencies:["SGD"],emoji:"\ud83c\uddf8\ud83c\uddec",ioc:"SIN",languages:["eng","zho","msa","tam"],name:"Singapore",status:"assigned"},{alpha2:"SH",alpha3:"SHN",countryCallingCodes:["+290"],currencies:["SHP"],emoji:"\ud83c\uddf8\ud83c\udded",ioc:"",languages:["eng"],name:"Saint Helena, Ascension And Tristan Da Cunha",status:"assigned"},{alpha2:"SI",alpha3:"SVN",countryCallingCodes:["+386"],currencies:["EUR"],emoji:"\ud83c\uddf8\ud83c\uddee",ioc:"SLO",languages:["slv"],name:"Slovenia",status:"assigned"},{alpha2:"SJ",alpha3:"SJM",countryCallingCodes:["+47"],currencies:["NOK"],emoji:"\ud83c\uddf8\ud83c\uddef",ioc:"",languages:[],name:"Svalbard And Jan Mayen",status:"assigned"},{alpha2:"SK",alpha3:"SVK",countryCallingCodes:["+421"],currencies:["EUR"],emoji:"\ud83c\uddf8\ud83c\uddf0",ioc:"SVK",languages:["slk"],name:"Slovakia",status:"assigned"},{alpha2:"SK",alpha3:"SKM",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Sikkim",status:"deleted"},{alpha2:"SL",alpha3:"SLE",countryCallingCodes:["+232"],currencies:["SLL"],emoji:"\ud83c\uddf8\ud83c\uddf1",ioc:"SLE",languages:["eng"],name:"Sierra Leone",status:"assigned"},{alpha2:"SM",alpha3:"SMR",countryCallingCodes:["+378"],currencies:["EUR"],emoji:"\ud83c\uddf8\ud83c\uddf2",ioc:"SMR",languages:["ita"],name:"San Marino",status:"assigned"},{alpha2:"SN",alpha3:"SEN",countryCallingCodes:["+221"],currencies:["XOF"],emoji:"\ud83c\uddf8\ud83c\uddf3",ioc:"SEN",languages:["fra"],name:"Senegal",status:"assigned"},{alpha2:"SO",alpha3:"SOM",countryCallingCodes:["+252"],currencies:["SOS"],emoji:"\ud83c\uddf8\ud83c\uddf4",ioc:"SOM",languages:["som"],name:"Somalia",status:"assigned"},{alpha2:"SR",alpha3:"SUR",countryCallingCodes:["+597"],currencies:["SRD"],emoji:"\ud83c\uddf8\ud83c\uddf7",ioc:"SUR",languages:["nld"],name:"Suriname",status:"assigned"},{alpha2:"SS",alpha3:"SSD",countryCallingCodes:["+211"],currencies:["SSP"],emoji:"\ud83c\uddf8\ud83c\uddf8",ioc:"SSD",languages:["eng"],name:"South Sudan",status:"assigned"},{alpha2:"ST",alpha3:"STP",countryCallingCodes:["+239"],currencies:["STD"],emoji:"\ud83c\uddf8\ud83c\uddf9",ioc:"STP",languages:["por"],name:"Sao Tome and Principe",status:"assigned"},{alpha2:"SU",alpha3:"",countryCallingCodes:[],currencies:["RUB"],emoji:"",ioc:"",languages:["rus"],name:"USSR",status:"reserved"},{alpha2:"SV",alpha3:"SLV",countryCallingCodes:["+503"],currencies:["USD"],emoji:"\ud83c\uddf8\ud83c\uddfb",ioc:"ESA",languages:["spa"],name:"El Salvador",status:"assigned"},{alpha2:"SX",alpha3:"SXM",countryCallingCodes:["+1 721"],currencies:["ANG"],emoji:"\ud83c\uddf8\ud83c\uddfd",ioc:"",languages:["nld"],name:"Sint Maarten",status:"assigned"},{alpha2:"SY",alpha3:"SYR",countryCallingCodes:["+963"],currencies:["SYP"],emoji:"\ud83c\uddf8\ud83c\uddfe",ioc:"SYR",languages:["ara"],name:"Syrian Arab Republic",status:"assigned"},{alpha2:"SZ",alpha3:"SWZ",countryCallingCodes:["+268"],currencies:["SZL"],emoji:"\ud83c\uddf8\ud83c\uddff",ioc:"SWZ",languages:["eng","ssw"],name:"Swaziland",status:"assigned"},{alpha2:"TA",alpha3:"",countryCallingCodes:["+290"],currencies:["GBP"],emoji:"",ioc:"",languages:[],name:"Tristan de Cunha",status:"reserved"},{alpha2:"TC",alpha3:"TCA",countryCallingCodes:["+1 649"],currencies:["USD"],emoji:"\ud83c\uddf9\ud83c\udde8",ioc:"",languages:["eng"],name:"Turks And Caicos Islands",status:"assigned"},{alpha2:"TD",alpha3:"TCD",countryCallingCodes:["+235"],currencies:["XAF"],emoji:"\ud83c\uddf9\ud83c\udde9",ioc:"CHA",languages:["ara","fra"],name:"Chad",status:"assigned"},{alpha2:"TF",alpha3:"ATF",countryCallingCodes:[],currencies:["EUR"],emoji:"\ud83c\uddf9\ud83c\uddeb",ioc:"",languages:["fra"],name:"French Southern Territories",status:"assigned"},{alpha2:"TG",alpha3:"TGO",countryCallingCodes:["+228"],currencies:["XOF"],emoji:"\ud83c\uddf9\ud83c\uddec",ioc:"TOG",languages:["fra"],name:"Togo",status:"assigned"},{alpha2:"TH",alpha3:"THA",countryCallingCodes:["+66"],currencies:["THB"],emoji:"\ud83c\uddf9\ud83c\udded",ioc:"THA",languages:["tha"],name:"Thailand",status:"assigned"},{alpha2:"TJ",alpha3:"TJK",countryCallingCodes:["+992"],currencies:["TJS"],emoji:"\ud83c\uddf9\ud83c\uddef",ioc:"TJK",languages:["tgk","rus"],name:"Tajikistan",status:"assigned"},{alpha2:"TK",alpha3:"TKL",countryCallingCodes:["+690"],currencies:["NZD"],emoji:"\ud83c\uddf9\ud83c\uddf0",ioc:"",languages:["eng"],name:"Tokelau",status:"assigned"},{alpha2:"TL",alpha3:"TLS",countryCallingCodes:["+670"],currencies:["USD"],emoji:"\ud83c\uddf9\ud83c\uddf1",ioc:"TLS",languages:["por"],name:"Timor-Leste, Democratic Republic of",status:"assigned"},{alpha2:"TM",alpha3:"TKM",countryCallingCodes:["+993"],currencies:["TMT"],emoji:"\ud83c\uddf9\ud83c\uddf2",ioc:"TKM",languages:["tuk","rus"],name:"Turkmenistan",status:"assigned"},{alpha2:"TN",alpha3:"TUN",countryCallingCodes:["+216"],currencies:["TND"],emoji:"\ud83c\uddf9\ud83c\uddf3",ioc:"TUN",languages:["ara"],name:"Tunisia",status:"assigned"},{alpha2:"TO",alpha3:"TON",countryCallingCodes:["+676"],currencies:["TOP"],emoji:"\ud83c\uddf9\ud83c\uddf4",ioc:"TGA",languages:["eng"],name:"Tonga",status:"assigned"},{alpha2:"TP",alpha3:"TMP",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"East Timor",status:"deleted"},{alpha2:"TR",alpha3:"TUR",countryCallingCodes:["+90"],currencies:["TRY"],emoji:"\ud83c\uddf9\ud83c\uddf7",ioc:"TUR",languages:["tur"],name:"Turkey",status:"assigned"},{alpha2:"TT",alpha3:"TTO",countryCallingCodes:["+1 868"],currencies:["TTD"],emoji:"\ud83c\uddf9\ud83c\uddf9",ioc:"TTO",languages:["eng"],name:"Trinidad And Tobago",status:"assigned"},{alpha2:"TV",alpha3:"TUV",countryCallingCodes:["+688"],currencies:["AUD"],emoji:"\ud83c\uddf9\ud83c\uddfb",ioc:"TUV",languages:["eng"],name:"Tuvalu",status:"assigned"},{alpha2:"TW",alpha3:"TWN",countryCallingCodes:["+886"],currencies:["TWD"],emoji:"\ud83c\uddf9\ud83c\uddfc",ioc:"TPE",languages:["zho"],name:"Taiwan",status:"assigned"},{alpha2:"TZ",alpha3:"TZA",countryCallingCodes:["+255"],currencies:["TZS"],emoji:"\ud83c\uddf9\ud83c\uddff",ioc:"TAN",languages:["swa","eng"],name:"Tanzania, United Republic Of",status:"assigned"},{alpha2:"UA",alpha3:"UKR",countryCallingCodes:["+380"],currencies:["UAH"],emoji:"\ud83c\uddfa\ud83c\udde6",ioc:"UKR",languages:["ukr","rus"],name:"Ukraine",status:"assigned"},{alpha2:"UG",alpha3:"UGA",countryCallingCodes:["+256"],currencies:["UGX"],emoji:"\ud83c\uddfa\ud83c\uddec",ioc:"UGA",languages:["eng","swa"],name:"Uganda",status:"assigned"},{alpha2:"UK",alpha3:"",countryCallingCodes:[],currencies:["GBP"],emoji:"",ioc:"",languages:["eng","cor","gle","gla","cym"],name:"United Kingdom",status:"reserved"},{alpha2:"UM",alpha3:"UMI",countryCallingCodes:["+1"],currencies:["USD"],emoji:"\ud83c\uddfa\ud83c\uddf2",ioc:"",languages:["eng"],name:"United States Minor Outlying Islands",status:"assigned"},{alpha2:"UY",alpha3:"URY",countryCallingCodes:["+598"],currencies:["UYU","UYI"],emoji:"\ud83c\uddfa\ud83c\uddfe",ioc:"URU",languages:["spa"],name:"Uruguay",status:"assigned"},{alpha2:"UZ",alpha3:"UZB",countryCallingCodes:["+998"],currencies:["UZS"],emoji:"\ud83c\uddfa\ud83c\uddff",ioc:"UZB",languages:["uzb","rus"],name:"Uzbekistan",status:"assigned"},{alpha2:"VA",alpha3:"VAT",countryCallingCodes:["+379","+39"],currencies:["EUR"],emoji:"\ud83c\uddfb\ud83c\udde6",ioc:"",languages:["ita"],name:"Vatican City State",status:"assigned"},{alpha2:"VC",alpha3:"VCT",countryCallingCodes:["+1 784"],currencies:["XCD"],emoji:"\ud83c\uddfb\ud83c\udde8",ioc:"VIN",languages:["eng"],name:"Saint Vincent And The Grenadines",status:"assigned"},{alpha2:"VD",alpha3:"VDR",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Viet-Nam, Democratic Republic of",status:"deleted"},{alpha2:"VE",alpha3:"VEN",countryCallingCodes:["+58"],currencies:["VEF"],emoji:"\ud83c\uddfb\ud83c\uddea",ioc:"VEN",languages:["spa"],name:"Venezuela, Bolivarian Republic Of",status:"assigned"},{alpha2:"VG",alpha3:"VGB",countryCallingCodes:["+1 284"],currencies:["USD"],emoji:"\ud83c\uddfb\ud83c\uddec",ioc:"IVB",languages:["eng"],name:"Virgin Islands (British)",status:"assigned"},{alpha2:"VI",alpha3:"VIR",countryCallingCodes:["+1 340"],currencies:["USD"],emoji:"\ud83c\uddfb\ud83c\uddee",ioc:"ISV",languages:["eng"],name:"Virgin Islands (US)",status:"assigned"},{alpha2:"VN",alpha3:"VNM",countryCallingCodes:["+84"],currencies:["VND"],emoji:"\ud83c\uddfb\ud83c\uddf3",ioc:"VIE",languages:["vie"],name:"Viet Nam",status:"assigned"},{alpha2:"VU",alpha3:"VUT",countryCallingCodes:["+678"],currencies:["VUV"],emoji:"\ud83c\uddfb\ud83c\uddfa",ioc:"VAN",languages:["bis","eng","fra"],name:"Vanuatu",status:"assigned"},{alpha2:"WF",alpha3:"WLF",countryCallingCodes:["+681"],currencies:["XPF"],emoji:"\ud83c\uddfc\ud83c\uddeb",ioc:"",languages:["fra"],name:"Wallis And Futuna",status:"assigned"},{alpha2:"WK",alpha3:"WAK",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Wake Island",status:"deleted"},{alpha2:"WS",alpha3:"WSM",countryCallingCodes:["+685"],currencies:["WST"],emoji:"\ud83c\uddfc\ud83c\uddf8",ioc:"SAM",languages:["eng","smo"],name:"Samoa",status:"assigned"},{alpha2:"XK",alpha3:"",countryCallingCodes:["+383"],currencies:["EUR"],emoji:"",ioc:"KOS",languages:["sqi","srp","bos","tur","rom"],name:"Kosovo",status:"user assigned"},{alpha2:"YD",alpha3:"YMD",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Yemen, Democratic",status:"deleted"},{alpha2:"YE",alpha3:"YEM",countryCallingCodes:["+967"],currencies:["YER"],emoji:"\ud83c\uddfe\ud83c\uddea",ioc:"YEM",languages:["ara"],name:"Yemen",status:"assigned"},{alpha2:"YT",alpha3:"MYT",countryCallingCodes:["+262"],currencies:["EUR"],emoji:"\ud83c\uddfe\ud83c\uddf9",ioc:"",languages:["fra"],name:"Mayotte",status:"assigned"},{alpha2:"YU",alpha3:"YUG",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Yugoslavia",status:"deleted"},{alpha2:"ZA",alpha3:"ZAF",countryCallingCodes:["+27"],currencies:["ZAR"],emoji:"\ud83c\uddff\ud83c\udde6",ioc:"RSA",languages:["afr","eng","nbl","som","tso","ven","xho","zul"],name:"South Africa",status:"assigned"},{alpha2:"ZM",alpha3:"ZMB",countryCallingCodes:["+260"],currencies:["ZMW"],emoji:"\ud83c\uddff\ud83c\uddf2",ioc:"ZAM",languages:["eng"],name:"Zambia",status:"assigned"},{alpha2:"ZR",alpha3:"ZAR",countryCallingCodes:[],currencies:[],ioc:"",languages:[],name:"Zaire",status:"deleted"},{alpha2:"ZW",alpha3:"ZWE",countryCallingCodes:["+263"],currencies:["USD","ZAR","BWP","GBP","EUR"],emoji:"\ud83c\uddff\ud83c\uddfc",ioc:"ZIM",languages:["eng","sna","nde"],name:"Zimbabwe",status:"assigned"}],_e=n("wEy/"),ke=n.n(_e),Se=n("50DI"),Ae=n.n(Se),Ie=n("I0Vl"),Re=n("aR35"),Te=n("QPBi"),Fe=function(){function t(t,e,n,i){var o=this;this.sessionService=t,this.nodeApi=e,this.translationService=n,this.permissionsService=i,this.activeTabUpdated=new Pe.a(1),this.generalSettingsUpdated=new Pe.a(1),this.lockerSelected=new Pe.a(1),this.passwordLockerAppSelected=new Pe.a(1),this.securityIndexChanged=new Pe.a(1),this.tabsUpdated=new Pe.a(1),this.tabPageChanged=new Pe.a,this.titleUpdated=new Pe.a,this.unlinkModal=new de.a({open:!1}),this.defaultTabs=[{id:1,title:"General"},{id:2,title:"Theme"},{id:3,title:"Passwords"},{id:5,title:"Sign-In"},{id:7,title:"Recovery"},{id:6,title:"Security"}],this.tabs=this.defaultTabs,this.subscriptions=[],this.avatarUpdated=new m.a,this.phoneList=ne()(Me,(function(t){return"deleted"!==t.status&&t.countryCallingCodes.length>0})).map((function(t){return t.countryCallingCodes[0].replace(/\s+/g,"")})),this.tabsUpdated.next(this.tabs),this.subscriptions[0]=this.sessionService.settingsUpdated.subscribe((function(t){o.settings=t,o.setTabs()})),this.subscriptions[1]=this.generalSettingsUpdated.subscribe((function(t){o.setTabs(),o.setActiveLang(t)})),this.subscriptions[2]=this.sessionService.gwsTokenSet.subscribe((function(){return o.getGeneralSettings()})),this.subscriptions[3]=n.selectTranslateObject("myProfile.header").subscribe((function(t){o.translationObject=t,o.setTranslatedTitles()})),this.subscriptions[4]=this.permissionsService.permissionsSub.subscribe((function(t){o.permissions=t,o.setTabs()}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getGeneralSettings=function(){var t=this;this.nodeApi.getGeneralSettings().subscribe((function(e){t.generalSettings=e,t.generalSettingsUpdated.next(e)}))},t.prototype.setActiveLang=function(t){var e=this;(this.languages?Object(v.a)(this.languages):this.nodeApi.getLanguages()).subscribe((function(n){e.languages=n;var i=Ce()(e.languages,(function(e){return e.LanguageId===t.LanguageId}));i?e.translationService.getActiveLang()!==i.ShortName&&(e.translationService.setActiveLang(i.ShortName),document.documentElement.lang=i.ShortName):(e.translationService.setActiveLang("en"),document.documentElement.lang="en")}))},t.prototype.setTabs=function(){if(this.generalSettings&&this.permissions&&this.settings){var t=this.generalSettings,e=Object(le.e)(this.defaultTabs);if(e[1].title=4===this.settings.customUISettings.theme?"UI Settings":"Theme",this.settings.userInfo.isImpersonated&&this.permissions?(!this.permissions.tenantPermissions[Ie.a.PasswordLockerImp]&&this.settings.tenantSettings.showPasswordLocker||ke()(e,(function(t){return 3===t.id})),this.permissions.tenantPermissions[Ie.a.SignInTabImp]||ke()(e,(function(t){return 5===t.id})),this.permissions.tenantPermissions[Ie.a.SecurityTabImp]||ke()(e,(function(t){return 6===t.id})),this.permissions.tenantPermissions[Ie.a.RecoveryTabImp]||ke()(e,(function(t){return 7===t.id}))):this.settings.userInfo.isImpersonated||this.generalSettings.EnablePasswordOptions||Re.a.demoTenants.includes(this.generalSettings.TenantId)||ke()(e,(function(t){return 7===t.id})),Re.a.demoTenants.includes(this.generalSettings.TenantId)||8!==this.generalSettings.UserType&&7!==this.generalSettings.UserType||ke()(e,(function(t){return 7===t.id})),t.IsEnableAutoLaunch){var n=ve()(e,(function(t){return 3===t.id}));e.splice(-1===n?2:3,0,{id:4,title:"Auto Launch"})}this.tabs=e,this.setTranslatedTitles()}},t.prototype.setTranslatedTitles=function(){var t=this;this.tabs&&this.translationObject&&this.settings&&(this.tabs.forEach((function(e){var n=1===e.id?"general":2===e.id?t.settings.customUISettings&&4===t.settings.customUISettings.theme?"uiSettings":"theme":3===e.id?"passwords":4===e.id?"autoLaunch":5===e.id?"signIn":6===e.id?"security":"recovery";e.title=t.translationObject[n]||Ae()(n)})),this.tabsUpdated.next(this.tabs))},t.prototype.setTabById=function(t){var e=Ce()(this.tabs,(function(e){return e.id===t}));this.activeTabUpdated.next(e)},t.prototype.isPasswordLockerApp=function(t){return t.appId},t.prototype.decryptResponse=function(t){var e=Object(Oe.MD5)(this.sessionService.getGwsToken());return Oe.AES.decrypt(t,e.toString()).toString(Oe.enc.Utf8)},t.prototype.guessParseNumber=function(t){var e={countryCode:"+1",number:""};if(!t)return e;for(var n=function(n){var o=t.substring(0,n),r=Ce()(i.phoneList,(function(t){return t===o}));if(r)return e.countryCode=r,e.number=t.substring(n),"break"},i=this,o=4;o>=1&&"break"!==n(o);o--);return e},t.\u0275fac=function(e){return new(e||t)(c.Wb(ae.a),c.Wb(Qt.a),c.Wb(Te.f),c.Wb(Ie.b))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Ee=n("fKih"),De=n("iVvR"),Le=n("/w9J"),Ne=n.n(Le),He=n("tk/3"),Ge=function(t){function e(e){var n=t.call(this,e)||this;return n.endpointPrefix="/v1/tags",n}return Object(le.c)(e,t),e.prototype.getTags=function(){return this.generateRequest("get",this.generateRequestUrl(""+this.endpointPrefix,null,Re.a.myAppsApiUrl),(function(t){return t.body.map((function(t){return t.name=Ne()(t.name),t}))}))},e.prototype.createTag=function(t){return this.generateRequest("post",this.generateRequestUrl(""+this.endpointPrefix,null,Re.a.myAppsApiUrl),this.basicDataMapFunction,{name:t})},e.prototype.updateTagAppsById=function(t,e){return this.generateRequest("post",this.generateRequestUrl(this.endpointPrefix+"/"+t,null,Re.a.myAppsApiUrl),this.basicDataMapFunction,{appIds:e})},e.prototype.updateTagNameById=function(t,e){return this.generateRequest("put",this.generateRequestUrl(this.endpointPrefix+"/"+t,null,Re.a.myAppsApiUrl),this.basicDataMapFunction,{name:e})},e.prototype.deleteTagById=function(t){return this.generateRequest("delete",this.generateRequestUrl(this.endpointPrefix+"/"+t,null,Re.a.myAppsApiUrl))},e.\u0275fac=function(t){return new(t||e)(c.Wb(He.b))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(De.a),Be=n("iDaS"),je=n("46Wp"),Ue=function(){function t(t,e,n,i){var o=this;this.permissionsService=t,this.appsService=e,this.sessionService=n,this.appsHelper=i,this.apps=[],this.subscriptions=[],this.isImpersonated=!1,this.subscriptions[0]=t.permissionsSub.subscribe((function(t){return o.permissions=t})),this.subscriptions[1]=n.userInfoUpdated.subscribe((function(t){return o.isImpersonated=t.isImpersonated})),this.subscriptions[2]=i.appsUpdated.subscribe((function(t){return o.apps=t.apps}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.showLaunchDisabled=function(t){return this.appsHelper.formPostAppTypes.includes(t.type)&&this.permissions.tenantPermissions[Ie.a.FormPostAppsImp]&&this.isImpersonated},t.\u0275fac=function(e){return new(e||t)(c.Wb(Ie.b),c.Wb(je.a),c.Wb(ae.a),c.Wb(Xt.a))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),ze=n("SxV6"),Ve=function(){function t(t,e,n,i,o,r,a,s,c,l,p,d,u,g){var h=this;this.nodeApi=t,this.favoritesHelper=e,this.appsHelper=n,this.translationHelper=i,this.slideoverService=o,this.appLibHelper=r,this.settingsHelper=a,this.myProfileHelper=s,this.sessionService=c,this.tagsService=l,this.tagsHelper=p,this.translocoService=d,this.formPostAppHelper=u,this.appsService=g,this.defaultMenuOptions={visible:!1,coordinates:{"top.px":0,"left.px":0},location:ce.App,app:void 0},this.changeMenuOptions=new de.a(this.defaultMenuOptions),this.appOptions=[{icon:"far fa-signal-stream",title:"launch",handler:function(){return h.launchApp()}},{icon:"far fa-rocket",title:"setAutoLaunch",handler:function(){return h.setAutoLaunch(!0)},isDisabled:function(){return h.isAutoLaunchDisabled()||h.isOutsideAutoLaunchLimit()}},{icon:"far fa-star",title:"addToFavorites",handler:function(){return h.addFavorite()},isDisabled:function(){return h.isAppFavorite()},color:"var(--color-primary)"},{icon:"far fa-folder",title:"addToFolder",isDisabled:function(){return h.isParentFolderLocked()},subMenuOptions:function(){return h.getFolderSubOptions()},templateName:"folders"},{icon:"far fa-tag",title:"appTags",subMenuOptions:function(){return h.getAppTagOptions()},templateName:"tags"},{icon:"far fa-key",title:"editPassword",handler:function(){return h.openPasswordLocker()},isDisabled:function(){return h.isUpdatePasswordDisabled()||h.settings.userInfo.isImpersonated}},{icon:"far fa-bug",title:"reportIssue",handler:function(){return h.openAppReport()},isDisabled:function(){return h.isReportAnIssueDisabled()}},{icon:"far fa-edit",title:"editCustom",isDisabled:function(){return h.isEditCustomAppDisabled()},handler:function(){return h.editCustomApp()}},{icon:"far fa-times",title:"removeApp",handler:function(){return h.confirmDeleteApp()},isDisabled:function(){return!h.appsHelper.canDeleteApp(h.currentOptions.app)}},{icon:"far fa-info-circle",title:"moreInfo",handler:function(){return h.showMoreInfo()}},{title:"",isDivider:!0}],this.appFolderOptions=[{icon:"far fa-edit",title:"editFolder",isDisabled:function(){return h.appsHelper.showFolderLock(h.currentOptions.app)},handler:function(){return h.editFolder()}},{icon:"far fa-times",title:"removeFolder",color:"var(--color-danger)",isDisabled:function(){return h.appsHelper.showFolderLock(h.currentOptions.app)},handler:function(){return h.confirmDeleteFolder()}},{title:"",isDivider:!0}],this.folderOptions=[{icon:"far fa-times",title:"removeFromFolder",color:"var(--color-danger)",isDisabled:function(){return h.activeFolder&&h.appsHelper.showFolderLock(h.activeFolder)},handler:function(){return h.removeFromFolder()}}],this.defaultOptions=[{icon:"far fa-sort-amount-up",title:"sortApps",subMenuOptions:[{title:"name",handler:function(){return h.sortApps(!0)},isSubOption:!0},{title:"type",handler:function(){return h.sortApps(!1)},isSubOption:!0}]},{icon:"far fa-plus",title:"addApp",handler:function(){return h.openAppLibrary()},isDisabled:function(){return!h.settings||h.settings.customUISettings.theme===Ee.a.Primary||!h.appLibraryStatus||!h.appLibraryStatus.appLibraryEnabled||h.settings.customUISettings.theme===Ee.a.Dynamic&&h.currentOptions.app&&0!==h.currentOptions.app.id&&h.appsHelper.showFolderLock(h.currentOptions.app)}},{icon:"far fa-folder-plus",title:"addFolder",handler:function(){return h.createFolder()}},{icon:"far fa-brush",title:"changeBackground",handler:function(){return h.openThemesTab()},isDisabled:function(){return!h.settings||h.settings.customUISettings.theme!==Ee.a.Default||!h.settings||!h.settings.userInfo.canSetWallpaper}}],this.dynamicSidenavOptions=[{icon:"far fa-folder-plus",title:"addFolder",handler:function(){h.appsHelper.editModeChanged.next(!0),h.appsHelper.toggleNewFolderInput.next(!0)}},{icon:"far fa-edit",title:"editFolder",isDisabled:function(){return h.appsHelper.showFolderLock(h.currentOptions.app)||0===h.currentOptions.app.id},handler:function(){return h.editFolder()}},{icon:"far fa-plus",title:"addApp",handler:function(){0===h.currentOptions.app.id?h.appLibHelper.isAllAppsSelected.next(!0):h.appsHelper.addAppsToFolder.next(h.currentOptions.app.id),h.openAppLibrary()},isDisabled:function(){return h.appsHelper.showFolderLock(h.currentOptions.app)||!h.settings||!h.appLibraryStatus||!h.appLibraryStatus.appLibraryEnabled}},{icon:"far fa-times",title:"removeFolder",color:"var(--color-danger)",isDisabled:function(){return h.appsHelper.showFolderLock(h.currentOptions.app)||0===h.currentOptions.app.id},handler:function(){return h.confirmDeleteFolder()}}],this.currentOptions=this.defaultMenuOptions,this.subscriptions=[],this.subscriptions[0]=e.favoritesUpdated.subscribe((function(t){return h.favorites=t})),this.subscriptions[1]=n.appsUpdated.subscribe((function(t){h.apps=t.apps,h.amountAutoLaunch=ne()(h.appsHelper.flattenApps(h.apps),(function(t){return t.user_auto_launch})).length})),this.subscriptions[2]=r.appLibraryStatusUpdated.subscribe((function(t){return h.appLibraryStatus=t})),this.subscriptions[3]=s.generalSettingsUpdated.subscribe((function(t){return h.generalSettings=t})),this.subscriptions[4]=n.activeFolderChanged.subscribe((function(t){return h.activeFolder=t})),this.subscriptions[5]=c.settingsUpdated.subscribe((function(t){return h.settings=t})),this.subscriptions[6]=p.tagsUpdated.subscribe((function(t){return h.tags=t}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getItems=function(t){switch(this.currentOptions=t,this.currentOptions.location){case ce.App:return this.getAppOptions();case ce.Favorite:return this.getFavoriteOptions();case ce.Folder:return this.getFolderOptions();case ce.Sidenav:return this.getSidenavOptions();default:return[]}},t.prototype.getDefaultOptions=function(){var t=he()(this.defaultOptions);return this.removeUnusedOptions(t)},t.prototype.getAppOptions=function(){var t=this,e=this.currentOptions.app,n=this.getDefaultOptions();if(!e)return n;var i=e.is_appfolder||e.is_folder?he()(this.appFolderOptions):he()(this.appOptions),o=this.favorites?this.favorites.map((function(t){return t.id})):[];return this.isAutoLaunchActive()&&(i[1]={title:"removeAutoLaunch",icon:"far fa-rocket",color:"var(--color-danger)",handler:function(){return t.setAutoLaunch(!1)},isDisabled:function(){return t.isAutoLaunchDisabled()}}),!o.includes(e.id)||e.is_folder||e.is_appfolder||(i[2]={title:"removeFavorite",icon:"far fa-star",color:"var(--color-danger)",handler:function(){return t.removeFavorite()}}),this.removeAndEvaluateOptions(i).concat(n)},t.prototype.getFavoriteOptions=function(){var t=this;return this.currentOptions.app?[{title:"removeFavorite",icon:"far fa-star",color:"var(--color-danger)",handler:function(){return t.removeFavorite()}}]:this.getDefaultOptions()},t.prototype.getFolderOptions=function(){var t=this,e=this.currentOptions.app;if(!e)return this.getDefaultOptions();var n=e.is_appfolder||e.is_folder?he()(this.appFolderOptions):he()(this.appOptions);if(n.splice.apply(n,Object(le.e)([-1,0],this.folderOptions)),this.isAutoLaunchActive()){var i=n.findIndex((function(t){return"setAutoLaunch"===t.title}));-1!==i&&(n[i]={title:"removeAutoLaunch",icon:"far fa-rocket",color:"var(--color-danger)",handler:function(){return t.setAutoLaunch(!1)},isDisabled:function(){return t.isAutoLaunchDisabled()}})}if((this.favorites?this.favorites.map((function(t){return t.id})):[]).includes(e.id)&&!e.is_folder&&!e.is_appfolder){var o=n.findIndex((function(t){return"addToFavorites"===t.title}));-1!==o&&(n[o]={title:"removeFavorite",icon:"far fa-star",color:"var(--color-danger)",handler:function(){return t.removeFavorite()}})}return Object(le.e)(this.removeAndEvaluateOptions(n),this.getDefaultOptions())},t.prototype.getSidenavOptions=function(){return this.currentOptions.app?Object(le.e)(this.dynamicSidenavOptions):this.getDefaultOptions()},t.prototype.getAppTagOptions=function(){var t=this;return this.tags.map((function(e){return{title:e.name,handler:function(){return t.addTagToApp(e)},isActive:function(){return e.apps.includes(t.currentOptions.app.id)}}}))},t.prototype.getFolderSubOptions=function(){var t=this;return this.apps?this.appsHelper.getAllUnlockedFolders(this.apps).map((function(e){return{icon:"fas fa-folder",title:e.name,color:e.color,handler:function(){return t.addToFolder(e)}}})):[]},t.prototype.evaluateSubOptions=function(t){return t.map((function(t){return t.subMenuOptions&&"function"==typeof t.subMenuOptions?(t.subMenuOptions=t.subMenuOptions(),t):t}))},t.prototype.removeUnusedOptions=function(t){for(var e=0;e<t.length;e++){var n=t[e];void 0!==n.isDisabled&&n.isDisabled()&&(t.splice(e,1),e--)}return 1===t.length&&t[0].isDivider?[]:t},t.prototype.removeAndEvaluateOptions=function(t){return this.evaluateSubOptions(this.removeUnusedOptions(t))},t.prototype.setAutoLaunch=function(t){var e=this;this.currentOptions.app.user_auto_launch=t,(!0===t?this.nodeApi.addAutoLaunch(this.currentOptions.app):this.nodeApi.removeAutoLaunch(this.currentOptions.app)).subscribe((function(n){e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.autoLaunch.autoLaunch",verb:"common."+(t?"added":"removed")}),e.appsHelper.appsUpdated.next({apps:e.apps,reload:!0})}))},t.prototype.launchApp=function(){this.appsHelper.launchApp(this.currentOptions.app,null,this.formPostAppHelper.showLaunchDisabled(this.currentOptions.app))},t.prototype.openPasswordLocker=function(){var t=this;this.appsService.isPasswordLockerApp(this.currentOptions.app.id).subscribe((function(e){e?t.slideoverService.myProfile.opened.next({id:3,tabPage:1,app:t.currentOptions.app}):(t.translationHelper.translateAndAddGrowl({severity:"warning",summary:"myProfile.passwords.cannotEditCredentials",detail:"myProfile.passwords.cannotEditCredentialsDetails"}),t.slideoverService.myProfile.opened.next({id:3,tabPage:0}))}))},t.prototype.openAppReport=function(){this.slideoverService.appReport.opened.next(this.currentOptions.app)},t.prototype.addFavorite=function(){this.favoritesHelper.favoriteAdded.next(this.currentOptions.app)},t.prototype.removeFavorite=function(){this.favoritesHelper.favoriteRemoved.next(this.currentOptions.app)},t.prototype.editCustomApp=function(){this.appsHelper.editCustomAppUpdated.next(this.currentOptions.app)},t.prototype.showMoreInfo=function(){this.appsHelper.appInfoVisible.next(this.currentOptions.app)},t.prototype.editFolder=function(){this.appsHelper.folderEdited.next(this.currentOptions.app),this.settings.customUISettings.theme===Ee.a.Dynamic?this.appsHelper.newFolderCreatorVisibleChanged.next(!0):this.appsHelper.folderCreatorVisibleChanged.next(!0)},t.prototype.confirmDeleteApp=function(){var t=this,e=this.translocoService.translate("common.delete"),n=this.translocoService.translate("contextMenu.appDeleteConfirmation");this.appsHelper.deleteConfirmationRequired.next({summary:e+" "+this.currentOptions.app.name+"?",detail:n,handler:function(){return t.deleteApp()}})},t.prototype.deleteApp=function(){var t=this;this.nodeApi.deleteApp(this.currentOptions.app).subscribe((function(e){Object(T.a)(300).subscribe((function(){t.appsService.getMyApps().pipe(Object(ze.a)()).subscribe((function(e){t.appsHelper.appsUpdated.next({apps:e,reload:!0}),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"common.app",verb:"common.deleted"})}))}))}))},t.prototype.confirmDeleteFolder=function(){var t=this,e=this.translocoService.translate("common.delete"),n=this.translocoService.translate("contextMenu.folderDeleteConfirmation");this.appsHelper.deleteConfirmationRequired.next({summary:e+" "+this.currentOptions.app.name+"?",detail:n,handler:function(){return t.removeFolder()}})},t.prototype.removeFolder=function(){var t=this;this.nodeApi.deleteFolder(this.currentOptions.app.id).pipe(Object(ze.a)()).subscribe((function(){var e;if(t.settings.customUISettings.theme===Ee.a.Dynamic){if(localStorage.getItem("newFoldersList")){var n=JSON.parse(localStorage.getItem("newFoldersList")),i=n.findIndex((function(e){return e.id===t.currentOptions.app.id}));i>=0&&n.splice(i,1),localStorage.setItem("newFoldersList",JSON.stringify(n))}t.appsHelper.folderRemoved.next(t.currentOptions.app)}var o=ve()(t.apps,(function(e){return e.id===t.currentOptions.app.id}));if(o>=0){var r=t.apps.splice(o,1);(e=t.apps).push.apply(e,r[0].apps),t.nodeApi.orderApps(t.apps).subscribe((function(){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"common.folder",verb:"common.deleted"}),t.settings.customUISettings.theme!==Ee.a.Dynamic?t.appsService.getMyApps().pipe(Object(ze.a)()).subscribe((function(e){t.appsHelper.appsUpdated.next({apps:e,reload:!0})})):t.appsHelper.appsUpdated.next({apps:t.apps,reload:!0})}),(function(){t.appsService.getMyApps().pipe(Object(ze.a)()).subscribe((function(e){t.appsHelper.appsUpdated.next({apps:e,reload:!0})}))}))}}))},t.prototype.removeFromFolder=function(){var t=this,e=ve()(this.activeFolder.apps,(function(e){return e.id===t.currentOptions.app.id}));this.activeFolder.apps.splice(e,1),this.apps.push(this.currentOptions.app),this.nodeApi.removeFromFolder(this.currentOptions.app).subscribe((function(e){t.appsHelper.appsUpdated.next({apps:t.apps,reload:!0}),t.nodeApi.orderApps(t.apps).subscribe((function(t){}))}))},t.prototype.openAppLibrary=function(){if(this.settings.customUISettings.theme===Ee.a.Dynamic){var t=this.appsHelper.isFolder(this.currentOptions.app)?this.currentOptions.app:this.appLibHelper.getAppFolder(this.currentOptions.app);0===t.id?this.appLibHelper.isAllAppsSelected.next(!0):this.appsHelper.addAppsToFolder.next(this.appsHelper.showFolderLock(t)?void 0:t.id)}this.slideoverService.appLibrary.opened.next(!0)},t.prototype.enableEditMode=function(){this.appsHelper.editModeChanged.next(!0)},t.prototype.openThemesTab=function(){this.slideoverService.myProfile.opened.next({id:2})},t.prototype.createFolder=function(){this.appsHelper.folderCreated.next(void 0),this.settings.customUISettings.theme===Ee.a.Dynamic?this.appsHelper.newFolderCreatorVisibleChanged.next(!0):this.appsHelper.folderCreatorVisibleChanged.next(!0)},t.prototype.addToFolder=function(t){var e=this,n=[];this.apps.forEach((function(t){if(t.id!==e.currentOptions.app.id)if(t.is_folder){var i=Object(le.a)(Object(le.a)({},t),{apps:t.apps.filter((function(t){return t.id!==e.currentOptions.app.id}))});n.push(i)}else n.push(t)}));var i=n.findIndex((function(e){return e.id===t.id}));i>=0&&n[i].apps.push(this.currentOptions.app),this.appsHelper.appsUpdated.next({apps:n,reload:!0}),this.nodeApi.addAppToFolder(this.currentOptions.app,t.id).subscribe((function(t){e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"common.app",verb:"growl.addedToFolder"}),e.nodeApi.orderApps(e.apps).subscribe((function(t){e.appsService.getMyApps().pipe(Object(ze.a)()).subscribe((function(t){e.settings.customUISettings.theme!==Ee.a.Dynamic&&e.appsHelper.appsUpdated.next({apps:t,reload:!0})}))}))}))},t.prototype.addTagToApp=function(t){var e,n,i=this,o=this.currentOptions.app.id;t.apps.includes(o)?(e=t.apps.filter((function(t){return t!==o})),n="removed"):(e=Object(le.e)(t.apps,[o]),n="added"),this.tagsService.updateTagAppsById(t.id,e).subscribe((function(t){i.tagsService.getTags().subscribe((function(t){return i.tagsHelper.tagsUpdated.next(t)})),i.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"common.tag",verb:"common."+n})}))},t.prototype.sortApps=function(t){var e=this,n=t?[function(t){return t.name.toLowerCase()}]:[function(t){return!(t.is_appfolder||t.is_folder)},function(t){return t.name.toLowerCase()}];this.apps=fe()(this.apps,n);var i=[];this.apps=this.apps.map((function(t){return t.is_folder||t.is_appfolder?(t.apps=fe()(t.apps,(function(t){return t.name.toLowerCase()})),i.push(e.nodeApi.orderApps(t.apps)),t):t})),i.push(this.nodeApi.orderApps(this.apps)),this.appsHelper.appsUpdated.next({apps:this.apps,reload:!0}),Object(ue.a)(i).subscribe((function(t){}))},t.prototype.isAutoLaunchActive=function(){return this.currentOptions.app&&(this.currentOptions.app.user_auto_launch||this.currentOptions.app.admin_auto_launch)},t.prototype.isAutoLaunchDisabled=function(){return this.currentOptions.app&&this.currentOptions.app.admin_auto_launch},t.prototype.isOutsideAutoLaunchLimit=function(){return!this.generalSettings||this.amountAutoLaunch>=this.generalSettings.AutoLaunchLimit},t.prototype.isUpdatePasswordDisabled=function(){return this.currentOptions.app&&15!==this.currentOptions.app.type&&9!==this.currentOptions.app.type||!this.settings.tenantSettings.showPasswordLocker&&this.settings.userInfo.isImpersonated},t.prototype.isEditCustomAppDisabled=function(){return 3!==this.currentOptions.app.source},t.prototype.isReportAnIssueDisabled=function(){return!this.settings},t.prototype.isParentFolderLocked=function(){var t=this;return!!Ce()(this.appsHelper.getAllLockedFolders(this.apps),(function(e){return!!Ce()(e.apps,(function(e){return e.id===t.currentOptions.app.id}))}))},t.prototype.isAppFavorite=function(){var t=this;return!!Ce()(this.favorites,(function(e){return e.id===t.currentOptions.app.id}))},t.\u0275fac=function(e){return new(e||t)(c.Wb(Qt.a),c.Wb(pe.a),c.Wb(Xt.a),c.Wb(Be.a),c.Wb(xe.a),c.Wb(we.a),c.Wb(re.a),c.Wb(Fe),c.Wb(ae.a),c.Wb(Ge),c.Wb(se.a),c.Wb(Te.f),c.Wb(Ue),c.Wb(je.a))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Ze=function(){function t(t,e){this.appRef=t,this.zone=e,this.handlers=[],this.idCounter=1}return t.prototype.registerMenu=function(t){var e=this.idCounter++;return this.handlers.push({id:e,handler:t,destroyed:!1}),e},t.prototype.unregisterMenu=function(t){null!=t&&(this.handlers[t-1].destroyed=!0)},t.prototype.closeAllOtherMenus=function(t){for(var e=0,n=this.handlers;e<n.length;e++){var i=n[e];i.id===t||i.destroyed||i.handler()}this.zone.isStable&&this.appRef.tick()},t.prototype.closeAllMenus=function(){for(var t=0,e=this.handlers;t<e.length;t++){var n=e[t];n.destroyed||n.handler()}this.zone.isStable&&this.appRef.tick()},t.\u0275fac=function(e){return new(e||t)(c.Wb(c.g),c.Wb(c.z))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),$e=n("mjEz"),We=n("Dqcb"),Je=function(){function t(t,e,n,i,o,r,a,s){var c=this;this.appsHelper=t,this.settingsHelper=e,this.nodeApi=n,this.layoutService=i,this.zone=o,this.sessionService=r,this.translationHelper=a,this.rendererFactory=s,this.targets=[],this.watchEvents=!1,this.scrollY={enabled:!1,interval:void 0,validEvent:!1,initialY:0,currentY:0,minScroll:0,maxScroll:0},this.scrollX={enabled:!1,timer:void 0},this.isDragging=!1,this.subscriptions=[],this.timerVal=250,document&&document.documentElement?(this.renderer=s.createRenderer(null,null),this.events={down:void 0,touchstart:void 0,move:void 0,touchmove:void 0,up:void 0,touchend:void 0,scroll:void 0},this.timerVal=this.supportsTouchEvents()?1e3:250,this.subscriptions[0]=r.settingsUpdated.subscribe((function(t){c.settings=t,t.customUISettings.theme===Ee.a.Primary||c.events.down?t.customUISettings.theme===Ee.a.Primary&&c.events.up&&c.unregisterListeners():c.registerListeners()}))):console.warn("Dragging not supported on this platform.")}return Object.defineProperty(t.prototype,"apps",{get:function(){return this.targets?this.targets.map((function(t){return t.app})):[]},enumerable:!1,configurable:!0}),t.prototype.ngOnDestroy=function(){Object(le.e)(Object.values(this.events),this.subscriptions,[this.scrollY.interval,this.scrollX.timer,this.folderTimer,this.dragInitTimer]).filter((function(t){return!!t&&!t.closed})).forEach((function(t){return t.unsubscribe()}))},t.prototype.setAppsContainer=function(t){this.containerElement=t},t.prototype.setDOMReferences=function(t){this.domAppReferences=t},t.prototype.setElements=function(t){this.targets=this.isElementRef(t)?t.map((function(t){return{element:t.element.nativeElement,app:t.app}})):t},t.prototype.supportsTouchEvents=function(){return"ontouchstart"in document.documentElement},t.prototype.registerListeners=function(){var t=this;this.events.down=Object(C.a)(document,"mousedown",{passive:!1,capture:!1}).subscribe((function(e){return t.onStartTimer(e)})),this.events.touchstart=Object(C.a)(document,"touchstart",{passive:!1,capture:!1}).subscribe((function(e){return t.onStartTimer(e)})),this.events.up=Object(C.a)(document,"mouseup").subscribe((function(e){return t.onMouseUp(e)})),this.events.touchend=Object(C.a)(document,"touchend").subscribe((function(e){return t.onMouseUp(e)}))},t.prototype.unregisterListeners=function(){var t=this;["down","touchstart","up","touchend"].forEach((function(e){t.events[e].unsubscribe(),t.events[e]=void 0}))},t.prototype.createMouseMoveListener=function(){var t=this;this.events.move=Object(C.a)(document,"mousemove").subscribe((function(e){return t.zone.runOutsideAngular((function(){return t.onMouseMove(e)}))})),this.events.touchmove=Object(C.a)(document,"touchmove").subscribe((function(e){return t.zone.runOutsideAngular((function(){return t.onMouseMove(e)}))})),this.scrollY.enabled&&this.containerElement&&(this.events.scroll=Object(C.a)(this.containerElement,"scroll",{passive:!0}).pipe(Object(E.a)((function(){return!0===t.scrollY.validEvent}))).subscribe((function(e){return t.zone.runOutsideAngular((function(){return t.onScroll()}))})))},t.prototype.destroyMouseMoveListener=function(){this.events.move.unsubscribe(),this.events.touchmove.unsubscribe(),this.events.scroll&&this.events.scroll.unsubscribe()},t.prototype.onAnyEvent=function(t){this.folderTimer&&this.folderTimer.unsubscribe(),t.stopPropagation(),"mousedown"!==t.type&&"touchstart"!==t.type&&"touchmove"!==t.type&&t.preventDefault()},t.prototype.resetAllContexts=function(){this.scrollY.interval&&this.scrollY.interval.unsubscribe(),this.scrollY={enabled:this.scrollY.enabled,interval:void 0,validEvent:!1,initialY:0,currentY:0,minScroll:0,maxScroll:this.containerElement.scrollHeight-this.containerElement.clientHeight},this.scrollX={enabled:this.scrollX.enabled,timer:void 0},this.moveContext={direction:void 0,prevCoordinates:void 0,originCoordinates:void 0,movedTargets:[],animatedTargets:[],timerWaited:!1,originalName:"",createdFolder:void 0},this.dragSource={index:-1,ele:void 0,clone:void 0,app:void 0},this.dragTarget={index:-1,ele:void 0,app:void 0}},t.prototype.onStartTimer=function(t){var e=this;$e.a.isInBoundingRect(this.CONTAINER_PROPS.rect,t)&&(this.dragInitTimer=Object(T.a)(this.timerVal).subscribe((function(){e.isDragging=!0,e.setWatch(),e.onMouseDown(t)})))},t.prototype.onMouseDown=function(t){var e=this;if($e.a.isTouchEvent(t)||0===t.button&&this.watchEvents){var n=t.path?t.path:$e.a.createPath(t.target);if(Ce()(n,(function(t){return t===e.containerElement}))){this.onAnyEvent(t),this.resetAllContexts();var i=Ce()(n,(function(t){return t.classList&&t.classList.contains("cl-app")}));this.findSource(i),this.dragSource.app&&this.initializeDragElement(t)}}},t.prototype.findSource=function(t){if(t)for(var e=0;e<this.targets.length;e++){var n=this.targets[e];if(t===n.element){this.dragSource={index:e,ele:n.element,app:n.app,clone:void 0};break}}},t.prototype.initializeDragElement=function(t){var e=this;this.scrollY.initialY=this.scrollY.currentY=this.containerElement.scrollTop,this.moveContext.originCoordinates=$e.a.isTouchEvent(t)?{x:t.touches[0].clientX,y:t.touches[0].clientY}:{x:t.clientX,y:t.clientY},this.createMouseMoveListener();var n=this.dragSource.ele,i=this.convertIndexToCoordinates(this.dragSource.index),o=n.cloneNode(!0),r=this.containerElement.classList.contains("modal-main-content")?399:201;this.renderer.appendChild(document.body,o),this.renderer.setStyle(n,"transition","none"),this.renderer.setStyle(n,"opacity","0"),this.renderer.addClass(o,"hide-name"),this.renderer.addClass(o,"dragging"),this.renderer.setStyle(o,"position","fixed"),this.renderer.setStyle(o,"top",i.y-this.containerElement.scrollTop+"px"),this.renderer.setStyle(o,"left",i.x+"px"),this.renderer.setStyle(o,"transition","none"),this.renderer.setStyle(o,"transform","translate3d(0, 0, 0)"),this.renderer.setStyle(o,"z-index",r),this.targets.filter((function(t){return e.appsHelper.showFolderLock(t.app)})).map((function(t){return t.element})).forEach((function(t){return e.renderer.addClass(t,"show-locked")})),this.targets.forEach((function(t){return e.renderer.addClass(t.element,"no-select")})),this.dragSource.clone=o},t.prototype.onMouseMove=function(t){if(($e.a.isTouchEvent(t)||this.watchEvents)&&this.dragSource&&this.dragSource.ele){var e=this.getCoordinatesFromEvent(t),n=e.x,i=e.y;this.onAnyEvent(t),this.updateElementPosition(n,i),this.handleMouseMove(t)}},t.prototype.getDeltas=function(t,e){return{x:t-this.moveContext.originCoordinates.x,y:e+0-this.moveContext.originCoordinates.y}},t.prototype.updateElementPosition=function(t,e){this.moveContext.prevCoordinates={x:t,y:e};var n=this.getDeltas(t,e);this.renderer.setStyle(this.dragSource.clone,"transform","translate3d("+n.x+"px, "+n.y+"px, 0)")},t.prototype.handleMouseMove=function(t){var e=this;this.scrollY.interval&&this.scrollY.interval.unsubscribe(),this.scrollX.timer&&this.scrollX.timer.unsubscribe();var n=this.getCoordinatesFromEvent(t),i=n.x,o=n.y;if(this.isOutOfBounds(i,o))return this.scrollY.enabled&&o>this.CONTAINER_PROPS.rect.bottom?this.scrollY.interval=Object(T.a)(0,25).subscribe((function(){return e.scrollContainer(!0,i,o)})):this.scrollY.enabled&&o<this.CONTAINER_PROPS.rect.top&&(this.scrollY.interval=Object(T.a)(0,25).subscribe((function(){return e.scrollContainer(!1,i,o)}))),void(this.scrollX.enabled&&i>this.CONTAINER_PROPS.rect.right?this.scrollX.timer=Object(T.a)(50).subscribe((function(){return e.checkScrollX(!0,i)})):this.scrollX.enabled&&i<this.CONTAINER_PROPS.rect.left&&(this.scrollX.timer=Object(T.a)(50).subscribe((function(){return e.checkScrollX(!1,i)}))));this.scrollY.validEvent=!0;var r=this.getTargetIndex(i,o);if(!(r<0||r>this.targets.length-1)){var a=this.getPercentOffset(i),s=this.targets[r],c=a<=this.thresholds[0]?"left":a>=this.thresholds[1]?"right":"center";if(!s||this.dragSource.index===r)return this.resetCreatedFolder(),this.resetTargetsCSS(),void(this.dragTarget=void 0);(this.dragTarget&&this.dragTarget.index!==r||this.moveContext.direction!==c)&&(this.resetCreatedFolder(),this.resetTargetsCSS()),this.moveContext.direction=c,this.dragTarget={index:r,ele:s.element,app:s.app},a<=this.thresholds[0]?this.createMoveEffect(r,!0):a>=this.thresholds[1]?this.createMoveEffect(r,!1):this.folderTimer=Object(T.a)(350).subscribe((function(){return e.onMoveToFolder()}))}},t.prototype.onMouseUp=function(t){if(this.dragInitTimer&&this.dragInitTimer.unsubscribe(),($e.a.isTouchEvent(t)||this.watchEvents)&&this.dragSource&&this.dragSource.ele)if(this.onAnyEvent(t),this.isDragging=!1,this.setWatch(),!this.dragSource.ele||this.dragTarget&&this.dragTarget.ele)if("center"===this.moveContext.direction&&this.moveContext.timerWaited)this.moveContext.createdFolder?this.createFolder():!this.appsHelper.isFolder(this.dragTarget.app)||this.appsHelper.isFolder(this.dragSource.app)||this.appsHelper.showFolderLock(this.dragTarget.app)?this.appsHelper.isFolder(this.dragTarget.app)&&!this.appsHelper.isFolder(this.dragSource.app)&&this.appsHelper.showFolderLock(this.dragTarget.app)?(this.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.cantAddApp",detail:"error.cantAddAppDetail"}),this.cleanUpDrag()):this.cleanUpDrag():this.addToFolder();else{if("center"===this.moveContext.direction&&!this.moveContext.timerWaited)return void this.cleanUpDrag();this.handleReorder()}else this.cleanUpDrag()},t.prototype.onScroll=function(){this.scrollY.currentY=this.containerElement.scrollTop},t.prototype.scrollContainer=function(t,e,n){var i=t?this.scrollY.currentY+10:this.scrollY.currentY-10;t&&i>=this.scrollY.maxScroll?i=this.scrollY.maxScroll:!t&&i<=this.scrollY.minScroll&&(i=this.scrollY.minScroll),i!==this.scrollY.currentY&&(this.scrollY.validEvent=!1,this.containerElement.scrollTo(0,i),this.scrollY.currentY=i)},t.prototype.cleanUpDrag=function(t){void 0===t&&(t=!1),this.folderTimer&&this.folderTimer.unsubscribe(),this.scrollY.interval&&this.scrollY.interval.unsubscribe(),this.resetSourceEffects(),this.resetTargetsCSS(),this.resetLockedFolders(),this.resetCreatedFolder(t),this.destroyMouseMoveListener(),this.dragSource=void 0,this.dragTarget=void 0},t.prototype.getMovedItemAnimation=function(t,e){var n=this.convertIndexToCoordinates(e);return{x:t.x-n.x,y:t.y-n.y+this.containerElement.scrollTop}},t.prototype.convertIndexToCoordinates=function(t){var e=this.settingsHelper.getAmountAppsPerRow(this.CONTAINER_PROPS.totalWidth),n=Math.floor(t%e),i=this.getItemFullWidth(),o=this.CONTAINER_PROPS.rect.left+n*i,r=Math.floor(t/e),a=this.getItemFullHeight();return{x:o,y:this.CONTAINER_PROPS.rect.top+r*a}},t.prototype.setSlidingElements=function(t,e,n,i){var o=this;void 0===i&&(i=!1),this.moveContext.animatedTargets=this.targets.slice(t,e).map((function(e,r){return{element:e.element,effect:o.getInverseTranslation(t+r,n,i)}}))},t.prototype.getInverseTranslation=function(t,e,n){var i=e?t:t+1,o=e?t+1:t;i=n?i-1:i,o=n?o-1:o;var r=this.settingsHelper.getAmountAppsPerRow(this.CONTAINER_PROPS.totalWidth),a=Math.floor(i/r),s=i%r,c=Math.floor(o/r);return"translate3d("+(s-o%r)*(this.APP_PROPS.width+2*this.APP_PROPS.marginX)+"px, "+(a-c)*(this.APP_PROPS.height+2*this.APP_PROPS.marginY)+"px, 0)"},t.prototype.getItemFullHeight=function(){return this.APP_PROPS.height+2*this.APP_PROPS.marginY},t.prototype.getItemFullWidth=function(){return this.APP_PROPS.width+2*this.APP_PROPS.marginX},t.prototype.getColumn=function(t){var e=this.getItemFullWidth();return Math.floor((t-this.CONTAINER_PROPS.rect.left)/e)},t.prototype.getRow=function(t){var e=this.getItemFullHeight();return Math.floor((this.containerElement.scrollTop+t-this.CONTAINER_PROPS.rect.top)/e)},t.prototype.applySlideEffect=function(){var t=this;requestAnimationFrame((function(){for(var e=0,n=t.moveContext.animatedTargets;e<n.length;e++){var i=n[e];t.renderer.setStyle(i.element,"transform",i.effect),t.renderer.setStyle(i.element,"transition","transform 0s")}requestAnimationFrame((function(){for(var e=0,n=t.moveContext.animatedTargets;e<n.length;e++){var i=n[e];t.renderer.setStyle(i.element,"transform",""),t.renderer.setStyle(i.element,"transition","")}}))}))},t.prototype.resetSourceEffects=function(){var t=this;if(this.dragSource.ele){this.moveContext.returnAnimation||!0===this.moveContext.forceNoAnimation||(this.moveContext.returnAnimation="translate3d(0, "+(this.scrollY.initialY-this.scrollY.currentY)+"px, 0)");var e=this.dragSource.clone;this.renderer.removeClass(e,"hide-name"),this.renderer.removeClass(e,"dragging"),this.applySourceMoveAnim(e);var n=this.dragSource.clone,i=this.dragSource.ele;Object(T.a)(350).subscribe((function(){t.renderer.removeChild(document.body,n),t.renderer.setStyle(i,"opacity",""),Object(T.a)(10).subscribe((function(){return t.renderer.setStyle(i,"transition","")}))}))}},t.prototype.applySourceMoveAnim=function(t){var e=this;requestAnimationFrame((function(){e.renderer.setStyle(t,"transition",""),e.renderer.setStyle(t,"transform",e.moveContext.returnAnimation)}))},t.prototype.resetTargetsCSS=function(){for(var t=0,e=this.moveContext.movedTargets;t<e.length;t++){var n=e[t];this.renderer.removeClass(n.element,"move-left"),this.renderer.removeClass(n.element,"move-right")}for(var i=0,o=this.moveContext.animatedTargets;i<o.length;i++)this.renderer.setStyle(o[i].element,"transition","");this.moveContext.movedTargets=[]},t.prototype.resetLockedFolders=function(){var t=this;this.targets.filter((function(e){return t.appsHelper.showFolderLock(e.app)})).map((function(t){return t.element})).forEach((function(e){return t.renderer.removeClass(e,"show-locked")})),this.targets.forEach((function(e){return t.renderer.removeClass(e.element,"no-select")}))},t.prototype.resetCreatedFolder=function(t){if(void 0===t&&(t=!1),this.dragSource.clone&&this.renderer.removeClass(this.dragSource.clone,"shrink"),this.moveContext.createdFolder){if(!t){var e=this.moveContext.createdFolder;e.is_folder=!1,e.apps=void 0,e.name=this.moveContext.originalName}this.moveContext.createdFolder=void 0,this.moveContext.originalName=void 0,this.moveContext.timerWaited=!1}},t.prototype.createMoveEffect=function(t,e){var n=this.targets[e?t-1:t],i=this.targets[e?t:t+1],o=this.moveContext.movedTargets.map((function(t){return t.app.id}));n&&n.element&&!o.includes(n.app.id)&&(this.renderer.addClass(n.element,"move-left"),this.moveContext.movedTargets.push(n)),i&&i.element&&!o.includes(i.app.id)&&(this.renderer.addClass(i.element,"move-right"),this.moveContext.movedTargets.push(i))},t.prototype.onMoveToFolder=function(){var t=this;this.moveContext.timerWaited=!0,"center"!==this.moveContext.direction||this.appsHelper.isFolder(this.dragSource.app)||this.appsHelper.showFolderLock(this.dragTarget.app)||(this.appsHelper.isFolder(this.dragTarget.app)||(this.moveContext.createdFolder=this.dragTarget.app,this.moveContext.originalName=this.dragTarget.app.name,this.dragTarget.app.apps=[this.dragTarget.app],this.dragTarget.app.name=this.getNewFolderName(),this.zone.run((function(){t.dragTarget.app.is_folder=!0}))),this.renderer.addClass(this.dragSource.clone,"shrink"))},t.prototype.handleReorder=function(){var t=this.dragSource.index,e=this.dragTarget.index;this.targets.splice(t,1),this.domAppReferences.splice(t,1);var n,i=t>e;i?(n="left"===this.moveContext.direction?this.dragTarget.index:this.dragTarget.index+1,this.setSlidingElements(this.dragTarget.index,this.dragSource.index,i)):this.setSlidingElements(this.dragSource.index,n="left"===this.moveContext.direction?this.dragTarget.index-1:this.dragTarget.index,i),this.targets.splice(n,0,{element:this.dragSource.ele,app:this.dragSource.app}),this.domAppReferences.splice(n,0,this.dragSource.app);var o=this.dragSource.clone.getBoundingClientRect(),r=this.getDeltas(this.moveContext.prevCoordinates.x,this.moveContext.prevCoordinates.y),a=this.getMovedItemAnimation({x:o.left,y:o.top},n);this.moveContext.returnAnimation="translate3d("+(r.x-a.x)+"px, "+(r.y-a.y)+"px, 0)",this.applySlideEffect(),this.reorderApi(t,n),this.cleanUpDrag()},t.prototype.getNewFolderName=function(){for(var t,e="New Folder",n=2;void 0===t;)Ce()(this.apps,(function(t){return t.name===e}))?e=e.includes("(")?e.replace(/(New Folder \()(\d*)(\))/g,"$1"+n+++"$3"):"New Folder (1)":t=e;return t},t.prototype.isElementRef=function(t){return t[0]&&t[0].element instanceof c.l},t.prototype.getCoordinatesFromEvent=function(t){return $e.a.isTouchEvent(t)?{x:t.touches[0].clientX,y:t.touches[0].clientY}:{x:t.clientX,y:t.clientY}},t.prototype.getContainerRef=function(){return this.containerElement},t.\u0275fac=function(e){return new(e||t)(c.Wb(Xt.a),c.Wb(re.a),c.Wb(Qt.a),c.Wb(We.G),c.Wb(c.z),c.Wb(ae.a),c.Wb(Be.a),c.Wb(c.F))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),qe=function(t){function e(e,n,i,o,r,a,s,c,l,p){var d=t.call(this,e,n,i,o,r,a,s,c)||this;return d.appsService=p,d.appFilter="",d.isEditMode=!1,d.scrollY.enabled=!0,d.scrollX.enabled=!1,d.CONTAINER_PROPS={rect:{top:0,left:0,bottom:0,right:0},totalWidth:window.innerWidth-60},d.APP_PROPS={width:143,height:165,marginY:5,marginX:5},d.thresholds=[30,70],d.subscriptions[1]=e.editModeChanged.subscribe((function(t){d.isEditMode=t,d.setBoundaries(),d.setWatch()})),d.subscriptions[2]=e.filterUpdate.subscribe((function(t){d.appFilter=t,d.setWatch()})),d.subscriptions[3]=e.appsUpdated.subscribe((function(t){return d.allApps=t.apps})),d.subscriptions[4]=a.settingsUpdated.subscribe((function(t){d.setAppProperties(),d.setBoundaries()})),d.subscriptions[5]=o.windowResized.subscribe((function(){d.setBoundaries()})),d.subscriptions[6]=n.sidenavCollapseChanged.subscribe((function(){d.setAppProperties(),d.setBoundaries()})),d.subscriptions[7]=l.tagFilterUpdated.subscribe((function(t){d.tagFilter=t,d.setWatch()})),d}return Object(le.c)(e,t),e.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},e.prototype.setWatch=function(){this.watchEvents=this.isDragging&&!this.tagFilter&&""===this.appFilter.trim()},e.prototype.checkScrollX=function(){},e.prototype.setElements=function(e){t.prototype.setElements.call(this,e),this.setBoundaries()},e.prototype.setBoundaries=function(){if(this.containerElement){var t=this.settingsHelper.getSidenavWidth(),e=this.settingsHelper.getScrollBarWidth();this.CONTAINER_PROPS.totalWidth=window.innerWidth-50-e-t,this.CONTAINER_PROPS.rect.top=this.settings.customUISettings.theme===Ee.a.Professional?81:this.isEditMode?100:50,this.CONTAINER_PROPS.rect.left=t+25,this.CONTAINER_PROPS.rect.right=window.innerWidth-25-e,this.CONTAINER_PROPS.rect.bottom=window.innerHeight-this.settingsHelper.getFavoritesBarDeadSpace(),this.APP_PROPS.marginX=this.settingsHelper.getCurrentMarginSpace(this.CONTAINER_PROPS.totalWidth)}},e.prototype.setAppProperties=function(){this.APP_PROPS.width=this.settingsHelper.getCurrentAppWidth(),this.APP_PROPS.height=this.settingsHelper.getCurrentAppHeight(),this.APP_PROPS.marginX=this.settingsHelper.getCurrentMarginSpace(window.innerWidth-50-this.settingsHelper.getScrollBarWidth()),this.APP_PROPS.marginY=5},e.prototype.createFolder=function(){var t=this,e=this.domAppReferences[this.dragTarget.index];e.name=this.dragTarget.app.name,e.apps=[this.dragSource.app,this.dragTarget.app],e.is_folder=!0,this.domAppReferences.splice(this.dragSource.index,1),this.moveContext.forceNoAnimation=!0,this.renderer.setStyle(this.dragSource.clone,"opacity",0),this.setSlidingElements(this.dragSource.index,this.targets.length,!1,!0),this.applySlideEffect(),this.nodeApi.createFolder(this.dragTarget.app.name,this.dragTarget.app.apps).subscribe((function(n){e.apps=[t.dragSource.app,t.dragTarget.app],e.name=n.name,e.id=n.id,e.is_folder=!0,t.reorderApi(),t.cleanUpDrag(!0)}),(function(){t.cleanUpDrag()}))},e.prototype.addToFolder=function(){var t=this;this.domAppReferences[this.dragTarget.index].apps.push(this.dragSource.app),this.domAppReferences.splice(this.dragSource.index,1),this.moveContext.forceNoAnimation=!0,this.renderer.setStyle(this.dragSource.clone,"opacity",0),this.setSlidingElements(this.dragSource.index,this.targets.length,!1,!0),this.applySlideEffect(),this.nodeApi.addAppToFolder(this.dragSource.app,this.dragTarget.app.id).subscribe((function(){t.reorderApi(),t.cleanUpDrag()}),(function(){t.cleanUpDrag()}))},e.prototype.reorderApi=function(){var t=this;this.nodeApi.orderApps(this.apps).subscribe((function(){t.appsService.getMyApps().subscribe((function(e){t.appsHelper.appsUpdated.next({apps:e,reload:!1})}))}),(function(){t.cleanUpDrag()}))},e.prototype.getTargetIndex=function(t,e){if(!this.containerElement)return console.warn("No container found for drag-and-drop"),-1;var n=this.getColumn(t);return this.getRow(e)*this.settingsHelper.getAmountAppsPerRow(this.CONTAINER_PROPS.totalWidth)+n},e.prototype.getPercentOffset=function(t){var e=this.getItemFullWidth(),n=this.getColumn(t);return(t-this.CONTAINER_PROPS.rect.left-e*n)/e*100},e.prototype.isOutOfBounds=function(t,e){return t<this.CONTAINER_PROPS.rect.left||e<this.CONTAINER_PROPS.rect.top||t>this.CONTAINER_PROPS.rect.right||e>this.CONTAINER_PROPS.rect.bottom},e.\u0275fac=function(t){return new(t||e)(c.Wb(Xt.a),c.Wb(re.a),c.Wb(Qt.a),c.Wb(We.G),c.Wb(c.z),c.Wb(ae.a),c.Wb(Be.a),c.Wb(c.F),c.Wb(se.a),c.Wb(je.a))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(Je),Ke=n("R0Ic"),Ye=function(t){function e(e,n,i,o,r,a,s,c,l){var p=t.call(this,e,n,i,o,r,a,s,c)||this;return p.appsService=l,p.isEditMode=!1,p.scrollY.enabled=!0,p.scrollX.enabled=!1,p.CONTAINER_PROPS={rect:{top:0,left:0,bottom:0,right:0},totalWidth:.9*window.innerWidth-40},p.APP_PROPS={width:143,height:165,marginY:5,marginX:5},p.thresholds=[50,50],p.subscriptions[1]=a.settingsUpdated.subscribe((function(t){p.setAppProperties(),p.setBoundaries()})),p.subscriptions[2]=o.windowResized.subscribe((function(){p.setBoundaries()})),p.subscriptions[5]=n.sidenavCollapseChanged.subscribe((function(){p.setAppProperties(),p.setBoundaries()})),p.subscriptions[3]=e.editModeChanged.subscribe((function(t){p.isEditMode=t,p.setBoundaries()})),p}return Object(le.c)(e,t),e.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},e.prototype.setElements=function(e){t.prototype.setElements.call(this,e),this.setBoundaries()},e.prototype.setAppProperties=function(){var t=.9*(window.innerWidth-this.settingsHelper.getSidenavWidth())-40-this.settingsHelper.getScrollBarWidth();this.APP_PROPS.width=this.settingsHelper.getCurrentAppWidth(),this.APP_PROPS.height=this.settingsHelper.getCurrentAppHeight(),this.APP_PROPS.marginX=this.settingsHelper.getCurrentMarginSpace(t),this.APP_PROPS.marginY=5,this.settingsHelper.updateAppMarginRule(".app-folder-margin",t)},e.prototype.setBoundaries=function(){if(this.containerElement){var t=this.settingsHelper.getSidenavWidth(),e=this.settingsHelper.getScrollBarWidth(),n=this.settings.customUISettings.theme===Ee.a.Professional?61:50,i=this.settingsHelper.getFavoritesBarDeadSpace(),o=this.isEditMode&&this.settings.customUISettings.theme!==Ee.a.Professional?50:0;this.CONTAINER_PROPS.totalWidth=.9*(window.innerWidth-t)-40-e,this.CONTAINER_PROPS.rect.top=.05*(window.innerHeight-110-o)+n+100+o,this.CONTAINER_PROPS.rect.left=.05*(window.innerWidth-t)+20+t,this.CONTAINER_PROPS.rect.right=.95*(window.innerWidth-e)-20-e,this.CONTAINER_PROPS.rect.bottom=.95*(window.innerHeight-i)-20,this.APP_PROPS.marginX=this.settingsHelper.getCurrentMarginSpace(this.CONTAINER_PROPS.totalWidth)}},e.prototype.checkScrollX=function(){},e.prototype.createFolder=function(){},e.prototype.addToFolder=function(){},e.prototype.setWatch=function(){this.watchEvents=this.isDragging},e.prototype.reorderApi=function(){var t=this;this.nodeApi.orderApps(this.apps).subscribe((function(e){t.appsService.getMyApps().pipe(Object(ze.a)()).subscribe((function(e){t.appsHelper.appsUpdated.next({apps:e,reload:!0})}))}))},e.prototype.getTargetIndex=function(t,e){if(!this.containerElement)return console.warn("No container found for drag-and-drop"),-1;var n=this.getColumn(t);return this.getRow(e)*this.settingsHelper.getAmountAppsPerRow(this.CONTAINER_PROPS.totalWidth)+n},e.prototype.getPercentOffset=function(t){var e=this.getItemFullWidth(),n=this.getColumn(t);return(t-this.CONTAINER_PROPS.rect.left-e*n)/e*100},e.prototype.isOutOfBounds=function(t,e){return t<this.CONTAINER_PROPS.rect.left||e<this.CONTAINER_PROPS.rect.top||t>this.CONTAINER_PROPS.rect.right||e>this.CONTAINER_PROPS.rect.bottom},e.\u0275fac=function(t){return new(t||e)(c.Wb(Xt.a),c.Wb(re.a),c.Wb(Qt.a),c.Wb(We.G),c.Wb(c.z),c.Wb(ae.a),c.Wb(Be.a),c.Wb(c.F),c.Wb(je.a))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(Je),Qe=n("bNQv"),Xe=n.n(Qe),tn=n("K44+"),en=n("a9jo"),nn=n.n(en),on=function(){function t(t,e,n){var i=this;this.appsHelper=t,this.nodeApi=e,this.translationHelper=n,this.dragging$=new de.a(!1),this.draggingFromLockedFolder$=new de.a(!1),this.draggedApp$=new de.a(void 0),this.sourceFolder$=new de.a(void 0),this.targetFolder$=new de.a(void 0),this.apps=[],this.originalIndex=null,this.subscriptions=[],this.destroy$=new m.a,this.subscriptions.push(t.appsUpdated.pipe(Object(D.a)(this.destroy$)).subscribe((function(t){return i.apps=t.apps})))}return t.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},t.prototype.setIsDragging=function(t){var e,n,i,o,r=this;if(this.dragging$.next(!!t),this.draggedApp$.next(t),t){var a=this.getFolderFromApp(t);a||(a=this.generateAllAppsFolder()),this.sourceFolder$.next(a),this.draggingFromLockedFolder$.next(null==a?void 0:a.is_appfolder),this.originalIndex=a?null!==(n=null===(e=null==a?void 0:a.apps)||void 0===e?void 0:e.indexOf(t))&&void 0!==n?n:null:null!==(o=null===(i=this.apps)||void 0===i?void 0:i.filter((function(t){return!r.appsHelper.isFolder(t)})).indexOf(t))&&void 0!==o?o:null}},t.prototype.isDragging=function(){return this.dragging$.asObservable()},t.prototype.draggedApp=function(){return this.draggedApp$.asObservable()},t.prototype.isDraggingFromLockedFolder=function(){return this.draggingFromLockedFolder$.asObservable()},t.prototype.sourceFolder=function(){return this.sourceFolder$.asObservable()},t.prototype.setTargetFolder=function(t){this.targetFolder$.next(t)},t.prototype.targetFolder=function(){return this.targetFolder$.asObservable()},t.prototype.getFolderFromApp=function(t){var e=this;return this.apps.find((function(n){var i;return e.appsHelper.isFolder(n)&&(null===(i=n.apps)||void 0===i?void 0:i.some((function(e){return e.id===(null==t?void 0:t.id)})))}))},t.prototype.handleAppDrop=function(t,e){var n,i;this.setTargetFolder(e);var o=this.getClosestAppElement(t.clientX,t.clientY),r=this.getDropIndex(o,t.clientX);e.id===(null===(n=this.sourceFolder$.getValue())||void 0===n?void 0:n.id)&&r===this.originalIndex||((null==e?void 0:e.id)!==(null===(i=this.sourceFolder$.getValue())||void 0===i?void 0:i.id)?(null==e?void 0:e.id)?this.addAppToFolder(r):this.removeFromFolder(r):this.reorderFolder(this.draggedApp$.getValue(),r))},t.prototype.addAppToFolder=function(t){var e=this.draggedApp$.getValue();if(e&&this.canUpdateApp()){var n=this.targetFolder$.getValue();this.nodeApi.addAppToFolder(e,null==n?void 0:n.id).subscribe(),this.reorderFolder(e,t),this.animateNewPosition(t)}},t.prototype.removeFromFolder=function(t){var e=this.draggedApp$.getValue();e&&this.canUpdateApp()&&(this.nodeApi.removeFromFolder(e).subscribe(),this.reorderFolder(e,t),this.animateNewPosition(t))},t.prototype.reorderFolder=function(t,e){var n,i,o=this,r=this.apps.find((function(t){var e;return t.id===(null===(e=o.sourceFolder$.getValue())||void 0===e?void 0:e.id)}));r?r.apps=null===(n=r.apps)||void 0===n?void 0:n.filter((function(e){return e.id!==t.id})):this.apps=this.apps.filter((function(e){return e.id!==t.id}));var a=this.apps.find((function(t){var e;return t.id===(null===(e=o.targetFolder$.getValue())||void 0===e?void 0:e.id)}));if(-1===e)a?a.apps.push(t):this.apps.push(t);else if(a)a.apps.splice(e,0,t);else{var s=this.apps.filter((function(t){return!o.appsHelper.isFolder(t)}))[e];this.apps.splice(this.apps.indexOf(s),0,t)}this.appsHelper.appsUpdated.next({apps:this.apps,reload:!0}),this.nodeApi.orderApps(null!==(i=null==a?void 0:a.apps)&&void 0!==i?i:this.apps).subscribe((function(){o.cleanDrag()}))},t.prototype.animateNewPosition=function(t){var e=this.targetFolder$.getValue(),n=document.querySelector('.folder-container[data-id="'+(null==e?void 0:e.id)+'"] .dashboard-app:nth-child('+(t+1)+")");n&&(n.classList.add("fade-in"),setTimeout((function(){n.classList.remove("fade-in")}),600))},t.prototype.cleanDrag=function(){document.querySelectorAll(".dashboard-app.moving").forEach((function(t){return t.classList.remove("moving")}))},t.prototype.canUpdateApp=function(){var t=this.targetFolder$.getValue(),e=this.sourceFolder$.getValue();return!(!(null==t?void 0:t.id)&&!(null==e?void 0:e.id)||((null==t?void 0:t.is_appfolder)||(null==e?void 0:e.is_appfolder))&&(null==t?void 0:t.id)!==(null==e?void 0:e.id))||((null==t?void 0:t.is_appfolder)&&this.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.cantAddApp",detail:"error.cantAddAppDetail"}),(null==e?void 0:e.is_appfolder)&&this.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.cantRemoveAppFromFolder",detail:"error.cantRemoveAppFromFolderDetail"}),this.cleanDrag(),!1)},t.prototype.getDropIndex=function(t,e){var n,i,o,r;if(!t)return-1;var a=t.getBoundingClientRect(),s=a.left+a.width/2,c=Array.from(t.parentElement.children).indexOf(t);return e>=s&&(c+=1),(null===(i=null===(n=this.sourceFolder$)||void 0===n?void 0:n.getValue())||void 0===i?void 0:i.id)===(null===(r=null===(o=this.targetFolder$)||void 0===o?void 0:o.getValue())||void 0===r?void 0:r.id)&&null!==this.originalIndex&&c>this.originalIndex&&(c-=1),c},t.prototype.findClosestParent=function(t,e){for(;t;){if(t.classList&&t.classList.contains(e))return t;t=t.parentElement}return null},t.prototype.getClosestAppElement=function(t,e){var n,i=document.elementFromPoint(t,e),o="dashboard-app";if(null===(n=null==i?void 0:i.classList)||void 0===n?void 0:n.contains(o))return i;var r=this.findClosestParent(i,o);if(r)return r;var a=this.findClosestParent(i,"folder-container");if(!a)return null;var s=a.getElementsByClassName(o);if(0===s.length)return null;for(var c=null,l=s[0].getBoundingClientRect().width+24,p=0,d=Array.from(s);p<d.length;p++){var u=d[p],g=this.calculateDistanceToElement(u,t,e);g<l&&(l=g,c=u)}return c},t.prototype.calculateDistanceToElement=function(t,e,n){var i=t.getBoundingClientRect(),o=i.top+i.height/2;return Math.sqrt(Math.pow(i.left+i.width/2-e,2)+Math.pow(o-n,2))},t.prototype.generateAllAppsFolder=function(){var t=this,e={_id:"all_apps_folder",id:0,appfolder_id:0,name:"All Apps",is_folder:!0,is_appfolder:!1,apps:[],order:null,encid:null};return e.apps=this.apps.filter((function(e){return!t.appsHelper.isFolder(e)})),e},t.\u0275fac=function(e){return new(e||t)(c.Wb(Xt.a),c.Wb(Qt.a),c.Wb(Be.a))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),rn=n("9Fgp"),an=["application"],sn=["appNameRef"],cn=["newTooltip"];function ln(t,e){1&t&&(c.Sb(0,"span",12),c.cc(),c.Sb(1,"svg",13),c.Nb(2,"path",14),c.Rb(),c.Rb())}function pn(t,e){if(1&t&&(c.Sb(0,"div",15),c.Nb(1,"img",16),c.Rb()),2&t){var n=c.dc().$implicit,i=c.dc();c.Ab(1),c.kc("src","/assets/icons/star.svg",c.Ac)("alt",n("favoritedAlt"))("id",i.app.id+"_favorited")}}function dn(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",23),c.Zb("keydown.Enter",(function(t){return c.yc(n),t.stopPropagation()}))("click",(function(t){c.yc(n);var e=c.dc(3);return t.stopPropagation(),e.confirmDeleteApp()})),c.Nb(1,"i",24),c.Rb()}}function un(t,e){if(1&t&&(c.Sb(0,"span",25),c.cc(),c.Sb(1,"svg",26),c.Nb(2,"path",27),c.Rb(),c.Rb()),2&t){var n=c.dc(2).$implicit,i=c.dc();c.Ab(1),c.kc("id",i.app.id+"_autolaunch"),c.Bb("aria-label",n("autoLaunchLabel"))}}function gn(t,e){if(1&t&&(c.Sb(0,"span",28),c.cc(),c.Sb(1,"svg",29),c.Nb(2,"path",30),c.Rb(),c.Rb()),2&t){var n=c.dc(2).$implicit,i=c.dc();c.Ab(1),c.kc("id",i.app.id+"_locked"),c.Bb("aria-label",n("lockedLabel"))}}function hn(t,e){if(1&t&&(c.Sb(0,"span",31),c.cc(),c.Sb(1,"svg",26),c.Nb(2,"path",32),c.Rb(),c.Rb()),2&t){var n=c.dc(2).$implicit,i=c.dc();c.Ab(1),c.kc("id",i.app.id+"_twofactor"),c.Bb("aria-label",n("twoFactorLabel"))}}function bn(t,e){if(1&t&&(c.Sb(0,"span",33),c.cc(),c.Sb(1,"svg",26),c.Nb(2,"path",34),c.Rb(),c.Rb()),2&t){var n=c.dc(2).$implicit,i=c.dc();c.Ab(1),c.kc("id",i.app.id+"_disablelaunch"),c.Bb("aria-label",n("disableLaunchLabel"))}}function fn(t,e){if(1&t&&(c.Sb(0,"div",17),c.Gc(1,dn,2,0,"button",18),c.Gc(2,un,3,2,"span",19),c.Gc(3,gn,3,2,"span",20),c.Gc(4,hn,3,2,"span",21),c.Gc(5,bn,3,2,"span",22),c.Rb()),2&t){var n=c.dc(2);c.Ab(1),c.kc("ngIf",n.appsHelper.isEditMode()&&n.appsHelper.canDeleteApp(n.app)),c.Ab(1),c.kc("ngIf",n.appsHelper.showAutoLaunch(n.app)),c.Ab(1),c.kc("ngIf",n.appsHelper.showLock(n.app)),c.Ab(1),c.kc("ngIf",n.appsHelper.showTwoFactor(n.app)),c.Ab(1),c.kc("ngIf",n.formPostAppHelper.showLaunchDisabled(n.app))}}function mn(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",35),c.Zb("keydown.space",(function(t){c.yc(n);var e=c.dc(2);return t.stopPropagation(),e.openContextMenu(t)}))("keydown.enter",(function(t){c.yc(n);var e=c.dc(2);return t.stopPropagation(),e.openContextMenu(t)}))("click",(function(t){return c.yc(n),c.dc(2).openContextMenu(t)})),c.Rb()}if(2&t){var i=c.dc(2);c.Bb("aria-expanded",i.menuOpen)}}var vn=function(t){return{$implicit:t}};function yn(t,e){if(1&t&&c.Ob(0,41),2&t){c.dc(2);var n=c.vc(12),i=c.dc();c.kc("ngTemplateOutlet",n)("ngTemplateOutletContext",c.nc(2,vn,i.app))}}function Cn(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",42),c.Zb("keydown.space",(function(t){c.yc(n);var e=c.dc(3);return t.stopPropagation(),e.openContextMenu(t)}))("keydown.enter",(function(t){c.yc(n);var e=c.dc(3);return t.stopPropagation(),e.openContextMenu(t)}))("click",(function(t){return c.yc(n),c.dc(3).openContextMenu(t)})),c.cc(),c.Sb(1,"svg",43),c.Nb(2,"path",44),c.Rb(),c.Rb()}if(2&t){var i=c.dc(3);c.lc("tabindex",i.isHidden?"-1":"0"),c.Bb("aria-expanded",i.menuOpen)}}function xn(t,e){if(1&t&&(c.Sb(0,"div",36),c.Gc(1,yn,1,4,"ng-container",37),c.Sb(2,"div",38),c.Sb(3,"p",null,39),c.Ic(5),c.ec(6,"title"),c.Rb(),c.Gc(7,Cn,3,2,"button",40),c.Rb(),c.Rb()),2&t){var n=c.dc(2);c.Ab(1),c.kc("ngIf",n.isDynamicTheme&&!n.newDynamicTheme),c.Ab(4),c.Kc("",c.gc(6,3,n.app.name,n.isDynamicTheme?n.setAppNameLength():25)," "),c.Ab(2),c.kc("ngIf",n.isDynamicTheme&&!n.newDynamicTheme)}}var wn=function(t,e,n){return{invertPosition:t,"left-column":e,"right-column":n}};function Pn(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",45,46),c.Ob(3,41),c.Sb(4,"p"),c.Ic(5),c.Rb(),c.Sb(6,"button",47,48),c.Zb("click",(function(t){c.yc(n);var e=c.dc(2);return t.stopPropagation(),e.openAppMoreDetails(e.app)}))("keydown.Enter",(function(t){c.yc(n);var e=c.dc(2);return t.stopPropagation(),e.openAppMoreDetails(e.app)})),c.Sb(8,"p"),c.Nb(9,"i",49),c.Sb(10,"span"),c.Ic(11,"App Detail"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.dc().$implicit,o=c.vc(12),r=c.dc();c.Ab(1),c.Eb("invertPosition",r.newTooltipVisibility),c.kc("ngClass",c.pc(7,wn,r.newTooltipVisibility,r.appAtFirstColumn,r.appAtLastColumn)),c.Ab(2),c.kc("ngTemplateOutlet",o)("ngTemplateOutletContext",c.nc(11,vn,r.app)),c.Ab(2),c.Jc(r.app.name),c.Ab(1),c.Bb("aria-label",i("openAppDetails"))}}function On(t,e){1&t&&(c.Sb(0,"span",15),c.cc(),c.Sb(1,"svg",53),c.Nb(2,"path",54),c.Rb(),c.Rb())}function Mn(t,e){1&t&&(c.Sb(0,"span",25),c.cc(),c.Sb(1,"svg",55),c.Nb(2,"path",56),c.Rb(),c.Rb())}function _n(t,e){1&t&&(c.Sb(0,"span",28),c.cc(),c.Sb(1,"svg",57),c.Nb(2,"path",58),c.Rb(),c.Rb())}function kn(t,e){1&t&&(c.Sb(0,"span",59),c.cc(),c.Sb(1,"svg",60),c.Nb(2,"path",61),c.Rb(),c.Rb())}function Sn(t,e){1&t&&(c.Sb(0,"span",62),c.cc(),c.Sb(1,"svg",63),c.Nb(2,"path",64),c.Rb(),c.Rb())}function An(t,e){if(1&t&&(c.Sb(0,"div",50),c.Gc(1,On,3,0,"span",6),c.Gc(2,Mn,3,0,"span",19),c.Gc(3,_n,3,0,"span",20),c.Gc(4,kn,3,0,"span",51),c.Gc(5,Sn,3,0,"span",52),c.Rb()),2&t){var n=e.$implicit,i=c.dc(2);c.Ab(1),c.kc("ngIf",i.favoritesHelper.isFavorite(n)),c.Ab(1),c.kc("ngIf",i.appsHelper.showAutoLaunch(n)),c.Ab(1),c.kc("ngIf",i.appsHelper.showLock(n)),c.Ab(1),c.kc("ngIf",i.appsHelper.showTwoFactor(n)),c.Ab(1),c.kc("ngIf",i.appsHelper.showKey(n))}}function In(t,e){if(1&t){var n=c.Tb();c.Qb(0,null,1),c.Sb(2,"div",2),c.Sb(3,"div",3),c.Gc(4,ln,3,0,"span",4),c.Sb(5,"img",5),c.Zb("error",(function(t){return c.yc(n),c.dc().handleImage(t)})),c.Rb(),c.Rb(),c.Gc(6,pn,2,3,"div",6),c.Gc(7,fn,6,5,"div",7),c.Gc(8,mn,1,1,"button",8),c.Rb(),c.Gc(9,xn,8,6,"div",9),c.Gc(10,Pn,12,13,"ng-container",10),c.Gc(11,An,6,5,"ng-template",null,11,c.Hc),c.Pb()}if(2&t){var i=c.dc();c.Ab(4),c.kc("ngIf",!i.isDynamicTheme&&!i.newDynamicTheme&&i.appsHelper.showKey(i.app)),c.Ab(1),c.kc("src",i.selectIconImage(i.app),c.Ac),c.Ab(1),c.kc("ngIf",!i.isDynamicTheme&&!i.newDynamicTheme&&i.favoritesHelper.isFavorite(i.app)),c.Ab(1),c.kc("ngIf",!i.isDynamicTheme&&i.showFlags&&i.appsHelper.shouldShowFlags(i.app)),c.Ab(1),c.kc("ngIf",i.showButton&&!i.isDynamicTheme),c.Ab(1),c.kc("ngIf",i.showName),c.Ab(1),c.kc("ngIf",i.newDynamicTheme)}}var Rn=function(){function t(t,e,n,i,o,r,a,s,l,p){var d=this;this.appsHelper=t,this.favoritesHelper=e,this.formPostAppHelper=n,this.translationHelper=i,this.nodeApi=o,this.sessionService=r,this.appsService=a,this.dynamicAppsDragHelperService=s,this.cdr=l,this.settingsHelper=p,this.draggable=!0,this.showFlags=!0,this.showName=!0,this.contextmenu=new c.n,this.useHighRes=!1,this.entered=!1,this.nameTooLong=!1,this.newTooltipVisibility=!1,this.appAtFirstColumn=!1,this.appAtLastColumn=!1,this.subscriptions=[],this.subscriptions[0]=r.settingsUpdated.subscribe((function(t){d.settings=t,d.useHighRes=t.customUISettings.theme===Ee.a.Primary||t.customUISettings.iconSize===tn.a.Large,d.textSize=t.customUISettings.textSize,d.appSize=t.customUISettings.iconSize}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.ngAfterViewInit=function(){var t,e;this.newDynamicTheme&&((null===(t=this.appNameRef)||void 0===t?void 0:t.nativeElement)&&(this.nameTooLong=this.checkElementOverflow(this.appNameRef.nativeElement)),(null===(e=this.newTooltipRef)||void 0===e?void 0:e.nativeElement)&&this.checkNewTooltipVisibility())},t.prototype.onMouseEnter=function(){this.entered=!0,this.newDynamicTheme&&this.checkNewTooltipVisibility()},t.prototype.onMouseLeave=function(){this.entered=!1},t.prototype.getAmountFlags=function(){var t=[this.appsHelper.showAutoLaunch(this.app),this.appsHelper.showLock(this.app),this.appsHelper.showTwoFactor(this.app),this.appsHelper.canDeleteApp(this.app)&&this.appsHelper.isEditMode(),this.formPostAppHelper.showLaunchDisabled(this.app)];return nn()(t,(function(t){return!0===t?1:0}))},t.prototype.confirmDeleteApp=function(){var t=this;this.appsHelper.deleteConfirmationRequired.next({summary:"Delete "+this.app.name+"?",detail:"This app will no longer display in your LaunchPad. Apps may be re-added from the App Library.",handler:function(){return t.deleteApp()}})},t.prototype.deleteApp=function(){var t=this;this.nodeApi.deleteApp(this.app).subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"common.app",verb:"common.deleted"}),t.appsService.getMyApps().pipe(Object(ze.a)()).subscribe((function(e){t.appsHelper.appsUpdated.next({apps:e,reload:!0})}))}))},t.prototype.onDragStart=function(t){this.isDynamicTheme||(t.preventDefault(),t.stopPropagation())},t.prototype.onDragEnd=function(t){this.isDynamicTheme||(t.preventDefault(),t.stopPropagation())},t.prototype.openContextMenu=function(t){this.contextmenu.emit(t)},t.prototype.handleImage=function(t){t.target.src=Re.a.coreCDN+"/assets/images/default-app-icon.png"},t.prototype.selectIconImage=function(t){var e;return this.useHighRes?(null===(e=t.icon2x)||void 0===e?void 0:e.endsWith("null"))?Re.a.coreCDN+"/assets/images/default-app-icon.png":""+encodeURI(t.icon2x):t.icon.endsWith("null")?Re.a.coreCDN+"/assets/images/default-app-icon.png":""+encodeURI(t.icon)},t.prototype.setAppNameLength=function(){switch(this.textSize){case"small":return"small"===this.appSize?10:"medium"===this.appSize?20:"large"===this.appSize?35:10;case"medium":return"small"===this.appSize?8:"medium"===this.appSize?20:"large"===this.appSize?30:10;case"large":return"small"===this.appSize?6:"medium"===this.appSize?16:"large"===this.appSize?25:10;default:return 25}},t.prototype.openAppMoreDetails=function(t){this.appsHelper.appInfoVisible.next(t)},t.prototype.checkElementOverflow=function(t){return t.scrollWidth>t.offsetWidth||t.scrollHeight>t.offsetHeight},t.prototype.checkNewTooltipVisibility=function(){var t;if(this.newDynamicTheme){var e=document.querySelector(".dynamic-header"),n=document.querySelector(".dynamic-edit-bar");if((null===(t=this.newTooltipRef)||void 0===t?void 0:t.nativeElement)&&e){var i=n?n.getBoundingClientRect().bottom+10:e.getBoundingClientRect().bottom+10,o=this.newTooltipRef.nativeElement.getBoundingClientRect(),r=this.newTooltipRef.nativeElement.parentElement.getBoundingClientRect();if(this.newTooltipVisibility=this.newTooltipVisibility?i>=r.top-o.height-10:i>=o.top,this.newTooltipVisibility){var a=this.settingsHelper.getSidenavWidth();this.appAtFirstColumn=r.left<a+60,this.appAtLastColumn=window.innerWidth<r.right+185||window.innerWidth<r.right+o.width}this.cdr.detectChanges()}}},t.\u0275fac=function(e){return new(e||t)(c.Mb(Xt.a),c.Mb(pe.a),c.Mb(Ue),c.Mb(Be.a),c.Mb(Qt.a),c.Mb(ae.a),c.Mb(je.a),c.Mb(on),c.Mb(c.h),c.Mb(re.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["application"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(an,!0),c.Nc(sn,!0),c.Nc(cn,!0)),2&t&&(c.uc(n=c.ac())&&(e.application=n.first),c.uc(n=c.ac())&&(e.appNameRef=n.first),c.uc(n=c.ac())&&(e.newTooltipRef=n.first))},hostVars:1,hostBindings:function(t,e){1&t&&c.Zb("mouseenter",(function(){return e.onMouseEnter()}))("mouseleave",(function(){return e.onMouseLeave()}))("dragstart",(function(t){return e.onDragStart(t)}))("dragend",(function(t){return e.onDragEnd(t)})),2&t&&c.Bb("draggable",e.draggable)},inputs:{app:"app",showFlags:"showFlags",showName:"showName",menuOpen:"menuOpen",showButton:"showButton",isDynamicTheme:"isDynamicTheme",newDynamicTheme:"newDynamicTheme",isHidden:"isHidden"},outputs:{contextmenu:"contextmenu"},decls:1,vars:1,consts:[[4,"transloco","translocoRead"],["application",""],[1,"cl-clip-img-ctnr"],[1,"img-border"],["class","key",4,"ngIf"],["alt","",3,"src","error"],["class","favorited",4,"ngIf"],["class","flags",4,"ngIf"],["class","hidden-btn","aria-label","open app context menu","aria-haspopup","menu","aria-controls","context-menu",3,"keydown.space","keydown.enter","click",4,"ngIf"],["class","name",4,"ngIf"],[4,"ngIf"],["flagsTemplate",""],[1,"key"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512"],["d","M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"],[1,"favorited"],[3,"src","alt","id"],[1,"flags"],["tabindex","0","class","close color-danger","aria-label","Delete App",3,"keydown.Enter","click",4,"ngIf"],["class","auto-launch",4,"ngIf"],["class","locked",4,"ngIf"],["class","two-factor",4,"ngIf"],["class","launch-disabled",4,"ngIf"],["tabindex","0","aria-label","Delete App",1,"close","color-danger",3,"keydown.Enter","click"],[1,"far","fa-times"],[1,"auto-launch"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512","role","img",3,"id"],["d","M505.05 19.1a15.89 15.89 0 0 0-12.2-12.2C460.65 0 435.46 0 410.36 0c-103.2 0-165.1 55.2-211.29 128H94.87A48 48 0 0 0 52 154.49l-49.42 98.8A24 24 0 0 0 24.07 288h103.77l-22.47 22.47a32 32 0 0 0 0 45.25l50.9 50.91a32 32 0 0 0 45.26 0L224 384.16V488a24 24 0 0 0 34.7 21.49l98.7-49.39a47.91 47.91 0 0 0 26.5-42.9V312.79c72.59-46.3 128-108.4 128-211.09.1-25.2.1-50.4-6.85-82.6zM384 168a40 40 0 1 1 40-40 40 40 0 0 1-40 40z"],[1,"locked"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512","role","img",3,"id"],["d","M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"],[1,"two-factor"],["d","M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zm-47.2 114.2l-184 184c-6.2 6.2-16.4 6.2-22.6 0l-104-104c-6.2-6.2-6.2-16.4 0-22.6l22.6-22.6c6.2-6.2 16.4-6.2 22.6 0l70.1 70.1 150.1-150.1c6.2-6.2 16.4-6.2 22.6 0l22.6 22.6c6.3 6.3 6.3 16.4 0 22.6z"],[1,"launch-disabled"],["d","M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm141.421 106.579c73.176 73.175 77.05 187.301 15.964 264.865L132.556 98.615c77.588-61.105 191.709-57.193 264.865 15.964zM114.579 397.421c-73.176-73.175-77.05-187.301-15.964-264.865l280.829 280.829c-77.588 61.105-191.709 57.193-264.865-15.964z"],["aria-label","open app context menu","aria-haspopup","menu","aria-controls","context-menu",1,"hidden-btn",3,"keydown.space","keydown.enter","click"],[1,"name"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[1,"name-n-btn-ctnr"],["appNameRef",""],["class","cl-focusable dots-btn","aria-label","open app context menu","aria-haspopup","menu","aria-controls","context-menu",3,"tabindex","keydown.space","keydown.enter","click",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-label","open app context menu","aria-haspopup","menu","aria-controls","context-menu",1,"cl-focusable","dots-btn",3,"tabindex","keydown.space","keydown.enter","click"],["aria-hidden","true","focusable","false","data-prefix","far","data-icon","ellipsis-v","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 128 512",1,"svg-inline--fa","fa-ellipsis-v","fa-w-4"],["fill","currentColor","d","M64 208c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM16 104c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48-48 21.5-48 48zm0 304c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48-48 21.5-48 48z"],[1,"newInfoTooltip","container",3,"ngClass"],["newTooltip",""],[1,"cl-focusable",3,"click","keydown.Enter"],["focusable",""],[1,"fas","fa-info-circle"],[1,"flags-ctnr"],["class","multifactor",4,"ngIf"],["class","key-icon",4,"ngIf"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","star","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 576 512","data-fa-i2svg","",1,"svg-inline--fa","fa-star","fa-w-18"],["fill","currentColor","d","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","rocket","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512","data-fa-i2svg","",1,"svg-inline--fa","fa-rocket","fa-w-16"],["fill","currentColor","d","M156.6 384.9L125.7 354c-8.5-8.5-11.5-20.8-7.7-32.2c3-8.9 7-20.5 11.8-33.8L24 288c-8.6 0-16.6-4.6-20.9-12.1s-4.2-16.7 .2-24.1l52.5-88.5c13-21.9 36.5-35.3 61.9-35.3l82.3 0c2.4-4 4.8-7.7 7.2-11.3C289.1-4.1 411.1-8.1 483.9 5.3c11.6 2.1 20.6 11.2 22.8 22.8c13.4 72.9 9.3 194.8-111.4 276.7c-3.5 2.4-7.3 4.8-11.3 7.2v82.3c0 25.4-13.4 49-35.3 61.9l-88.5 52.5c-7.4 4.4-16.6 4.5-24.1 .2s-12.1-12.2-12.1-20.9V380.8c-14.1 4.9-26.4 8.9-35.7 11.9c-11.2 3.6-23.4 .5-31.8-7.8zM384 168a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","lock","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 576 512","data-fa-i2svg","",1,"svg-inline--fa","fa-lock","fa-w-14+"],["fill","currentColor","d","M144 144v48H304V144c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192V144C80 64.5 144.5 0 224 0s144 64.5 144 144v48h16c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V256c0-35.3 28.7-64 64-64H80z"],[1,"multifactor"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","shield-check","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512","data-fa-i2svg","",1,"svg-inline--fa","fa-shield-check","fa-w-16"],["fill","currentColor","d","M269.4 2.9C265.2 1 260.7 0 256 0s-9.2 1-13.4 2.9L54.3 82.8c-22 9.3-38.4 31-38.3 57.2c.5 99.2 41.3 280.7 213.6 363.2c16.7 8 36.1 8 52.8 0C454.7 420.7 495.5 239.2 496 140c.1-26.2-16.3-47.9-38.3-57.2L269.4 2.9zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"],[1,"key-icon"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","key","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512","data-fa-i2svg","",1,"svg-inline--fa","fa-key","fa-w-16"],["fill","currentColor","d","M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17v80c0 13.3 10.7 24 24 24h80c13.3 0 24-10.7 24-24V448h40c13.3 0 24-10.7 24-24V384h40c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zM376 96a40 40 0 1 1 0 80 40 40 0 1 1 0-80z"]],template:function(t,e){1&t&&c.Gc(0,In,13,7,"ng-container",0),2&t&&c.kc("translocoRead","apps")},directives:[Te.c,i.l,i.p,i.j],pipes:[rn.a],styles:['[_nghost-%COMP%]{position:relative}[_nghost-%COMP%]   .cl-clip-img-ctnr[_ngcontent-%COMP%]   .hidden-btn[_ngcontent-%COMP%]{position:absolute;top:95%;left:90%}[_nghost-%COMP%]   .name[_ngcontent-%COMP%]   .hidden-btn[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .newInfoTooltip[_ngcontent-%COMP%]{background-color:var(--color-bg-light)!important;width:-moz-fit-content;width:fit-content;max-width:none;height:auto;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:flex-start;justify-items:flex-start;padding:9px;position:absolute;bottom:100%;z-index:4;box-shadow:0 0 20px 0 rgba(0,0,0,.25);border-radius:5px;opacity:0;pointer-events:none;gap:5px}[_nghost-%COMP%]   .newInfoTooltip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;font-size:12px;line-height:normal;word-break:break-word}[_nghost-%COMP%]   .newInfoTooltip[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{line-height:normal;-ms-flex-pack:center;justify-content:center;position:relative}[_nghost-%COMP%]   .newInfoTooltip[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], [_nghost-%COMP%]   .newInfoTooltip[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;width:100%;padding:0}[_nghost-%COMP%]   .newInfoTooltip[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;-ms-flex-pack:start;justify-content:flex-start;gap:4px}[_nghost-%COMP%]   .newInfoTooltip[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], [_nghost-%COMP%]   .newInfoTooltip[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-medium);padding:0}[_nghost-%COMP%]   .newInfoTooltip[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:auto;text-wrap:nowrap}[_nghost-%COMP%]   .newInfoTooltip[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:130%;width:0;height:0;border-left:14px solid rgba(0,0,0,0);border-right:14px solid rgba(0,0,0,0);border-top:14px solid var(--color-bg-light);clear:both;opacity:1;z-index:auto}[_nghost-%COMP%]   .newInfoTooltip[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1;background-color:var(--color-bg-dark);border-radius:5px}[_nghost-%COMP%]   .newInfoTooltip[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:before{border-top:12px solid var(--color-bg-light);opacity:1}[_nghost-%COMP%]   .newInfoTooltip[_ngcontent-%COMP%]   .flags-ctnr[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:start;justify-content:flex-start;padding:0;width:100%;height:auto;box-sizing:border-box;gap:4px}[_nghost-%COMP%]   .newInfoTooltip[_ngcontent-%COMP%]   .flags-ctnr[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 10px)}[_nghost-%COMP%]   .newInfoTooltip[_ngcontent-%COMP%]   .flags-ctnr[_ngcontent-%COMP%]   span.key-icon[_ngcontent-%COMP%]{color:#008ad7}[_nghost-%COMP%]   .newInfoTooltip[_ngcontent-%COMP%]   .flags-ctnr[_ngcontent-%COMP%]   span.locked[_ngcontent-%COMP%]{color:#ef882a;margin-right:-2px}[_nghost-%COMP%]   .newInfoTooltip[_ngcontent-%COMP%]   .flags-ctnr[_ngcontent-%COMP%]   span.favorited[_ngcontent-%COMP%]{color:#fbaf3e}[_nghost-%COMP%]   .newInfoTooltip[_ngcontent-%COMP%]   .flags-ctnr[_ngcontent-%COMP%]   span.auto-launch[_ngcontent-%COMP%]{color:#029f2e}[_nghost-%COMP%]   .newInfoTooltip[_ngcontent-%COMP%]   .flags-ctnr[_ngcontent-%COMP%]   span.multifactor[_ngcontent-%COMP%]{color:#34cab8}[_nghost-%COMP%]   .newInfoTooltip[_ngcontent-%COMP%]   .flags-ctnr[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:calc(var(--font-modifier) * 10px);height:calc(var(--font-modifier) * 10px);font-size:calc(var(--font-modifier) * 10px)}[_nghost-%COMP%]   .newInfoTooltip[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   .newInfoTooltip[_ngcontent-%COMP%]:focus-within, [_nghost-%COMP%]   .newInfoTooltip[_ngcontent-%COMP%]:hover{opacity:1;pointer-events:auto}[_nghost-%COMP%]   .newInfoTooltip.invertPosition[_ngcontent-%COMP%]{bottom:auto;top:100%;-ms-flex-align:center;align-items:center}[_nghost-%COMP%]   .newInfoTooltip.invertPosition[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-break:normal;text-wrap:nowrap}[_nghost-%COMP%]   .newInfoTooltip.invertPosition[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{display:none}[_nghost-%COMP%]   .newInfoTooltip.invertPosition[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-25px;width:0;height:14px;border:14px solid rgba(0,0,0,0);border-bottom:14px solid var(--color-bg-light);clear:both;opacity:1;z-index:auto}[_nghost-%COMP%]   .newInfoTooltip.invertPosition.left-column[_ngcontent-%COMP%]{left:0;-ms-flex-align:start;align-items:flex-start}[_nghost-%COMP%]   .newInfoTooltip.invertPosition.right-column[_ngcontent-%COMP%]{left:auto;right:0;-ms-flex-align:end;align-items:flex-end}[_nghost-%COMP%]:focus   .newInfoTooltip[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   .newInfoTooltip[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}[_nghost-%COMP%]:not(.cl-app)   .key[_ngcontent-%COMP%]{position:absolute;top:9px;right:-27px;background-color:hsla(0,0%,100%,.7);-ms-transform:rotate(45deg);transform:rotate(45deg);z-index:4;width:71px;height:18px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:end;align-items:flex-end;opacity:.9}[_nghost-%COMP%]:not(.cl-app)   .key[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;fill:var(--color-primary);-ms-transform:translate(-8px,-2px) rotate(-135deg);transform:translate(-8px,-2px) rotate(-135deg);font-size:12px;margin-right:0}.dynamic-app.cl-app[_nghost-%COMP%]:not(.favorite):not(.app-library){width:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:stretch;align-items:stretch;-ms-flex-pack:start;justify-content:flex-start;height:60px;background-color:var(--color-white);opacity:1;border-radius:9px;border:1px solid var(--color-border-dark)}.dynamic-app.cl-app[_nghost-%COMP%]:not(.favorite):not(.app-library)   .cl-clip-img-ctnr[_ngcontent-%COMP%]{width:61px;height:58px;border:none;border-radius:0;overflow:hidden;border-top-left-radius:9px;border-bottom-left-radius:9px}.dynamic-app.cl-app[_nghost-%COMP%]:not(.favorite):not(.app-library)   .cl-clip-img-ctnr[_ngcontent-%COMP%]   .img-border[_ngcontent-%COMP%]{clip-path:none;overflow:hidden;position:relative;border-radius:9px;border:none}.dynamic-app.cl-app[_nghost-%COMP%]:not(.favorite):not(.app-library)   .cl-clip-img-ctnr[_ngcontent-%COMP%]   .img-border[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{clip-path:none;max-width:none;max-height:none;width:58px;height:56px;border-radius:9px;opacity:1;position:absolute;margin:2px}.dynamic-app.cl-app[_nghost-%COMP%]:not(.favorite):not(.app-library)   .cl-clip-img-ctnr[_ngcontent-%COMP%]   .hidden-btn[_ngcontent-%COMP%]{display:none}.dynamic-app.cl-app[_nghost-%COMP%]:not(.favorite):not(.app-library)   .cl-clip-img-ctnr[_ngcontent-%COMP%]:before{content:none}.dynamic-app.cl-app[_nghost-%COMP%]:not(.favorite):not(.app-library)   .name[_ngcontent-%COMP%]{width:100%;height:100%;-ms-flex-positive:1;flex-grow:1;background-color:var(--color-white);border:none;border-radius:0;border-top-right-radius:9px;border-bottom-right-radius:9px;margin-top:0;z-index:5;padding:0;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:end;align-items:flex-end;-ms-flex-pack:stretch;justify-content:stretch;overflow:hidden}.dynamic-app.cl-app[_nghost-%COMP%]:not(.favorite):not(.app-library)   .name[_ngcontent-%COMP%]   .flags-ctnr[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:end;justify-content:flex-end;padding:0 6px;height:100%;width:100%;margin:6px 0;box-sizing:border-box;min-height:11px;max-height:11px;gap:4px}.dynamic-app.cl-app[_nghost-%COMP%]:not(.favorite):not(.app-library)   .name[_ngcontent-%COMP%]   .flags-ctnr[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px;line-height:11px}.dynamic-app.cl-app[_nghost-%COMP%]:not(.favorite):not(.app-library)   .name[_ngcontent-%COMP%]   .flags-ctnr[_ngcontent-%COMP%]   span.key-icon[_ngcontent-%COMP%]{color:#008ad7}.dynamic-app.cl-app[_nghost-%COMP%]:not(.favorite):not(.app-library)   .name[_ngcontent-%COMP%]   .flags-ctnr[_ngcontent-%COMP%]   span.locked[_ngcontent-%COMP%]{color:#ef882a}.dynamic-app.cl-app[_nghost-%COMP%]:not(.favorite):not(.app-library)   .name[_ngcontent-%COMP%]   .flags-ctnr[_ngcontent-%COMP%]   span.favorited[_ngcontent-%COMP%]{color:#fbaf3e}.dynamic-app.cl-app[_nghost-%COMP%]:not(.favorite):not(.app-library)   .name[_ngcontent-%COMP%]   .flags-ctnr[_ngcontent-%COMP%]   span.auto-launch[_ngcontent-%COMP%]{color:#029f2e}.dynamic-app.cl-app[_nghost-%COMP%]:not(.favorite):not(.app-library)   .name[_ngcontent-%COMP%]   .flags-ctnr[_ngcontent-%COMP%]   span.multifactor[_ngcontent-%COMP%]{color:#34cab8}.dynamic-app.cl-app[_nghost-%COMP%]:not(.favorite):not(.app-library)   .name[_ngcontent-%COMP%]   .name-n-btn-ctnr[_ngcontent-%COMP%]{background-color:var(--color-white);display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:start;justify-content:flex-start;gap:.2em;-ms-flex:auto;flex:auto;width:100%;height:100%;-ms-flex-positive:1;flex-grow:1;padding:0 7px 0 14px;border-radius:0;position:relative}.dynamic-app.cl-app[_nghost-%COMP%]:not(.favorite):not(.app-library)   .name[_ngcontent-%COMP%]   .name-n-btn-ctnr[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;color:var(--color-dark);font-size:calc(var(--font-modifier) * 13px);line-height:calc(var(--font-modifier) * 15px);font-weight:400;text-shadow:none;font-family:Open Sans,Arial,sans-serif;letter-spacing:0;-webkit-text-stroke:.1px #333;overflow:hidden;text-overflow:ellipsis;width:calc(100% - 40px)}.dynamic-app.cl-app[_nghost-%COMP%]:not(.favorite):not(.app-library)   .name[_ngcontent-%COMP%]   .name-n-btn-ctnr[_ngcontent-%COMP%]   .dots-btn[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:start;justify-content:flex-start;position:relative;background-color:rgba(0,0,0,0);color:var(--color-dark);z-index:10;font-size:14px;height:auto;line-height:14px;padding:1px 3px 0 6px}.dynamic-app.cl-app[_nghost-%COMP%]:not(.favorite):not(.app-library)   .name[_ngcontent-%COMP%]   .name-n-btn-ctnr[_ngcontent-%COMP%]   .dots-btn[_ngcontent-%COMP%]:after{width:calc(100% + 4px);height:calc(100% + 6px);top:-3px;left:0}.newDynamic-app[_nghost-%COMP%]{width:62px;min-height:82px;max-height:104.5px;height:100%;background-color:rgba(0,0,0,0);border:none;opacity:1;z-index:auto;position:relative}.newDynamic-app[_nghost-%COMP%]  .cl-clip-img-ctnr, .newDynamic-app[_nghost-%COMP%]  .cl-clip-img-ctnr .img-border, .newDynamic-app[_nghost-%COMP%]  .cl-clip-img-ctnr .img-border img{width:60px;height:58px;position:relative;z-index:auto}.newDynamic-app[_nghost-%COMP%]  .name{height:100%;min-height:16.5px;max-height:38px;-ms-flex:inherit;flex:inherit;background:rgba(0,0,0,0);padding:0;width:62px}.newDynamic-app[_nghost-%COMP%]  .name .name-n-btn-ctnr{height:100%;min-height:16.5px;max-height:38px;width:100%}.newDynamic-app[_nghost-%COMP%]  .name .name-n-btn-ctnr p{display:inline-block;width:100%;height:100%;min-height:16.5px;max-height:34px;color:var(--color-dark);font-family:Open Sans;font-size:14px;line-height:16.5px;font-weight:600;letter-spacing:.03em;text-align:center;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;line-clamp:2;padding:0;text-overflow:ellipsis;text-shadow:none!important}']}),t}(),Tn=["modal"],Fn=["title"],En=["closeButton"],Dn=["dragContainer"],Ln=["draggable"];function Nn(t,e){if(1&t){var n=c.Tb();c.Sb(0,"h3",15,16),c.Zb("click",(function(){return c.yc(n),c.dc(2).toggleNameEdit()}))("keydown.Enter",(function(){return c.yc(n),c.dc(2).toggleNameEdit()}))("keydown.space",(function(){return c.yc(n),c.dc(2).toggleNameEdit()})),c.Ic(2),c.Rb()}if(2&t){var i=c.dc(2);c.Eb("unclickable",!i.canEdit)("focusable",i.canEdit),c.kc("tabindex",i.canEdit?0:-1),c.Bb("aria-label",i.canEdit?"Click to Edit Name":"")("role",i.canEdit?"button":"none"),c.Ab(2),c.Jc(null==i.activeFolder?null:i.activeFolder.name)}}var Hn=function(t){return{autofocus:"",tabindex:t}};function Gn(t,e){if(1&t){var n=c.Tb();c.Sb(0,"cl-input",17),c.Zb("valueChange",(function(t){return c.yc(n),c.dc(2).activeFolder.name=t}))("keydown.Enter",(function(){return c.yc(n),c.dc(2).editFolder()})),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.kc("attributes",c.nc(4,Hn,o.canEdit?0:-1))("charLimit",255)("label",i("createFolder.label"))("value",o.activeFolder.name)}}function Bn(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",18),c.Sb(2,"div",19),c.Zb("mouseenter",(function(){c.yc(n);var t=e.index;return c.dc(2).tooltipDisplay(t)}))("mouseleave",(function(){return c.yc(n),c.dc(2).tooltipDisplay(-1)})),c.Sb(3,"application",20,21),c.Zb("contextmenu",(function(t){c.yc(n);var i=e.$implicit;return c.dc(2).openContextMenu(i,t)}))("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(2).launchApp(t)}))("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(2).launchApp(t)})),c.Rb(),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=e.index,r=c.dc(2),a=c.vc(2);c.Ab(2),c.kc("clTooltip",r.appsHelper.shouldShowTooltip(i)?a:void 0)("clTooltipAllowReposition",!1)("clTooltipBodyAppend",!0)("clTooltipContext",i)("clTooltipDisplay",o===r.longNameTooltip)("clTooltipPersist",!0),c.Ab(1),c.kc("app",i)("showButton",!0)}}var jn=function(t){return{color:t}};function Un(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",2,3),c.Sb(2,"button",4,5),c.Zb("click",(function(){return c.yc(n),c.dc().onVisibleChange(!1)}))("keydown.Enter",(function(){return c.yc(n),c.dc().onVisibleChange(!1)}))("keydown.Space",(function(){return c.yc(n),c.dc().onVisibleChange(!1)}))("keyup.Space",(function(t){return c.yc(n),c.dc().stopEvent(t)})),c.Nb(4,"i",6),c.Rb(),c.Sb(5,"div",7),c.Sb(6,"button",8),c.Zb("clColorPickerChange",(function(t){return c.yc(n),c.dc().pickerColor=t}))("clColorPickerChange",(function(t){return c.yc(n),c.dc().updateColor(t)})),c.Nb(7,"i",9),c.Rb(),c.Gc(8,Nn,3,8,"h3",10),c.Gc(9,Gn,1,6,"cl-input",11),c.Rb(),c.Sb(10,"div",12,13),c.Gc(12,Bn,5,8,"ng-container",14),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc();c.kc("@openClose",o.visible?"open":"closed")("clFocusTrap",o.visible),c.Ab(2),c.kc("tabindex",o.visible?0:-1),c.Bb("aria-hidden",!o.visible||null)("role",o.visible?null:"none"),c.Ab(4),c.Eb("unclickable",!o.canEdit),c.kc("clColorPicker",o.pickerColor)("cpSaveClickOutside",!1)("cpOKButton",!0)("cpOKButtonClass","button button-secondary")("cpCancelButton",!0)("cpCancelButtonClass","button button-default")("cpDisabled",!o.canEdit)("cpPosition","bottom")("ngStyle",c.nc(23,jn,o.pickerColor))("tabindex",o.canEdit&&o.visible?0:-1)("disabled",!o.canEdit),c.Bb("aria-label",i("createFolder.picker")),c.Ab(2),c.kc("ngIf",!o.showNameEdit),c.Ab(1),c.kc("ngIf",o.showNameEdit),c.Ab(3),c.kc("ngForOf",null==o.activeFolder?null:o.activeFolder.apps)("ngForTrackBy",o.appsHelper.appTrackByFn)}}function zn(t,e){if(1&t&&(c.Sb(0,"div",22),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=e.$implicit;c.Ab(2),c.Jc(n.name)}}var Vn=function(){function t(t,e,n,i,o,r,a,s,c,l,p){var d=this;this.settingsHelper=t,this.cdr=e,this.appsHelper=n,this.menuHelper=i,this.contextMenuHelper=o,this.eleRef=r,this.nodeApi=a,this.dragHelper=s,this.formPostAppHelper=p,this.openCloseAnim="closed",this.visible=!1,this.isEditMode=!1,this.canEdit=!1,this.originalName="",this.pickerColor="#000000",this.showNameEdit=!1,this.longNameTooltip=-1,this.subscriptions=[],this.subscriptions[0]=c.settingsUpdated.subscribe((function(t){d.settings=t,d.determineAppMargins()})),this.subscriptions[1]=n.editModeChanged.subscribe((function(t){return d.isEditMode=t})),this.subscriptions[2]=n.activeFolderChanged.subscribe((function(t){!d.dragHelper.getContainerRef()&&d.dragContainer&&d.dragHelper.setAppsContainer(d.dragContainer.nativeElement),d.activeFolder=t,d.originalName=d.activeFolder?d.activeFolder.name:"",d.pickerColor=d.activeFolder?d.activeFolder.color:"#000000",d.canEdit=!!d.activeFolder&&!d.appsHelper.showFolderLock(d.activeFolder),d.activeFolder&&(Object(T.a)(0).subscribe((function(){return d.closeButton.nativeElement.focus()})),d.setDraggables())})),this.subscriptions[3]=n.folderViewVisibleChanged.subscribe((function(t){return d.onVisibleChange(t)})),this.subscriptions[4]=l.windowResized.subscribe((function(t){return d.determineAppMargins()})),this.subscriptions[8]=t.sidenavCollapseChanged.subscribe((function(){return d.determineAppMargins()}))}return t.prototype.ngAfterViewInit=function(){var t=this;this.determineAppMargins(),this.dragContainer&&this.dragHelper.setAppsContainer(this.dragContainer.nativeElement),this.subscriptions[7]=this.draggables.changes.subscribe((function(e){t.activeFolder&&t.updateDragHelper(e.toArray(),t.activeFolder.apps)})),this.setDraggables()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.setMouseDownListener=function(){var t=this;this.visible?(this.subscriptions[5]=Object(C.a)(document,"mousedown",{passive:!0}).subscribe((function(e){return t.onMouseDown(e)})),this.subscriptions[6]=Object(C.a)(document,"mouseup",{passive:!0}).subscribe((function(e){return t.onMouseUp(e)}))):(this.subscriptions[5].unsubscribe(),this.subscriptions[6].unsubscribe())},t.prototype.checkAndSaveChanges=function(){this.originalName===this.activeFolder.name&&this.pickerColor===this.activeFolder.color||this.editFolder()},t.prototype.launchApp=function(t){this.appsHelper.launchApp(t,null,this.formPostAppHelper.showLaunchDisabled(t))},t.prototype.setDraggables=function(){this.activeFolder&&this.updateDragHelper(this.draggables.toArray(),this.activeFolder.apps)},t.prototype.onEscape=function(){this.onVisibleChange(!1)},t.prototype.onMouseDown=function(t){var e=this,n=t.path?t.path:$e.a.createPath(t.target);this.mouseDownInFolder=!!Ce()(n,(function(t){return t===e.modalRef.nativeElement}))},t.prototype.onMouseUp=function(t){var e=this,n=t.path?t.path:$e.a.createPath(t.target);this.mouseDownInFolder||Ce()(n,(function(t){var n=t.tagName?t.tagName.toLowerCase():void 0;return t===e.modalRef.nativeElement||"app-context-menu"===n||"cl-slideover"===n||"div"===n&&(t.classList.contains("cl-modal-ctnr")||t.classList.contains("cl-ui-mask"))}))||this.onVisibleChange(!1)},t.prototype.noAppContextOpen=function(t){this.openContextMenu(void 0,t)},t.prototype.openContextMenu=function(t,e){var n,i;if(e.preventDefault(),e.stopPropagation(),this.menuHelper.closeAllMenus(),"contextmenu"===e.type)i=e.clientY,n=e.clientX;else{var o=this.getPos(e);i=o.offsetTop,n=o.offsetLeft}this.contextMenuHelper.changeMenuOptions.next({visible:!0,coordinates:{"top.px":i,"left.px":n},location:ce.Folder,app:t})},t.prototype.getPos=function(t){for(var e=0,n=0,i=t.target;i;)e+=i.offsetLeft,n+=i.offsetTop,i=i.offsetParent;return{offsetTop:n,offsetLeft:e}},t.prototype.onVisibleChange=function(t){t!==this.visible&&(this.visible=t,this.setMouseDownListener(),t?this.forceVisible():(this.checkAndSaveChanges(),this.closeModal()))},t.prototype.toggleNameEdit=function(){this.canEdit&&(this.showNameEdit=!this.showNameEdit)},t.prototype.editFolder=function(t){var e=this;void 0===t&&(t=!0),t&&(this.showNameEdit=!1),""===this.activeFolder.name.trim()&&(this.activeFolder.name=this.originalName),"#"===this.pickerColor[0]&&7===this.pickerColor.length&&(this.activeFolder.color=this.pickerColor),this.originalName===this.activeFolder.name&&this.pickerColor===this.activeFolder.color||this.nodeApi.editFolder(this.activeFolder.id,this.activeFolder.name,this.activeFolder.color).subscribe((function(t){}),(function(t){"already_exist"===t.error.response&&(e.activeFolder.name=e.originalName)}))},t.prototype.forceVisible=function(){this.visible=!0,this.openCloseAnim="open"},t.prototype.closeModal=function(){this.visible=!1,this.showNameEdit=!1,this.openCloseAnim="closed",this.appsHelper.activeFolderChanged.next(void 0),this.appsHelper.folderViewVisibleChanged.next(!1)},t.prototype.determineAppMargins=function(){if(this.modalRef){var t=.9*(window.innerWidth-this.settingsHelper.getSidenavWidth())-40-this.settingsHelper.getScrollBarWidth();this.settingsHelper.updateAppMarginRule(".app-folder-margin",t),this.cdr.detectChanges()}},t.prototype.updateDragHelper=function(t,e){var n=t.map((function(t,n){return{element:t.nativeElement,app:e[n]}}));this.dragHelper.setElements(n),this.dragHelper.setDOMReferences(e)},t.prototype.tooltipDisplay=function(t){this.longNameTooltip=t;var e=document.getElementsByClassName("folder-tooltip");Xe()(e,(function(t){t.remove()}))},t.prototype.updateColor=function(t){var e=this;this.nodeApi.editFolder(this.activeFolder.id,this.activeFolder.name,t).subscribe((function(t){}),(function(t){"already_exist"===t.error.response&&(e.activeFolder.name=e.originalName)}))},t.prototype.stopEvent=function(t){t.preventDefault(),t.stopPropagation()},t.prototype.nav=function(t){if(t.stopPropagation(),t.preventDefault(),this.draggables.length){var e=this.draggables.toArray();$e.a.keyboardJump(e,t,!0)}},t.\u0275fac=function(e){return new(e||t)(c.Mb(re.a),c.Mb(c.h),c.Mb(Xt.a),c.Mb(Ze),c.Mb(Ve),c.Mb(c.l),c.Mb(Qt.a),c.Mb(Ye),c.Mb(ae.a),c.Mb(We.G),c.Mb(Ue))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-folder-view"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(Tn,!0),c.Nc(Fn,!0),c.Nc(En,!0),c.Nc(Dn,!0),c.Nc(We.C,!0),c.Nc(Ln,!0,c.l)),2&t&&(c.uc(n=c.ac())&&(e.modalRef=n.first),c.uc(n=c.ac())&&(e.title=n.first),c.uc(n=c.ac())&&(e.closeButton=n.first),c.uc(n=c.ac())&&(e.dragContainer=n.first),c.uc(n=c.ac())&&(e.input=n.first),c.uc(n=c.ac())&&(e.draggables=n))},hostVars:1,hostBindings:function(t,e){1&t&&c.Zb("keydown.escape",(function(){return e.onEscape()}),!1,c.wc)("contextmenu",(function(t){return e.noAppContextOpen(t)}))("keydown.ArrowUp",(function(t){return e.nav(t)}))("keydown.ArrowDown",(function(t){return e.nav(t)}))("keydown.ArrowLeft",(function(t){return e.nav(t)}))("keydown.ArrowRight",(function(t){return e.nav(t)})),2&t&&c.Fc("@hostEnter",e.openCloseAnim)},decls:3,vars:0,consts:[["class","my-apps-modal",3,"clFocusTrap",4,"transloco"],["tooltipRef",""],[1,"my-apps-modal",3,"clFocusTrap"],["modal",""],["aria-label","Close Folder","clItem","",1,"close","flex-center",3,"tabindex","click","keydown.Enter","keydown.Space","keyup.Space"],["closeButton",""],[1,"far","fa-times"],[1,"modal-header"],[3,"clColorPicker","cpSaveClickOutside","cpOKButton","cpOKButtonClass","cpCancelButton","cpCancelButtonClass","cpDisabled","cpPosition","ngStyle","tabindex","disabled","clColorPickerChange"],[1,"fas","fa-folder"],[3,"unclickable","focusable","tabindex","click","keydown.Enter","keydown.space",4,"ngIf"],[3,"attributes","charLimit","label","value","valueChange","keydown.Enter",4,"ngIf"],[1,"modal-main-content","custom-scroll"],["dragContainer",""],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"tabindex","click","keydown.Enter","keydown.space"],["title",""],[3,"attributes","charLimit","label","value","valueChange","keydown.Enter"],[1,"folder-app"],[3,"clTooltip","clTooltipAllowReposition","clTooltipBodyAppend","clTooltipContext","clTooltipDisplay","clTooltipPersist","mouseenter","mouseleave"],["clLastFocused","","role","link","tabindex","0",1,"cl-focusable","cl-app","app-folder-margin",3,"app","showButton","contextmenu","click","keydown.Enter"],["draggable",""],[1,"cl-tooltip","folder-tooltip"]],template:function(t,e){1&t&&(c.Gc(0,Un,13,25,"div",0),c.Gc(1,zn,3,1,"ng-template",null,1,c.Hc))},directives:[Te.c,We.y,We.J,We.j,i.m,i.l,i.k,We.C,We.Y,Rn,We.F],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;position:absolute;top:0;left:0;width:100%;height:100%;z-index:300}.my-apps-modal[_ngcontent-%COMP%]{width:90%;height:90%;background-color:hsla(0,0%,100%,.5);z-index:401;position:relative}.my-apps-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{width:100%!important;padding-right:10px}.my-apps-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{white-space:nowrap}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#999!important;border-radius:0!important}.focusable[_ngcontent-%COMP%]{cursor:pointer}.focusable[_ngcontent-%COMP%]:after{border-color:var(--color-primary);width:100%;height:100%;left:0;top:0}.unclickable[_ngcontent-%COMP%]{cursor:auto}button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:0}cl-input[_ngcontent-%COMP%]{height:40px;width:100%}cl-input[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-left:10px}h3[_ngcontent-%COMP%]{padding:10px;cursor:pointer}"],data:{animation:[Object(Ke.j)("hostEnter",[Object(Ke.g)("closed",Object(Ke.h)({opacity:0,"pointer-events":"none"})),Object(Ke.g)("open",Object(Ke.h)({opacity:1,"pointer-events":"all"})),Object(Ke.i)("open => closed",[Object(Ke.e)("0.2s ease-in-out",Object(Ke.h)({opacity:0}))])]),Object(Ke.j)("openClose",[Object(Ke.g)("closed",Object(Ke.h)({transform:"scale(0.1, 0.1)"})),Object(Ke.g)("open",Object(Ke.h)({transform:"scale(1, 1)"})),Object(Ke.i)("closed => open",[Object(Ke.h)({transform:"scale(0.1, 0.1)"}),Object(Ke.e)("0.2s ease-in-out",Object(Ke.h)({transform:"scale(1, 1)"}))]),Object(Ke.i)("open => closed",[Object(Ke.e)("0.2s 0.2s ease-in-out",Object(Ke.h)({transform:"scale(0.1, 0.1)"}))])])]}}),t}(),Zn=n("jhN1"),$n=function(){function t(){}return t.prototype.transform=function(t,e){void 0===e&&(e=!0);var n=(e?Math.floor(Number(t)):Number(t)).toString(),i=n.length%3;return n.slice(0,0===i?3:i)+this.getSuffix(n.length)},t.prototype.getSuffix=function(t){switch(t){case 1:case 2:case 3:return"";case 4:case 5:case 6:return"K";case 7:case 8:case 9:return"M";case 10:case 11:case 12:return"B";case 13:case 14:case 15:return"T";default:return""}},t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Lb({name:"numberFormat",type:t,pure:!0}),t}();function Wn(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",14),c.Sb(1,"img",15),c.Zb("error",(function(t){return c.yc(n),c.dc(3).handleImage(t)})),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit;c.Ab(1),c.kc("src",i.icon,c.Ac)}}function Jn(t,e){if(1&t&&(c.Sb(0,"div",16),c.Sb(1,"p"),c.Ic(2),c.ec(3,"numberFormat"),c.Rb(),c.Rb()),2&t){var n=c.dc(3);c.Ab(2),c.Jc(c.fc(3,1,n.folder.apps.length))}}function qn(t,e){if(1&t&&(c.Qb(0),c.Gc(1,Wn,2,1,"div",12),c.Gc(2,Jn,4,3,"div",13),c.Pb()),2&t){var n=c.dc(2);c.Ab(1),c.kc("ngForOf",n.folder.apps.slice(0,3)),c.Ab(1),c.kc("ngIf",n.folder.apps.length>3)}}function Kn(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",17),c.Zb("dragstart",(function(t){return c.yc(n),c.dc(2).onDragStart(t)})),c.Sb(1,"span",18),c.cc(),c.Sb(2,"svg",19),c.Nb(3,"path",20),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.dc(2);c.Ab(2),c.kc("id",i.folder.id+"_locked")}}function Yn(t,e){1&t&&(c.Sb(0,"div",21),c.Nb(1,"i",22),c.Rb())}function Qn(t,e){if(1&t&&(c.cc(),c.Sb(0,"svg",23),c.Nb(1,"path",24),c.Nb(2,"path",25),c.Rb()),2&t){var n=c.dc(2);c.Ab(1),c.Bb("fill",n.folder.shadedColor),c.Ab(1),c.Bb("stroke",n.folder.color)}}var Xn=function(t){return{"background-color":t}};function ti(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Zb("dragstart",(function(t){return c.yc(n),c.dc().onDragStart(t)})),c.Sb(2,"div",2),c.Gc(3,qn,3,2,"ng-container",3),c.Rb(),c.Rb(),c.Sb(4,"button",4),c.Zb("keydown.space",(function(t){c.yc(n);var e=c.dc();return t.stopPropagation(),e.openContextMenu(t)}))("keydown.enter",(function(t){c.yc(n);var e=c.dc();return t.stopPropagation(),e.openContextMenu(t)}))("click",(function(t){return c.yc(n),c.dc().openContextMenu(t)})),c.Rb(),c.Sb(5,"div",5),c.Zb("dragstart",(function(t){return c.yc(n),c.dc().onDragStart(t)})),c.Sb(6,"p",6,7),c.Ic(8),c.ec(9,"title"),c.Rb(),c.Rb(),c.Gc(10,Kn,4,1,"div",8),c.Gc(11,Yn,2,0,"div",9),c.Sb(12,"div",10),c.Zb("dragstart",(function(t){return c.yc(n),c.dc().onDragStart(t)})),c.Rb(),c.Gc(13,Qn,3,2,"svg",11),c.Pb()}if(2&t){var i=c.vc(7),o=c.dc();c.Ab(1),c.Bb("aria-labelledby",i),c.Ab(1),c.kc("ngStyle",o.isPrimaryTheme?void 0:c.nc(10,Xn,o.folder.color)),c.Ab(1),c.kc("ngIf",o.folder.apps.length>0),c.Ab(5),c.Jc(c.gc(9,7,o.folder.name,25)),c.Ab(2),c.kc("ngIf",o.appsHelper.showFolderLock(o.folder)),c.Ab(1),c.kc("ngIf",o.appsHelper.showFolderLock(o.folder)),c.Ab(2),c.kc("ngIf",o.isPrimaryTheme)}}var ei=function(){function t(t,e,n){var i=this;this.appsHelper=t,this.sessionService=e,this.san=n,this.contextmenu=new c.n,this.contextmenuOpen=!1,this.isPrimaryTheme=!1,this.subscriptions=[],this.subscriptions[0]=e.settingsUpdated.subscribe((function(t){return i.isPrimaryTheme=t.customUISettings.theme===Ee.a.Primary}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onDragStart=function(t){t.preventDefault()},t.prototype.sanitizeColor=function(t){return this.san.bypassSecurityTrustStyle(t)},t.prototype.openContextMenu=function(t){this.contextmenuOpen=!0,this.contextmenu.emit(t)},t.prototype.handleImage=function(t){t.target.src=Re.a.coreCDN+"/assets/images/default-app-icon.png"},t.\u0275fac=function(e){return new(e||t)(c.Mb(Xt.a),c.Mb(ae.a),c.Mb(Zn.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["folder"]],inputs:{folder:"folder"},outputs:{contextmenu:"contextmenu"},decls:1,vars:1,consts:[[4,"transloco","translocoRead"],[1,"folder-border",3,"dragstart"],[1,"cl-clip-img-ctnr",3,"ngStyle"],[4,"ngIf"],["aria-label","open app context menu","aria-haspopup","menu",1,"hidden-btn",3,"keydown.space","keydown.enter","click"],[1,"name",3,"dragstart"],["id","folderLabel"],["folderLabel",""],["class","flags",3,"dragstart",4,"ngIf"],["class","locked-folder",4,"ngIf"],[1,"box-shadow",3,"dragstart"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 210 210",4,"ngIf"],["class","img-border",4,"ngFor","ngForOf"],["class","add flex-center",4,"ngIf"],[1,"img-border"],["alt","","role","presentation",3,"src","error"],[1,"add","flex-center"],[1,"flags",3,"dragstart"],[1,"locked"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512","role","img",3,"id"],["d","M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"],[1,"locked-folder"],[1,"fas","fa-lock"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 210 210"],["d","M2,13.45c0,72.4,0,183.11,0,183.11C2,203.42,7,208,14.41,208H195.59C203,208,208,203.41,208,196.54h0V29.47C208,22.6,203,18,195.58,18H121.14L102.52,2H14.42C7,2,2,6.59,2,13.45Z"],["d","M195.58,18H121.14L102.52,2H14.42C7,2,2,6.59,2,13.45c0,72.4,0,183.11,0,183.11C2,203.42,7,208,14.42,208H195.59C203,208,208,203.4,208,196.54M195.58,18h0m0,0C203,18,208,22.6,208,29.47V196.56","stroke-width","4","fill","transparent"]],template:function(t,e){1&t&&c.Gc(0,ti,14,12,"ng-container",0),2&t&&c.kc("translocoRead","apps")},directives:[Te.c,i.m,i.l,i.k],pipes:[rn.a,$n],styles:[".hidden-btn[_ngcontent-%COMP%]{position:absolute;top:62%;left:71%}"]}),t}(),ni=["draggable"],ii=function(){return{top:30}};function oi(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"application",4,5),c.Zb("click",(function(){c.yc(n);var t=c.dc().$implicit;return c.dc().attemptOpen(t)}))("keydown.Enter",(function(){c.yc(n);var t=c.dc().$implicit;return c.dc().attemptOpen(t)}))("contextmenu",(function(t){c.yc(n);var e=c.dc().$implicit;return c.dc().openContextMenu(e,t)})),c.Rb(),c.Pb()}if(2&t){var i=c.dc().$implicit,o=c.dc(),r=c.vc(3);c.Ab(1),c.Eb("fade-out",o.activeFolder||o.removedAppsIds.includes(i.id)),c.kc("app",i)("clTooltip",o.appsHelper.shouldShowTooltip(i)?r:void 0)("clTooltipContext",i)("clTooltipPositionOffset",c.mc(10,ii))("menuOpen",o.contextMenuOpen)("showButton",!0),c.Bb("aria-label",i.name)("aria-describedby",i.id+"_favorited "+i.id+"_autolaunch "+i.id+"_locked "+i.id+"_twofactor")}}var ri=function(){return{top:20}};function ai(t,e){if(1&t){var n=c.Tb();c.Sb(0,"folder",6,5),c.Zb("click",(function(){c.yc(n);var t=c.dc().$implicit;return c.dc().attemptOpen(t)}))("keydown.Enter",(function(){c.yc(n);var t=c.dc().$implicit;return c.dc().attemptOpen(t)}))("keydown.Space",(function(t){c.yc(n);var e=c.dc().$implicit;return c.dc().attemptOpen(e,t)}))("contextmenu",(function(t){c.yc(n);var e=c.dc().$implicit;return c.dc().openContextMenu(e,t)})),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc(),r=c.vc(3);c.Eb("fade-out",o.activeFolder||o.removedAppsIds.includes(i.id)),c.kc("id",i._id)("folder",i)("clTooltip",o.appsHelper.shouldShowTooltip(i)?r:void 0)("clTooltipContext",i)("clTooltipPositionOffset",c.mc(9,ri)),c.Bb("aria-label",i.name)("aria-describedby",i.id+"_locked")}}function si(t,e){if(1&t&&(c.Qb(0),c.Gc(1,oi,3,11,"ng-container",2),c.Gc(2,ai,2,10,"ng-template",null,3,c.Hc),c.Pb()),2&t){var n=e.$implicit,i=c.vc(3),o=c.dc();c.Ab(1),c.kc("ngIf",!o.appsHelper.isFolder(n))("ngIfElse",i)}}function ci(t,e){if(1&t&&(c.Sb(0,"div",7),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=e.$implicit;c.Ab(2),c.Jc(n.name)}}var li=function(){function t(t,e,n,i,o,r,a,s,c,l,p){var d=this;this.nodeApi=t,this.layoutService=e,this.eleRef=n,this.tagsHelper=i,this.settingsHelper=o,this.sessionService=r,this.menuHelper=a,this.contextMenuHelper=s,this.dragHelper=c,this.appsHelper=l,this.formPostAppHelper=p,this.isEditMode=!1,this.removedAppsIds=[],this.contextMenuOpen=!1,this.containerPadding=25,this.subscriptions=[],this.subscriptions[0]=l.filterUpdate.pipe(Object(te.a)(200)).subscribe((function(t){return d.onFilterUpdate(t,d.tagFilter)})),this.subscriptions[1]=l.editModeChanged.subscribe((function(t){return d.setEditMode(t)})),this.subscriptions[2]=r.settingsUpdated.subscribe((function(t){return d.onWindowResize()})),this.subscriptions[3]=l.appsUpdated.subscribe((function(t){if(d.apps=d.displayedApps=t.apps,d.draggables&&d.updateDragHelper(d.draggables.toArray(),d.apps),d.activeFolder){var e=Ce()(d.apps,(function(t){return t.id===d.activeFolder.id}));d.appsHelper.activeFolderChanged.next(e)}})),this.subscriptions[4]=e.windowResized.subscribe((function(t){return d.onWindowResize()})),this.subscriptions[5]=o.sidenavCollapseChanged.subscribe((function(){return d.onWindowResize()})),this.subscriptions[6]=i.tagFilterUpdated.subscribe((function(t){return d.onFilterUpdate(d.appFilter,t)})),this.subscriptions[7]=s.changeMenuOptions.subscribe((function(t){return d.contextMenuOpen=t.visible})),this.subscriptions[8]=l.activeFolderChanged.subscribe((function(t){if(d.activeFolder&&!t){var e=d.draggables.toArray();Ce()(e,(function(t){return t.nativeElement.id===d.activeFolder._id})).nativeElement.focus()}d.activeFolder=t,d.activeFolder&&(d.eleRef.nativeElement.scrollTop=0)})),this.dragHelper.setAppsContainer(this.eleRef.nativeElement)}return t.prototype.ngAfterViewInit=function(){var t=this;this.updateDragHelper(this.draggables.toArray(),this.apps),this.subscriptions[8]=this.draggables.changes.subscribe((function(e){t.updateDragHelper(e.toArray(),t.apps)}))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.dragTimer&&this.dragTimer.unsubscribe()},t.prototype.updateDragHelper=function(t,e){var n=t.map((function(t,n){return{element:t.nativeElement,app:e[n]}}));this.dragHelper.setElements(n),this.dragHelper.setDOMReferences(e)},t.prototype.attemptOpen=function(t,e){e&&(e.preventDefault(),e.stopPropagation()),this.contextMenuOpen||(this.appsHelper.isFolder(t)?this.openFolder(t):this.appsHelper.launchApp(t,null,this.formPostAppHelper.showLaunchDisabled(t)))},t.prototype.openFolder=function(t){this.appsHelper.folderViewVisibleChanged.next(!0),this.appsHelper.activeFolderChanged.next(t)},t.prototype.noAppContextOpen=function(t){this.openContextMenu(void 0,t)},t.prototype.openContextMenu=function(t,e){var n,i;if(e.preventDefault(),e.stopPropagation(),"contextmenu"===e.type)i=e.clientY,n=e.clientX;else{var o=this.getPos(e);i=o.offsetTop,n=o.offsetLeft}this.menuHelper.closeAllMenus(),this.contextMenuHelper.changeMenuOptions.next({visible:!0,coordinates:{"top.px":i,"left.px":n},location:ce.App,app:t})},t.prototype.getPos=function(t){for(var e=0,n=0,i=t.srcElement;i;)e+=i.offsetLeft,n+=i.offsetTop,i=i.offsetParent;return{offsetTop:n,offsetLeft:e}},t.prototype.setEditMode=function(t){var e=this;Object(T.a)(200).subscribe((function(){return e.isEditMode=t}))},t.prototype.onWindowResize=function(){if(this.eleRef){var t=this.settingsHelper.getSidenavWidth(),e=this.settingsHelper.getScrollBarWidth(),n=window.innerWidth-e-t-2*this.containerPadding;this.settingsHelper.updateAppMarginRule(".app-margin",n)}},t.prototype.prepareStr=function(t){return t.toLowerCase().trim()},t.prototype.onFilterUpdate=function(t,e){var n=this;this.appFilter=t,this.tagFilter=e;var i=this.apps;if(this.appFilter){var o=this.prepareStr(this.appFilter),r=function(t){return n.prepareStr(t).includes(o)};(i=ne()(this.apps,(function(t){return!!(r(t.name)||t.appdesc&&r(t.appdesc))||!!n.appsHelper.isFolder(t)&&(t.apps.map((function(t){return r(t.name)})).includes(!0)||t.apps.map((function(t){return r(t.appdesc)})).includes(!0))}))).sort((function(t){return r(t.name)?-1:1}))}if(this.tagFilter){var a=function(t){return n.tagFilter.apps.includes(t)};i=ne()(i,(function(t){return!!a(t.id)||!!n.appsHelper.isFolder(t)&&t.apps.map((function(t){return a(t.id)})).includes(!0)}))}this.removedAppsIds=oe()(this.displayedApps,i,"id").map((function(t){return t.id})),Object(T.a)(355).subscribe((function(){n.displayedApps=i,n.removedAppsIds=[]}))},t.prototype.nav=function(t){if(t.stopPropagation(),t.preventDefault(),this.draggables.length){var e=this.draggables.toArray();$e.a.keyboardJump(e,t,!0)}},t.\u0275fac=function(e){return new(e||t)(c.Mb(Qt.a),c.Mb(We.G),c.Mb(c.l),c.Mb(se.a),c.Mb(re.a),c.Mb(ae.a),c.Mb(Ze),c.Mb(Ve),c.Mb(qe),c.Mb(Xt.a),c.Mb(Ue))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-apps-container"]],viewQuery:function(t,e){var n;1&t&&c.Nc(ni,!0,c.l),2&t&&c.uc(n=c.ac())&&(e.draggables=n)},hostBindings:function(t,e){1&t&&c.Zb("contextmenu",(function(t){return e.noAppContextOpen(t)}))("keydown.ArrowUp",(function(t){return e.nav(t)}))("keydown.ArrowDown",(function(t){return e.nav(t)}))("keydown.ArrowLeft",(function(t){return e.nav(t)}))("keydown.ArrowRight",(function(t){return e.nav(t)}))},decls:4,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],["tooltipRef",""],[4,"ngIf","ngIfElse"],["folder",""],["clLastFocused","","tabindex","0","role","link",1,"cl-focusable","cl-app","app-margin",3,"app","clTooltip","clTooltipContext","clTooltipPositionOffset","menuOpen","showButton","click","keydown.Enter","contextmenu"],["draggable",""],["clLastFocused","","tabindex","0",1,"cl-app","cl-folder","app-margin",3,"id","folder","clTooltip","clTooltipContext","clTooltipPositionOffset","click","keydown.Enter","keydown.Space","contextmenu"],[1,"cl-tooltip"]],template:function(t,e){1&t&&(c.Nb(0,"app-folder-view"),c.Gc(1,si,4,2,"ng-container",0),c.Gc(2,ci,3,1,"ng-template",null,1,c.Hc)),2&t&&(c.Ab(1),c.kc("ngForOf",e.displayedApps)("ngForTrackBy",e.appsHelper.appTrackByFn))},directives:[Vn,i.k,i.l,Rn,We.F,We.Y,ei],styles:["[_nghost-%COMP%]{position:relative;display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:start;align-items:flex-start;-ms-flex-line-pack:start;align-content:flex-start;width:100%;-ms-flex:0 0 calc(100% - 110px);flex:0 0 calc(100% - 110px);height:calc(100% - 110px);transition:transform .2s ease-in-out;padding:0 25px 25px;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]::-webkit-scrollbar-thumb{background-color:rgba(51,51,51,.4)!important;border-radius:2px!important}.expand[_nghost-%COMP%]{height:calc(100% - 160px);-ms-flex:0 0 calc(100% - 160px);flex:0 0 calc(100% - 160px);-ms-transform:translateY(50px);transform:translateY(50px)}"]}),t}(),pi=function(t){function e(e){return t.call(this,e)||this}return Object(le.c)(e,t),e.prototype.isUsingTms=function(t){return this.generateRequest("get",this.generateRequestUrl("/login/v2p1/useTMS",{buildingId:t},Re.a.tmsUrl),(function(t){return t.body}))},e.prototype.isUsingTmsBAD=function(){return this.generateRequest("get",this.generateRequestUrl("/login/v2p1/useTMS",{},Re.a.tmsUrl),(function(t){return t.body}))},e.prototype.getMFARequired=function(){return this.generateRequest("get",this.generateRequestUrl("/myApps/v1p0/requiredMFA",{},Re.a.tmsUrl),(function(t){return!!t.body.RequiredTwofactor&&t.body.RequiredTwofactor}))},e.prototype.getStoredMfa=function(t){return this.generateRequest("get",this.generateRequestUrl("/myInfo/v3p1/MFA",{mfaType:t},Re.a.tmsUrl),this.basicBodyMapFunction)},e.prototype.getMfaOptions=function(){return this.generateRequest("get",this.generateRequestUrl("/myInfo/v3p1/MFA/types",{},Re.a.tmsUrl),this.basicBodyMapFunction)},e.prototype.configureMfaMethod=function(t,e,n,i){return this.generateRequest("post",this.generateRequestUrl("/myInfo/v3p1/MFA",{},Re.a.tmsUrl),this.basicBodyMapFunction,{mfaType:t,response:e,verifyResponse:n,oldResponse:i})},e.prototype.resetMfaMethod=function(t){return this.generateRequest("delete",this.generateRequestUrl("/myInfo/v3p1/MFA",{},Re.a.tmsUrl),this.basicBodyMapFunction,{mfaType:t})},e.prototype.resetPassword=function(t,e,n){return this.generateRequest("post",this.generateRequestUrl("/myInfo/v3p1/resetPassword",void 0,Re.a.tmsUrl),this.basicBodyMapFunction,{oldPassword:t,newPassword:e,isEmailUser:n})},e.prototype.switchProfile=function(t){return this.generateRequest("get",this.generateRequestUrl("/myInfo/v3p1/switchProfile",{profileId:t},Re.a.tmsUrl),this.basicBodyMapFunction)},e.prototype.endImpersonation=function(){return this.generateRequest("post",this.generateRequestUrl("/myInfo/v3p1/endImpersonation",void 0,Re.a.tmsUrl),this.basicBodyMapFunction)},e.prototype.verifyNetwork=function(){return this.generateRequest("get",this.generateRequestUrl("/myInfo/v3p1/adfsPasswordVerify",void 0,Re.a.tmsUrl))},e.prototype.updateNetwork=function(t){return this.generateRequest("post",this.generateRequestUrl("/myInfo/v3p1/adfsPasswordVerify",void 0,Re.a.tmsUrl),this.basicBodyMapFunction,{newPassword:t})},e.prototype.getAllDevices=function(){return this.generateRequest("get",this.generateRequestUrl("/myInfo/v3p1/rememberedDevices",void 0,Re.a.tmsUrl),this.basicBodyMapFunction)},e.prototype.deleteAllDevices=function(){return this.generateRequest("delete",this.generateRequestUrl("/myInfo/v3p1/rememberedDevices",void 0,Re.a.tmsUrl),(function(t){return t}),{},this.getRequestOptionsTxt())},e.prototype.deleteThisDevice=function(t){return this.generateRequest("delete",this.generateRequestUrl("/myInfo/v3p1/rememberedDevices/"+t,void 0,Re.a.tmsUrl),(function(t){return t}),{},this.getRequestOptionsTxt())},e.prototype.getPasswordRecoveryQuestions=function(){return this.generateRequest("get",this.generateRequestUrl("/tms/v1p0/passwordRecovery/questions",void 0,Re.a.tmsUrl),this.basicBodyMapFunction)},e.prototype.addRecoveryPhone=function(t,e){return this.generateRequest("post",this.generateRequestUrl("/myInfo/v3p1/passwordRecovery/mobilePhone/sendVerification",void 0,Re.a.tmsUrl),this.basicBodyMapFunction,{phoneNumber:t,attemptUnlink:e})},e.prototype.verifyPhoneCode=function(t,e){return this.generateRequest("post",this.generateRequestUrl("/myInfo/v3p1/passwordRecovery/mobilePhone/verify",void 0,Re.a.tmsUrl),this.basicBodyMapFunction,{codeSMS:t,passwordRecoveryToken:e})},e.prototype.unlinkRecoveryPhone=function(t,e){return this.generateRequest("post",this.generateRequestUrl("/myInfo/v3p1/passwordRecovery/mobilePhone/unlink",void 0,Re.a.tmsUrl),this.basicBodyMapFunction,{codeSMS:t,passwordRecoveryToken:e})},e.prototype.addRecoveryEmail=function(t){return this.generateRequest("post",this.generateRequestUrl("/myInfo/v3p1/passwordRecovery/email/sendVerification",void 0,Re.a.tmsUrl),this.basicBodyMapFunction,{email:t})},e.prototype.getRecoveryType=function(t){return this.generateRequest("get",this.generateRequestUrl("/myInfo/v3p1/passwordRecovery",void 0,Re.a.tmsUrl),this.basicBodyMapFunction,{type:t})},e.prototype.getRecoveryValidation=function(){return this.generateRequest("get",this.generateRequestUrl("/myInfo/v3p1/passwordRecovery/questions/passwordRecoveryValidation",void 0,Re.a.tmsUrl),this.basicBodyMapFunction)},e.prototype.deleteRecoveryMethod=function(t){return this.generateRequest("delete",this.generateRequestUrl("/myInfo/v3p1/passwordRecovery",{type:t},Re.a.tmsUrl),this.basicBodyMapFunction)},e.\u0275fac=function(t){return new(t||e)(c.Wb(He.b))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(De.a),di=n("p0es"),ui=n("kCsR"),gi=function(t){function e(e){return t.call(this,e)||this}return Object(le.c)(e,t),e.prototype.getUserNotifications=function(){return this.generateRequest("get",this.generateRequestUrl("/myNotifications/v1.0/notifications",void 0,Re.a.notificationsUrl),(function(t){return t.body.notifications}))},e.prototype.readNotification=function(t){return this.generateRequest("post",this.generateRequestUrl("/myNotifications/v1.0/notifications/"+t+"/markRead",void 0,Re.a.notificationsUrl),this.basicBodyMapFunction)},e.prototype.adminPasswordResetNotification=function(){return this.generateRequest("post",this.generateRequestUrl("/notification/v1.0/adminPasswordChange",void 0,Re.a.notificationsUrl),this.basicBodyMapFunction)},e.\u0275fac=function(t){return new(t||e)(c.Wb(He.b))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(De.a),hi=n("sjEL"),bi=n.n(hi),fi=function(){return function(t){this.id=t.id,this.title=t.title,this.always_show=t.showAlways,this.read=!!t.isRead,this.created_on=bi()(t.tmStart).format(),this.message=t.body,this.messageMarkup=t.body,this.isNotificationApi=!0,this.opening_lines=""}}(),mi=n("JIr8"),vi=function(){function t(t,e,n,i){var o=this;this.sessionService=t,this.nodeApi=e,this.notificationsService=n,this.appsHelper=i,this.notificationsUpdated=new Pe.a(1),this.visibilitySet=new Pe.a(1),this.openModalCount=new de.a(0),this.visible=!1,this.isAupVisible=!1,this.tokensSet=new de.a({gws:!1,bearer:!1}),this.subscriptions=[],this.subscriptions[0]=t.gwsTokenSet.subscribe((function(){return o.getNotifications()})),this.subscriptions[2]=this.visibilitySet.subscribe((function(t){o.isAupVisible&&!t||(o.visible=t)})),this.subscriptions[3]=this.appsHelper.aupModalVisible.subscribe((function(t){return o.isAupVisible=t}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getNotifications=function(){var t=this,e=this.nodeApi.getNotifications().pipe(Object(mi.a)((function(t){return Object(v.a)([])}))),n=this.notificationsService.getUserNotifications().pipe(Object(mi.a)((function(t){return Object(v.a)([])})));Object(ue.a)({nodeApi:e,newApi:n}).subscribe((function(e){var n=e.nodeApi,i=e.newApi,o=[];i.length>0&&(o=i.map((function(t){return new fi(t)}))),o.push.apply(o,n),o.sort((function(t,e){return bi()(t.created_on).isAfter(bi()(e.created_on))?-1:bi()(t.created_on).isBefore(bi()(e.created_on))?1:0})),t.notificationsUpdated.next(o)}))},t.prototype.toggleVisibility=function(){this.visibilitySet.next(!this.visible)},t.prototype.updateOpenModalCount=function(t){var e=this;0===t?setTimeout((function(){return e.openModalCount.next(t)}),0):this.openModalCount.next(t)},t.\u0275fac=function(e){return new(e||t)(c.Wb(ae.a),c.Wb(Qt.a),c.Wb(gi),c.Wb(Xt.a))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),yi=n("AytR"),Ci=n("tRhJ"),xi=n("3Pt+");function wi(t,e){if(1&t&&c.Nb(0,"application",14),2&t){var n=c.dc(3);c.kc("app",n.app)("showFlags",!1)("showName",!1)}}function Pi(t,e){if(1&t&&(c.Sb(0,"div",9),c.Sb(1,"div",10),c.Sb(2,"h2",11),c.Ic(3),c.Rb(),c.Sb(4,"p",12),c.Ic(5),c.Rb(),c.Sb(6,"p"),c.Ic(7),c.Rb(),c.Sb(8,"p"),c.Ic(9),c.Rb(),c.Sb(10,"p"),c.Ic(11),c.Rb(),c.Rb(),c.Gc(12,wi,1,3,"application",13),c.Rb()),2&t){var n=c.dc().$implicit,i=c.dc();c.Ab(3),c.Jc(n("appReport.title")),c.Ab(2),c.Jc(i.app.name),c.Ab(2),c.Lc("",n("appReport.appId")," ",i.app.id,""),c.Ab(2),c.Lc("",n("appReport.appType")," ",i.appInfo.type,""),c.Ab(2),c.Lc("",n("appReport.source")," ",i.appInfo.source,""),c.Ab(1),c.kc("ngIf",i.app)}}function Oi(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Gc(1,Pi,13,9,"div",2),c.Sb(2,"div",3),c.Sb(3,"label",4),c.Ic(4),c.Rb(),c.Sb(5,"textarea",5),c.Zb("ngModelChange",(function(t){return c.yc(n),c.dc().data.feedback=t})),c.Rb(),c.Sb(6,"span",6),c.Ic(7),c.Rb(),c.Rb(),c.Sb(8,"div",7),c.Sb(9,"p"),c.Ic(10),c.Rb(),c.Sb(11,"button",8),c.Zb("click",(function(){return c.yc(n),c.dc().submitFeedback()})),c.Ic(12),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(1),c.kc("ngIf",o.app),c.Ab(3),c.Jc(i("appReport.label")),c.Ab(1),c.kc("ngModel",o.data.feedback)("maxLength",o.maxLength),c.Ab(1),c.Eb("text-danger",o.data.feedback.toString().length>o.maxLength-100),c.Ab(1),c.Lc(" ",o.maxLength-(o.data.feedback?o.data.feedback.toString().length:0)," ",i("appReport.charLimit")," "),c.Ab(3),c.Jc(i("appReport.info")),c.Ab(1),c.Eb("disabled",o.cantSubmit()),c.kc("disabled",o.cantSubmit())("tabIndex",""===o.data.feedback.trim()?-1:0),c.Ab(1),c.Jc(i("common.submit"))}}var Mi=function(){function t(t,e,n,i,o){var r=this;this.feedbackService=t,this.slideoverService=e,this.translationHelper=n,this.sessionService=i,this.cdr=o,this.visible=!1,this.submitted=!1,this.maxLength=1e3,this.data={issue:"Report an Issue",feedback:"",category:Re.a.productCategory,context:void 0},this.appInfo={type:"",source:""},this.subscriptions=[],this.subscriptions[0]=e.appReport.opened.subscribe((function(t){return r.initSlideover(t)}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.initSlideover=function(t){this.data={issue:"Report an Issue",feedback:"",category:Re.a.productCategory,context:void 0},this.app=t,this.visible=!0,this.data.feedback="",this.appInfo={type:Xt.a.convertTypeToText(this.app.type),source:Xt.a.convertSourceToText(this.app.source)}},t.prototype.onVisibleChange=function(t){t||this.slideoverService.appReport.closed.next(!0)},t.prototype.submitFeedback=function(){var t=this;this.cantSubmit()||(this.submitted=!0,this.data.issue=this.data.issue+" : "+this.app.name,this.data.context={"App Name":this.app.name,"App ID":this.app.id,"App Type":this.appInfo.type,"App Source":this.appInfo.source},this.feedbackService.sendFeedback(this.sessionService.getBearerToken(),Re.a.productGuid,this.data,"prod"===Re.a.environment||"staging"===Re.a.environment?"prod":"beta").subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"growl.feedback",verb:"common.submitted"}),t.visible=!1,t.submitted=!1,t.cdr.detectChanges()})))},t.prototype.cantSubmit=function(){return!(this.data.feedback&&this.data.feedback.match(/(\w+)/g).length>=4)||this.submitted},t.\u0275fac=function(e){return new(e||t)(c.Mb(We.x),c.Mb(xe.a),c.Mb(Be.a),c.Mb(ae.a),c.Mb(c.h))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-app-report"]],decls:2,vars:2,consts:[["aria-labelledby","appReportTitle","role","dialog",1,"app-report","compact-slideover","custom-scroll",3,"visible","clFocusTrap","visibleChange"],[4,"transloco"],["class","slideover-header flex-start",4,"ngIf"],[1,"slideover-content","custom-scroll"],["for","feedbackInput"],["id","feedbackInput","required","",1,"custom-scroll",3,"ngModel","maxLength","ngModelChange"],[1,"char-limit"],[1,"slideover-controls"],[1,"button","button-primary",3,"disabled","tabIndex","click"],[1,"slideover-header","flex-start"],[1,"flex-start","column-nowrap"],["id","appReportTitle"],[1,"app-name"],[3,"app","showFlags","showName",4,"ngIf"],[3,"app","showFlags","showName"]],template:function(t,e){1&t&&(c.Sb(0,"cl-slideover",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(t){return e.onVisibleChange(t)})),c.Gc(1,Oi,13,14,"ng-container",1),c.Rb()),2&t&&c.kc("visible",e.visible)("clFocusTrap",e.visible)},directives:[We.S,We.y,Te.c,i.l,xi.a,xi.o,xi.j,xi.m,Rn],styles:[".slideover-header[_ngcontent-%COMP%]{-ms-flex-flow:row nowrap;flex-flow:row nowrap;height:auto;-ms-flex-preferred-size:auto;flex-basis:auto;padding-top:20px}.slideover-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 14px);font-weight:600;letter-spacing:normal;word-spacing:normal}.slideover-header[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 16px);font-weight:700;margin-bottom:10px;color:var(--color-dark)}.slideover-header[_ngcontent-%COMP%]   application[_ngcontent-%COMP%]{margin-left:auto}.slideover-header[_ngcontent-%COMP%] > .flex-start[_ngcontent-%COMP%]{overflow:hidden;padding-right:15px}label[_ngcontent-%COMP%]{margin-bottom:5px}textarea[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1;min-height:185px}p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px);color:var(--color-medium)}button.button-primary[_ngcontent-%COMP%]{min-width:unset;padding:0 20px}.char-limit[_ngcontent-%COMP%]{padding-top:5px;font-size:calc(var(--font-modifier) * 11px)}"]}),t}(),_i=["backArrow"],ki=["tab"];function Si(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",6,7),c.Zb("click",(function(){return c.yc(n),c.dc(2).onBackClick()})),c.Nb(2,"i",8),c.Rb()}if(2&t){var i=c.dc().$implicit;c.Bb("aria-label",i("common.goBack"))}}function Ai(t,e){if(1&t&&(c.Sb(0,"span",9),c.Nb(1,"i",10),c.Rb()),2&t){c.dc();var n=c.vc(7);c.kc("clTooltip",n)}}function Ii(t,e){if(1&t&&(c.Sb(0,"div",11),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=c.dc().$implicit;c.Ab(2),c.Jc(n("myProfile.security.networkPassword.tooltip"))}}function Ri(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",14,15),c.Zb("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onTabClickChange(t)})),c.Ic(2),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(3);c.Eb("active",o.activeTab.title===i.title),c.Bb("aria-selected",o.activeTab.title===i.title),c.Ab(2),c.Kc(" ",i.title," ")}}function Ti(t,e){if(1&t&&(c.Sb(0,"div",12),c.Gc(1,Ri,3,4,"button",13),c.Rb()),2&t){var n=c.dc(2);c.Ab(1),c.kc("ngForOf",n.tabs)}}function Fi(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",1),c.Gc(2,Si,3,1,"button",2),c.Sb(3,"h2"),c.Ic(4),c.Rb(),c.Gc(5,Ai,2,1,"span",3),c.Gc(6,Ii,3,1,"ng-template",null,4,c.Hc),c.Rb(),c.Gc(8,Ti,2,1,"div",5),c.Pb()),2&t){var n=e.$implicit,i=c.dc();c.Ab(1),c.Eb("border-bottom",0!==i.activeTabPage),c.Ab(1),c.kc("ngIf",0!==i.activeTabPage),c.Ab(2),c.Kc(" ",i.title?i.title:0!==i.activeTabPage?i.activeTab.title:n("myProfile.header.title")," "),c.Ab(1),c.kc("ngIf",5===i.activeTab.id&&1===i.activeTabPage),c.Ab(3),c.kc("ngIf",0===i.activeTabPage)}}var Ei=function(){function t(t,e,n){var i=this;this.helper=e,this.settingsService=n,this.activeTabPage=0,this.hasDynamicThemePermission=!1,this.subscriptions=[],this.subscriptions[0]=e.generalSettingsUpdated.subscribe((function(t){return i.generalSettings=t})),this.subscriptions[1]=e.tabsUpdated.subscribe((function(t){i.tabs=t,i.activeTab=i.activeTab?i.activeTab:t[0]})),this.subscriptions[2]=e.activeTabUpdated.subscribe((function(t){return i.activeTab=t})),this.subscriptions[3]=e.tabPageChanged.subscribe((function(t){i.activeTabPage=t,setTimeout((function(){if(i.backArrowElement)i.backArrowElement.nativeElement.focus();else if(i.tabElements.length>0){var t=i.tabElements.filter((function(t){return t.nativeElement.classList.contains("active")}));(null==t?void 0:t.length)>0&&t[0].nativeElement.focus()}}),0)})),this.subscriptions[4]=t.userInfoUpdated.subscribe((function(t){return i.userInfo=t})),this.subscriptions[5]=e.titleUpdated.subscribe((function(t){return i.title=t})),this.settingsService.resetSessionTimeout()}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onTabClickChange=function(t){this.activeTab!=t&&this.settingsService.resetSessionTimeout(),this.activeTab=t,this.helper.activeTabUpdated.next(t),this.helper.tabPageChanged.next(0),this.helper.titleUpdated.next(void 0)},t.prototype.onBackClick=function(){this.helper.tabPageChanged.next(0),this.helper.titleUpdated.next(void 0)},t.\u0275fac=function(e){return new(e||t)(c.Mb(ae.a),c.Mb(Fe),c.Mb(di.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-profile-header"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(_i,!0),c.Nc(ki,!0)),2&t&&(c.uc(n=c.ac())&&(e.backArrowElement=n.first),c.uc(n=c.ac())&&(e.tabElements=n))},decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-header"],["class","back-arrow",3,"click",4,"ngIf"],[3,"clTooltip",4,"ngIf"],["helpTooltip",""],["class","cl-tabs","role","tablist",4,"ngIf"],[1,"back-arrow",3,"click"],["backArrow",""],[1,"fas","fa-arrow-left"],[3,"clTooltip"],[1,"fas","fa-question-circle"],[1,"cl-tooltip"],["role","tablist",1,"cl-tabs"],["class","tab cl-focusable","role","tab",3,"active","click",4,"ngFor","ngForOf"],["role","tab",1,"tab","cl-focusable",3,"click"],["tab",""]],template:function(t,e){1&t&&c.Gc(0,Fi,9,6,"ng-container",0)},directives:[Te.c,i.l,We.Y,i.k],styles:["[_nghost-%COMP%]{-ms-flex-negative:0;flex-shrink:0}img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;margin-right:10px}.slideover-header.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-border-dark)}.back-arrow[_ngcontent-%COMP%]{padding:0;margin-right:10px}.back-arrow[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-primary);font-size:22px}.tab.analytics[_ngcontent-%COMP%]{margin-left:auto;margin-right:0;color:var(--color-primary);opacity:1}.tab.analytics[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:5px;color:var(--color-primary)}h2[_ngcontent-%COMP%]{text-transform:unset;font-size:calc(var(--font-modifier) * 18px);font-weight:800;font-family:Open Sans,sans-serif}span[_ngcontent-%COMP%]{display:inline;margin-left:5px}"]}),t}(),Di=n("gQMU"),Li=n.n(Di),Ni=new c.q("WindowToken","undefined"!=typeof window&&window.document?{providedIn:"root",factory:function(){return window}}:{providedIn:"root",factory:function(){}}),Hi=function(){var t=function(){return Object(s.a)((function t(e,n,i){Object(a.a)(this,t),this.ngZone=e,this.document=n,this.window=i,this.copySubject=new m.a,this.copyResponse$=this.copySubject.asObservable(),this.config={}}),[{key:"configure",value:function(t){this.config=t}},{key:"copy",value:function(t){if(!this.isSupported||!t)return this.pushCopyResponse({isSuccess:!1,content:t});var e=this.copyFromContent(t);return this.pushCopyResponse(e?{content:t,isSuccess:e}:{isSuccess:!1,content:t})}},{key:"isSupported",get:function(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window}},{key:"isTargetValid",value:function(t){if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){if(t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")}},{key:"copyFromInputElement",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{this.selectTarget(t);var n=this.copyText();return this.clearSelection(e?t:void 0,this.window),n&&this.isCopySuccessInIE11()}catch(i){return!1}}},{key:"isCopySuccessInIE11",value:function(){var t=this.window.clipboardData;return!(t&&t.getData&&!t.getData("Text"))}},{key:"copyFromContent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.document.body;if(this.tempTextArea&&!e.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement||void 0),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{e.appendChild(this.tempTextArea)}catch(i){throw new Error("Container should be a Dom element")}}this.tempTextArea.value=t;var n=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement||void 0),n}},{key:"destroy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.document.body;this.tempTextArea&&(t.removeChild(this.tempTextArea),this.tempTextArea=void 0)}},{key:"selectTarget",value:function(t){return t.select(),t.setSelectionRange(0,t.value.length),t.value.length}},{key:"copyText",value:function(){return this.document.execCommand("copy")}},{key:"clearSelection",value:function(t,e){var n;t&&t.focus(),null===(n=e.getSelection())||void 0===n||n.removeAllRanges()}},{key:"createTempTextArea",value:function(t,e){var n,i="rtl"===t.documentElement.getAttribute("dir");return(n=t.createElement("textarea")).style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[i?"right":"left"]="-9999px",n.style.top=(e.pageYOffset||t.documentElement.scrollTop)+"px",n.setAttribute("readonly",""),n}},{key:"pushCopyResponse",value:function(t){var e=this;this.copySubject.observers.length>0&&this.ngZone.run((function(){e.copySubject.next(t)}))}},{key:"pushCopyReponse",value:function(t){this.pushCopyResponse(t)}}])}();return t.\u0275fac=function(e){return new(e||t)(c.Wb(c.z),c.Wb(i.d),c.Wb(Ni,8))},t.\u0275prov=Object(c.Ib)({factory:function(){return new t(Object(c.Wb)(c.z),Object(c.Wb)(i.d),Object(c.Wb)(Ni,8))},token:t,providedIn:"root"}),t}();function Gi(t,e){1&t&&(c.Sb(0,"div",24),c.Nb(1,"i",25),c.Rb())}function Bi(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",26),c.Sb(1,"button",27),c.Zb("click",(function(){return c.yc(n),c.dc(2).resendVerificationEmail()})),c.Ic(2),c.Rb(),c.Sb(3,"button",27),c.Zb("click",(function(){return c.yc(n),c.dc(2).revertEmail()})),c.Ic(4),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit;c.Ab(1),c.Bb("aria-label",i("myProfile.general.resend")),c.Ab(1),c.Jc(i("myProfile.general.resend")),c.Ab(1),c.Bb("aria-label",i("myProfile.general.revert")),c.Ab(1),c.Jc(i("myProfile.general.revert"))}}function ji(t,e){if(1&t&&(c.Sb(0,"h3"),c.Ic(1),c.Rb()),2&t){var n=c.dc().$implicit;c.Ab(1),c.Jc(n("myProfile.general.parentCodes"))}}function Ui(t,e){1&t&&(c.Sb(0,"div",34),c.Nb(1,"i",13),c.Rb())}function zi(t,e){1&t&&c.Gc(0,Ui,2,0,"div",33),2&t&&c.kc("ngIf",e.row.parent_userid)}var Vi=function(t){return{label:t}};function Zi(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",41),c.Zb("click",(function(t){c.yc(n);var e=c.dc().row;return c.dc(3).displayTtip(e.codeId,t)})),c.Nb(1,"i",42),c.Rb()}if(2&t){var i=c.dc().row,o=c.vc(7),r=c.vc(5),a=c.dc(2).$implicit,s=c.dc();c.kc("clTooltip",i.codeId==s.displayCode?o:r)("clTooltipContext",c.nc(5,Vi,a("common.delete")))("clTooltipPersist",i.codeId==s.displayCode)("clTooltipDisplay",i.codeId==s.displayCode),c.Bb("aria-label","delete")}}function $i(t,e){1&t&&c.Nb(0,"div",43),2&t&&c.kc("innerText",e.$implicit.label)}function Wi(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",44),c.Zb("clClickOutside",(function(t){c.yc(n);var e=c.dc().row;return c.dc(3).displayTtip(e.codeId,t)}))("mouseleave",(function(t){c.yc(n);var e=c.dc().row;return c.dc(3).displayTtip(e.codeId,t)})),c.Sb(1,"h4"),c.Ic(2),c.Rb(),c.Sb(3,"div",45),c.Sb(4,"button",46),c.Zb("click",(function(t){c.yc(n);var e=c.dc().row;return c.dc(3).displayTtip(e.codeId,t)})),c.Ic(5),c.Rb(),c.Sb(6,"button",47),c.Zb("click",(function(){c.yc(n);var t=c.dc().row;return c.dc(3).deleteCode(t.codeId)})),c.Ic(7),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.dc(3).$implicit;c.Ab(2),c.Jc(i("myProfile.general.deleteCode")),c.Ab(3),c.Jc(i("common.cancel")),c.Ab(2),c.Jc(i("common.delete"))}}function Ji(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",35),c.Gc(1,Zi,2,7,"button",36),c.Sb(2,"button",37),c.Zb("click",(function(){c.yc(n);var t=e.row;return c.dc(3).copyCode(t.parentcode)})),c.Nb(3,"i",38),c.Rb(),c.Gc(4,$i,1,1,"ng-template",null,39,c.Hc),c.Gc(6,Wi,8,3,"ng-template",null,40,c.Hc),c.Rb()}if(2&t){var i=c.vc(5),o=c.dc(2).$implicit,r=c.dc();c.Ab(1),c.kc("ngIf","Student"!==r.userInfo.Role),c.Ab(1),c.kc("clTooltip",i)("clTooltipContext",c.nc(4,Vi,o("common.copy"))),c.Bb("aria-label","copy")}}function qi(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",28),c.Sb(1,"cl-data-table",29),c.Gc(2,zi,1,1,"ng-template",30),c.Gc(3,Ji,8,6,"ng-template",31),c.Rb(),c.Sb(4,"button",32),c.Zb("click",(function(){return c.yc(n),c.dc(2).addCode()})),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(1),c.kc("dataFields",o.parentTable)("data",o.parentCodes)("showPaginator",!1),c.Ab(3),c.kc("innerText",i("common.add"))("disabled",!o.parentCodes||o.parentCodes.length>=3)}}function Ki(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",48),c.Nb(1,"cl-data-table",29),c.Sb(2,"div",49),c.Sb(3,"cl-input",50),c.Zb("valueChange",(function(t){return c.yc(n),c.dc(2).redeemCode=t})),c.Rb(),c.Sb(4,"button",51),c.Zb("click",(function(){return c.yc(n),c.dc(2).redeemStudent()})),c.Ic(5),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(1),c.kc("dataFields",o.studentTable)("data",o.studentCode)("showPaginator",!1),c.Ab(2),c.kc("label",i("myProfile.general.redeemCode"))("labelVisible",!1)("value",o.redeemCode),c.Ab(1),c.kc("disabled",!o.redeemCode),c.Ab(1),c.Jc(i("myProfile.general.redeemCode"))}}var Yi=function(){return{id:"first-name-input"}},Qi=function(){return{id:"last-name-input"}},Xi=function(){return{id:"display-name-input"}},to=function(){return{id:"email-input"}};function eo(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"label"),c.Ic(4),c.Rb(),c.Sb(5,"div",3),c.Zb("click",(function(){return c.yc(n),c.dc().helper.tabPageChanged.next(1)}))("keydown.Enter",(function(){return c.yc(n),c.dc().helper.tabPageChanged.next(1)}))("keydown.Space",(function(t){c.yc(n);var e=c.dc();return t.preventDefault(),e.helper.tabPageChanged.next(1)}))("focusin",(function(){return c.yc(n),c.dc().hoveredImage=!0}))("mouseenter",(function(){return c.yc(n),c.dc().hoveredImage=!0}))("mouseleave",(function(){return c.yc(n),c.dc().hoveredImage=!1}))("focusout",(function(){return c.yc(n),c.dc().hoveredImage=!1})),c.Nb(6,"img",4),c.Sb(7,"p",5),c.Ic(8),c.Rb(),c.Gc(9,Gi,2,0,"div",6),c.Rb(),c.Rb(),c.Sb(10,"div",7),c.Sb(11,"cl-input",8),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().form.firstName=t})),c.Rb(),c.Sb(12,"cl-input",8),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().form.lastName=t})),c.Rb(),c.Sb(13,"cl-input",8),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().form.displayName=t})),c.Rb(),c.Sb(14,"div",9),c.Gc(15,Bi,5,4,"div",10),c.Sb(16,"cl-input",11),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().form.email=t})),c.Rb(),c.Sb(17,"span",12),c.Nb(18,"i",13),c.Rb(),c.Rb(),c.Sb(19,"div",14),c.Sb(20,"label",15),c.Ic(21),c.Rb(),c.Sb(22,"cl-dropdown",16),c.Zb("selectionChange",(function(t){return c.yc(n),c.dc().form.languageId=t})),c.Rb(),c.Rb(),c.Sb(23,"div",14),c.Sb(24,"label",17),c.Ic(25),c.Rb(),c.Sb(26,"cl-dropdown",18),c.Zb("selectionChange",(function(t){return c.yc(n),c.dc().form.defaultTimeFormat=t})),c.Rb(),c.Rb(),c.Rb(),c.Gc(27,ji,2,1,"h3",19),c.Gc(28,qi,5,5,"div",20),c.Gc(29,Ki,6,8,"div",21),c.Rb(),c.Sb(30,"div",22),c.Sb(31,"button",23),c.Zb("click",(function(){return c.yc(n),c.dc().setGeneralSettings()})),c.Ic(32),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(4),c.Jc(i("myProfile.general.profileImage")),c.Ab(1),c.Bb("aria-label",i("myProfile.general.changeAvatar")),c.Ab(1),c.kc("src",o.userInfo.ImagePath,c.Ac),c.Ab(2),c.Jc(i("header.profilePictureLabel")),c.Ab(1),c.kc("ngIf",o.hoveredImage),c.Ab(2),c.kc("value",o.form.firstName)("disabled",!!o.generalSettings.FirstName)("attributes",c.mc(46,Yi))("inputValidator",o.blankValidator.bind(o,"firstName"))("label",i("myProfile.general.firstName")),c.Ab(1),c.kc("value",o.form.lastName)("disabled",!!o.generalSettings.LastName)("attributes",c.mc(47,Qi))("inputValidator",o.blankValidator.bind(o,"lastName"))("label",i("myProfile.general.lastName")),c.Ab(1),c.kc("value",o.form.displayName)("disabled",!!o.generalSettings.DisplayName)("attributes",c.mc(48,Xi))("inputValidator",o.blankValidator.bind(o,"displayName"))("label",i("myProfile.general.displayName")),c.Ab(2),c.kc("ngIf",o.generalSettings&&o.generalSettings.TempEmail),c.Ab(1),c.kc("attributes",c.mc(49,to))("disabled",!(o.generalSettings&&o.generalSettings.IsEditUserEmail)||o.userInfo.isImpersonated||!0)("value",o.form.email)("inputValidator",o.emailValidator.bind(o))("label",i("myProfile.general.email")),c.Ab(5),c.Jc(i("myProfile.general.defaultLanguage")),c.Ab(1),c.kc("id","default-language")("selection",o.form.languageId)("bodyAppend",!0)("options",o.languages)("optionValue","LanguageId")("optionLabel","Name")("showRemove",!1),c.Ab(3),c.Jc(i("myProfile.general.defaultTime")),c.Ab(1),c.kc("id","default-time")("selection",o.form.defaultTimeFormat)("bodyAppend",!0)("options",o.timeFormats)("showRemove",!1),c.Ab(1),c.kc("ngIf","Student"===o.userInfo.Role&&o.parentCodes||"Parent"===o.userInfo.Role),c.Ab(1),c.kc("ngIf","Student"===o.userInfo.Role&&o.parentCodes),c.Ab(1),c.kc("ngIf","Parent"===o.userInfo.Role),c.Ab(2),c.kc("disabled",!o.canSaveForm())("tabindex",o.canSaveForm()?0:-1),c.Ab(1),c.Jc(i("common.save"))}}var no=function(){function t(t,e,n,i,o,r){var a=this;this.sessionService=t,this.helper=e,this.nodeApi=n,this.translationHelper=i,this.translationService=o,this.clipboardService=r,this.page=0,this.languages=[],this.hoveredImage=!1,this.timeFormats=[{label:"12 Hour",value:12},{label:"24 Hour",value:24}],this.form={firstName:"",lastName:"",displayName:"",languageId:1,defaultViewType:3,defaultTimeFormat:12,email:""},this.parentTable=[{header:"Parent Codes",fieldName:"parentcode",canSort:!1,canFilter:!1,columnWidth:80},{header:"Redeemed",fieldName:"",template:{name:"col2"},minWidth:90},{header:"",fieldName:"",template:{headerName:"",name:"buttons"},canSort:!1,canFilter:!1,minWidth:80,columnWidth:1}],this.studentTable=[{header:"Student",fieldName:"DisplayName",columnWidth:25},{header:"User Name",fieldName:"UserName",columnWidth:25},{header:"Code",fieldName:"ParentRedeemCode",columnWidth:50}],this.redeemCode="",this.APP_CONFIG=Re.a,this.demoCode=[{UserId:13614952,DisplayName:"43nosync",FirstName:"43nosync",LastName:"",Email:"43nosync@DTCTesting.ec2.local",UserName:"43nosync",ParentRedeemCode:"LOL-a54731ad-82ba-49b4-8593-846ddc5ddf03",RedeemcodeId:2675688,IsDefault:1}],this.subscriptions=[],this.userInfo=t.getUserInfo(),this.subscriptions[0]=e.generalSettingsUpdated.subscribe((function(t){a.generalSettings=t,a.parentCodes=a.generalSettings.RedeemCode,t&&a.fillForm()})),this.subscriptions[1]=o.selectTranslate("myProfile.general.12hour").subscribe((function(t){return a.timeFormats[0].label=t})),this.subscriptions[2]=o.selectTranslate("myProfile.general.24hour").subscribe((function(t){return a.timeFormats[1].label=t})),this.subscriptions[3]=o.selectTranslate("myProfile.general.parentCodes").subscribe((function(t){return a.parentTable[0].header=t})),this.subscriptions[4]=o.selectTranslate("myProfile.general.redeemCode").subscribe((function(t){return a.parentTable[1].header=t})),this.subscriptions[5]=this.helper.avatarUpdated.subscribe((function(t){a.updateUserAvatar(t)})),this.subscriptions[6]=this.helper.avatarUpdated.subscribe((function(t){a.updateUserAvatar(t)}))}return Object.defineProperty(t.prototype,"avatarUrl",{set:function(t){t&&this.updateUserAvatar(t)},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.redeemCode="","Parent"===this.userInfo.Role&&this.nodeApi.getstudentCodes().subscribe((function(e){1==e.status&&(t.studentCode=e.aaData)})),this.getLanguages(),this.generalSettings&&this.generalSettings.ImagePath&&this.updateUserAvatar(this.generalSettings.ImagePath)},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.blankValidator=function(t){var e=this.form[t];return $e.a.isNullOrUndefined(e)||""!==e.trim()},t.prototype.emailValidator=function(){return(!this.generalSettings||!this.generalSettings.TempEmail)&&$e.a.isValidEmail(this.form.email)},t.prototype.canSaveForm=function(){for(var t=0,e=Object.keys(this.form);t<e.length;t++){var n=e[t];if(!this.form[n]||""===this.form[n].toString().trim())return!1}return $e.a.isValidEmail(this.form.email)},t.prototype.fillForm=function(){this.form.firstName=this.generalSettings.FirstName,this.form.lastName=this.generalSettings.LastName,this.form.displayName=this.generalSettings.DisplayName,this.form.languageId=this.generalSettings.LanguageId,this.form.defaultViewType=this.generalSettings.DefaultViewType?this.generalSettings.DefaultViewType:3,this.form.defaultTimeFormat=0===this.generalSettings.DefaultTimeFormat?12:this.generalSettings.DefaultTimeFormat,this.form.email=this.generalSettings.TempEmail?this.generalSettings.TempEmail:this.generalSettings.Email},t.prototype.getLanguages=function(){var t=this;this.nodeApi.getLanguages().subscribe((function(e){e.forEach((function(e){e.Name=t.translationService.translateObject("myProfile.general.languages."+e.ShortName)})),t.languages=fe()(e,["Name"])}))},t.prototype.setGeneralSettings=function(){var t=this,e={};Object.keys(this.form).map((function(n){e[Li()(n)]=t.form[n]})),this.nodeApi.setGeneralSettings(e).subscribe((function(n){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"growl.settings",verb:"common.edited"}),t.helper.generalSettingsUpdated.next(Object(le.a)(Object(le.a)({},t.generalSettings),e))}),(function(e){t.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.invalidSettings",detail:"error.invalidSettingsDetail"})}))},t.prototype.resendVerificationEmail=function(){var t=this;this.nodeApi.resendVerificationEmail().subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.general.verificationEmail",verb:"growl.sent"})}))},t.prototype.revertEmail=function(){var t=this;this.nodeApi.revertEmail().subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.general.email",verb:"growl.reverted"}),t.helper.getGeneralSettings()}))},t.prototype.addCode=function(){var t=this;this.nodeApi.addParentCode().subscribe((function(e){1==e.status||"Maximum limit to generate redeem code has been reached."!=e.response?1==e.status&&(t.generalSettings.RedeemCode=e.result?e.result:[],t.helper.generalSettingsUpdated.next(t.generalSettings),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"growl.code",verb:"common.added"})):t.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.tooManyCodes",detail:"error.tooManyCodesDetail"})}))},t.prototype.deleteCode=function(t){var e=this;this.nodeApi.deleteParentCode(t).subscribe((function(t){1==t.status&&(e.generalSettings.RedeemCode=t.redeemCode?t.redeemCode:[],e.helper.generalSettingsUpdated.next(e.generalSettings),e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"growl.code",verb:"common.deleted"}))}))},t.prototype.copyCode=function(t){this.clipboardService.copyFromContent(t)&&this.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"growl.code",verb:"common.copied"})},t.prototype.redeemStudent=function(){var t=this;this.nodeApi.redeemStudent(this.redeemCode).subscribe((function(e){t.nodeApi.getstudentCodes().subscribe((function(e){1==e.status&&(t.studentCode=e.aaData)}))}))},t.prototype.displayTtip=function(t,e){e&&e.stopPropagation(),this.displayCode=t===this.displayCode?null:t},t.prototype.updateUserAvatar=function(t){if(this.generalSettings){var e=t.startsWith("http")?t:Re.a.cloudDriveCdn+"/"+t;this.generalSettings.ImagePath=e,this.userInfo.ImagePath=e}},t.\u0275fac=function(e){return new(e||t)(c.Mb(ae.a),c.Mb(Fe),c.Mb(Qt.a),c.Mb(Be.a),c.Mb(Te.f),c.Mb(Hi))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-general-tab"]],inputs:{avatarUrl:"avatarUrl"},decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-content"],[1,"img-sect","flex-start","column-nowrap"],["tabindex","0","role","button",1,"relative-ctnr",3,"click","keydown.Enter","keydown.Space","focusin","mouseenter","mouseleave","focusout"],["aria-describedby","profileImgDescriptor","onerror","this.src = 'assets/images/default-avatar.png'",3,"src","alt"],["id","profileImgDescriptor",1,"off-screen"],["class","cog-ctnr flex-center",4,"ngIf"],[1,"form","flex-start","column-nowrap"],[3,"value","disabled","attributes","inputValidator","label","valueChange"],[1,"email-ctnr"],["class","button-ctnr flex-start",4,"ngIf"],[1,"email-input",3,"attributes","disabled","value","inputValidator","label","valueChange"],[1,"verified-check","flex-center"],[1,"fas","fa-check"],[1,"flex-start","column-nowrap"],["for","default-language"],[3,"id","selection","bodyAppend","options","optionValue","optionLabel","showRemove","selectionChange"],["for","default-time"],[3,"id","selection","bodyAppend","options","showRemove","selectionChange"],[4,"ngIf"],["class","flex-start column-nowrap parent-codes",4,"ngIf"],["class","flex-start colum-nowrap parent-codes",4,"ngIf"],[1,"slideover-controls"],[1,"button","button-secondary","left-auto",3,"disabled","tabindex","click"],[1,"cog-ctnr","flex-center"],[1,"fas","fa-cog"],[1,"button-ctnr","flex-start"],[1,"button-text",3,"click"],[1,"flex-start","column-nowrap","parent-codes"],[3,"dataFields","data","showPaginator"],["clTemplate","col2"],["clTemplate","buttons"],[1,"button","button-primary",3,"innerText","disabled","click"],["class","flex-start col2",4,"ngIf"],[1,"flex-start","col2"],[1,"flex-end-center","buttons-ctnr"],["class","button-icon color-danger",3,"clTooltip","clTooltipContext","clTooltipPersist","clTooltipDisplay","click",4,"ngIf"],[1,"button-icon","color-primary",3,"clTooltip","clTooltipContext","click"],[1,"far","fa-copy"],["tooltip",""],["delTooltip",""],[1,"button-icon","color-danger",3,"clTooltip","clTooltipContext","clTooltipPersist","clTooltipDisplay","click"],[1,"far","fa-times"],[1,"cl-tooltip",3,"innerText"],[1,"cl-tooltip","confirmation",3,"clClickOutside","mouseleave"],[1,"buttons-ctnr"],[1,"button","button-default",3,"click"],[1,"button","button-default","text-danger",3,"click"],[1,"flex-start","colum-nowrap","parent-codes"],[1,"row-wrap"],[3,"label","labelVisible","value","valueChange"],[1,"button","button-primary",3,"disabled","click"]],template:function(t,e){1&t&&c.Gc(0,eo,33,50,"ng-container",0)},directives:[Te.c,i.l,We.C,We.t,We.p,We.f,We.Y,We.i],styles:['.img-sect[_ngcontent-%COMP%]{position:relative}.img-sect[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:5px}.img-sect[_ngcontent-%COMP%]   .off-screen[_ngcontent-%COMP%]{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}.img-sect[_ngcontent-%COMP%]   .relative-ctnr[_ngcontent-%COMP%]{position:relative;width:85px;height:85px;border-radius:50%;margin-bottom:20px}.img-sect[_ngcontent-%COMP%]   .relative-ctnr[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.img-sect[_ngcontent-%COMP%]   .relative-ctnr[_ngcontent-%COMP%]   .cog-ctnr[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:1;width:100%;height:100%;cursor:pointer}.img-sect[_ngcontent-%COMP%]   .relative-ctnr[_ngcontent-%COMP%]   .cog-ctnr[_ngcontent-%COMP%]:before{content:"";opacity:.5;position:absolute;top:0;left:0;z-index:2;border-radius:50%;width:100%;height:100%;background-color:#fff}.img-sect[_ngcontent-%COMP%]   .relative-ctnr[_ngcontent-%COMP%]   .cog-ctnr[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:28px;z-index:3;color:var(--color-primary)}.form[_ngcontent-%COMP%]{width:50%;padding:20px 0}.form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:5px}.form[_ngcontent-%COMP%]   cl-input[_ngcontent-%COMP%]{height:62px}.form[_ngcontent-%COMP%]   cl-dropdown[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   cl-input[_ngcontent-%COMP%]{margin-bottom:20px}.email-ctnr[_ngcontent-%COMP%]{position:relative;width:100%}.email-ctnr[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--color-dark)}.email-ctnr[_ngcontent-%COMP%]   .button-ctnr[_ngcontent-%COMP%]{position:absolute;top:-5px;right:0;z-index:1}.email-ctnr[_ngcontent-%COMP%]   .button-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type{margin-right:20px}.email-ctnr[_ngcontent-%COMP%]   .button-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after, .email-ctnr[_ngcontent-%COMP%]   .button-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{top:0;height:100%}.email-ctnr[_ngcontent-%COMP%]   .verified-check[_ngcontent-%COMP%]{position:absolute;top:32px;right:20px}.email-ctnr[_ngcontent-%COMP%]   .verified-check[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:18px;color:var(--color-success)}.bottom-20[_ngcontent-%COMP%]{margin-bottom:20px}.parent-codes[_ngcontent-%COMP%]{-ms-flex-flow:column nowrap;flex-flow:column nowrap}.parent-codes[_ngcontent-%COMP%]   .row-wrap[_ngcontent-%COMP%]{width:100%;margin-top:15px}.parent-codes[_ngcontent-%COMP%]   .row-wrap[_ngcontent-%COMP%]   cl-input[_ngcontent-%COMP%]{max-width:300px;margin-right:20px}.parent-codes[_ngcontent-%COMP%]   cl-data-table[_ngcontent-%COMP%]{margin-top:20px;overflow-x:hidden;padding:15px 10px 10px;border-radius:5px;border:2px solid #ddd}.parent-codes[_ngcontent-%COMP%]   .buttons-ctnr[_ngcontent-%COMP%]{width:100%}.parent-codes[_ngcontent-%COMP%]   .buttons-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 20px);margin-right:15px}.parent-codes[_ngcontent-%COMP%] > .button-primary[_ngcontent-%COMP%]{margin-top:10px;-ms-flex-item-align:start;align-self:start}.col2[_ngcontent-%COMP%]{width:100%}.col2[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-success);font-size:20px}.buttons[_ngcontent-%COMP%]{width:100%}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 20px);margin-right:15px}']}),t}(),io=function(){function t(){this.recoverySelectionChanged=new Pe.a(0),this.twoFactorSelectionChanged=new Pe.a(0),this.progress=new de.a({selectAvatar:!1,customizeTheme:!1,passwordRecovery:!1,twoFactorAuth:!1}),this.modalVisible=new de.a({visible:!1}),this.initialRunSettingsUpdated=new m.a}return t.prototype.ngOnDestroy=function(){},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}(),oo=n("rIor"),ro=["fileInput"];function ao(t,e){if(1&t&&(c.Sb(0,"div",13),c.Sb(1,"h3"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=c.dc().$implicit;c.Ab(2),c.Jc(n("myProfile.general.selectAvatar.description"))}}function so(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",14),c.Sb(1,"button",15),c.Zb("click",(function(){return c.yc(n),c.dc(2).showTooltip=!0}))("clTooltipDisplayChange",(function(){c.yc(n);var t=c.dc(2);return t.showTooltip=!t.showTooltip})),c.Ic(2),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.vc(13),r=c.dc();c.Ab(1),c.kc("clTooltip",o)("clTooltipDisplay",r.showTooltip)("clTooltipPersist",!0),c.Ab(1),c.Kc(" ",i("myProfile.general.selectAvatar.resetLabel")," ")}}function co(t,e){if(1&t){var n=c.Tb();c.Sb(0,"input",16,17),c.Zb("change",(function(t){return c.yc(n),c.dc(2).onImageUpload(t)})),c.Rb()}}function lo(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",18),c.Sb(2,"button",19),c.Zb("click",(function(){return c.yc(n),c.dc(2).clickInput()})),c.Nb(3,"i",20),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.dc().$implicit;c.Ab(2),c.Bb("aria-label",i("myProfile.general.selectAvatar.uploadLabel"))}}var po=function(t){return{selected:t}};function uo(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",21),c.Zb("keydown.space",(function(){c.yc(n);var t=e.$implicit;return c.dc(2).selectAvatar(t.key)}))("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(2).selectAvatar(t.key)}))("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(2).selectAvatar(t.key)})),c.Nb(1,"img",22),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc().$implicit,r=c.dc();c.Bb("aria-selected",r.selectedImage===i.key),c.Ab(1),c.kc("src",i.url,c.Ac)("alt",o("imageLabels.avatars."+i.key))("ngClass",c.nc(4,po,r.selectedImage===i.key))}}function go(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",23),c.Sb(1,"h4"),c.Ic(2),c.Rb(),c.Sb(3,"div",24),c.Sb(4,"button",25),c.Zb("click",(function(){return c.yc(n),c.dc(2).showTooltip=!1})),c.Ic(5),c.Rb(),c.Sb(6,"button",26),c.Zb("click",(function(){return c.yc(n),c.dc(2).resetImage()})),c.Ic(7),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit;c.Ab(2),c.Jc(i("myProfile.general.selectAvatar.resetConfirmation")),c.Ab(3),c.Jc(i("common.cancel")),c.Ab(2),c.Jc(i("growl.reset"))}}var ho=function(t){return{padding:t}};function bo(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",2),c.Gc(2,ao,3,1,"div",3),c.Gc(3,so,3,4,"div",4),c.Gc(4,co,2,0,"input",5),c.Sb(5,"div",6),c.Gc(6,lo,4,1,"ng-container",7),c.Gc(7,uo,2,6,"div",8),c.Rb(),c.Rb(),c.Sb(8,"cl-modal",9),c.Zb("visibleChange",(function(t){return c.yc(n),c.dc().showImageModal=t})),c.Sb(9,"image-cropper",10),c.Zb("imageLoaded",(function(){return c.yc(n),c.dc().resetInputImage()}))("imageCropped",(function(t){return c.yc(n),c.dc().onImageCrop(t)})),c.Rb(),c.Sb(10,"button",11),c.Zb("click",(function(){return c.yc(n),c.dc().uploadImage()})),c.Ic(11),c.Rb(),c.Rb(),c.Gc(12,go,8,3,"ng-template",null,12,c.Hc),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc(),r=c.vc(2);c.Ab(2),c.kc("ngIf",!o.initialRun)("ngIfElse",r),c.Ab(1),c.kc("ngIf",!o.initialRun),c.Ab(1),c.kc("ngIf",o.settings&&o.settings.userInfo.canSetAvatar),c.Ab(1),c.kc("ngStyle",c.nc(11,ho,o.initialRun?"10px":"0")),c.Ab(1),c.kc("ngIf",o.settings&&o.settings.userInfo.canSetAvatar),c.Ab(1),c.kc("ngForOf",o.images),c.Ab(1),c.kc("visible",o.showImageModal),c.Ab(1),c.kc("imageChangedEvent",o.imageUploadEvent),c.Ab(1),c.Bb("aria-label",i("myProfile.general.selectAvatar.uploadCropped")),c.Ab(1),c.Jc(i("myProfile.general.selectAvatar.upload"))}}function fo(t,e){if(1&t&&(c.Sb(0,"div",28),c.Nb(1,"img",29),c.Sb(2,"label",30),c.Ic(3),c.Rb(),c.Rb()),2&t){var n=e.$implicit,i=c.dc(2);c.Ab(1),c.kc("src",i.userInfo.ImagePath,c.Ac),c.Ab(2),c.Jc(n("myProfile.general.profileImage"))}}function mo(t,e){1&t&&c.Gc(0,fo,4,2,"div",27)}var vo=function(){function t(t,e,n,i,o){var r=this;this.helper=t,this.nodeApi=e,this.translationHelper=n,this.sessionService=i,this.initialRunHelper=o,this.initialRun=!1,this.showImageModal=!1,this.images=[],this.showTooltip=!1,this.selectedImage="",this.subscriptions=[],this.validFileTypes=["image/png","image/jpeg","image/jpg"],this.subscriptions[0]=t.generalSettingsUpdated.subscribe((function(t){return r.generalSettings=t})),this.subscriptions[1]=i.userInfoUpdated.subscribe((function(t){return r.userInfo=t})),this.subscriptions[2]=this.sessionService.settingsUpdated.subscribe((function(t){r.settings=t}))}return t.prototype.ngOnInit=function(){this.getProfileImages()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getProfileImages=function(){var t=this;this.nodeApi.getProfileImages().subscribe((function(e){t.images=e}))},t.prototype.selectAvatar=function(t){var e=this;this.nodeApi.selectPremadeAvatar(t).subscribe((function(n){e.selectedImage=t,e.updateSettings(n),e.initialRun&&e.updateInitialRunProgress()}))},t.prototype.updateSettings=function(t){this.userInfo.ImagePath=t.url,this.sessionService.setUserInfo(this.userInfo),this.helper.avatarUpdated.next(t.url),this.initialRun||(this.helper.tabPageChanged.next(0),this.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.general.selectAvatar.avatar",verb:"common.edited"}))},t.prototype.clickInput=function(){this.fileInput.nativeElement.click()},t.prototype.onImageUpload=function(t){var e=this,n=this.fileInput.nativeElement.files[0];n&&$e.a.getRealFileType(n).subscribe((function(i){return e.validFileTypes.includes(i)?n.size>5e5?(e.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.fileTooLarge",detail:"error.fileTooLargeDetail"}),void e.resetInputImage()):void e.nodeApi.uploadFullImage(n).subscribe((function(n){e.fullImageDetails=n,e.imageUploadEvent=t,e.showImageModal=!0}),(function(t){e.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.errorUploading",detail:"error.errorUploadingDetail"})})):(e.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.invalidFileType",detail:"error.invalidFileTypeDetail"}),void e.resetInputImage())}))},t.prototype.resetInputImage=function(){this.fileInput.nativeElement.value=null},t.prototype.onImageCrop=function(t){this.croppedPosition=t.imagePosition},t.prototype.uploadImage=function(){var t=this;this.nodeApi.uploadCroppedImage(this.fullImageDetails.key,this.croppedPosition).subscribe((function(e){t.updateSettings(e),t.initialRun&&(t.showImageModal=!1,t.updateInitialRunProgress())}))},t.prototype.resetImage=function(){var t=this;this.nodeApi.resetAvatar().subscribe((function(e){t.updateSettings({key:e.key,url:Re.a.cloudDriveCdn+"/"+e.key})}))},t.prototype.updateInitialRunProgress=function(){var t=this.initialRunHelper.progress.value;t.selectAvatar=!0,this.initialRunHelper.progress.next(t)},t.\u0275fac=function(e){return new(e||t)(c.Mb(Fe),c.Mb(Qt.a),c.Mb(Be.a),c.Mb(ae.a),c.Mb(io))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-select-avatar"]],viewQuery:function(t,e){var n;1&t&&c.Nc(ro,!0),2&t&&c.uc(n=c.ac())&&(e.fileInput=n.first)},inputs:{initialRun:"initialRun"},decls:3,vars:0,consts:[[4,"transloco"],["avatarSelectorHelper",""],[1,"slideover-content"],["class","slideover-info",4,"ngIf","ngIfElse"],["class","btn-wrapper",4,"ngIf"],["class","file-input","type","file","accept",".jpg, .jpeg, .png",3,"change",4,"ngIf"],["clKeyboardNav","",1,"icon-ctnr",3,"ngStyle"],[4,"ngIf"],["class","icon","role","button","tabindex","0","clItem","",3,"keydown.space","keydown.Enter","click",4,"ngFor","ngForOf"],[1,"modal-medium","white",3,"visible","visibleChange"],[3,"imageChangedEvent","imageLoaded","imageCropped"],[1,"button","button-secondary",3,"click"],["resetTooltip",""],[1,"slideover-info"],[1,"btn-wrapper"],[1,"button","button-text",3,"clTooltip","clTooltipDisplay","clTooltipPersist","click","clTooltipDisplayChange"],["type","file","accept",".jpg, .jpeg, .png",1,"file-input",3,"change"],["fileInput",""],[1,"icon"],["clItem","",1,"flex-center",3,"click"],[1,"far","fa-upload"],["role","button","tabindex","0","clItem","",1,"icon",3,"keydown.space","keydown.Enter","click"],[3,"src","alt","ngClass"],[1,"cl-tooltip","confirmation"],[1,"buttons-ctnr"],[1,"button","button-default",3,"click"],[1,"button","button-danger",3,"click"],["class","selection-wrapper",4,"transloco"],[1,"selection-wrapper"],["aria-describedby","profile-label","onerror","this.src = 'assets/images/default-avatar.png'",1,"selection-img",3,"src"],["id","profile-label"]],template:function(t,e){1&t&&(c.Gc(0,bo,14,13,"ng-container",0),c.Gc(1,mo,1,0,"ng-template",null,1,c.Hc))},directives:[Te.c,i.l,We.E,i.m,i.k,We.H,oo.a,We.Y,We.J,i.j],styles:["img[_ngcontent-%COMP%]{border-radius:50%;width:75px;height:75px}.file-input[_ngcontent-%COMP%]{display:none}.slideover-content[_ngcontent-%COMP%]{overflow-y:unset!important}.slideover-content[_ngcontent-%COMP%]   .slideover-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--color-dark);font-size:calc(var(--font-modifier) * 13px);font-weight:600;line-height:16px}.slideover-content[_ngcontent-%COMP%]   .btn-wrapper[_ngcontent-%COMP%]{position:relative;top:-20px}.icon-ctnr[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(75px,1fr));grid-gap:20px}.icon-ctnr[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{justify-self:center;-ms-flex-item-align:center;align-self:center;cursor:pointer}.icon-ctnr[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img.selected[_ngcontent-%COMP%]{border:4px solid #008ad7}.icon-ctnr[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:3px solid var(--color-bg-dark);width:75px;height:75px;border-radius:50%}.icon-ctnr[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:24px;color:var(--color-primary)}.icon-ctnr[_ngcontent-%COMP%]   .icon.remove[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-danger)}button.button-secondary[_ngcontent-%COMP%]{-ms-flex-item-align:end;align-self:flex-end}image-cropper[_ngcontent-%COMP%]{margin-bottom:20px;height:100%}.selection-wrapper[_ngcontent-%COMP%]{padding:15px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-bottom:30px}.selection-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:calc(var(--font-modifier)*14px);font-weight:700}.selection-wrapper[_ngcontent-%COMP%]   .selection-img[_ngcontent-%COMP%]{border-radius:50%;width:85px;height:85px;margin-right:25px}"]}),t}();function yo(t,e){1&t&&c.Nb(0,"cl-progress-spinner",10),2&t&&c.kc("strokeWidth",5)}var Co=function(t){return{autocomplete:"username",type:"text","aria-hidden":!0,tabindex:t}},xo=function(){return{autocomplete:"current-password",id:"old-password",type:"password"}},wo=function(){return{autocomplete:"new-password",id:"new-password",type:"password"}},Po=function(){return{autocomplete:"new-password",id:"confirm-password",type:"password"}};function Oo(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Nb(2,"div",2),c.Sb(3,"form"),c.Sb(4,"button",3),c.Zb("click",(function(){return c.yc(n),c.dc().savePassword()})),c.Rb(),c.Sb(5,"cl-input",4),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().form.username=t})),c.Rb(),c.Sb(6,"cl-input",5),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().form.oldPass=t})),c.Rb(),c.Sb(7,"cl-input",5),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().form.newPass=t})),c.Rb(),c.Sb(8,"cl-input",5),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().form.confirmPass=t})),c.Rb(),c.Rb(),c.Rb(),c.Sb(9,"div",6),c.Sb(10,"button",7),c.Zb("click",(function(){return c.yc(n),c.dc().helper.tabPageChanged.next(0)})),c.Ic(11),c.Rb(),c.Sb(12,"button",8),c.Zb("click",(function(){return c.yc(n),c.dc().savePassword()})),c.Gc(13,yo,1,1,"cl-progress-spinner",9),c.Ic(14),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(2),c.kc("innerHTML",o.resetPolicy,c.zc),c.Ab(3),c.kc("value",o.form.username)("attributes",c.nc(23,Co,-1)),c.Ab(1),c.kc("value",o.form.oldPass)("label",i("myProfile.general.passwordReset.oldPassword"))("showPasswordEye",!0)("attributes",c.mc(25,xo)),c.Ab(1),c.kc("value",o.form.newPass)("label",i("myProfile.general.passwordReset.newPassword"))("showPasswordEye",!0)("attributes",c.mc(26,wo)),c.Ab(1),c.kc("value",o.form.confirmPass)("label",i("myProfile.general.passwordReset.confirmPassword"))("showPasswordEye",!0)("attributes",c.mc(27,Po)),c.Ab(2),c.Bb("aria-label",i("common.goBack")),c.Ab(1),c.Jc(i("common.goBack")),c.Ab(1),c.Eb("disabled",!o.canSavePassword()||o.saving),c.kc("tabindex",!o.canSavePassword()||o.saving?-1:0),c.Bb("aria-label",i("common.save")),c.Ab(1),c.kc("ngIf",o.saving),c.Ab(1),c.Kc(" ",i("common.save")," ")}}var Mo=function(){function t(t,e,n,i,o,r,a,s){var c=this;this.helper=t,this.tmsService=e,this.nodeApi=n,this.translationHelper=i,this.sessionService=o,this.transloco=r,this.notificationsService=a,this.saving=!1,this.form={username:"",oldPass:"",newPass:"",confirmPass:""},this.subscriptions=[],this.subscriptions[0]=t.generalSettingsUpdated.subscribe((function(t){0===t.UserType&&0===t.AuthenticationType?r.selectTranslate("error.emailPasswordResetFailDetail").subscribe((function(t){return c.resetPolicy="<p>"+t+"</p>"})):c.resetPolicy=s.bypassSecurityTrustHtml(t.ResetPasswordPolicy)})),this.subscriptions[1]=o.settingsUpdated.subscribe((function(t){return c.settings=t})),this.subscriptions[2]=o.useTMSUpdated.subscribe((function(t){c.TMSSettings=t}))}return t.prototype.ngOnChanges=function(t){t.userInfo&&this.userInfo&&(this.form.username=this.userInfo.LoginId)},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.canSavePassword=function(){return""!==this.form.oldPass.trim()&&""!==this.form.newPass.trim()&&""!==this.form.confirmPass.trim()},t.prototype.savePassword=function(){this.canSavePassword()&&(this.form.newPass===this.form.confirmPass?(this.saving=!0,this.userInfo.isADUser?this.checkTms():this.nodeApiReset()):this.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.passwordError",detail:"error.passwordErrorDetail"}))},t.prototype.checkTms=function(){this.TMSSettings.useTMS?this.tmsReset():this.nodeApiReset()},t.prototype.tmsReset=function(){var t=this;this.tmsService.resetPassword(this.form.oldPass,this.form.newPass,0==+this.userInfo.AuthenticationType).subscribe((function(e){t.saving=!1,t.adminNotification(),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.password",verb:"common.changed"}),t.helper.tabPageChanged.next(0)}),(function(e){t.saving=!1}))},t.prototype.nodeApiReset=function(){var t=this;this.nodeApi.resetPassword(this.form.oldPass,this.form.newPass,this.userInfo.isADUser?1:0).subscribe((function(e){if(t.saving=!1,1===e.status)t.adminNotification(),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.password",verb:"common.changed"}),t.helper.tabPageChanged.next(0);else{if("incorrect_old_password"===e.message)return void t.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.incorrectOldPassword",detail:"error.incorrectOldPasswordDetail"});if("Password reset failed."===e.message)return void t.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.passwordResetFail",detail:"error.passwordResetFailDetail"});t.translationHelper.translateAndAddGrowl("Please match the requested format new password"===e.message?{severity:"error",summary:"error.emailPasswordResetFail",detail:"error.emailPasswordResetFailDetail"}:{severity:"error",summary:"error.passwordResetFail"})}}),(function(e){t.saving=!1}))},t.prototype.adminNotification=function(){this.userInfo.roleLevel<=1&&this.notificationsService.adminPasswordResetNotification().subscribe((function(t){console.log(t)}),(function(t){console.log(t)}))},t.\u0275fac=function(e){return new(e||t)(c.Mb(Fe),c.Mb(pi),c.Mb(Qt.a),c.Mb(Be.a),c.Mb(ae.a),c.Mb(Te.f),c.Mb(gi),c.Mb(Zn.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-password-reset"]],inputs:{userInfo:"userInfo"},features:[c.yb],decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-content"],[1,"slideover-info",3,"innerHTML"],["tabindex","-1","type","submit",1,"display-none",3,"click"],[1,"display-none",3,"value","attributes","valueChange"],[3,"value","label","showPasswordEye","attributes","valueChange"],[1,"slideover-controls"],[1,"button","button-default",3,"click"],[1,"button","button-secondary","spinner-button",3,"tabindex","click"],[3,"strokeWidth",4,"ngIf"],[3,"strokeWidth"]],template:function(t,e){1&t&&c.Gc(0,Oo,15,28,"ng-container",0)},directives:[Te.c,xi.q,xi.k,xi.l,We.C,i.l,We.M],styles:[".slideover-info[_ngcontent-%COMP%]{height:auto!important;-ms-flex-preferred-size:auto!important;flex-basis:auto!important;min-height:80px;padding:20px 50px!important}cl-input[_ngcontent-%COMP%]{height:62px;margin-bottom:20px}cl-input.hide[_ngcontent-%COMP%]{height:0;width:0}"]}),t}(),_o=["*"],ko=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["app-dropdown-menu"]],ngContentSelectors:_o,decls:1,vars:0,template:function(t,e){1&t&&(c.jc(),c.ic(0))},styles:['app-dropdown-menu{position:absolute;top:0;left:0;display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:center;align-items:center;width:100%;z-index:1000;background-color:var(--color-white);padding:10px 20px;border-radius:5px;box-shadow:0 0 30px rgba(0,0,0,.25)}app-dropdown-menu>img.title-img{margin:0 0 20px;-ms-flex-item-align:end;align-self:flex-end}app-dropdown-menu .divider{width:100%;height:1px;background-color:var(--color-border-light);margin:5px 0}app-dropdown-menu .dropdown-item{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:center;align-items:center;position:relative;width:100%;font-size:calc(var(--font-modifier) * 13px);font-weight:600;padding:10px;white-space:nowrap;text-overflow:ellipsis;border-radius:5px;cursor:pointer}app-dropdown-menu .dropdown-item:after,app-dropdown-menu .dropdown-item:before{content:"";position:absolute;opacity:0;border:2px solid var(--color-primary);border-radius:5px;z-index:0;transition:all .1s ease-in-out;pointer-events:none;top:0;left:0;height:100%}app-dropdown-menu .dropdown-item:before{left:-10px;width:4px}app-dropdown-menu .dropdown-item:after{width:100%}app-dropdown-menu .dropdown-item:focus:after{animation:pulse 2s infinite}app-dropdown-menu .dropdown-item.active:before{opacity:1}app-dropdown-menu .dropdown-item.active,app-dropdown-menu .dropdown-item.active span.icon-ctnr>svg,app-dropdown-menu .dropdown-item.primary-color,app-dropdown-menu .dropdown-item.primary-color span.icon-ctnr>svg{color:var(--color-primary)}app-dropdown-menu .dropdown-item:hover{opacity:1;box-shadow:inset 0 0 3px var(--color-medium);color:#181818}app-dropdown-menu .dropdown-item span.icon-ctnr{width:40px;height:100%}app-dropdown-menu .dropdown-item span.icon-ctnr>svg{font-size:20px;color:var(--color-dark)}'],encapsulation:2}),t}(),So=["fileInput"],Ao=["tabpanel"],Io=["placeholder"],Ro=["tabitem"];function To(t,e){if(1&t&&(c.Sb(0,"p"),c.Ic(1),c.Rb()),2&t){var n=e.item,i=c.dc().$implicit;c.Ab(1),c.Jc(i(n.label))}}function Fo(t,e){if(1&t&&(c.Sb(0,"span",16),c.Nb(1,"i"),c.Rb(),c.Ic(2)),2&t){var n=e.item,i=c.dc().$implicit;c.Ab(1),c.Cb(n.icon),c.Ab(1),c.Kc(" ",i(n.label)," ")}}function Eo(t,e){if(1&t&&(c.Sb(0,"p"),c.Ic(1),c.Rb()),2&t){var n=e.item,i=c.dc(2).$implicit;c.Ab(1),c.Jc(i(n.label))}}var Do=function(t){return{"font-size.px":t}};function Lo(t,e){if(1&t&&(c.Sb(0,"span",16),c.Nb(1,"i",19),c.Rb(),c.Ic(2)),2&t){var n=e.item,i=e.index,o=c.dc(2).$implicit;c.Ab(1),c.kc("ngStyle",c.nc(2,Do,0===i?16:1===i?20:24)),c.Ab(1),c.Kc(" ",o(n.label)," ")}}function No(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div"),c.Sb(1,"label",17),c.Ic(2),c.Rb(),c.Sb(3,"cl-dropdown",18),c.Zb("selectionChange",(function(t){return c.yc(n),c.dc(2).selections.iconSize=t}))("selectionChange",(function(t){return c.yc(n),c.dc(2).onSelectionChange("iconSize",t)}))("click",(function(t){c.yc(n);var e=c.dc(2);return e.hideMenus(t,e.iconHandle)})),c.Gc(4,Eo,2,1,"ng-template",5),c.Gc(5,Lo,3,4,"ng-template",6),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(2),c.Jc(i("editBar.appSize")),c.Ab(1),c.kc("id","app-size-selection")("selection",o.selections.iconSize)("options",o.sizeOptions)("showRemove",!1)}}function Ho(t,e){if(1&t&&(c.Sb(0,"p"),c.Ic(1),c.Rb()),2&t){var n=e.item,i=c.dc(2).$implicit;c.Ab(1),c.Jc(i(n.label))}}function Go(t,e){if(1&t&&(c.Sb(0,"span",16),c.Ic(1,"A"),c.Rb(),c.Ic(2)),2&t){var n=e.item,i=e.index,o=c.dc(2).$implicit;c.Eb("text-bg",0===i)("text-shadow",1===i),c.Ab(2),c.Kc(" ",o(n.label)," ")}}function Bo(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div"),c.Sb(1,"label",20),c.Ic(2),c.Rb(),c.Sb(3,"cl-dropdown",18),c.Zb("selectionChange",(function(t){return c.yc(n),c.dc(2).selections.fontBackgroundTreatment=t}))("selectionChange",(function(t){return c.yc(n),c.dc(2).onSelectionChange("fontBackgroundTreatment",t)}))("click",(function(t){c.yc(n);var e=c.dc(2);return e.hideMenus(t,e.fontHandle)})),c.Gc(4,Ho,2,1,"ng-template",5),c.Gc(5,Go,3,5,"ng-template",6),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(2),c.Jc(i("editBar.fontStyle")),c.Ab(1),c.kc("id","font-style-selection")("selection",o.selections.fontBackgroundTreatment)("options",o.fontStyleOptions)("showRemove",!1)}}function jo(t,e){if(1&t&&(c.Sb(0,"div",21),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=c.dc().$implicit;c.Ab(2),c.Jc(n("myProfile.themes.wizardTip"))}}function Uo(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",28),c.Zb("focus",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onColorFocus(t)}))("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onSelectionChange("paletteColor",t)}))("keydown.space",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onSelectionChange("paletteColor",t)}))("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onSelectionChange("paletteColor",t)})),c.Sb(1,"p",29),c.Ic(2),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(3);c.Ec("background-color",i),c.Bb("tabindex",o.showPalettes?0:-1)("aria-describedby",i)("aria-label",i),c.Ab(1),c.kc("id",i),c.Ab(1),c.Jc(i)}}var zo=function(){return{"background-color":"var(--color-nav)"}};function Vo(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",9),c.Sb(1,"label",22),c.Ic(2),c.Rb(),c.Sb(3,"div",23,24),c.Zb("keydown.Enter",(function(t){c.yc(n);var e=c.dc(2);return e.hideMenus(t,e.paletteHandle),e.toggleShowPalettes()}))("keydown.space",(function(t){c.yc(n);var e=c.dc(2);return e.hideMenus(t,e.paletteHandle),e.toggleShowPalettes()}))("click",(function(t){c.yc(n);var e=c.dc(2);return e.hideMenus(t,e.paletteHandle),e.toggleShowPalettes()})),c.Sb(5,"app-dropdown-menu",25),c.Sb(6,"div",26),c.Gc(7,Uo,3,7,"div",27),c.Rb(),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(2),c.Jc(i("editBar.palette")),c.Ab(1),c.kc("ngStyle",c.mc(8,zo)),c.Bb("aria-expanded",o.showPalettes),c.Ab(2),c.Eb("visible",o.showPalettes),c.Bb("aria-hidden",!o.showPalettes)("aria-activedescendant",o.focusedColor),c.Ab(2),c.kc("ngForOf",o.paletteColors)}}function Zo(t,e){1&t&&(c.Qb(0),c.Nb(1,"i",43),c.Pb())}function $o(t,e){if(1&t&&c.Nb(0,"img",46),2&t){var n=c.dc(4);c.kc("src",n.selections.backgroundValue,c.Ac)}}function Wo(t,e){if(1&t&&(c.Gc(0,$o,1,1,"img",44),c.Sb(1,"p",45),c.Ic(2),c.Rb()),2&t){var n=c.dc(2).$implicit,i=c.dc();c.kc("ngIf","image"===i.settings.customUISettings.backgroundType),c.Ab(2),c.Jc(n("myProfile.themes.wallpaperAlt"))}}function Jo(t,e){if(1&t){var n=c.Tb();c.Sb(0,"img",50),c.Zb("keydown.Enter",(function(t){c.yc(n);var i=e.$implicit,o=c.dc(4);return t.stopPropagation(),o.onWallpaperChange("image",i.link)}))("keydown.space",(function(t){c.yc(n);var i=e.$implicit,o=c.dc(4);return t.preventDefault(),t.stopPropagation(),o.onWallpaperChange("image",i.link)}))("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(4).onWallpaperChange("image",t.link)})),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(3).$implicit,r=c.dc();c.kc("src",i.display,c.Ac)("alt",o("imageLabels.wallpaper."+i.key)),c.Bb("tabindex",r.showBackgrounds?0:-1)}}function qo(t,e){if(1&t&&(c.Sb(0,"div",47,48),c.Gc(2,Jo,1,3,"img",49),c.Rb()),2&t){var n=c.dc(3);c.Ab(2),c.kc("ngForOf",n.wallpapers)("ngForTrackBy",n.wallpaperTrackBy)}}function Ko(t,e){if(1&t){var n=c.Tb();c.Sb(0,"input",54,55),c.Zb("change",(function(){return c.yc(n),c.dc(4).onImageUpload()})),c.Rb()}}function Yo(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",56),c.Zb("keydown.enter",(function(){return c.yc(n),c.dc(4).clickInput()}))("keydown.space",(function(t){c.yc(n);var e=c.dc(4);return t.preventDefault(),e.clickInput()}))("click",(function(){return c.yc(n),c.dc(4).clickInput()})),c.Nb(1,"i",57),c.Rb()}}function Qo(t,e){if(1&t){var n=c.Tb();c.Sb(0,"img",50),c.Zb("keydown.Enter",(function(t){c.yc(n);var i=e.$implicit,o=c.dc(4);return t.stopPropagation(),o.onWallpaperChange("image",i.link)}))("keydown.space",(function(t){c.yc(n);var i=e.$implicit,o=c.dc(4);return t.preventDefault(),t.stopPropagation(),o.onWallpaperChange("image",i.link)}))("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(4).onWallpaperChange("image",t.link)})),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(3).$implicit,r=c.dc();c.kc("src",i.display,c.Ac)("alt",o("editBar.customWallpaper")),c.Bb("tabindex",r.showBackgrounds?0:-1)}}function Xo(t,e){if(1&t&&(c.Sb(0,"div",51,48),c.Gc(2,Ko,2,0,"input",52),c.Gc(3,Yo,2,0,"div",53),c.Gc(4,Qo,1,3,"img",49),c.Rb()),2&t){var n=c.dc(3);c.Ab(2),c.kc("ngIf",n.settings.userInfo.roleLevel<=1),c.Ab(1),c.kc("ngIf",n.settings.userInfo.roleLevel<=1),c.Ab(1),c.kc("ngForOf",n.customWallpapers)("ngForTrackBy",n.wallpaperTrackBy)}}function tr(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",58,48),c.Sb(2,"span",59),c.Zb("clColorPickerChange",(function(t){return c.yc(n),c.dc(3).wallpaperColor=t}))("clColorPickerChange",(function(){return c.yc(n),c.dc(3).onColorChange()})),c.Rb(),c.Rb()}if(2&t){var i=c.dc(3);c.Ab(2),c.kc("clColorPicker",i.wallpaperColor)("cpSaveClickOutside",!1)("cpWidth","330px")("cpDialogDisplay","inline")("cpToggle",!0)("cpUseRootViewContainer",!0)}}var er=function(t){return{"background-color":t}};function nr(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",9),c.Sb(1,"label",30),c.Ic(2),c.Rb(),c.Sb(3,"div",31,24),c.Zb("keydown.Enter",(function(t){c.yc(n);var e=c.dc(2);return e.hideMenus(t,e.backgroundHandle),e.toggleShowBackgrounds()}))("keydown.space",(function(t){c.yc(n);var e=c.dc(2);return e.hideMenus(t,e.backgroundHandle),e.toggleShowBackgrounds()}))("click",(function(t){c.yc(n);var e=c.dc(2);return e.hideMenus(t,e.backgroundHandle),e.toggleShowBackgrounds()})),c.Gc(5,Zo,2,0,"ng-container",32),c.Gc(6,Wo,3,2,"ng-template",null,33,c.Hc),c.Sb(8,"app-dropdown-menu",34),c.Zb("click",(function(t){return c.yc(n),t.stopPropagation()})),c.Sb(9,"div",35),c.Sb(10,"button",36,37),c.Zb("keyup",(function(t){return c.yc(n),c.dc(2).nav(t,0)}))("keydown.tab",(function(){return c.yc(n),c.dc(2).focusPanel()}))("keydown.Enter",(function(){return c.yc(n),c.dc(2).wallpaperTab=0}))("keydown.Space",(function(){return c.yc(n),c.dc(2).wallpaperTab=0}))("click",(function(){return c.yc(n),c.dc(2).wallpaperTab=0})),c.Ic(12),c.Rb(),c.Sb(13,"button",38,37),c.Zb("keyup",(function(t){return c.yc(n),c.dc(2).nav(t,1)}))("keydown.tab",(function(){return c.yc(n),c.dc(2).focusPanel()}))("keydown.Enter",(function(){return c.yc(n),c.dc(2).wallpaperTab=1}))("keydown.Space",(function(){return c.yc(n),c.dc(2).wallpaperTab=1}))("click",(function(){return c.yc(n),c.dc(2).wallpaperTab=1})),c.Ic(15),c.Rb(),c.Sb(16,"button",39,37),c.Zb("keyup",(function(t){return c.yc(n),c.dc(2).nav(t,2)}))("keydown.tab",(function(){return c.yc(n),c.dc(2).focusPanel()}))("keydown.Enter",(function(){return c.yc(n),c.dc(2).wallpaperTab=2}))("keydown.Space",(function(){return c.yc(n),c.dc(2).wallpaperTab=2}))("click",(function(){return c.yc(n),c.dc(2).wallpaperTab=2})),c.Ic(18),c.Rb(),c.Rb(),c.Gc(19,qo,3,2,"div",40),c.Gc(20,Xo,5,4,"div",41),c.Gc(21,tr,3,6,"div",42),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.vc(7),o=c.dc().$implicit,r=c.dc();c.Ab(2),c.Jc(o("editBar.customWallpaper")),c.Ab(1),c.kc("ngStyle",c.nc(23,er,"color"===r.settings.customUISettings.backgroundType?r.wallpaperColor:"")),c.Bb("aria-expanded",r.showBackgrounds),c.Ab(2),c.kc("ngIf",!r.selections.backgroundValue)("ngIfElse",i),c.Ab(3),c.Eb("visible",r.showBackgrounds),c.Bb("aria-hidden",!r.showBackgrounds),c.Ab(2),c.Eb("active",0===r.wallpaperTab),c.Bb("aria-selected",0===r.wallpaperTab),c.Ab(2),c.Kc(" ",o("editBar.default")," "),c.Ab(1),c.Eb("active",1===r.wallpaperTab),c.Bb("aria-selected",1===r.wallpaperTab),c.Ab(2),c.Kc(" ",o("editBar.custom")," "),c.Ab(1),c.Eb("active",2===r.wallpaperTab),c.Bb("aria-selected",2===r.wallpaperTab),c.Ab(2),c.Kc(" ",o("editBar.color")," "),c.Ab(1),c.kc("ngIf",0===r.wallpaperTab),c.Ab(1),c.kc("ngIf",1===r.wallpaperTab),c.Ab(1),c.kc("ngIf",2===r.wallpaperTab)}}var ir=function(t){return{disabled:t}};function or(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"div"),c.Sb(4,"label",3),c.Ic(5),c.Rb(),c.Sb(6,"cl-dropdown",4),c.Zb("selectionChange",(function(t){return c.yc(n),c.dc().selections.theme=t}))("selectionChange",(function(t){return c.yc(n),c.dc().onSelectionChange("theme",t)}))("click",(function(t){c.yc(n);var e=c.dc();return e.hideMenus(t,e.themeHandle)})),c.Gc(7,To,2,1,"ng-template",5),c.Gc(8,Fo,3,3,"ng-template",6),c.Rb(),c.Rb(),c.Gc(9,No,6,5,"div",7),c.Gc(10,Bo,6,5,"div",7),c.Gc(11,jo,3,1,"ng-template",null,8,c.Hc),c.Sb(13,"div",9),c.Sb(14,"cl-slide-toggle",10),c.Zb("toggledChange",(function(t){return c.yc(n),c.dc().selections.highContrast=t}))("toggledChange",(function(t){return c.yc(n),c.dc().onSelectionChange("highContrastSelected",t)})),c.Ic(15),c.Rb(),c.Rb(),c.Sb(16,"div",11),c.Sb(17,"cl-slide-toggle",10),c.Zb("toggledChange",(function(t){return c.yc(n),c.dc().selections.showFirstTime=t}))("toggledChange",(function(t){return c.yc(n),c.dc().onSelectionChange("showFirstTime",t)})),c.Ic(18),c.Rb(),c.Rb(),c.Gc(19,Vo,8,9,"div",12),c.Gc(20,nr,22,25,"div",12),c.Rb(),c.Sb(21,"div",13),c.Sb(22,"label"),c.Ic(23),c.Rb(),c.Sb(24,"div",14),c.Nb(25,"application",15),c.Rb(),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.vc(12),r=c.dc();c.Ab(5),c.Jc(i("editBar.theme")),c.Ab(1),c.kc("id","theme-selection")("selection",r.selections.theme)("options",r.themeOptions)("showRemove",!1)("ngClass",c.nc(19,ir,!r.settings.userInfo.canSetTheme)),c.Ab(3),c.kc("ngIf",r.selections.theme!==r.Themes.Primary),c.Ab(1),c.kc("ngIf",r.selections.theme===r.Themes.Default),c.Ab(4),c.kc("id","high-contrast-toggle")("toggled",r.selections.highContrast),c.Ab(1),c.Jc(i("header.highContrast")),c.Ab(1),c.kc("clTooltip",o),c.Ab(1),c.kc("id","show-wizard-toggle")("toggled",r.selections.showFirstTime),c.Ab(1),c.Jc(i("myProfile.themes.showWizard")),c.Ab(1),c.kc("ngIf",!r.settings.userInfo.usingGroupPalette&&r.selections.theme!==r.Themes.Primary),c.Ab(1),c.kc("ngIf",r.settings&&r.settings.userInfo.canSetWallpaper&&r.selections.theme===r.Themes.Default),c.Ab(3),c.Jc(i("myProfile.themes.preview")),c.Ab(2),c.kc("app",r.exampleApp)}}var rr=function(){function t(t,e,n,i,o,r,a,s,c,l,p,d){var u=this;this.sessionService=t,this.settingsService=e,this.nodeApi=n,this.menuHelper=i,this.settingsHelper=o,this.layoutService=r,this.translationHelper=a,this.renderer=s,this.viewContainerRef=c,this.cdr=l,this.translocoService=p,this.permissionsService=d,this.Themes=Ee.a,this.exampleApp={name:"Application Name",icon:Re.a.coreCDN+"/assets/images/default-app-icon.png"},this.selections={theme:1,iconSize:"",fontBackgroundTreatment:"",showFirstTime:!1,highContrast:!1,paletteColor:"",backgroundValue:""},this.themeOptions=[{label:"editBar.classic",value:Ee.a.Default,icon:"far fa-user"},{label:"editBar.primary",value:Ee.a.Primary,icon:"far fa-child"},{label:"editBar.professional",value:Ee.a.Professional,icon:"far fa-user-tie"}],this.sizeOptions=[{label:"editBar.small",value:"small"},{label:"editBar.default",value:"medium"},{label:"editBar.large",value:"large"}],this.fontStyleOptions=[{label:"editBar.textBackground",value:"solid-block"},{label:"editBar.textShadow",value:"text-shadow"}],this.paletteColors=["#0054FF","#00D796","#2BA700","#B1AA00","#D78100","#D72700","#D7005A","#D300D7","#7800D7","#5A32FB","#081163","#062638","#082B1F","#24230B","#2C0D06","#434343","#313131","#171717"],this.wallpaperTab=0,this.showPalettes=!1,this.showBackgrounds=!1,this.focusedColor="",this.subscriptions=[],this.subscriptions[0]=t.settingsUpdated.subscribe((function(t){return u.onSettingsUpdate(t)})),this.subscriptions[1]=r.documentClicked.subscribe((function(){return u.menuHelper.closeAllMenus()})),this.subscriptions[2]=r.windowResized.subscribe((function(){return u.onWindowResize()})),this.subscriptions[3]=t.gwsTokenSet.subscribe((function(){return u.getAllWallpapers()})),this.subscriptions[4]=d.permissionsSub.subscribe((function(t){u.permissions=t,u.setDynamicThemeOption()})),this.paletteHandle=this.menuHelper.registerMenu((function(){u.showPalettes=!1})),this.backgroundHandle=this.menuHelper.registerMenu((function(){return u.showBackgrounds=!1})),this.exampleApp.name=p.translate("apps.appName")}return t.prototype.ngAfterViewInit=function(){var t=this;this.backgroundElement=document.querySelector("#background-container"),this.subscriptions[5]=this.dropdowns.changes.subscribe((function(e){t.onDropdownUpdate()})),this.onDropdownUpdate(),this.onWindowResize()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.wallpaperTimer&&this.wallpaperTimer.unsubscribe()},t.prototype.onDropdownUpdate=function(){var t=this.dropdowns.toArray();t[0]&&(this.menuHelper.unregisterMenu(this.themeHandle),this.themeHandle=this.menuHelper.registerMenu((function(){return t[0].hideDropdown()}))),t[1]&&(this.menuHelper.unregisterMenu(this.iconHandle),this.iconHandle=this.menuHelper.registerMenu((function(){return t[1].hideDropdown()}))),t[2]&&(this.menuHelper.unregisterMenu(this.fontHandle),this.fontHandle=this.menuHelper.registerMenu((function(){return t[2].hideDropdown()}))),t[3]&&(this.menuHelper.unregisterMenu(this.wizardHandle),this.wizardHandle=this.menuHelper.registerMenu((function(){return t[3].hideDropdown()}))),this.cdr.detectChanges()},t.prototype.onWindowResize=function(){},t.prototype.getAllWallpapers=function(){var t=this;this.nodeApi.getWallpaperLinks().subscribe((function(e){return t.wallpapers=e})),this.nodeApi.getCustomWallpaperLinks().subscribe((function(e){return t.customWallpapers=e}))},t.prototype.onSettingsUpdate=function(t){this.settings=t;var e=t.customUISettings;this.selections.theme=e.theme,this.selections.iconSize=e.iconSize,this.selections.showFirstTime=e.showFirstTime,this.selections.fontBackgroundTreatment=e.fontBackgroundTreatment,this.selections.paletteColor=e.paletteColor,this.selections.backgroundValue=e.backgroundValue,this.selections.highContrast=e.highContrastSelected,"color"===e.backgroundType&&(this.wallpaperColor=e.backgroundValue)},t.prototype.onWallpaperChange=function(t,e){this.settings.customUISettings.backgroundType=t,this.onSelectionChange("backgroundValue",e)},t.prototype.onSelectionChange=function(t,e){"theme"===t&&e!==this.settings.customUISettings.theme&&this.settingsHelper.themeUpdated.next(e),"theme"===t&&e===this.settings.customUISettings.theme||(this.settings.customUISettings[t]=e,this.sessionService.setSettings(this.settings),this.settingsService.setSettings(this.settings).subscribe((function(t){})))},t.prototype.onColorChange=function(){var t=this;this.settings.customUISettings.backgroundType="color",this.renderer.setStyle(this.backgroundElement,"background-color",this.wallpaperColor),this.wallpaperTimer&&this.wallpaperTimer.unsubscribe(),this.wallpaperTimer=Object(T.a)(200).subscribe((function(){t.onSelectionChange("backgroundValue",t.wallpaperColor)}))},t.prototype.hideMenus=function(t,e){t.stopPropagation(),this.menuHelper.closeAllOtherMenus(e)},t.prototype.toggleShowPalettes=function(){this.showPalettes=!this.showPalettes},t.prototype.toggleShowBackgrounds=function(){this.showBackgrounds=!this.showBackgrounds},t.prototype.wallpaperTrackBy=function(t,e){return e.link},t.prototype.clickInput=function(){this.fileInput.nativeElement.click()},t.prototype.onImageUpload=function(){var t=this,e=this.settingsHelper.onImageUpload(this.fileInput.nativeElement);e&&e.subscribe((function(e){return t.customWallpapers=e}))},t.prototype.onColorFocus=function(t){this.focusedColor=t},t.prototype.nav=function(t,e){var n,i=this.tabElements.toArray();if("ArrowRight"===t.key)n=e===i.length-1?0:e+1;else{if("ArrowLeft"!==t.key)return;n=0===e?i.length-1:e-1}i[e].nativeElement.tabIndex="-1",i[n].nativeElement.tabIndex="0",i[n].nativeElement.focus()},t.prototype.focusPanel=function(){for(var t=this.tabElements.toArray(),e=0;e<t.length;e++)t[e].nativeElement.tabIndex=e===this.wallpaperTab?0:-1;this.tabPanel.nativeElement.focus()},t.prototype.setDynamicThemeOption=function(){this.permissions.tenantPermissions[Ie.a.DynamicTheme]&&(this.themeOptions=Object(le.e)(this.themeOptions,[{label:"editBar.dynamic",value:Ee.a.Dynamic,icon:"far fa-graduation-cap"}]))},t.\u0275fac=function(e){return new(e||t)(c.Mb(ae.a),c.Mb(di.a),c.Mb(Qt.a),c.Mb(Ze),c.Mb(re.a),c.Mb(We.G),c.Mb(Be.a),c.Mb(c.E),c.Mb(c.P),c.Mb(c.h),c.Mb(Te.f),c.Mb(Ie.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-themes-tab"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(So,!0),c.Nc(Ao,!0),c.Nc(Io,!0),c.Nc(ko,!0,c.l),c.Nc(We.t,!0),c.Nc(Ro,!0)),2&t&&(c.uc(n=c.ac())&&(e.fileInput=n.first),c.uc(n=c.ac())&&(e.tabPanel=n.first),c.uc(n=c.ac())&&(e.placeholders=n),c.uc(n=c.ac())&&(e.dropdownMenus=n),c.uc(n=c.ac())&&(e.dropdowns=n),c.uc(n=c.ac())&&(e.tabElements=n))},decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-content","row-nowrap"],[1,"options","flex-start","column-nowrap"],["for","theme-selection"],[3,"id","selection","options","showRemove","ngClass","selectionChange","click"],["clTemplate","selectedItem"],["clTemplate","item"],[4,"ngIf"],["wizardTooltip",""],[1,"auto-width"],[3,"id","toggled","toggledChange"],[1,"auto-width",3,"clTooltip"],["class","auto-width",4,"ngIf"],[1,"example","flex-start","column-nowrap"],[1,"background-ctnr","flex-center"],["clLastFocused","",1,"cl-focusable","cl-app",3,"app"],[1,"icon-ctnr"],["for","app-size-selection"],[3,"id","selection","options","showRemove","selectionChange","click"],[1,"far","fa-square",3,"ngStyle"],["for","font-style-selection"],[1,"cl-tooltip"],["id","palette-label","for","palette-selection"],["role","button","tabindex","0","id","palette-selection","aria-haspopup","true","aria-labelledby","palette-label",1,"placeholder","flex-center",3,"ngStyle","keydown.Enter","keydown.space","click"],["placeholder",""],["aria-labelledby","palette-label","aria-orientation","horizontal","tabindex","-1","role","menu",1,"palette"],[1,"color-ctnr","flex-start"],["role","button menuitem","class","color cl-focusable",3,"background-color","focus","keydown.Enter","keydown.space","click",4,"ngFor","ngForOf"],["role","button menuitem",1,"color","cl-focusable",3,"focus","keydown.Enter","keydown.space","click"],[1,"off-screen",3,"id"],["id","wallpaper-label","for","wallpaper-selection"],["role","button","tabindex","0","aria-describedby","wallpaperAltText","id","wallpaper-selection",1,"placeholder","flex-center",3,"ngStyle","keydown.Enter","keydown.space","click"],[4,"ngIf","ngIfElse"],["bg",""],["aria-orientation","horizontal","aria-labelledby","wallpaper-label",1,"wallpaper","bottom",3,"click"],["role","tablist","aria-labelledby","wallpaper-label",1,"tabs","flex-start-center"],["role","tab","id","defaultTab","clItem","","tabindex","0","aria-controls","defaultWallpaper",3,"keyup","keydown.tab","keydown.Enter","keydown.Space","click"],["tabitem",""],["role","tab","id","customTab","clItem","","tabindex","-1","aria-controls","customWallpaper",3,"keyup","keydown.tab","keydown.Enter","keydown.Space","click"],["role","tab","id","colorTab","clItem","","tabindex","-1","aria-controls","colorWallpaper",3,"keyup","keydown.tab","keydown.Enter","keydown.Space","click"],["class","wallpaper flex-start custom-scroll","role","tabpanel","id","defaultWallpaper","aria-labelledby","defaultTab",4,"ngIf"],["class","wallpaper flex-start custom-scroll","role","tabpanel","id","customWallpaper","aria-labelledby","customTab",4,"ngIf"],["role","tabpanel","id","colorWallpaper","aria-labelledby","colorTab",4,"ngIf"],[1,"fas","fa-image"],["alt","","onerror","this.src = 'assets/images/default-background.png'",3,"src",4,"ngIf"],["id","wallpaperAltText",1,"off-screen"],["alt","","onerror","this.src = 'assets/images/default-background.png'",3,"src"],["role","tabpanel","id","defaultWallpaper","aria-labelledby","defaultTab",1,"wallpaper","flex-start","custom-scroll"],["tabpanel",""],["role","button",3,"src","alt","keydown.Enter","keydown.space","click",4,"ngFor","ngForOf","ngForTrackBy"],["role","button",3,"src","alt","keydown.Enter","keydown.space","click"],["role","tabpanel","id","customWallpaper","aria-labelledby","customTab",1,"wallpaper","flex-start","custom-scroll"],["type","file","accept",".jpg, .jpeg, .png",3,"change",4,"ngIf"],["role","button","tabindex","0","class","upload-placeholder flex-center",3,"keydown.enter","keydown.space","click",4,"ngIf"],["type","file","accept",".jpg, .jpeg, .png",3,"change"],["fileInput",""],["role","button","tabindex","0",1,"upload-placeholder","flex-center",3,"keydown.enter","keydown.space","click"],[1,"far","fa-plus"],["role","tabpanel","id","colorWallpaper","aria-labelledby","colorTab"],[1,"inline-picker",3,"clColorPicker","cpSaveClickOutside","cpWidth","cpDialogDisplay","cpToggle","cpUseRootViewContainer","clColorPickerChange"]],template:function(t,e){1&t&&c.Gc(0,or,26,21,"ng-container",0)},directives:[Te.c,We.t,i.j,We.f,i.l,We.Q,We.Y,Rn,We.F,i.m,ko,i.k,We.J,We.j],styles:[".slideover-content[_ngcontent-%COMP%]{height:100%}.options[_ngcontent-%COMP%]{width:calc(50% - 10px);margin-right:10px}.options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;width:100%;margin-bottom:20px}.options[_ngcontent-%COMP%] > div.auto-width[_ngcontent-%COMP%]{width:auto}.options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px);margin-bottom:5px}.options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   cl-dropdown[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;width:100%}.example[_ngcontent-%COMP%]{width:calc(50% - 10px);margin-left:10px;padding-left:20px}.example[_ngcontent-%COMP%]   .background-ctnr[_ngcontent-%COMP%]{background-color:var(--color-bg-dark);padding:10px 30px 30px}.item.selected[_ngcontent-%COMP%]   .icon-ctnr.text-bg[_ngcontent-%COMP%]{background-color:var(--color-primary)}.icon-ctnr[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;margin-right:10px;width:25px;font-size:calc(var(--font-modifier) * 20px)}.placeholder[_ngcontent-%COMP%]{position:relative;width:232px;height:130.5px;background-color:var(--color-bg-dark);border-radius:5px;cursor:pointer;z-index:auto}.placeholder[_ngcontent-%COMP%]:hover{opacity:1}.placeholder[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:5px}.placeholder[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:30px;opacity:.3}app-dropdown-menu[_ngcontent-%COMP%]{display:none;top:100%;cursor:auto}app-dropdown-menu.visible[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;opacity:1;pointer-events:all}app-dropdown-menu.bottom[_ngcontent-%COMP%]{top:unset;bottom:100%}app-dropdown-menu.palette[_ngcontent-%COMP%]{padding:20px;width:232px}app-dropdown-menu.palette[_ngcontent-%COMP%]   .color-ctnr[_ngcontent-%COMP%]{height:100%;width:100%;-ms-flex-flow:row wrap;flex-flow:row wrap;margin:-2px}app-dropdown-menu.palette[_ngcontent-%COMP%]   .color-ctnr[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]{cursor:pointer;margin:1px;width:30px;height:30px}app-dropdown-menu.palette[_ngcontent-%COMP%]   .color-ctnr[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]:after{width:calc(100% + 4px);height:calc(100% + 4px);top:-2px;left:-2px}.off-screen[_ngcontent-%COMP%]{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}"]}),t}(),ar=function(){function t(t,e){this.el=t,this.renderer=e,this.themeColor="#008AD7",this.highContrast=!1}return t.prototype.ngOnChanges=function(t){(t.themeColor||t.highContrast)&&this.updatePreview()},t.prototype.ngAfterViewInit=function(){this.updatePreview()},t.prototype.updatePreview=function(){this.changeFill(this.highContrast?"#000000":this.themeColor)},t.prototype.changeFill=function(t){var e=this,n=this.el.nativeElement.querySelector("svg");n&&n.querySelectorAll(".cls-6").forEach((function(n){e.renderer.setStyle(n,"fill",t)}))},t.\u0275fac=function(e){return new(e||t)(c.Mb(c.l),c.Mb(c.E))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-dynamic-theme-ui-preview"]],inputs:{themeColor:"themeColor",highContrast:"highContrast"},features:[c.yb],decls:83,vars:0,consts:[[1,"preview-container"],[1,"svg-wrapper"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","id","Layer_1","data-name","Layer 1","version","1.1","viewBox","0 0 398 284"],["id","mask","x","6.6","y","90.5","width","62.6","height","87.3","maskUnits","userSpaceOnUse"],["id","path-32-inside-1_15281_3064","data-name","path-32-inside-1 15281 3064"],["d","M6.8,90.5h62.1v83.1c0,2.2-1.8,3.9-3.9,3.9H10.8c-2.2,0-3.9-1.8-3.9-3.9v-83.1Z",1,"cls-9"],["id","mask-1","x","6.6","y","77.3","width","62.6","height","13.1","maskUnits","userSpaceOnUse"],["id","path-36-inside-2_15281_3064","data-name","path-36-inside-2 15281 3064"],["d","M6.8,81.5c0-2.2,1.8-3.9,3.9-3.9h54.2c2.2,0,3.9,1.8,3.9,3.9v8.9H6.8v-8.9Z",1,"cls-9"],["x","5","y","24.7","width","65.7","height","259.3",1,"cls-2"],["y","0","width","398","height","284",1,"cls-3"],["y","0","width","398","height","284",1,"cls-2"],["x","83.6","y","34.4","width","201.2","height","113.1","rx","4.2","ry","4.2","shape-rendering","crispEdges",1,"cls-10"],["x","299.5","y","24.7","width","98.3","height","259.3",1,"cls-10"],["d","M307.1,145.3h83.9v83.6c0,.9-.7,1.6-1.6,1.6h-80.7c-.9,0-1.6-.7-1.6-1.6v-83.6Z",1,"cls-2"],["d","M307.1,43.3h83.6v83c0,1.1-.9,2-2,2h-79.7c-1.1,0-2-.9-2-2V43.3Z",1,"cls-2"],["d","M84.9,181.1c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M113.1,181.1c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M141.2,181.1c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M169.3,181.1c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M197.5,181.1c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M225.6,181.1c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M253.8,181.1c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M84.9,244.4c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M113.1,244.4c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M141.2,244.4c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M169.3,244.4c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M197.5,244.4c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M225.6,244.4c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M253.8,244.4c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["x","7.6","y","33.1","width","60.5","height","16.6",1,"cls-10"],["x","7.8","y","33.3","width","60.2","height","16.3","rx","3.7","ry","3.7",1,"cls-13"],["d","M6.8,90.5h62.1v83.1c0,2.2-1.8,3.9-3.9,3.9H10.8c-2.2,0-3.9-1.8-3.9-3.9v-83.1Z",1,"cls-10"],[1,"cls-16"],["d","M6.8,90.5h62.1H6.8ZM69.2,173.6c0,2.3-1.9,4.2-4.2,4.2H10.8c-2.3,0-4.2-1.9-4.2-4.2h.5c0,2,1.6,3.7,3.7,3.7h54.2c2,0,3.7-1.6,3.7-3.7h.5ZM10.8,177.8c-2.3,0-4.2-1.9-4.2-4.2v-83.1h.5v83.1c0,2,1.6,3.7,3.7,3.7v.5ZM69.2,90.5v83.1c0,2.3-1.9,4.2-4.2,4.2v-.5c2,0,3.7-1.6,3.7-3.7v-83.1h.5Z",1,"cls-5"],["x1","6.3","y1","166.1","x2","58.1","y2","166.1",1,"cls-12"],["x1","6.3","y1","128.2","x2","58.1","y2","128.2",1,"cls-12"],["d","M6.8,81.5c0-2.2,1.8-3.9,3.9-3.9h54.2c2.2,0,3.9,1.8,3.9,3.9v8.9H6.8v-8.9Z",1,"cls-10"],[1,"cls-15"],["d","M6.6,81.5c0-2.3,1.9-4.2,4.2-4.2h54.2c2.3,0,4.2,1.9,4.2,4.2h-.5c0-2-1.6-3.7-3.7-3.7H10.8c-2,0-3.7,1.6-3.7,3.7h-.5ZM68.9,90.5H6.8h62.1ZM6.6,90.5v-8.9c0-2.3,1.9-4.2,4.2-4.2v.5c-2,0-3.7,1.6-3.7,3.7v8.9h-.5ZM65,77.3c2.3,0,4.2,1.9,4.2,4.2v8.9h-.5v-8.9c0-2-1.6-3.7-3.7-3.7v-.5Z",1,"cls-5"],["d","M10.8,84.4c-.1,0-.3.1-.3.3s.1.3.3.3.3-.1.3-.3-.1-.3-.3-.3ZM10.8,84c.4,0,.7.3.7.7s-.3.7-.7.7-.7-.3-.7-.7.3-.7.7-.7ZM13.8,85.2c0,0,0,0,0,0h-.2s0,0,0,0c0-1.7-1.4-3.1-3.2-3.2,0,0,0,0,0,0v-.2c0,0,0-.1,0,0,1.9,0,3.5,1.6,3.6,3.6ZM12.7,85.2c0,0,0,0,0,.1h-.2s0,0,0,0c0-1.1-.9-2-2.1-2.1,0,0,0,0,0,0v-.2c0,0,0-.1,0,0,1.3,0,2.4,1.1,2.5,2.5Z",1,"cls-7"],[1,"cls-11"],["d","M18.1,255.1c-.1-.4-.5-.8-.9-.9-.9-.3-2-.4-3.3-.4-1.2,0-2.4.1-3.3.4-.4.1-.7.4-.9.9-.3.9-.5,2.2-.5,3.6,0,1.4.2,2.7.5,3.6.1.4.5.8.9.9.9.2,2,.4,3.2.4h.1c1.2,0,2.4-.1,3.2-.4.4-.1.7-.4.9-.9.3-.9.5-2.2.5-3.6,0-1.4-.2-2.7-.5-3.6ZM17.3,262c0,.2-.2.3-.4.4-.8.2-1.9.4-3,.4h-.1c-1.1,0-2.2-.1-3-.4-.2,0-.3-.2-.4-.4-.3-.8-.5-2-.5-3.3,0-1.3.2-2.5.5-3.3,0-.2.2-.3.4-.4.8-.2,1.9-.4,3-.4s2.3.1,3.1.4c.2,0,.3.2.4.4.3.8.5,2,.5,3.3,0,1.3-.2,2.5-.5,3.3ZM13.9,261.9c-.2,0-.3-.2-.3-.4v-2.6c0-.2.1-.4.3-.4s.3.2.3.4v2.6c0,.2-.2.4-.3.4ZM13.4,258.1c.3-.3.8-.3,1.1,0h.1c0,.1,0,.2,0,.2l1.9.6c.1,0,.2,0,.1-.2l-2.5-3.3c-.1-.1-.3-.1-.4,0l-2.5,3.3c0,0,0,.2.1.2l1.9-.6s0,0,0,0h.1ZM12.3,259.4v1.1c0,.2.1.4.3.4.2,0,.4-.2.4-.4v-1.3c0,0,0-.1-.2-.1-.1,0-.3,0-.4.1,0,0-.2.1-.2.2ZM15.3,259.1c0,0-.3,0-.4-.1,0,0-.2,0-.2.1v1.3c0,.2.2.4.4.4.2,0,.3-.2.3-.4v-1.1c0-.1,0-.2-.2-.2Z",1,"cls-6"],["d","M20.9,260.4c0-.4,0-.7.2-1,.2-.3.4-.5.7-.7.3-.2.6-.2,1-.2s.8.1,1.1.3c.3.2.5.5.7.9h-.9c0-.2-.2-.3-.4-.4-.2,0-.3-.1-.5-.1s-.4,0-.6.2c-.2.1-.3.2-.4.4,0,.2-.1.4-.1.7s0,.5.1.7c0,.2.2.3.4.4.2.1.4.2.6.2s.4,0,.5-.1c.2,0,.3-.2.4-.4h.9c-.1.4-.3.7-.7.9-.3.2-.7.3-1.1.3s-.7,0-1-.2c-.3-.2-.5-.4-.7-.7-.2-.3-.2-.6-.2-1ZM26,258.3v4h-.8v-4h.8ZM26.6,260.8c0-.3,0-.6.2-.8.1-.2.3-.4.5-.5.2-.1.4-.2.7-.2s.4,0,.6.1c.2,0,.3.2.4.3v-.4h.8v3h-.8v-.4c0,.1-.2.3-.4.4-.2,0-.4.1-.6.1s-.5,0-.7-.2c-.2-.1-.4-.3-.5-.5-.1-.2-.2-.5-.2-.8ZM28.9,260.8c0-.2,0-.3-.1-.5,0-.1-.2-.2-.3-.3-.1,0-.3-.1-.4-.1s-.3,0-.4.1c-.1,0-.2.2-.3.3,0,.1-.1.3-.1.5s0,.3.1.5c0,.1.2.2.3.3.1,0,.3.1.4.1s.3,0,.4-.1c.1,0,.2-.2.3-.3,0-.1.1-.3.1-.5ZM31.6,262.4c-.2,0-.5,0-.7-.1-.2,0-.4-.2-.5-.4-.1-.2-.2-.3-.2-.5h.8c0,.1,0,.2.2.3.1,0,.2.1.4.1s.3,0,.3,0c0,0,.1-.1.1-.2s0-.2-.2-.2c0,0-.3-.1-.5-.2-.2,0-.4-.1-.6-.2-.1,0-.3-.1-.4-.3-.1-.1-.2-.3-.2-.5s0-.3.1-.5c0-.1.2-.2.4-.3.2,0,.4-.1.6-.1.4,0,.6,0,.9.3.2.2.3.4.4.7h-.7c0-.1,0-.2-.2-.3,0,0-.2-.1-.4-.1s-.2,0-.3,0c0,0-.1.1-.1.2s0,.2.2.2c.1,0,.3.1.5.2.2,0,.4.1.5.2.1,0,.3.1.4.3.1.1.2.3.2.5,0,.2,0,.3-.1.5,0,.1-.2.2-.4.3-.2,0-.4.1-.6.1ZM34.5,262.4c-.2,0-.5,0-.7-.1-.2,0-.3-.2-.5-.4-.1-.2-.2-.3-.2-.5h.8c0,.1,0,.2.2.3.1,0,.2.1.4.1s.3,0,.3,0c0,0,.1-.1.1-.2s0-.2-.2-.2c0,0-.3-.1-.5-.2-.2,0-.4-.1-.6-.2-.1,0-.3-.1-.4-.3-.1-.1-.2-.3-.2-.5s0-.3.1-.5c0-.1.2-.2.4-.3.2,0,.4-.1.6-.1.4,0,.6,0,.9.3.2.2.3.4.4.7h-.7c0-.1,0-.2-.2-.3,0,0-.2-.1-.4-.1s-.2,0-.3,0c0,0-.1.1-.1.2s0,.2.2.2c.1,0,.3.1.5.2.2,0,.4.1.5.2.1,0,.3.1.4.3.1.1.2.3.2.5,0,.2,0,.3-.1.5,0,.1-.2.2-.4.3-.2,0-.4.1-.6.1ZM37.1,261.7h1.2v.6h-2v-3.8h.8v3.2ZM39.2,259c-.1,0-.2,0-.3-.1,0,0-.1-.2-.1-.3s0-.2.1-.3c0,0,.2-.1.3-.1s.2,0,.3.1c0,0,.1.2.1.3s0,.2-.1.3c0,0-.2.1-.3.1ZM39.6,259.3v3h-.8v-3h.8ZM42,259.3c.4,0,.6.1.9.3.2.2.3.5.3.9v1.8h-.8v-1.7c0-.2,0-.4-.2-.5-.1-.1-.3-.2-.5-.2s-.4,0-.5.2c-.1.1-.2.3-.2.5v1.7h-.8v-3h.8v.4c.1-.1.2-.2.4-.3.2,0,.3-.1.5-.1ZM45.7,262.3l-1-1.3v1.3h-.8v-4h.8v2.3l1-1.3h1l-1.3,1.5,1.3,1.5h-1Z",1,"cls-6"],["d","M21.6,255.6c0-.1.2-.2.3-.3.1,0,.3-.1.4-.1s.4,0,.5.2c.1.1.2.3.2.5s0,.1,0,.2c0,.2,0,.3-.2.5,0,.1-.2.2-.4.3-.1,0-.3.1-.4.1s-.3,0-.4-.1c-.1,0-.2-.2-.2-.3l-.2,1.2h-.2l.4-2.5h.2v.4ZM22.8,256.1c0,0,0-.1,0-.2,0-.2,0-.3-.1-.4,0,0-.2-.1-.4-.1s-.2,0-.3,0c-.1,0-.2.1-.3.2,0,.1-.1.2-.2.4,0,0,0,.1,0,.2,0,.2,0,.3.1.4,0,0,.2.1.4.1s.2,0,.3,0c.1,0,.2-.1.3-.2,0-.1.1-.2.2-.4ZM24,257c-.1,0-.3,0-.4,0-.1,0-.2-.1-.3-.2,0-.1,0-.2,0-.4s0-.4.1-.5c0-.2.2-.3.4-.4.2,0,.3-.1.5-.1s.3,0,.4,0c.1,0,.2.1.3.2,0,.1,0,.2,0,.4s0,.4-.1.5c0,.2-.2.3-.4.4-.2,0-.3.1-.5.1ZM24,256.8c.1,0,.3,0,.4-.1.1,0,.2-.2.3-.3,0-.1.1-.3.1-.4s0-.3-.2-.4c0,0-.2-.1-.4-.1s-.3,0-.4.1c-.1,0-.2.2-.3.3,0,.1,0,.3,0,.4s0,.3.1.4c0,0,.2.1.4.1ZM27.8,255.2l-.8,1.7h-.2l-.2-1.4-.7,1.4h-.2l-.2-1.7h.2l.2,1.5.7-1.5h.2l.2,1.5.7-1.5h.2ZM28.9,255.2c.1,0,.3,0,.4,0,.1,0,.2.1.2.2,0,0,0,.2,0,.3s0,.1,0,.2c0,0,0,.1,0,.2h-1.4s0,0,0,.1c0,.2,0,.3.1.4,0,0,.2.1.4.1s.3,0,.4-.1c.1,0,.2-.2.2-.3h.2c0,.2-.2.3-.3.4-.2.1-.3.2-.5.2s-.4,0-.5-.2c-.1-.1-.2-.3-.2-.5s0-.1,0-.2c0-.2,0-.3.2-.5,0-.1.2-.2.4-.3.1,0,.3-.1.5-.1ZM29.3,256c0,0,0-.1,0-.1,0-.1,0-.3-.1-.3,0,0-.2-.1-.4-.1s-.2,0-.3,0c0,0-.2.1-.3.2,0,0-.1.2-.2.3h1.2ZM30.3,255.6c0-.1.2-.2.3-.3s.2,0,.4,0v.2h-.1c-.2,0-.3,0-.4.1s-.2.2-.2.4l-.2,1h-.2l.3-1.7h.2v.3ZM32,255.2c.1,0,.3,0,.4,0,.1,0,.2.1.2.2,0,0,0,.2,0,.3s0,.1,0,.2c0,0,0,.1,0,.2h-1.4s0,0,0,.1c0,.2,0,.3.1.4,0,0,.2.1.4.1s.3,0,.4-.1c.1,0,.2-.2.2-.3h.2c0,.2-.2.3-.3.4-.2.1-.3.2-.5.2s-.4,0-.5-.2c-.1-.1-.2-.3-.2-.5s0-.1,0-.2c0-.2,0-.3.2-.5,0-.1.2-.2.4-.3.1,0,.3-.1.5-.1ZM32.4,256c0,0,0-.1,0-.1,0-.1,0-.3-.1-.3,0,0-.2-.1-.4-.1s-.2,0-.3,0c0,0-.2.1-.3.2,0,0-.1.2-.2.3h1.2ZM32.9,256.1c0-.2,0-.3.2-.5,0-.1.2-.2.4-.3.1,0,.3-.1.4-.1s.3,0,.4.1c.1,0,.2.2.2.3l.2-1h.2l-.4,2.3h-.2v-.4c0,.1-.1.2-.2.3-.1,0-.3.1-.4.1s-.4,0-.5-.2c-.1-.1-.2-.3-.2-.5s0-.1,0-.2ZM34.4,256.1c0,0,0-.1,0-.2,0-.2,0-.3-.1-.4,0,0-.2-.1-.4-.1s-.2,0-.3,0c-.1,0-.2.1-.3.2,0,.1-.1.2-.1.4,0,0,0,.1,0,.2,0,.2,0,.3.1.4,0,0,.2.1.4.1s.2,0,.3,0c.1,0,.2-.1.3-.2,0-.1.1-.2.2-.4ZM36.4,255.6c0-.1.2-.2.3-.3.1,0,.3-.1.4-.1s.4,0,.5.2c.1.1.2.3.2.5s0,.1,0,.2c0,.2,0,.3-.2.5,0,.1-.2.2-.4.3-.1,0-.3.1-.4.1s-.3,0-.4-.1c-.1,0-.2-.2-.2-.3v.4h-.3l.4-2.3h.2l-.2,1ZM37.6,256.1c0,0,0-.1,0-.2,0-.2,0-.3-.1-.4,0,0-.2-.1-.4-.1s-.2,0-.3,0c-.1,0-.2.1-.3.2,0,.1-.1.2-.2.4,0,0,0,.1,0,.2,0,.2,0,.3.1.4,0,0,.2.1.4.1s.2,0,.3,0c.1,0,.2-.1.3-.2,0-.1.1-.2.2-.4ZM38.4,255.2l.3,1.5.8-1.5h.2l-1.5,2.5h-.2l.5-.8-.4-1.7h.2Z",1,"cls-6"],["x","-.3","y","0","width","398.3","height","24.7",1,"cls-6"],["x","91.5","y","40","width","60.5","height","7.6",1,"cls-6"],["x","83.6","y","162.2","width","60.5","height","7.6",1,"cls-6"],["d","M307.1,136.7c0-.9.7-1.6,1.6-1.6h80.6c.9,0,1.6.7,1.6,1.6v8.6h-83.8v-8.6Z",1,"cls-6"],["d","M334.2,214.6h29.8c2.3,0,4.1,1.8,4.1,4.1h0c0,2.3-1.8,4.1-4.1,4.1h-29.8c-2.3,0-4.1-1.8-4.1-4.1h0c0-2.3,1.8-4.1,4.1-4.1Z",1,"cls-6"],["d","M307.1,35.1c0-1.1.9-2,2-2h79.6c1.1,0,2,.9,2,2v8.2h-83.5v-8.2Z",1,"cls-6"],["d","M62.5,85.6l-1.2-1.2s0-.1,0-.1l.2-.2s0,0,.1,0l1,1,1-1s.1,0,.1,0l.2.2s0,0,0,.1l-1.2,1.2s0,0-.1,0Z",1,"cls-6"],["d","M83.6,7.6c0-.7.6-1.3,1.3-1.3h213.3c.7,0,1.3.6,1.3,1.3v6.8c0,.7-.6,1.3-1.3,1.3H84.9c-.7,0-1.3-.6-1.3-1.3v-6.8Z",1,"cls-9"],["d","M94.8,13.1c0,0,0,.1,0,.2l-.2.2c0,0-.1,0-.2,0l-1.2-1.2s0,0,0,0h0c-.4.2-.9.4-1.4.4-1.2,0-2.1-1-2.1-2.1s1-2.1,2.1-2.1,2.1,1,2.1,2.1-.2,1-.5,1.4h.1s0,0,0,0l1.2,1.2ZM91.7,12.1c.9,0,1.6-.7,1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6,1.6.7,1.6,1.6,1.6Z",1,"cls-8"],["d","M100.6,11.3c0,.2,0,.3-.1.4,0,.1-.2.2-.3.3-.1,0-.3,0-.5,0s-.2,0-.3,0c0,0-.2,0-.2,0,0,0-.1,0-.2,0v-.4c.1,0,.2,0,.4.1.1,0,.3,0,.4,0s.2,0,.3,0c0,0,.1,0,.2-.1,0,0,0-.1,0-.2s0-.1,0-.2c0,0-.1-.1-.2-.1,0,0-.2,0-.3-.1,0,0-.2,0-.2-.1,0,0-.1,0-.2-.2,0,0-.1-.1-.1-.2,0,0,0-.2,0-.3s0-.3.1-.4c0-.1.2-.2.3-.2.1,0,.3,0,.5,0s.3,0,.4,0c.1,0,.2,0,.4.1v.3c-.2,0-.3,0-.5-.1-.1,0-.2,0-.3,0s-.2,0-.2,0c0,0-.1,0-.1.1,0,0,0,.1,0,.2s0,.1,0,.2c0,0,0,0,.2.1,0,0,.2,0,.3.1.1,0,.3.1.4.2.1,0,.2.1.2.2,0,0,0,.2,0,.3ZM102,10c.2,0,.3,0,.5.1.1,0,.2.2.3.3,0,.1.1.3.1.5v.2h-1.3c0,.2,0,.3.2.4,0,.1.2.2.4.2s.2,0,.3,0c.1,0,.2,0,.3-.1v.3c0,0-.2,0-.3.1-.1,0-.2,0-.4,0s-.4,0-.5-.1c-.1,0-.3-.2-.3-.3,0-.2-.1-.3-.1-.6s0-.4.1-.6c0-.2.2-.3.3-.4.1,0,.3-.1.5-.1ZM102,10.3c-.1,0-.2,0-.3.1,0,0-.1.2-.1.4h.9c0,0,0-.2,0-.3,0,0,0-.1-.1-.2,0,0-.1,0-.2,0ZM104.2,10c.3,0,.4,0,.6.2.1.1.2.3.2.5v1.3h-.3v-.3h0c0,0-.1.1-.2.2,0,0-.1,0-.2.1,0,0-.2,0-.3,0s-.2,0-.3,0c0,0-.2-.1-.2-.2s0-.2,0-.3c0-.2,0-.4.2-.5.2-.1.4-.2.7-.2h.3c0-.3,0-.4,0-.4,0,0-.2,0-.3,0s-.2,0-.3,0c0,0-.2,0-.3.1v-.3c0,0,0,0,.2-.1.1,0,.3,0,.4,0ZM104.6,11.1h-.3c-.2,0-.4,0-.4.1,0,0-.1.2-.1.3s0,.2,0,.2c0,0,.1,0,.2,0,.1,0,.3,0,.4-.1,0,0,.1-.2.1-.4v-.2ZM106.7,10s0,0,.1,0c0,0,0,0,.1,0v.4c0,0,0,0-.1,0,0,0,0,0,0,0,0,0-.1,0-.2,0,0,0-.1,0-.2.1,0,0,0,.1-.1.2,0,0,0,.2,0,.3v1h-.4v-2h.3v.4h0c0,0,0-.1.1-.2,0,0,.1-.1.2-.1,0,0,.2,0,.3,0ZM108.2,12.1c-.2,0-.4,0-.5-.1-.1,0-.2-.2-.3-.3s-.1-.3-.1-.6,0-.4.1-.6c0-.2.2-.3.3-.3.1,0,.3-.1.5-.1s.2,0,.3,0c0,0,.2,0,.2,0v.3c-.2,0-.3,0-.4,0,0,0-.2,0-.2,0-.1,0-.2,0-.3,0,0,0-.1.1-.2.2,0,.1,0,.2,0,.4s0,.3,0,.4c0,0,0,.2.2.2,0,0,.2,0,.3,0s.2,0,.3,0c0,0,.2,0,.2-.1v.4c0,0-.2,0-.2,0,0,0-.2,0-.3,0ZM109.8,9.2v.7c0,0,0,.1,0,.2,0,0,0,.1,0,.2h0c0,0,0-.1.2-.2,0,0,.1,0,.2-.1,0,0,.2,0,.2,0,.2,0,.3,0,.4,0,.1,0,.2.1.2.2,0,.1,0,.2,0,.4v1.3h-.4v-1.2c0-.2,0-.3,0-.3,0,0-.2-.1-.3-.1s-.2,0-.3,0c0,0-.1.1-.2.2,0,.1,0,.2,0,.4v1h-.4v-2.8h.4ZM114.5,12l-.3-.7h-1l-.3.7h-.5l1-2.6h.5l1,2.6h-.5ZM114.2,10.9l-.2-.7s0,0,0-.1c0,0,0-.1,0-.2,0,0,0-.1,0-.2,0,0,0,.1,0,.2,0,0,0,.1,0,.2,0,0,0,0,0,.1l-.3.7h.8ZM115.8,12h-.4v-2.8h.4v2.8ZM117,12h-.4v-2.8h.4v2.8ZM120.4,12l-.3-.7h-1l-.3.7h-.5l1-2.6h.5l1,2.6h-.5ZM120,10.9l-.2-.7s0,0,0-.1c0,0,0-.1,0-.2,0,0,0-.1,0-.2,0,0,0,.1,0,.2,0,0,0,.1,0,.2,0,0,0,0,0,.1l-.3.7h.8ZM122.3,10c.2,0,.4,0,.6.3.1.2.2.4.2.8s0,.4,0,.6c0,.2-.2.3-.3.3-.1,0-.3.1-.4.1s-.2,0-.3,0c0,0-.1,0-.2-.1,0,0,0,0-.1-.1h0s0,.1,0,.2c0,0,0,.1,0,.2v.8h-.4v-2.9h.3v.3h0c0,0,0-.1.1-.2,0,0,.1,0,.2-.1,0,0,.2,0,.3,0ZM122.2,10.4c-.1,0-.2,0-.3,0,0,0-.1.1-.2.2,0,0,0,.2,0,.3h0c0,.2,0,.3,0,.4,0,.1,0,.2.2.2,0,0,.2,0,.3,0s.2,0,.3,0c0,0,.1-.1.2-.2,0-.1,0-.2,0-.4,0-.2,0-.4-.1-.5,0-.1-.2-.2-.3-.2ZM124.7,10c.2,0,.4,0,.6.3.1.2.2.4.2.8s0,.4-.1.6c0,.2-.2.3-.3.3-.1,0-.3.1-.4.1s-.2,0-.3,0c0,0-.1,0-.2-.1,0,0,0,0-.1-.1h0s0,.1,0,.2c0,0,0,.1,0,.2v.8h-.4v-2.9h.3v.3h0c0,0,0-.1.1-.2,0,0,.1,0,.2-.1,0,0,.2,0,.3,0ZM124.6,10.4c-.1,0-.2,0-.3,0,0,0-.1.1-.2.2,0,0,0,.2,0,.3h0c0,.2,0,.3,0,.4,0,.1,0,.2.2.2,0,0,.2,0,.3,0s.2,0,.3,0c0,0,.1-.1.2-.2,0-.1,0-.2,0-.4,0-.2,0-.4-.1-.5,0-.1-.2-.2-.3-.2ZM127.4,11.5c0,.1,0,.2,0,.3,0,0-.2.2-.3.2-.1,0-.3,0-.4,0s-.3,0-.4,0c0,0-.2,0-.3,0v-.4c0,0,.2,0,.3.1.1,0,.2,0,.3,0s.2,0,.3,0c0,0,0-.1,0-.2s0,0,0-.1c0,0,0,0-.1-.1,0,0-.2,0-.3-.1-.1,0-.2-.1-.3-.2,0,0-.2-.1-.2-.2,0,0,0-.2,0-.3,0-.2,0-.3.2-.4.1,0,.3-.1.6-.1s.2,0,.3,0c.1,0,.2,0,.3.1v.3c-.2,0-.3,0-.4,0,0,0-.2,0-.3,0s-.2,0-.2,0c0,0,0,0,0,.1s0,0,0,.1c0,0,0,0,.1,0,0,0,.2,0,.3.1.1,0,.2,0,.3.1,0,0,.2.1.2.2,0,0,0,.2,0,.3Z",1,"cls-4"],["d","M318.8,15.5c-.4,0-.8-.3-.8-.8h1.6c0,.4-.3.8-.8.8ZM321.5,13.6c0,0,.1.2.1.3,0,.2-.2.4-.4.4h-4.7c-.2,0-.4-.2-.4-.4,0,0,0-.2,0-.3.2-.3.7-.6.7-1.9s.7-1.7,1.6-1.9v-.3c0-.2.2-.4.4-.4s.4.2.4.4v.3c.9.2,1.6,1,1.6,1.9s.5,1.7.7,1.9Z",1,"cls-2"],["d","M349.9,9.3c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1-3.1-1.4-3.1-3.1,1.4-3.1,3.1-3.1ZM351.7,12.7v-.7c0,0,0-.1-.1-.1h-1.1v-1.1c0,0,0-.1-.1-.1h-.7c0,0-.1,0-.1.1v1.1h-1.1c0,0-.1,0-.1.1v.7c0,0,0,.1.1.1h1.1v1.1c0,0,0,.1.1.1h.7c0,0,.1,0,.1-.1v-1.1h1.1c0,0,.1,0,.1-.1Z",1,"cls-2"],["d","M368.1,13.1c0,0,0,.1,0,.2-.1.4-.4.8-.7,1.2,0,0-.1,0-.2,0l-.5-.3c-.2.2-.5.3-.7.4v.6c0,0,0,.1-.1.1-.4,0-.9,0-1.3,0,0,0-.1,0-.1-.1v-.6c-.3,0-.5-.2-.8-.4l-.5.3c0,0-.1,0-.2,0-.3-.3-.5-.7-.7-1.2,0,0,0-.1,0-.2l.5-.3c0-.3,0-.6,0-.9l-.5-.3c0,0,0-.1,0-.2.1-.4.4-.8.7-1.2,0,0,.1,0,.2,0l.5.3c.2-.2.5-.3.8-.4v-.6c0,0,0-.1.1-.1.4,0,.9-.1,1.3,0,0,0,.1,0,.1.1v.6c.3,0,.5.2.7.4l.5-.3c0,0,.1,0,.2,0,.3.3.5.7.7,1.2,0,0,0,.1,0,.2l-.5.3c0,.3,0,.6,0,.9l.5.3ZM365.3,13.3c.5,0,1-.4,1-1s-.4-1-1-1-1,.4-1,1,.4,1,1,1Z",1,"cls-2"],["d","M337.2,10.7c.3,0,.6.3.6.6v2.8c0,.3-.3.6-.6.6h-5.1c-.3,0-.6-.3-.6-.6v-3.5c0-.3.3-.6.6-.6h2l.8.8h2.4ZM335.9,12.8v-.2c0,0,0-.2-.2-.2h-.8v-.8c0,0,0-.2-.2-.2h-.2c-.1,0-.2,0-.2.2v.8h-.8c-.1,0-.2,0-.2.2v.2c0,.1,0,.2.2.2h.8v.8c0,.1,0,.2.2.2h.2c.1,0,.2,0,.2-.2v-.8h.8c.1,0,.2,0,.2-.2Z",1,"cls-2"],["d","M378,11.5v2.8c0,.1,0,.2.2.2h4.7c0,0,.2,0,.2-.2v-2.8h-5.1ZM377.4,10.3c0-.4.3-.8.8-.8h4.7c.4,0,.8.4.8.8v3.9c0,.4-.4.8-.8.8h-4.7c-.4,0-.8-.3-.8-.8v-3.9ZM382.8,10.3h-.9c0,0-.1.1,0,.2l.5.5s0,0,.1,0l.5-.5c0,0,0-.2,0-.2ZM379,12h3.2c.2,0,.3.1.3.3s-.1.3-.3.3h-3.2c-.2,0-.3-.1-.3-.3s.1-.3.3-.3ZM379,13.2h3.2c.2,0,.3.1.3.3s-.1.3-.3.3h-3.2c-.2,0-.3-.1-.3-.3s.1-.3.3-.3Z",1,"cls-9"],["d","M26.6,9.4l-1,1.9v1h-.6v-1l-1-1.9h.7l.6,1.3.6-1.3h.7ZM27.9,12.4c-.2,0-.4,0-.6-.1-.2-.1-.3-.2-.4-.4-.1-.2-.2-.4-.2-.6s0-.4.2-.6c.1-.2.3-.3.4-.4.2-.1.4-.2.6-.2s.4,0,.6.2c.2,0,.3.2.4.4.1.2.2.4.2.6s0,.4-.2.6c-.1.2-.3.3-.4.4-.2,0-.4.1-.6.1ZM27.9,11.8c.1,0,.2,0,.3,0,0,0,.2-.1.2-.2,0-.1,0-.2,0-.4,0-.2,0-.4-.2-.5-.1-.1-.3-.2-.4-.2s-.3,0-.4.2c-.1.1-.2.3-.2.5s0,.4.2.5c.1.1.3.2.4.2ZM31.8,10v2.3h-.6v-.3c0,.1-.2.2-.3.2-.1,0-.3,0-.4,0s-.3,0-.5-.1c-.1,0-.3-.2-.3-.3,0-.2-.1-.3-.1-.5v-1.4h.6v1.3c0,.2,0,.3.1.4,0,0,.2.1.4.1s.3,0,.4-.1c0-.1.1-.2.1-.4v-1.3h.6ZM32.9,10.3c0-.1.2-.2.3-.3.1,0,.3-.1.4-.1v.6h-.2c-.2,0-.3,0-.4.1,0,0-.1.2-.1.5v1.2h-.6v-2.3h.6v.4ZM36.1,12.3c-.2,0-.4,0-.6-.1-.2,0-.3-.2-.4-.3,0-.1-.1-.3-.1-.5h.6c0,.1,0,.2.1.3,0,0,.2.1.3.1s.2,0,.3,0c0,0,.1-.2.1-.3s0-.2,0-.2-.1,0-.2-.1c0,0-.2,0-.3-.1-.2,0-.3-.1-.5-.2-.1,0-.2-.1-.3-.2,0-.1-.1-.3-.1-.4s0-.3.1-.5c0-.1.2-.2.4-.3.2,0,.3-.1.5-.1.3,0,.5,0,.7.2.2.1.3.4.3.6h-.6c0-.1,0-.2-.1-.2,0,0-.2-.1-.3-.1s-.2,0-.3,0c0,0-.1.1-.1.3s0,.1,0,.2c0,0,.1,0,.2.1,0,0,.2,0,.3.1.2,0,.3.1.5.2.1,0,.2.1.3.3,0,.1.1.3.1.4s0,.3-.1.4c0,.1-.2.2-.4.3-.2,0-.3.1-.6.1ZM37.5,11.1c0-.2,0-.5.1-.6,0-.2.2-.3.4-.4.2-.1.4-.2.6-.2s.5,0,.7.2c.2.1.3.3.4.6h-.6c0-.1,0-.2-.2-.2,0,0-.2,0-.3,0-.2,0-.3,0-.4.2,0,.1-.1.3-.1.5s0,.4.1.5c0,.1.2.2.4.2.2,0,.4-.1.5-.3h.6c0,.3-.2.5-.4.6-.2.1-.4.2-.7.2s-.4,0-.6-.1c-.2-.1-.3-.2-.4-.4,0-.2-.1-.4-.1-.6ZM41.5,9.9c.2,0,.3,0,.5.1.1,0,.2.2.3.3,0,.1.1.3.1.5v1.4h-.6v-1.3c0-.2,0-.3-.1-.4,0-.1-.2-.2-.4-.2s-.3,0-.4.2c0,0-.1.2-.1.4v1.3h-.6v-3.1h.6v1.1c0-.1.2-.2.3-.2.1,0,.3,0,.4,0ZM44,12.4c-.2,0-.4,0-.6-.1-.2-.1-.3-.2-.4-.4-.1-.2-.2-.4-.2-.6s0-.4.2-.6c.1-.2.3-.3.4-.4.2-.1.4-.2.6-.2s.4,0,.6.2c.2,0,.3.2.4.4.1.2.2.4.2.6s0,.4-.2.6c-.1.2-.3.3-.4.4-.2,0-.4.1-.6.1ZM44,11.8c.1,0,.2,0,.3,0,0,0,.2-.1.2-.2,0-.1,0-.2,0-.4,0-.2,0-.4-.2-.5-.1-.1-.3-.2-.4-.2s-.3,0-.4.2c-.1.1-.2.3-.2.5s0,.4.2.5c.1.1.3.2.4.2ZM46.7,12.4c-.2,0-.4,0-.6-.1-.2-.1-.3-.2-.4-.4-.1-.2-.2-.4-.2-.6s0-.4.2-.6c.1-.2.3-.3.4-.4.2-.1.4-.2.6-.2s.4,0,.6.2c.2,0,.3.2.4.4.1.2.2.4.2.6s0,.4-.2.6c-.1.2-.3.3-.4.4-.2,0-.4.1-.6.1ZM46.7,11.8c.1,0,.2,0,.3,0,0,0,.2-.1.2-.2,0-.1,0-.2,0-.4,0-.2,0-.4-.2-.5-.1-.1-.3-.2-.4-.2s-.3,0-.4.2c-.1.1-.2.3-.2.5s0,.4.2.5c.1.1.3.2.4.2ZM48.9,9.2v3.1h-.6v-3.1h.6ZM51.5,12.4c-.2,0-.4,0-.6-.1-.2-.1-.3-.2-.4-.4-.1-.2-.2-.4-.2-.6s0-.4.2-.6c.1-.2.3-.3.4-.4.2-.1.4-.2.6-.2s.4,0,.6.2c.2,0,.3.2.4.4.1.2.2.4.2.6s0,.4-.2.6c-.1.2-.3.3-.4.4-.2,0-.4.1-.6.1ZM51.5,11.8c.1,0,.2,0,.3,0,0,0,.2-.1.2-.2,0-.1,0-.2,0-.4,0-.2,0-.4-.2-.5-.1-.1-.3-.2-.4-.2s-.3,0-.4.2c-.1.1-.2.3-.2.5s0,.4.2.5c.1.1.3.2.4.2ZM53.8,10.3c0-.1.2-.2.3-.3.1,0,.3-.1.4-.1v.6h-.2c-.2,0-.3,0-.4.1,0,0-.1.2-.1.5v1.2h-.6v-2.3h.6v.4ZM24.1,14.8c0-.3,0-.5.2-.8.1-.2.3-.4.5-.5.2-.1.5-.2.8-.2s.6,0,.9.3c.2.2.4.4.5.7h-.7c0-.1-.2-.2-.3-.3-.1,0-.3-.1-.4-.1s-.3,0-.5.1c-.1,0-.2.2-.3.3,0,.1-.1.3-.1.5s0,.4.1.5c0,.1.2.3.3.3.1,0,.3.1.5.1s.3,0,.4-.1c.1,0,.2-.2.3-.3h.7c0,.3-.3.5-.5.7-.2.2-.5.2-.9.2s-.5,0-.8-.2c-.2-.1-.4-.3-.5-.5-.1-.2-.2-.5-.2-.8ZM28.5,16.4c-.2,0-.4,0-.6-.1-.2-.1-.3-.2-.4-.4-.1-.2-.2-.4-.2-.6s0-.4.2-.6c.1-.2.3-.3.4-.4.2-.1.4-.2.6-.2s.4,0,.6.2c.2,0,.3.2.4.4.1.2.2.4.2.6s0,.4-.2.6c-.1.2-.3.3-.4.4-.2,0-.4.1-.6.1ZM28.5,15.8c.1,0,.2,0,.3,0,0,0,.2-.1.2-.2,0-.1,0-.2,0-.4,0-.2,0-.4-.2-.5-.1-.1-.3-.2-.4-.2s-.3,0-.4.2c-.1.1-.2.3-.2.5s0,.4.2.5c.1.1.3.2.4.2ZM30.7,13.2v3.1h-.6v-3.1h.6ZM31.9,13.2v3.1h-.6v-3.1h.6ZM34.6,15.1c0,0,0,.2,0,.2h-1.7c0,.2,0,.3.2.4.1,0,.2.1.4.1.2,0,.4,0,.5-.3h.6c0,.2-.2.4-.4.6-.2.1-.4.2-.7.2s-.4,0-.6-.1c-.2-.1-.3-.2-.4-.4,0-.2-.1-.4-.1-.6s0-.5.1-.6c0-.2.2-.3.4-.4.2,0,.4-.1.6-.1s.4,0,.6.1c.2,0,.3.2.4.4,0,.2.1.4.1.6ZM34,14.9c0-.2,0-.3-.2-.4-.1,0-.2-.1-.4-.1s-.3,0-.4.1c0,0-.2.2-.2.4h1.1ZM36,13.9c.2,0,.3,0,.5.1.1,0,.2.2.3.3v-.3h.6v2.3c0,.2,0,.4-.1.6,0,.2-.2.3-.4.4-.2.1-.4.2-.6.2s-.6,0-.8-.2c-.2-.2-.3-.4-.4-.6h.6c0,.1,0,.2.2.3.1,0,.2,0,.4,0s.3,0,.4-.2c.1-.1.2-.3.2-.5v-.4c0,.1-.2.2-.3.3-.1,0-.3.1-.5.1s-.4,0-.5-.2-.3-.2-.4-.4c0-.2-.1-.4-.1-.6s0-.4.1-.6c0-.2.2-.3.4-.4.2,0,.3-.1.5-.1ZM36.8,15.1c0-.1,0-.3,0-.4,0-.1-.1-.2-.2-.2,0,0-.2,0-.3,0s-.2,0-.3,0c0,0-.2.1-.2.2,0,.1,0,.2,0,.4s0,.3,0,.4c0,.1.1.2.2.2,0,0,.2,0,.3,0s.2,0,.3,0c0,0,.2-.1.2-.2,0-.1,0-.2,0-.4ZM40.1,15.1c0,0,0,.2,0,.2h-1.7c0,.2,0,.3.2.4.1,0,.2.1.4.1.2,0,.4,0,.5-.3h.6c0,.2-.2.4-.4.6-.2.1-.4.2-.7.2s-.4,0-.6-.1c-.2-.1-.3-.2-.4-.4,0-.2-.1-.4-.1-.6s0-.5.1-.6c0-.2.2-.3.4-.4.2,0,.4-.1.6-.1s.4,0,.6.1c.2,0,.3.2.4.4,0,.2.1.4.1.6ZM39.5,14.9c0-.2,0-.3-.2-.4-.1,0-.2-.1-.4-.1s-.3,0-.4.1c0,0-.2.2-.2.4h1.1ZM44,16.3h-.6l-1.3-2v2h-.6v-2.9h.6l1.3,2v-2h.6v2.9ZM44.5,15.1c0-.2,0-.4.1-.6,0-.2.2-.3.4-.4.2,0,.3-.1.5-.1s.3,0,.5.1c.1,0,.2.2.3.3v-.3h.6v2.3h-.6v-.3c0,.1-.2.2-.3.3-.1,0-.3.1-.5.1s-.4,0-.5-.2c-.2-.1-.3-.2-.4-.4,0-.2-.1-.4-.1-.6ZM46.3,15.1c0-.1,0-.3,0-.4,0-.1-.1-.2-.2-.2,0,0-.2,0-.3,0s-.2,0-.3,0c0,0-.2.1-.2.2,0,.1,0,.2,0,.4s0,.3,0,.4c0,.1.1.2.2.2,0,0,.2,0,.3,0s.2,0,.3,0c0,0,.2-.1.2-.2,0-.1,0-.2,0-.4ZM50.4,13.9c.3,0,.5,0,.7.3.2.2.3.4.3.7v1.4h-.6v-1.3c0-.2,0-.3-.1-.4,0,0-.2-.1-.4-.1s-.3,0-.4.1c0,0-.1.2-.1.4v1.3h-.6v-1.3c0-.2,0-.3-.1-.4,0,0-.2-.1-.4-.1s-.3,0-.4.1c0,0-.1.2-.1.4v1.3h-.6v-2.3h.6v.3c0,0,.2-.2.3-.2.1,0,.3,0,.4,0s.3,0,.5.1c.1,0,.3.2.3.3,0-.1.2-.2.3-.3.1,0,.3-.1.5-.1ZM54,15.1c0,0,0,.2,0,.2h-1.7c0,.2,0,.3.2.4.1,0,.2.1.4.1.2,0,.4,0,.5-.3h.6c0,.2-.2.4-.4.6-.2.1-.4.2-.7.2s-.4,0-.6-.1c-.2-.1-.3-.2-.4-.4,0-.2-.1-.4-.1-.6s0-.5.1-.6c0-.2.2-.3.4-.4.2,0,.4-.1.6-.1s.4,0,.6.1c.2,0,.3.2.4.4,0,.2.1.4.1.6ZM53.4,14.9c0-.2,0-.3-.2-.4-.1,0-.2-.1-.4-.1s-.3,0-.4.1c0,0-.2.2-.2.4h1.1Z",1,"cls-9"],["d","M92.8,58.5c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M121.2,58.5c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M149.6,58.5c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M178,58.5c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M206.4,58.5c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M234.8,58.5c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M263.2,58.5c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M92.8,121.8c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M121.2,121.8c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M149.6,121.8c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M178,121.8c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M206.4,121.8c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M234.8,121.8c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M263.2,121.8c1.4-1.5,6.6-1.5,6.6-1.5,0,0,5.1,0,6.6,1.5,1.3,1.3,1.3,6.2,1.3,6.2,0,0,0,4.8-1.3,6.2-1.4,1.5-6.6,1.5-6.6,1.5,0,0-5.1,0-6.6-1.5-1.3-1.3-1.3-6.2-1.3-6.2,0,0,0-4.8,1.3-6.2Z",1,"cls-14"],["d","M13.3,19.4c-.3,0-.6-.3-.6-.6v-4.4c0-.3.3-.6.6-.6s.6.3.6.6v4.4c0,.3-.3.6-.6.6Z",1,"cls-9"],["d","M12.4,13.1c.5-.5,1.4-.5,1.9,0l.2.2s0,0,.1,0l3.4,1c.2,0,.4-.1.2-.3l-4.5-5.5c-.2-.2-.6-.2-.8,0l-4.5,5.5c-.1.1,0,.3.2.3l3.4-1s0,0,.1,0l.2-.2Z",1,"cls-1"],["d","M10.6,15.1v1.8c0,.3.3.6.6.7.4,0,.6-.3.6-.6v-2.2c0-.2-.1-.3-.3-.2-.2,0-.5.1-.6.2-.2,0-.3.2-.3.4Z",1,"cls-9"],["d","M16.1,15.1v1.8c0,.3-.3.6-.6.7-.4,0-.6-.3-.6-.6v-2.2c0-.2.1-.3.3-.2.2,0,.5.1.6.2.2,0,.3.2.3.4Z",1,"cls-9"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.cc(),c.Sb(2,"svg",2),c.Sb(3,"defs"),c.Sb(4,"style"),c.Ic(5," .cls-1 { fill-rule: evenodd; } .cls-1, .cls-2, .cls-3, .cls-4, .cls-5, .cls-6, .cls-7, .cls-8, .cls-9, .cls-10 { stroke-width: 0px; } .cls-1, .cls-9 { fill: #fff; } .cls-2 { fill: #fcfcfc; } .cls-11 { opacity: 0.5; } .cls-3, .cls-12, .cls-13 { fill: none; } .cls-4 { fill: #888; } .cls-5, .cls-14 { fill: #ddd; } .cls-7 { fill: #0a4d7f; } .cls-14 { stroke: #cccfd3; stroke-width: 0.5px; } .cls-12 { isolation: isolate; opacity: 0.2; } .cls-12, .cls-13 { stroke: #ddd; stroke-width: 0.3px; } .cls-8 { fill: #333; } .cls-15 { mask: url(#mask-1); } .cls-16 { mask: url(#mask); } .cls-10 { fill: #d9d9d9; fill-opacity: 0.2; } "),c.Rb(),c.Sb(6,"mask",3),c.Sb(7,"g",4),c.Nb(8,"path",5),c.Rb(),c.Rb(),c.Sb(9,"mask",6),c.Sb(10,"g",7),c.Nb(11,"path",8),c.Rb(),c.Rb(),c.Rb(),c.Nb(12,"rect",9),c.Nb(13,"rect",10),c.Nb(14,"rect",11),c.Nb(15,"rect",12),c.Nb(16,"rect",13),c.Nb(17,"path",14),c.Nb(18,"path",15),c.Nb(19,"path",16),c.Nb(20,"path",17),c.Nb(21,"path",18),c.Nb(22,"path",19),c.Nb(23,"path",20),c.Nb(24,"path",21),c.Nb(25,"path",22),c.Nb(26,"path",23),c.Nb(27,"path",24),c.Nb(28,"path",25),c.Nb(29,"path",26),c.Nb(30,"path",27),c.Nb(31,"path",28),c.Nb(32,"path",29),c.Nb(33,"rect",30),c.Nb(34,"rect",31),c.Nb(35,"path",32),c.Sb(36,"g",33),c.Nb(37,"path",34),c.Rb(),c.Nb(38,"line",35),c.Nb(39,"line",36),c.Nb(40,"path",37),c.Sb(41,"g",38),c.Nb(42,"path",39),c.Rb(),c.Nb(43,"path",40),c.Sb(44,"g"),c.Sb(45,"g",41),c.Nb(46,"path",42),c.Nb(47,"path",43),c.Nb(48,"path",44),c.Rb(),c.Nb(49,"rect",45),c.Nb(50,"rect",46),c.Nb(51,"rect",47),c.Nb(52,"path",48),c.Nb(53,"path",49),c.Nb(54,"path",50),c.Nb(55,"path",51),c.Rb(),c.Nb(56,"path",52),c.Nb(57,"path",53),c.Nb(58,"path",54),c.Nb(59,"path",55),c.Nb(60,"path",56),c.Nb(61,"path",57),c.Nb(62,"path",58),c.Nb(63,"path",59),c.Nb(64,"path",60),c.Nb(65,"path",61),c.Nb(66,"path",62),c.Nb(67,"path",63),c.Nb(68,"path",64),c.Nb(69,"path",65),c.Nb(70,"path",66),c.Nb(71,"path",67),c.Nb(72,"path",68),c.Nb(73,"path",69),c.Nb(74,"path",70),c.Nb(75,"path",71),c.Nb(76,"path",72),c.Nb(77,"path",73),c.Nb(78,"path",74),c.Nb(79,"path",75),c.Nb(80,"path",76),c.Nb(81,"path",77),c.Nb(82,"path",78),c.Rb(),c.Rb(),c.Rb())},styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .preview-container[_ngcontent-%COMP%]{width:100%;height:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;box-sizing:border-box}[_nghost-%COMP%]   .svg-wrapper[_ngcontent-%COMP%]{width:100%;max-width:650px}[_nghost-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;-o-object-fit:contain;object-fit:contain;height:auto;display:block}[_nghost-%COMP%]   .cls-1[_ngcontent-%COMP%], [_nghost-%COMP%]   .cls-2[_ngcontent-%COMP%], [_nghost-%COMP%]   .cls-3[_ngcontent-%COMP%], [_nghost-%COMP%]   .cls-4[_ngcontent-%COMP%], [_nghost-%COMP%]   .cls-5[_ngcontent-%COMP%], [_nghost-%COMP%]   .cls-6[_ngcontent-%COMP%], [_nghost-%COMP%]   .cls-7[_ngcontent-%COMP%], [_nghost-%COMP%]   .cls-8[_ngcontent-%COMP%], [_nghost-%COMP%]   .cls-9[_ngcontent-%COMP%], [_nghost-%COMP%]   .cls-10[_ngcontent-%COMP%]{transition:fill .2s linear}"]}),t}(),sr=["fileInput"],cr=["tabpanel"],lr=["placeholder"],pr=["tabitem"];function dr(t,e){if(1&t&&(c.Sb(0,"p"),c.Ic(1),c.Rb()),2&t){var n=e.item,i=c.dc().$implicit;c.Ab(1),c.Jc(i(n.label))}}function ur(t,e){if(1&t&&(c.Sb(0,"span",16),c.Nb(1,"i"),c.Rb(),c.Ic(2)),2&t){var n=e.item,i=c.dc().$implicit;c.Ab(1),c.Cb(n.icon),c.Ab(1),c.Kc(" ",i(n.label)," ")}}function gr(t,e){1&t&&(c.Sb(0,"span"),c.Nb(1,"i",30),c.Rb())}function hr(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",27),c.Zb("focus",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onColorFocus(t)}))("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onSelectionChange("paletteColor",t)}))("keydown.space",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onSelectionChange("paletteColor",t)}))("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onSelectionChange("paletteColor",t)})),c.Gc(1,gr,2,0,"span",28),c.Sb(2,"p",29),c.Ic(3),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(3);c.Ec("background-color",i),c.Bb("tabindex",o.showPalettes?0:-1)("aria-describedby",i)("aria-label",i),c.Ab(1),c.kc("ngIf",o.paletteColor===i),c.Ab(1),c.kc("id",i),c.Ab(1),c.Jc(i)}}function br(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",17),c.Sb(1,"label",18),c.Ic(2),c.Rb(),c.Sb(3,"div",19,20),c.Zb("keydown.Enter",(function(t){c.yc(n);var e=c.dc(2);return e.hideMenus(t,e.paletteHandle),e.toggleShowPalettes()}))("keydown.space",(function(t){c.yc(n);var e=c.dc(2);return e.hideMenus(t,e.paletteHandle),e.toggleShowPalettes()}))("click",(function(t){c.yc(n);var e=c.dc(2);return e.hideMenus(t,e.paletteHandle),e.toggleShowPalettes()})),c.Sb(5,"div",21),c.Nb(6,"div",22),c.Nb(7,"i",23),c.Rb(),c.Rb(),c.Sb(8,"app-dropdown-menu",24),c.Sb(9,"div",25),c.Gc(10,hr,4,8,"div",26),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(2),c.Jc(i("editBar.palette")),c.Ab(1),c.Bb("aria-expanded",o.showPalettes),c.Ab(3),c.Ec("background-color",o.selections.paletteColor),c.Ab(2),c.Eb("visible",o.showPalettes),c.Bb("aria-hidden",!o.showPalettes)("aria-activedescendant",o.focusedColor),c.Ab(2),c.kc("ngForOf",o.paletteColors)("ngForTrackBy",o.colorTrackBy)}}function fr(t,e){if(1&t&&(c.Sb(0,"div",31),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=c.dc().$implicit;c.Ab(2),c.Jc(n("myProfile.themes.wizardTip"))}}var mr=function(t){return{disabled:t}};function vr(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"div"),c.Sb(4,"label",3),c.Ic(5),c.Rb(),c.Sb(6,"cl-dropdown",4),c.Zb("selectionChange",(function(t){return c.yc(n),c.dc().selections.theme=t}))("selectionChange",(function(t){return c.yc(n),c.dc().onSelectionChange("theme",t)}))("click",(function(t){c.yc(n);var e=c.dc();return e.hideMenus(t,e.themeHandle)})),c.Gc(7,dr,2,1,"ng-template",5),c.Gc(8,ur,3,3,"ng-template",6),c.Rb(),c.Rb(),c.Gc(9,br,11,10,"div",7),c.Gc(10,fr,3,1,"ng-template",null,8,c.Hc),c.Sb(12,"div",9),c.Sb(13,"div",10),c.Sb(14,"cl-slide-toggle",11),c.Zb("toggledChange",(function(t){return c.yc(n),c.dc().selections.darkTheme=t}))("toggledChange",(function(t){return c.yc(n),c.dc().onSelectionChange("darkTheme",t)})),c.Ic(15),c.Rb(),c.Rb(),c.Sb(16,"div",10),c.Sb(17,"cl-slide-toggle",11),c.Zb("toggledChange",(function(t){return c.yc(n),c.dc().selections.highContrast=t}))("toggledChange",(function(t){return c.yc(n),c.dc().onSelectionChange("highContrastSelected",t)})),c.Ic(18),c.Rb(),c.Rb(),c.Sb(19,"div",12),c.Sb(20,"cl-slide-toggle",11),c.Zb("toggledChange",(function(t){return c.yc(n),c.dc().selections.showFirstTime=t}))("toggledChange",(function(t){return c.yc(n),c.dc().onSelectionChange("showFirstTime",t)})),c.Ic(21),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(22,"div",13),c.Sb(23,"label"),c.Ic(24),c.Rb(),c.Sb(25,"div",14),c.Nb(26,"app-dynamic-theme-ui-preview",15),c.Rb(),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.vc(11),r=c.dc();c.Ab(5),c.Jc(i("editBar.theme")),c.Ab(1),c.kc("id","theme-selection")("selection",r.selections.theme)("options",r.themeOptions)("showRemove",!1)("ngClass",c.nc(20,mr,!r.settings.userInfo.canSetTheme)),c.Ab(3),c.kc("ngIf",!r.settings.userInfo.usingGroupPalette&&r.selections.theme!==r.Themes.Primary),c.Ab(5),c.kc("id","dark-mode-toggle")("toggled",r.selections.darkTheme),c.Ab(1),c.Kc(" ",i("myProfile.themes.darkMode")," "),c.Ab(2),c.kc("id","high-contrast-toggle")("toggled",r.selections.highContrast),c.Ab(1),c.Kc(" ",i("header.highContrast")," "),c.Ab(1),c.kc("clTooltip",o),c.Ab(1),c.kc("id","show-wizard-toggle")("toggled",r.selections.showFirstTime),c.Ab(1),c.Kc(" ",i("myProfile.themes.showWizard")," "),c.Ab(3),c.Jc(i("myProfile.themes.preview")),c.Ab(2),c.kc("themeColor",r.paletteColor)("highContrast",r.selections.highContrast)}}var yr=function(){function t(t,e,n,i,o,r,a,s,c,l,p){var d=this;this.sessionService=t,this.settingsService=e,this.nodeApi=n,this.menuHelper=i,this.settingsHelper=o,this.layoutService=r,this.translationHelper=a,this.renderer=s,this.viewContainerRef=c,this.translocoService=l,this.permissionsService=p,this.Themes=Ee.a,this.selections={theme:1,iconSize:"",fontBackgroundTreatment:"",showFirstTime:!1,highContrast:!1,paletteColor:"",backgroundValue:"",darkTheme:!1},this.themeOptions=[{label:"editBar.classic",value:Ee.a.Default,icon:"far fa-user"},{label:"editBar.primary",value:Ee.a.Primary,icon:"far fa-child"},{label:"editBar.professional",value:Ee.a.Professional,icon:"far fa-user-tie"}],this.sizeOptions=[{label:"editBar.small",value:"small"},{label:"editBar.default",value:"medium"},{label:"editBar.large",value:"large"}],this.fontStyleOptions=[{label:"editBar.textBackground",value:"solid-block"},{label:"editBar.textShadow",value:"text-shadow"}],this.paletteColors=["#008AD7","#D36745","#FF6B00","#26C06E","#559B5C","#238C7C","#D270AD","#9A0000","#009CCC","#57C1EC","#6354A6","#5C005C"],this.wallpaperTab=0,this.showPalettes=!1,this.showBackgrounds=!1,this.focusedColor="",this.paletteColor="",this.subscriptions=[],this.subscriptions[0]=t.settingsUpdated.subscribe((function(t){return d.onSettingsUpdate(t)})),this.subscriptions[1]=r.documentClicked.subscribe((function(){return d.menuHelper.closeAllMenus()})),this.subscriptions[2]=r.windowResized.subscribe((function(){return d.onWindowResize()})),this.subscriptions[3]=t.gwsTokenSet.subscribe((function(){return d.getAllWallpapers()})),this.subscriptions[4]=p.permissionsSub.subscribe((function(t){d.permissions=t,d.setDynamicThemeOption()})),this.paletteHandle=this.menuHelper.registerMenu((function(){d.showPalettes=!1})),this.backgroundHandle=this.menuHelper.registerMenu((function(){return d.showBackgrounds=!1})),this.paletteColor=this.settings.customUISettings.paletteColor}return t.prototype.ngAfterViewInit=function(){var t=this;this.backgroundElement=document.querySelector("#background-container"),this.subscriptions[5]=this.dropdowns.changes.subscribe((function(e){t.onDropdownUpdate()})),this.onDropdownUpdate(),this.onWindowResize()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.wallpaperTimer&&this.wallpaperTimer.unsubscribe()},t.prototype.onDropdownUpdate=function(){var t=this.dropdowns.toArray();t[0]&&(this.menuHelper.unregisterMenu(this.themeHandle),this.themeHandle=this.menuHelper.registerMenu((function(){return t[0].hideDropdown()}))),t[1]&&(this.menuHelper.unregisterMenu(this.wizardHandle),this.wizardHandle=this.menuHelper.registerMenu((function(){return t[2].hideDropdown()})))},t.prototype.onWindowResize=function(){},t.prototype.getAllWallpapers=function(){var t=this;this.nodeApi.getWallpaperLinks().subscribe((function(e){return t.wallpapers=e})),this.nodeApi.getCustomWallpaperLinks().subscribe((function(e){return t.customWallpapers=e}))},t.prototype.onSettingsUpdate=function(t){this.settings=t;var e=t.customUISettings;this.selections.theme=e.theme,this.selections.iconSize=e.iconSize,this.selections.showFirstTime=e.showFirstTime,this.selections.fontBackgroundTreatment=e.fontBackgroundTreatment,this.selections.paletteColor=e.paletteColor,this.selections.backgroundValue=e.backgroundValue,this.selections.highContrast=e.highContrastSelected,this.selections.darkTheme=e.darkTheme,"color"===e.backgroundType&&(this.wallpaperColor=e.backgroundValue)},t.prototype.onWallpaperChange=function(t,e){this.settings.customUISettings.backgroundType=t,this.onSelectionChange("backgroundValue",e)},t.prototype.onSelectionChange=function(t,e){var n=this;"theme"===t&&e!==this.settings.customUISettings.theme&&this.settingsHelper.themeUpdated.next(e),"theme"===t&&e===this.settings.customUISettings.theme||(this.settings.customUISettings[t]=e,this.sessionService.setSettings(this.settings),this.settingsService.setSettings(this.settings).subscribe((function(i){n.paletteColor=n.settings.customUISettings.paletteColor,"highContrastSelected"===t&&(n.selections.highContrast=e)})))},t.prototype.onColorChange=function(){var t=this;this.settings.customUISettings.backgroundType="color",this.renderer.setStyle(this.backgroundElement,"background-color",this.wallpaperColor),this.wallpaperTimer&&this.wallpaperTimer.unsubscribe(),this.wallpaperTimer=Object(T.a)(200).subscribe((function(){t.onSelectionChange("backgroundValue",t.wallpaperColor)}))},t.prototype.hideMenus=function(t,e){t.stopPropagation(),this.menuHelper.closeAllOtherMenus(e)},t.prototype.toggleShowPalettes=function(){this.showPalettes=!this.showPalettes},t.prototype.toggleShowBackgrounds=function(){this.showBackgrounds=!this.showBackgrounds},t.prototype.wallpaperTrackBy=function(t,e){return e.link},t.prototype.clickInput=function(){this.fileInput.nativeElement.click()},t.prototype.onImageUpload=function(){var t=this,e=this.settingsHelper.onImageUpload(this.fileInput.nativeElement);e&&e.subscribe((function(e){return t.customWallpapers=e}))},t.prototype.onColorFocus=function(t){this.focusedColor=t},t.prototype.nav=function(t,e){var n,i=this.tabElements.toArray();if("ArrowRight"===t.key)n=e===i.length-1?0:e+1;else{if("ArrowLeft"!==t.key)return;n=0===e?i.length-1:e-1}i[e].nativeElement.tabIndex="-1",i[n].nativeElement.tabIndex="0",i[n].nativeElement.focus()},t.prototype.focusPanel=function(){for(var t=this.tabElements.toArray(),e=0;e<t.length;e++)t[e].nativeElement.tabIndex=e===this.wallpaperTab?0:-1;this.tabPanel.nativeElement.focus()},t.prototype.setDynamicThemeOption=function(){this.permissions.tenantPermissions[Ie.a.DynamicTheme]&&(this.themeOptions=Object(le.e)(this.themeOptions,[{label:"editBar.dynamic",value:Ee.a.Dynamic,icon:"far fa-graduation-cap"}]))},t.prototype.selectColor=function(t){this.paletteColor=t,this.onSelectionChange("color",t)},t.prototype.colorTrackBy=function(t,e){return e.id},t.\u0275fac=function(e){return new(e||t)(c.Mb(ae.a),c.Mb(di.a),c.Mb(Qt.a),c.Mb(Ze),c.Mb(re.a),c.Mb(We.G),c.Mb(Be.a),c.Mb(c.E),c.Mb(c.P),c.Mb(Te.f),c.Mb(Ie.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-dynamic-theme-ui-settings"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(sr,!0),c.Nc(cr,!0),c.Nc(lr,!0),c.Nc(ko,!0,c.l),c.Nc(We.t,!0),c.Nc(pr,!0)),2&t&&(c.uc(n=c.ac())&&(e.fileInput=n.first),c.uc(n=c.ac())&&(e.tabPanel=n.first),c.uc(n=c.ac())&&(e.placeholders=n),c.uc(n=c.ac())&&(e.dropdownMenus=n),c.uc(n=c.ac())&&(e.dropdowns=n),c.uc(n=c.ac())&&(e.tabElements=n))},decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-content","row-nowrap"],[1,"options","flex-start","column-nowrap"],["for","theme-selection"],[3,"id","selection","options","showRemove","ngClass","selectionChange","click"],["clTemplate","selectedItem"],["clTemplate","item"],["class","auto-width palette-selector",4,"ngIf"],["wizardTooltip",""],[1,"toggle-container"],[1,"auto-width"],[3,"id","toggled","toggledChange"],[1,"auto-width",3,"clTooltip"],[1,"example","flex-start","column-nowrap"],[1,"background-ctnr","flex-center"],[3,"themeColor","highContrast"],[1,"icon-ctnr"],[1,"auto-width","palette-selector"],["id","palette-label","for","palette-selection"],["role","button","tabindex","0","id","palette-selection","aria-haspopup","true","aria-labelledby","palette-label",1,"placeholder","palette-placeholder",3,"keydown.Enter","keydown.space","click"],["placeholder",""],[1,"palette-dropdown"],[1,"color-preview"],[1,"fas","fa-chevron-down"],["aria-labelledby","palette-label","aria-orientation","horizontal","tabindex","-1","role","menu","clFocusTrap","",1,"palette"],[1,"color-ctnr","row-wrap"],["role","button menuitem","class","color cl-focusable",3,"background-color","focus","keydown.Enter","keydown.space","click",4,"ngFor","ngForOf","ngForTrackBy"],["role","button menuitem",1,"color","cl-focusable",3,"focus","keydown.Enter","keydown.space","click"],[4,"ngIf"],[1,"off-screen",3,"id"],[1,"fa-regular","fa-check"],[1,"cl-tooltip"]],template:function(t,e){1&t&&c.Gc(0,vr,27,22,"ng-container",0)},directives:[Te.c,We.t,i.j,We.f,i.l,We.Q,We.Y,ar,ko,We.y,i.k],styles:['.slideover-content[_ngcontent-%COMP%]{height:100%}.options[_ngcontent-%COMP%]{width:calc(50% - 10px);margin-right:10px}.options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;margin-bottom:20px}.options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px);margin-bottom:5px;display:block}.auto-width[_ngcontent-%COMP%]{width:auto}.palette-selector[_ngcontent-%COMP%]{margin-bottom:35px;position:relative}.palette-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px);margin-bottom:5px;display:block}.palette-dropdown[_ngcontent-%COMP%]{width:71px;height:40px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;background-color:var(--color-bg-light);border:2px solid #ddd;border-radius:9px;padding:8px;cursor:pointer}.palette-dropdown[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:4px;margin-right:8px}.palette-dropdown[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:auto;font-size:12px;color:var(--color-text)}.color-ctnr[_ngcontent-%COMP%]{height:100%;width:100%;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:11px;-ms-flex-pack:justify;justify-content:space-between;margin:-2px}.color[_ngcontent-%COMP%], .color-ctnr[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.color[_ngcontent-%COMP%]{cursor:pointer;width:28px;height:28px;border-radius:4px;position:relative;-ms-flex-pack:center;justify-content:center;margin:1px}.color[_ngcontent-%COMP%]:focus:after{content:"";position:absolute;width:40px;height:40px;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.color[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%]{color:#fff;font-size:calc(var(--font-modifier) * 16px);font-weight:400}app-dropdown-menu.palette[_ngcontent-%COMP%]{display:none;cursor:auto;padding:12px;width:274px;position:absolute;top:100%;left:0;z-index:1000}app-dropdown-menu.palette.visible[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;opacity:1;pointer-events:all}.toggle-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;gap:14px;z-index:1}.background-ctnr[_ngcontent-%COMP%]{height:350px;width:450px;background-color:var(--color-bg-dark);padding:30px;border-radius:5px}.icon-ctnr[_ngcontent-%COMP%]{-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;margin-right:10px;width:25px;font-size:calc(var(--font-modifier) * 20px)}.icon-ctnr[_ngcontent-%COMP%], cl-dropdown[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}cl-dropdown[_ngcontent-%COMP%]{width:250px}.off-screen[_ngcontent-%COMP%]{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}']}),t}();function Cr(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",6),c.Sb(1,"img",7),c.Zb("error",(function(t){return c.yc(n),c.dc(2).handleImage(t)})),c.Rb(),c.Rb(),c.Sb(2,"div",8),c.Sb(3,"p",9),c.Ic(4),c.Rb(),c.Sb(5,"p"),c.Ic(6),c.Rb(),c.Rb()}if(2&t){var i=e.row;c.Ab(1),c.kc("src",i.defaultUrl,c.Ac),c.Ab(3),c.Jc(i.appName),c.Ab(2),c.Jc(i.appDescription)}}var xr=function(t,e){return{"color-success":t,"color-danger":e}};function wr(t,e){if(1&t&&(c.Sb(0,"p",10),c.Ic(1),c.Rb()),2&t){var n=e.row,i=c.dc().$implicit;c.kc("ngClass",c.oc(2,xr,n.lockerStatus,!n.lockerStatus)),c.Ab(1),c.Jc(i(n.lockerStatus?"myProfile.passwords.set":"myProfile.passwords.notSet"))}}var Pr=function(t){return{app:t}};function Or(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",11),c.Sb(1,"button",12),c.Zb("click",(function(){c.yc(n);var t=e.row;return c.dc(2).openLocker(t)})),c.Nb(2,"i",13),c.Rb(),c.Rb()}if(2&t){var i=e.row,o=c.dc().$implicit;c.Ab(1),c.Bb("aria-label",o("myProfile.passwords.editLabel",c.nc(1,Pr,i.appName)))}}function Mr(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"cl-data-table",2),c.Zb("pageEvent",(function(t){return c.yc(n),c.dc().onPage(t)}))("filterEvent",(function(t){return c.yc(n),c.dc().onFilter(t)})),c.Gc(3,Cr,7,3,"ng-template",3),c.Gc(4,wr,2,5,"ng-template",4),c.Gc(5,Or,3,3,"ng-template",5),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.dc();c.Ab(2),c.kc("data",i.data)("dataFields",i.fields)("length",i.length)("filterable",!0)}}var _r=function(){function t(t,e,n,i){this.nodeApi=t,this.appsService=e,this.helper=n,this.translationService=i,this.fields=[{header:"App Name",fieldName:"appName",canFilter:!0,template:{name:"col1"}},{header:"Status",fieldName:"",columnWidth:20,minWidth:100,template:{name:"col2"}},{header:"",fieldName:"",columnWidth:5,minWidth:25,template:{name:"buttons"}}],this.length=0,this.filters={offset:0,limit:25,search:""},this.fields[0].header=i.translate("apps.appName"),this.fields[1].header=i.translate("myProfile.passwords.status")}return t.prototype.ngOnInit=function(){this.getPasswordApps()},t.prototype.getPasswordApps=function(){var t=this;this.appsService.getPasswordLockerApps(this.filters).subscribe((function(e){t.data=e.apps,t.length=e.count}))},t.prototype.onPage=function(t){this.filters.offset=t.pageIndex*t.pageSize,this.filters.limit=t.pageSize,this.getPasswordApps()},t.prototype.onFilter=function(t){this.filters.search=t[0]?t[0].filterValue:"",this.getPasswordApps()},t.prototype.openLocker=function(t){var e=15===t.appType?1:3;this.helper.passwordLockerAppSelected.next(t),this.helper.tabPageChanged.next(e)},t.prototype.handleImage=function(t){t.target.src=Re.a.coreCDN+"/assets/images/default-app-icon.png"},t.\u0275fac=function(e){return new(e||t)(c.Mb(Qt.a),c.Mb(je.a),c.Mb(Fe),c.Mb(Te.f))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-passwords-tab"]],decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-content"],[3,"data","dataFields","length","filterable","pageEvent","filterEvent"],["clTemplate","col1"],["clTemplate","col2"],["clTemplate","buttons"],[1,"img-border","application","flex-center"],["alt","",3,"src","error"],[1,"flex-start","column-nowrap"],[1,"app-name"],[1,"heavier",3,"ngClass"],[1,"flex-end-center","edit-ctnr"],[1,"edit",3,"click"],[1,"far","fa-edit"]],template:function(t,e){1&t&&c.Gc(0,Mr,6,4,"ng-container",0)},directives:[Te.c,We.p,We.f,i.j],styles:['.edit-ctnr[_ngcontent-%COMP%]{width:100%}.edit-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0}.edit-ctnr[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-primary);font-size:20px}p.heavier[_ngcontent-%COMP%]{font-weight:600}div.img-border.application.flex-center[_ngcontent-%COMP%]{position:relative;margin-right:15px;height:50px;width:50px;-ms-flex:0 0 50px;flex:0 0 50px;min-width:50px;min-height:50px;filter:drop-shadow(5px 5px 5px var(--color-medium))}div.img-border.application.flex-center[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:47px;height:47px;clip-path:url(#squareCircle)}div.img-border.application.flex-center[_ngcontent-%COMP%]:before{content:"";position:absolute;top:3px;left:3px;width:calc(100% - 6px);height:calc(100% - 6px);border-radius:20px;box-shadow:0 0 10px rgba(0,0,0,.2)}div.flex-start.column-nowrap[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;text-align:center;font-size:calc(var(--font-modifier) * 13px);font-weight:600}div.flex-start.column-nowrap[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 12px);font-weight:400;letter-spacing:0;word-spacing:0}']}),t}(),kr=function(t){return{name:t}};function Sr(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",7),c.Sb(1,"button",8),c.Zb("click",(function(){c.yc(n);var t=e.row;return c.dc(2).editLocker(t)})),c.Nb(2,"i",9),c.Rb(),c.Sb(3,"button",10),c.Zb("clTooltipDisplayChange",(function(){return c.yc(n),c.dc(2).activeLockerIndex=void 0}))("click",(function(){c.yc(n);var t=e.rowIndex;return c.dc(2).activeLockerIndex=t})),c.Nb(4,"i",11),c.Rb(),c.Rb()}if(2&t){var i=e.row,o=e.rowIndex,r=c.dc().$implicit,a=c.vc(10),s=c.dc();c.Ab(1),c.Bb("aria-label",r("myProfile.passwords.editLabel",c.nc(7,kr,i.name))),c.Ab(2),c.kc("clTooltip",a)("clTooltipContext",i)("clTooltipDirection","left")("clTooltipPersist",!0)("clTooltipDisplay",s.activeLockerIndex===o),c.Bb("aria-label",r("myProfile.passwords.deleteLabel",c.nc(9,kr,i.name)))}}function Ar(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",12),c.Sb(1,"h4"),c.Ic(2),c.Rb(),c.Sb(3,"p"),c.Ic(4),c.Rb(),c.Sb(5,"div",13),c.Sb(6,"button",14),c.Zb("click",(function(){return c.yc(n),c.dc(2).activeLockerIndex=void 0})),c.Ic(7),c.Rb(),c.Sb(8,"button",15),c.Zb("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(2).deleteLocker(t)})),c.Ic(9),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit;c.Ab(2),c.Jc(i("myProfile.passwords.deleteLocker")),c.Ab(2),c.Jc(i("myProfile.passwords.deleteDescription")),c.Ab(3),c.Jc(i("common.no")),c.Ab(2),c.Jc(i("common.yes"))}}function Ir(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"button",2),c.Zb("click",(function(){return c.yc(n),c.dc().addLocker()})),c.Ic(3),c.Rb(),c.Sb(4,"h3",3),c.Ic(5),c.ec(6,"uppercase"),c.Rb(),c.Sb(7,"cl-data-table",4),c.Zb("filterEvent",(function(t){return c.yc(n),c.dc().onFilter(t)})),c.Gc(8,Sr,5,11,"ng-template",5),c.Gc(9,Ar,10,4,"ng-template",null,6,c.Hc),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(2),c.Bb("aria-label",i("myProfile.passwords.addLocker")),c.Ab(1),c.Jc(i("myProfile.passwords.addLocker")),c.Ab(2),c.Jc(c.fc(6,8,i("myProfile.passwords.locker"))),c.Ab(2),c.kc("data",o.data)("dataFields",o.fields)("trackByFn",o.trackByFn)("filterable",!0)("length",o.length)}}var Rr=function(){function t(t,e,n,i){var o=this;this.nodeApi=t,this.helper=e,this.translationService=n,this.translationHelper=i,this.fields=[{fieldName:"name",header:"name",columnWidth:90,canSort:!1,canFilter:!0},{fieldName:"",header:"",minWidth:100,template:{name:"buttons"}}],this.length=0,this.filters={offset:0,limit:25,search:""},this.subscriptions=[],this.subscriptions[0]=this.helper.passwordLockerAppSelected.subscribe((function(t){o.activeAppId=t?o.helper.isPasswordLockerApp(t)?t.appId:t.id:void 0;var e=o.helper.isPasswordLockerApp(t)?t.appName:t.name;o.getLockers();var n=o.translationService.translate("myProfile.passwords.passwordsTitle",{name:e});o.helper.titleUpdated.next(n)}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.retryGetLockers=function(){var t=this;this.getLockers();var e=Object(J.a)(1e3),n=Object(T.a)(3e3);e.pipe(Object(D.a)(n)).subscribe((function(){return t.getLockers()}))},t.prototype.getLockers=function(){var t=this;this.nodeApi.getLockersForApp(this.activeAppId,this.filters).subscribe((function(e){t.length=e.count,t.data=e.lockers,t.selectors=e.selectors,t.canShowPassword=e.canShowPassword}))},t.prototype.onFilter=function(t){this.filters.search=t[0]?t[0].filterValue:"",this.getLockers()},t.prototype.trackByFn=function(t,e){return e.id},t.prototype.addLocker=function(){this.helper.lockerSelected.next({canShowPassword:this.canShowPassword,selectors:this.selectors,locker:void 0}),this.helper.tabPageChanged.next(2)},t.prototype.editLocker=function(t){this.helper.lockerSelected.next({canShowPassword:this.canShowPassword,selectors:this.selectors,locker:t}),this.helper.tabPageChanged.next(2)},t.prototype.deleteLocker=function(t){var e=this;this.nodeApi.deleteLockerForApp(this.activeAppId,t.id).subscribe((function(t){e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.locker",verb:"common.deleted"}),e.retryGetLockers()}))},t.\u0275fac=function(e){return new(e||t)(c.Mb(Qt.a),c.Mb(Fe),c.Mb(Te.f),c.Mb(Be.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-app-locker-list"]],decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-content"],[1,"button-text",3,"click"],[1,"locker-title"],[3,"data","dataFields","trackByFn","filterable","length","filterEvent"],["clTemplate","buttons"],["tooltip",""],[1,"buttons","flex-end-center"],[1,"edit",3,"click"],[1,"far","fa-edit"],[1,"delete",3,"clTooltip","clTooltipContext","clTooltipDirection","clTooltipPersist","clTooltipDisplay","clTooltipDisplayChange","click"],[1,"far","fa-times"],[1,"cl-tooltip","confirmation"],[1,"buttons-ctnr"],[1,"button","button-default",3,"click"],[1,"button","button-default","text-danger",3,"click"]],template:function(t,e){1&t&&c.Gc(0,Ir,11,10,"ng-container",0)},directives:[Te.c,We.p,We.f,We.Y],pipes:[i.s],styles:[".button-text[_ngcontent-%COMP%]{margin-bottom:40px;padding-left:0;-ms-flex-item-align:start;align-self:flex-start}.buttons[_ngcontent-%COMP%]{width:100%}.buttons[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:20px;width:20px}.buttons[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{color:var(--color-primary)}.buttons[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{color:var(--color-danger)}.row-modal[_ngcontent-%COMP%]{margin-top:105px;margin-left:20px}.locker-title[_ngcontent-%COMP%]{margin-bottom:20px}"]}),t}(),Tr=n("Jlc5"),Fr=n.n(Tr),Er=n("O7iK"),Dr=n.n(Er),Lr=function(t,e,n){return{"aria-label":t,required:!0,type:e,autocomplete:n}};function Nr(t,e){if(1&t){var n=c.Tb();c.Sb(0,"cl-input",12),c.Zb("valueChange",(function(t){return c.yc(n),e.$implicit.value=t})),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(2);c.kc("value",i.value)("label",i.label)("attributes",c.pc(4,Lr,i.label,i.type,"password"===i.type?"current-password":i.label.toLocaleLowerCase()))("showPasswordEye","password"===i.type&&o.canShowPassword)}}var Hr=function(t){return{required:!0,type:"text","aria-label":t}},Gr=function(t){return{autocomplete:"new-password",type:"text","aria-label":t}};function Br(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"cl-input",2),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().form.title=t})),c.Rb(),c.Sb(3,"cl-input",3),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().form.url=t})),c.Rb(),c.Sb(4,"h3"),c.Ic(5),c.Rb(),c.Nb(6,"input",4),c.Nb(7,"input",5),c.Nb(8,"input",6),c.Nb(9,"input",7),c.Gc(10,Nr,1,8,"cl-input",8),c.Rb(),c.Sb(11,"div",9),c.Sb(12,"button",10),c.Zb("click",(function(){return c.yc(n),c.dc().helper.tabPageChanged.next(1)})),c.Ic(13),c.Rb(),c.Sb(14,"button",11),c.Zb("click",(function(){return c.yc(n),c.dc().saveLocker()})),c.Ic(15),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(2),c.kc("value",o.form.title)("label",i("myProfile.passwords.lockerName"))("attributes",c.nc(13,Hr,i("myProfile.passwords.lockerName"))),c.Ab(1),c.kc("value",o.form.url)("label",i("myProfile.passwords.urlLabel"))("inputValidator",o.isValidUrl.bind(o))("attributes",c.nc(15,Gr,i("myProfile.passwords.urlLabel"))),c.Ab(2),c.Jc(i("myProfile.passwords.credentials")),c.Ab(5),c.kc("ngForOf",o.form.credentials),c.Ab(3),c.Jc(i("common.goBack")),c.Ab(1),c.kc("disabled",!o.canSaveLocker())("tabindex",o.canSaveLocker()?0:-1),c.Ab(1),c.Jc(i("common.save"))}}var jr=function(){function t(t,e,n,i,o){var r=this;this.nodeApi=t,this.helper=e,this.translationHelper=n,this.translationService=i,this.sessionservice=o,this.canShowPassword=!1,this.form={title:"",url:"",credentials:[]},this.subscriptions=[],this.userInfo=this.sessionservice.getUserInfo(),this.subscriptions[0]=this.helper.lockerSelected.subscribe((function(t){r.activeLocker=t.locker?t.locker:{id:0,lpapplication_id:-1,name:"",redirectUrl:"",selectors:[],user_id:""},r.form.title=r.activeLocker.name,r.form.url=r.activeLocker.redirectUrl?r.activeLocker.redirectUrl:"",r.canShowPassword=t.canShowPassword;var e=[];t.locker&&Xe()(r.activeLocker.selectors,(function(t){t.value||e.push(t.extensionSsoConfigId)})),e.length>0?Object(ue.a)(r.nodeApi.getPasswordsForLocker(r.activeLocker.id,e)).subscribe((function(e){var n=Dr()(e);r.activeLocker.selectors.forEach((function(t,e){t.value||(t.value=n[t.extensionSsoConfigId])})),r.initForm(t)})):r.initForm(t)})),this.subscriptions[1]=this.helper.passwordLockerAppSelected.subscribe((function(t){r.activeAppId=t?r.helper.isPasswordLockerApp(t)?t.appId:t.id:void 0;var e=r.helper.isPasswordLockerApp(t)?t.appName:t.name,n=r.translationService.translate("myProfile.passwords.passwordsTitle",{name:e});r.helper.titleUpdated.next(n)}))}return t.prototype.initForm=function(t){var e=this;this.form.title=this.activeLocker.name,this.form.url=this.activeLocker.redirectUrl?this.activeLocker.redirectUrl:"";var n=0!==this.activeLocker.id?this.activeLocker.selectors:t.selectors;this.form.credentials=fe()(n.map((function(t){return t.value=t.value?e.helper.decryptResponse(t.value):"",t})),["order","label"]),this.form.credentials.forEach((function(t){var n="email"===t.label.toLocaleLowerCase()?"myProfile.general.email":"myProfile.passwords."+t.label.toLocaleLowerCase(),i=e.translationService.translate(n);t.label=i===n?Ae()(t.label):i}))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.isValidUrl=function(){return""===this.form.url||$e.a.isValidUrl(this.form.url)},t.prototype.canSaveLocker=function(){return""!==this.form.title.trim()&&(""===this.form.url||$e.a.isValidUrl(this.form.url))&&Fr()(this.form.credentials,(function(t){return""!==t.value.trim()}))},t.prototype.saveLocker=function(){var t=this;this.activeLocker.lpapplication_id=this.activeAppId,this.activeLocker.name=this.form.title,this.activeLocker.redirectUrl=""===this.form.url?"":"http"!==this.form.url.substring(0,4)?"http://"+this.form.url:this.form.url,this.activeLocker.selectors=this.form.credentials;var e=he()(this.activeLocker);this.nodeApi.addLockerForApp(this.activeAppId,e).subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.locker",verb:"common."+(0===t.activeLocker.id?"added":"edited")}),t.helper.tabPageChanged.next(1)}))},t.prototype.getPassword=function(t){console.log(t)},t.\u0275fac=function(e){return new(e||t)(c.Mb(Qt.a),c.Mb(Fe),c.Mb(Be.a),c.Mb(Te.f),c.Mb(ae.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-edit-locker"]],decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-content"],[3,"value","label","attributes","valueChange"],[3,"value","label","inputValidator","attributes","valueChange"],["type","password","name","pass-manager-bad1","id","pass-manager-bad1","type","password",2,"display","none"],["type","password","name","pass-manager-bad2","id","pass-manager-bad2","type","password",2,"display","none"],["type","password","name","pass-manager-bad3","id","pass-manager-bad3","type","password",2,"display","none"],["type","password","name","pass-manager-bad3","id","pass-manager-bad4","type","password",2,"display","none"],[3,"value","label","attributes","showPasswordEye","valueChange",4,"ngFor","ngForOf"],[1,"slideover-controls"],[1,"button","button-default",3,"click"],[1,"button","button-secondary",3,"disabled","tabindex","click"],[3,"value","label","attributes","showPasswordEye","valueChange"]],template:function(t,e){1&t&&c.Gc(0,Br,16,17,"ng-container",0)},directives:[Te.c,We.C,i.k],styles:["cl-input[_ngcontent-%COMP%]{height:62px;width:50%;margin-bottom:20px}h3[_ngcontent-%COMP%]{margin:40px 0 20px}.relative-ctnr[_ngcontent-%COMP%]{position:relative;width:50%}.relative-ctnr[_ngcontent-%COMP%] > cl-input[_ngcontent-%COMP%]{width:100%}.relative-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:absolute;right:0;top:22px;height:40px;padding:10px}.relative-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:20px;width:20px}"]}),t}();function Ur(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"h3",7),c.Ic(2),c.Rb(),c.Pb()),2&t){var n=c.dc().$implicit;c.Ab(2),c.Jc(n("myProfile.passwords.nothingToFill"))}}var zr=function(t,e,n,i){return{"aria-label":t,required:e,type:n,autocomplete:i}};function Vr(t,e){if(1&t){var n=c.Tb();c.Sb(0,"cl-input",10),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().$implicit.value=t})),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc(3);c.kc("value",i.value)("label",i.label)("inputValidator",o.inputValidator.bind(o,i.required))("attributes",c.qc(5,zr,i.label,i.required,i.type,"password"===i.type?"current-password":i.label.toLocaleLowerCase()))("showPasswordEye","password"===i.type&&o.canShowPassword)}}function Zr(t,e){if(1&t&&(c.Qb(0),c.Gc(1,Vr,1,10,"cl-input",9),c.Pb()),2&t){var n=e.$implicit;c.Ab(1),c.kc("ngIf",!n.hidden)}}function $r(t,e){if(1&t&&(c.Sb(0,"h3"),c.Ic(1),c.Rb(),c.Gc(2,Zr,2,1,"ng-container",8)),2&t){var n=c.dc().$implicit,i=c.dc();c.Ab(1),c.Jc(n("myProfile.passwords.credentials")),c.Ab(1),c.kc("ngForOf",i.form)}}function Wr(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Gc(2,Ur,3,1,"ng-container",2),c.Gc(3,$r,3,2,"ng-template",null,3,c.Hc),c.Rb(),c.Sb(5,"div",4),c.Sb(6,"button",5),c.Zb("click",(function(){return c.yc(n),c.dc().deleteLocker()})),c.Ic(7),c.Rb(),c.Sb(8,"button",6),c.Zb("click",(function(){return c.yc(n),c.dc().saveLocker()})),c.Ic(9),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.vc(4),r=c.dc();c.Ab(2),c.kc("ngIf",r.showBlankPage())("ngIfElse",o),c.Ab(5),c.Jc(i("common.delete")),c.Ab(1),c.kc("disabled",!r.canSaveLocker())("tabindex",r.canSaveLocker()?0:-1),c.Ab(1),c.Jc(i("common.save"))}}var Jr=function(){function t(t,e,n){var i=this;this.nodeApi=t,this.helper=e,this.translationHelper=n,this.form=[],this.canShowPassword=!1,this.subscriptions=[],this.subscriptions[0]=this.helper.passwordLockerAppSelected.subscribe((function(t){i.activeAppId=t?i.helper.isPasswordLockerApp(t)?t.appId:t.id:void 0;var e=i.helper.isPasswordLockerApp(t)?t.appName:t.name;i.helper.titleUpdated.next(e+" Passwords"),i.getLockerDetails()}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.showBlankPage=function(){return Fr()(this.form,(function(t){return t.hidden}))},t.prototype.getLockerDetails=function(){var t=this;this.nodeApi.getLockerDetails(this.activeAppId).subscribe((function(e){t.appDetails=e,t.canShowPassword=t.appDetails.IsEnablePasswordLockerEye,t.parseXML(t.appDetails.ConnectorCode),t.fillInCredentials(t.appDetails.UserCredentials)}))},t.prototype.parseXML=function(t){for(var e=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("form_control"),n=0;n<e.length;n++){var i=e[n];this.form[n]={hidden:"hidden"===this.extractValFromAttr(i,"user_input_type"),required:"0"!==this.extractValFromAttr(i,"input_required"),order:parseInt(this.extractValFromAttr(i,"user_input_order")),label:this.extractValFromAttr(i,"label"),formName:this.extractValFromAttr(i,"name"),value:"",type:this.extractValFromAttr(i,"user_input_type")},this.form=fe()(this.form,"order")}},t.prototype.extractValFromAttr=function(t,e){var n=t.attributes.getNamedItem(e);return n?n.nodeValue:""},t.prototype.inputValidator=function(t,e){return!t||t&&""!==e.trim()},t.prototype.fillInCredentials=function(t){this.form=this.form.map((function(e){var n=Ce()(t,(function(t){return t.SsoField===e.formName}));return e.value=n?n.SsoValue:"",e}))},t.prototype.canSaveLocker=function(){return Fr()(this.form,(function(t){return!t.required||""!==t.value.trim()}))},t.prototype.saveLocker=function(){var t=this,e=this.form.map((function(t){return{SsoField:t.formName,SsoValue:t.value}}));this.nodeApi.updateLockerDetails(this.activeAppId,e).subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.locker",verb:"common.added"}),t.helper.tabPageChanged.next(0)}))},t.prototype.deleteLocker=function(){var t=this;this.nodeApi.deleteLockerDetails(this.activeAppId).subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.locker",verb:"common.removed"}),t.helper.tabPageChanged.next(0)}))},t.\u0275fac=function(e){return new(e||t)(c.Mb(Qt.a),c.Mb(Fe),c.Mb(Be.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-edit-non-sso-locker"]],decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-content"],[4,"ngIf","ngIfElse"],["nonBlank",""],[1,"slideover-controls"],[1,"button","button-danger",3,"click"],[1,"button","button-secondary",3,"disabled","tabindex","click"],[1,"center"],[4,"ngFor","ngForOf"],[3,"value","label","inputValidator","attributes","showPasswordEye","valueChange",4,"ngIf"],[3,"value","label","inputValidator","attributes","showPasswordEye","valueChange"]],template:function(t,e){1&t&&c.Gc(0,Wr,10,6,"ng-container",0)},directives:[Te.c,i.l,i.k,We.C],styles:["cl-input[_ngcontent-%COMP%]{height:62px;width:50%}cl-input[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-bottom:20px}h3.center[_ngcontent-%COMP%]{text-align:center}.relative-ctnr[_ngcontent-%COMP%]{position:relative;width:50%}.relative-ctnr[_ngcontent-%COMP%] > cl-input[_ngcontent-%COMP%]{width:100%}.relative-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:absolute;right:0;top:22px;height:40px;padding:10px}.relative-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:20px;width:20px}"]}),t}();function qr(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",7),c.Sb(1,"img",8),c.Zb("error",(function(t){return c.yc(n),c.dc(2).handleImage(t)})),c.Rb(),c.Rb(),c.Sb(2,"div",9),c.Sb(3,"p",10),c.Ic(4),c.Rb(),c.Sb(5,"p"),c.Ic(6),c.Rb(),c.Rb()}if(2&t){var i=e.row;c.Ab(1),c.kc("src",i.icon,c.Ac),c.Ab(3),c.Jc(i.displayName),c.Ab(2),c.Jc(i.displayDesc)}}function Kr(t,e){if(1&t&&(c.Sb(0,"div",13),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=c.dc(2).$implicit;c.Ab(2),c.Jc(n("myProfile.autoLaunch.tooltip"))}}function Yr(t,e){if(1&t){var n=c.Tb();c.Sb(0,"cl-slide-toggle",11),c.Zb("toggledChange",(function(t){c.yc(n);var i=e.row;return c.dc(2).setAutoLaunch(i,t)})),c.Ic(1),c.Rb(),c.Gc(2,Kr,3,1,"ng-template",null,12,c.Hc)}if(2&t){var i=e.row,o=c.vc(3),r=c.dc().$implicit,a=c.dc();c.kc("disabled",a.disableToggle(i))("clTooltip",i.admin_auto_launch?o:void 0)("toggled",i.jointEnabled)("textPosition","right"),c.Ab(1),c.Jc(r(i.jointEnabled?"myProfile.autoLaunch.enabled":"myProfile.autoLaunch.disabled"))}}var Qr=function(t){return{limit:t}},Xr=function(){return{sort:"jointEnabled",orderBy:"desc",limit:25,offset:0}};function ta(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"h3",3),c.Ic(4),c.Rb(),c.Rb(),c.Sb(5,"cl-data-table",4),c.Gc(6,qr,7,3,"ng-template",5),c.Gc(7,Yr,4,5,"ng-template",6),c.Rb(),c.Rb(),c.Pb()),2&t){var n=e.$implicit,i=c.dc();c.Ab(4),c.Jc(n("myProfile.autoLaunch.description",c.nc(8,Qr,i.autoLaunchLimit))),c.Ab(1),c.kc("data",i.data)("dataFields",i.fields)("tableFilters",c.mc(10,Xr))("useInternalFilters",!0)("trackByFn",i.rowTrackBy)("filterable",!0)("sortable",!0)}}var ea=function(){function t(t,e,n,i,o,r){var a=this;this.appsHelper=t,this.nodeApi=e,this.translationHelper=n,this.titlePipe=i,this.sessionService=o,this.translocoService=r,this.optionsFilters=[{label:"Enabled",value:!0},{label:"Disabled",value:!1}],this.userAmountSelected=0,this.autoLaunchLimit=5,this.data=[],this.fields=[{header:"App Name",fieldName:"displayName",canFilter:!0,canSort:!0,template:{name:"col1"}},{header:"Status",fieldName:"jointEnabled",canFilter:!0,canSort:!0,columnWidth:20,template:{name:"col2"},optionsFilters:this.optionsFilters}],this.subscriptions=[],this.subscriptions[0]=t.appsUpdated.subscribe((function(t){a.apps=t.apps,a.data=fe()(a.appsHelper.flattenApps(a.apps).map((function(t){return a.appMap(t)})),(function(t){return t.displayName.toLowerCase()})),a.userAmountSelected=ne()(a.data,(function(t){return t.user_auto_launch})).length})),this.subscriptions[1]=o.settingsUpdated.subscribe((function(t){return a.autoLaunchLimit=t.tenantSettings.autoLaunchLimit})),this.optionsFilters[0].label=r.translate("common.enabled"),this.optionsFilters[1].label=r.translate("common.disabled"),this.fields[0].header=r.translate("apps.appName")}return t.prototype.appMap=function(t){return t.displayName=this.titlePipe.transform(t.name),t.displayDesc=this.titlePipe.transform(t.appdesc?t.appdesc:"",100),t.jointEnabled=Boolean(t.user_auto_launch||t.admin_auto_launch),t},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.setAutoLaunch=function(t,e){t.user_auto_launch=e,t.jointEnabled=e,t.user_auto_launch?this.addAutoLaunch(t):this.removeAutoLaunch(t),Ce()(this.appsHelper.flattenApps(this.apps),(function(e){return e.id===t.id})).user_auto_launch=e,this.userAmountSelected=ne()(this.data,(function(t){return t.user_auto_launch})).length},t.prototype.rowTrackBy=function(t,e){return e.id},t.prototype.disableToggle=function(t){return t.admin_auto_launch||!t.user_auto_launch&&this.userAmountSelected>=this.autoLaunchLimit},t.prototype.addAutoLaunch=function(t){var e=this;this.nodeApi.addAutoLaunch(t).subscribe((function(t){e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.autoLaunch.autoLaunch",verb:"common.added"}),e.appsHelper.appsUpdated.next({apps:e.apps,reload:!0})}))},t.prototype.removeAutoLaunch=function(t){var e=this;this.nodeApi.removeAutoLaunch(t).subscribe((function(t){e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.autoLaunch.autoLaunch",verb:"common.removed"}),e.appsHelper.appsUpdated.next({apps:e.apps,reload:!0})}))},t.prototype.handleImage=function(t){t.target.src=Re.a.coreCDN+"/assets/images/default-app-icon.png"},t.\u0275fac=function(e){return new(e||t)(c.Mb(Xt.a),c.Mb(Qt.a),c.Mb(Be.a),c.Mb(rn.a),c.Mb(ae.a),c.Mb(Te.f))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-auto-launch-tab"]],decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-content"],[1,"slideover-info"],[1,"autolaunch-heading"],[3,"data","dataFields","tableFilters","useInternalFilters","trackByFn","filterable","sortable"],["clTemplate","col1"],["clTemplate","col2"],[1,"img-border","application","flex-center"],["alt","",3,"src","error"],[1,"flex-start","column-nowrap"],[1,"app-name"],[3,"disabled","clTooltip","toggled","textPosition","toggledChange"],["tooltip",""],[1,"cl-tooltip"]],template:function(t,e){1&t&&c.Gc(0,ta,8,11,"ng-container",0)},directives:[Te.c,We.p,We.f,We.Q,We.Y],styles:['.slideover-info[_ngcontent-%COMP%]   h3.autolaunch-heading[_ngcontent-%COMP%]{color:var(--color-dark);font-size:calc(var(--font-modifier) * 13px);font-weight:600;line-height:16px}div.img-border.application.flex-center[_ngcontent-%COMP%]{position:relative;margin-right:15px;height:50px;width:50px;-ms-flex:0 0 50px;flex:0 0 50px;min-width:50px;min-height:50px;filter:drop-shadow(5px 5px 5px var(--color-medium))}div.img-border.application.flex-center[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:47px;height:47px;clip-path:url(#squareCircle)}div.img-border.application.flex-center[_ngcontent-%COMP%]:before{content:"";position:absolute;top:3px;left:3px;width:calc(100% - 6px);height:calc(100% - 6px);border-radius:20px;box-shadow:0 0 10px rgba(0,0,0,.2)}div.flex-start.column-nowrap[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;text-align:center;font-size:calc(var(--font-modifier) * 13px);font-weight:600}div.flex-start.column-nowrap[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 12px);font-weight:400;letter-spacing:0;word-spacing:0}']}),t}(),na=n("qPyV"),ia=n.n(na);function oa(t,e){if(1&t&&(c.Qb(0),c.Nb(1,"img",12),c.Pb()),2&t){var n=c.dc().$implicit,i=c.dc(2);c.Ab(1),c.kc("src",i.lpUrl+"/qrcode.png?id="+n.Id,c.Ac)}}var ra=function(t){return{opacity:t}};function aa(t,e){if(1&t&&(c.Sb(0,"span",13),c.Nb(1,"i"),c.Rb()),2&t){var n=c.dc().$implicit;c.kc("ngStyle",c.nc(3,ra,null!==n.Id?1:.25)),c.Ab(1),c.Cb(n.Icon)}}var sa=function(t){return{item:t}};function ca(t,e){if(1&t&&(c.Sb(0,"button",15),c.Zb("click",(function(){return e.$implicit.handler()})),c.Nb(1,"i"),c.Rb()),2&t){var n=e.$implicit,i=c.dc(2).$implicit,o=c.dc().$implicit;c.Bb("aria-label",o(n.label,c.nc(3,sa,i.CloudLink))),c.Ab(1),c.Cb(n.icon)}}function la(t,e){if(1&t&&(c.Qb(0),c.Gc(1,ca,2,5,"button",14),c.Pb()),2&t){var n=c.dc().$implicit;c.Ab(1),c.kc("ngForOf",n.Actions)}}function pa(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",18),c.Zb("click",(function(){c.yc(n);var t=c.dc(2).index;return c.dc(2).deleteWarningIx=t}))("clTooltipDisplayChange",(function(){return c.yc(n),c.dc(4).deleteWarningIx=-1})),c.Nb(1,"i",19),c.Rb()}if(2&t){var i=c.dc(2),o=i.index,r=i.$implicit,a=c.vc(13),s=c.dc(2);c.kc("clTooltip",a)("clTooltipDirection","bottom")("clTooltipPersist",!0)("clTooltipDisplay",s.deleteWarningIx===o),c.Bb("aria-label",r.CloudLink)}}function da(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",20),c.Zb("keydown.enter",(function(){c.yc(n);var t=c.dc(2).$implicit;return c.dc(2).linkOption(t)}))("click",(function(){c.yc(n);var t=c.dc(2).$implicit;return c.dc(2).linkOption(t)})),c.Nb(1,"i",21),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.dc().$implicit;c.Bb("aria-label",o("myProfile.signIn.link",c.nc(1,sa,i.CloudLink)))}}function ua(t,e){if(1&t&&(c.Qb(0),c.Gc(1,pa,2,5,"button",16),c.Gc(2,da,2,3,"div",17),c.Pb()),2&t){var n=c.dc().$implicit;c.Ab(1),c.kc("ngIf",null!==n.Id),c.Ab(1),c.kc("ngIf",null===n.Id)}}function ga(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",22),c.Sb(1,"h4"),c.Ic(2),c.Rb(),c.Sb(3,"p"),c.Ic(4),c.Rb(),c.Sb(5,"div",23),c.Sb(6,"button",24),c.Zb("click",(function(){return c.yc(n),c.dc(3).deleteWarningIx=-1})),c.Ic(7),c.Rb(),c.Sb(8,"button",25),c.Zb("click",(function(){c.yc(n);var t=c.dc().$implicit,e=c.dc(2);return e.unlinkOption(t),e.deleteWarningIx=-1})),c.Ic(9),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.dc(2).$implicit;c.Ab(2),c.Jc(i("myProfile.signIn.unlinkTitle")),c.Ab(2),c.Jc(i("myProfile.signIn.unlinkDescription")),c.Ab(3),c.Jc(i("common.cancel")),c.Ab(2),c.Jc(i("myProfile.signIn.unlink"))}}var ha=function(t){return{color:t}};function ba(t,e){if(1&t&&(c.Sb(0,"div",4),c.Sb(1,"div",5),c.Gc(2,oa,2,1,"ng-container",6),c.Gc(3,aa,2,5,"ng-template",null,7,c.Hc),c.Sb(5,"h3"),c.Ic(6),c.Rb(),c.Sb(7,"p",8),c.Ic(8),c.Rb(),c.Sb(9,"div",9),c.Gc(10,la,2,1,"ng-container",10),c.Gc(11,ua,3,2,"ng-container",10),c.Gc(12,ga,10,4,"ng-template",null,11,c.Hc),c.Rb(),c.Rb(),c.Rb()),2&t){var n=e.$implicit,i=c.vc(4),o=c.dc().$implicit,r=c.dc();c.Ab(2),c.kc("ngIf",(6===n.CloudLinkId||8===n.CloudLinkId)&&null!==n.Id)("ngIfElse",i),c.Ab(4),c.Jc(n.CloudLink),c.Ab(1),c.kc("ngStyle",c.nc(7,ha,null!==n.Id?"var(--color-success)":"var(--color-danger)")),c.Ab(1),c.Jc(null!==n.Id?1==n.CloudLinkId||2==n.CloudLinkId?n.Email:o("myProfile.signIn.connected"):o("myProfile.signIn.disconnected")),c.Ab(2),c.kc("ngIf",null!==n.Id),c.Ab(1),c.kc("ngIf",-1!==n.CloudLinkId&&!(6==n.CloudLinkId&&"Student"==r.settings.userInfo.Role))}}function fa(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Gc(3,ba,14,9,"div",3),c.Rb(),c.Rb(),c.Pb()),2&t){var n=c.dc();c.Ab(3),c.kc("ngForOf",n.options)("ngForTrackBy",n.trackByFn)}}var ma=function(){function t(t,e,n,i,o){var r=this;this.nodeApi=t,this.helper=e,this.sessionService=n,this.translationService=i,this.translationHelper=o,this.adOption={Actions:[],CloudLinkId:-1,CloudLink:"LDAP/Active Directory",CloudLinkImg:"",IsCloudDomainUser:!1,Icon:"fab fa-windows",Id:"-1",Email:"",Name:""},this.options=[],this.deleteWarningIx=-1,this.openedWindows=[],this.subscriptions=[],this.subscriptions[0]=n.settingsUpdated.subscribe((function(t){r.settings=t,r.setOptions(r.options)}))}return Object.defineProperty(t.prototype,"lpUrl",{get:function(){return Re.a.launchpadUrl},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){this.getSignInOptions()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.closeOpenWindows(),this.deleteWarningIx=-1},t.prototype.closeOpenWindows=function(){this.openedWindows.forEach((function(t){t.window.close(),t.timer.unsubscribe()}))},t.prototype.getSignInOptions=function(){var t=this;this.nodeApi.getSignInOptions().subscribe((function(e){t.setOptions(e)}))},t.prototype.setOptions=function(t){var e=!Ce()(t,(function(t){return-1===t.CloudLinkId}))&&this.settings.userInfo.isADUser?Object(le.e)([this.adOption],t):t;this.options=fe()(ia()(e,"CloudLinkId"),"CloudLink"),this.attachHandlers()},t.prototype.attachHandlers=function(){for(var t=this,e=function(e){switch(e.CloudLinkId){case-1:e.Actions=[{icon:"far fa-user-check",label:"common.editItem",handler:function(){t.helper.tabPageChanged.next(1);var e=t.translationService.translate("myProfile.security.networkPassword.activeDirectoryCredentials");t.helper.titleUpdated.next(e)}}];break;case 6:e.Actions=[{icon:"far fa-print",label:"myProfile.signIn.print",handler:function(){return window.open(Re.a.launchpadUrl+"/qrprint?id="+e.Id)}},{icon:"far fa-sync-alt",label:"myProfile.signIn.refresh",handler:function(){return t.linkOption(e,!0)}}],"Student"==n.settings.userInfo.Role&&e.Actions.pop();break;case 7:e.Actions=[{icon:"far fa-edit",label:"common.editItem",handler:function(){return window.open(Re.a.launchpadUrl+"/face/manage")}}];break;case 8:e.Actions=[{icon:"far fa-sync-alt",label:"myProfile.signIn.refresh",handler:function(){return t.linkOption(e,!0)}}]}},n=this,i=0,o=this.options;i<o.length;i++)e(o[i])},t.prototype.unlinkOption=function(t){var e=this;this.nodeApi.unlinkOption(t).subscribe((function(t){"Permission Denied"===t.message?e.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.permissionDenied",detail:"error.permissionDeniedDetail"}):(e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.signIn.signInOption",verb:"common.removed"}),e.retrySignInOptions())}))},t.prototype.linkOption=function(t,e){var n=this;void 0===e&&(e=!1),1!==t.CloudLinkId&&2!==t.CloudLinkId?this.nodeApi.linkOption(t).subscribe((function(t){var i={subject:"myProfile.signIn.signInOption",verb:"growl.linked"};e&&(i.subject="myProfile.signIn.qrCode",i.verb="growl.reset"),n.translationHelper.translateAndAddGenericGrowl({severity:"success"},i),n.retrySignInOptions()})):this.openSsoWindow(t.CloudLinkId)},t.prototype.retrySignInOptions=function(){var t=this;this.getSignInOptions();var e=Object(J.a)(1e3),n=Object(T.a)(3e3);e.pipe(Object(D.a)(n)).subscribe((function(){return t.getSignInOptions()}))},t.prototype.trackByFn=function(t,e){return e.CloudLinkId.toString()+(e.Id?e.Id:"").toString()},t.prototype.openSsoWindow=function(t){var e=this,n=window.location.origin.includes("localhost")?"https://betamyapps.classlink.com":window.location.origin,i=encodeURIComponent(n+"/redirects/"+(1===t?"google":"microsoft")),o=window.open(1===t?"https://accounts.google.com/o/oauth2/v2/auth?client_id="+Re.a.googleClientId+"&response_type=code&redirect_uri="+i+"&access_type=offline&scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile%20openid%20email%20profile":"https://login.microsoftonline.com/common/oauth2/v2.0/authorize?scope=User.Read&client_id="+Re.a.microsoftClientId+"&response_type=code&redirect_uri="+i+"&response_mode=query",1===t?"CLGoogleSSO":"ClMicrosoftSSO","height=400,width=800,modal=yes,alwaysRaised=yes,scrollbars=yes,resizable=yes"),r=Object(T.a)(0,500).subscribe((function(n){return e.pollWindow(o,r,t,n)}));this.openedWindows.push({window:o,timer:r})},t.prototype.pollWindow=function(t,e,n,i){var o=this;if(t.closed||120===i)return t.close(),void e.unsubscribe();this.nodeApi.getSignInOptions().subscribe((function(i){var r=Ce()(i,(function(t){return t.CloudLinkId===n}));(r.Id||r.Email)&&(t.close(),e.unsubscribe(),o.setOptions(i))}))},t.\u0275fac=function(e){return new(e||t)(c.Mb(Qt.a),c.Mb(Fe),c.Mb(ae.a),c.Mb(Te.f),c.Mb(Be.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-sign-in-tab"]],decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-content"],[1,"option-ctnr"],["class","option-item flex-start-center",4,"ngFor","ngForOf","ngForTrackBy"],[1,"option-item","flex-start-center"],[1,"option","flex-start-center","column-nowrap"],[4,"ngIf","ngIfElse"],["icon",""],[1,"connected-display",3,"ngStyle"],[1,"buttons-ctnr","flex-start-center"],[4,"ngIf"],["confirmation",""],["alt","",3,"src"],[3,"ngStyle"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["class","unlink",3,"clTooltip","clTooltipDirection","clTooltipPersist","clTooltipDisplay","click","clTooltipDisplayChange",4,"ngIf"],["role","link","class","sign-in-link cl-focusable","tabindex","0",3,"keydown.enter","click",4,"ngIf"],[1,"unlink",3,"clTooltip","clTooltipDirection","clTooltipPersist","clTooltipDisplay","click","clTooltipDisplayChange"],[1,"far","fa-unlink"],["role","link","tabindex","0",1,"sign-in-link","cl-focusable",3,"keydown.enter","click"],[1,"far","fa-link"],[1,"cl-tooltip","confirmation"],[1,"buttons-ctnr"],[1,"button","button-default",3,"click"],[1,"button","button-default","text-danger",3,"click"]],template:function(t,e){1&t&&c.Gc(0,fa,4,2,"ng-container",0)},directives:[Te.c,i.k,i.l,i.m,We.Y],styles:[".option-ctnr[_ngcontent-%COMP%]{width:100%;display:grid;grid-gap:20px;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));grid-auto-rows:250px}.option-ctnr[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{border:1px solid var(--color-border-light);background-color:var(--color-white);border-radius:5px;height:100%;width:250px;padding:20px}.option-ctnr[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:80px;margin-bottom:40px}.option-ctnr[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:80px;margin-bottom:40px}.option-ctnr[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-transform:none;font-size:calc(var(--font-modifier) * 16px);font-weight:700;margin-bottom:5px}.option-ctnr[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px);font-weight:600}.option-ctnr[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .buttons-ctnr[_ngcontent-%COMP%]{margin-top:auto}.option-ctnr[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .buttons-ctnr[_ngcontent-%COMP%]   div.sign-in-link[_ngcontent-%COMP%]{cursor:pointer;margin:0 5px}.option-ctnr[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .buttons-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 5px;padding:0}.option-ctnr[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .buttons-ctnr[_ngcontent-%COMP%]   button.unlink[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-danger)}.option-ctnr[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .buttons-ctnr[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:20px;width:20px;color:var(--color-primary)}.connected-display[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;max-width:100%;line-height:20px;word-break:break-all}"]}),t}(),va=function(t){return{type:"password","aria-label":t}};function ya(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"h3"),c.Ic(3),c.Rb(),c.Sb(4,"label"),c.Ic(5),c.Rb(),c.Sb(6,"div",2),c.Sb(7,"cl-input",3),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().form.password.value=t})),c.Rb(),c.Rb(),c.Sb(8,"label"),c.Ic(9),c.Rb(),c.Sb(10,"div",2),c.Sb(11,"cl-input",3),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().form.confirm.value=t})),c.Rb(),c.Rb(),c.Rb(),c.Sb(12,"div",4),c.Sb(13,"button",5),c.Zb("click",(function(){return c.yc(n),c.dc().helper.tabPageChanged.next(0)})),c.Ic(14),c.Rb(),c.Sb(15,"button",6),c.Zb("click",(function(){return c.yc(n),c.dc().verifyPassword()})),c.Ic(16),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(3),c.Jc(i("myProfile.security.networkPassword.please")),c.Ab(2),c.Jc(i("myProfile.general.password")),c.Ab(2),c.kc("value",o.form.password.value)("attributes",c.nc(14,va,i("myProfile.general.password")))("showPasswordEye",!0),c.Ab(2),c.Jc(i("myProfile.general.passwordReset.confirmPassword")),c.Ab(2),c.kc("value",o.form.confirm.value)("attributes",c.nc(16,va,i("myProfile.general.passwordReset.confirmPassword")))("showPasswordEye",!0),c.Ab(3),c.Jc(i("common.goBack")),c.Ab(1),c.Eb("disabled",!o.canSavePassword()),c.kc("tabindex",o.canSavePassword()?0:-1),c.Ab(1),c.Jc(i("common.save"))}}var Ca=function(){function t(t,e,n,i,o){this.nodeApi=t,this.translationHelper=e,this.helper=n,this.tmsService=i,this.sessionService=o,this.form={password:{value:""},confirm:{value:""}}}return t.prototype.canSavePassword=function(){return this.form.password.value&&this.form.confirm.value&&this.form.password.value===this.form.confirm.value},t.prototype.verifyPassword=function(){var t=this;this.tmsService.isUsingTms(this.userInfo.BuildingId).subscribe((function(e){e.useTMS?t.tmsService.updateNetwork(t.form.password.value).subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.credentials",verb:"common.edited"})}),(function(e){e.status>299?t.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.invalidCredentials",detail:"error.invalidCredentialsDetail",displayIdentifier:e.error.errorCode}):t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.credentials",verb:"common.edited"})})):t.nodeApi.verifyAd(t.form.password.value).subscribe((function(e){e.Token||e.TWSToken||e.Password?(t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.credentials",verb:"common.edited"}),t.helper.tabPageChanged.next(0)):t.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.invalidCredentials",detail:"error.invalidCredentialsDetail"})}))}))},t.\u0275fac=function(e){return new(e||t)(c.Mb(Qt.a),c.Mb(Be.a),c.Mb(Fe),c.Mb(pi),c.Mb(ae.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-verify-password"]],inputs:{userInfo:"userInfo"},decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-content"],[1,"input-ctnr"],[3,"value","attributes","showPasswordEye","valueChange"],[1,"slideover-controls"],[1,"button","button-default",3,"click"],[1,"button","button-secondary",3,"tabindex","click"]],template:function(t,e){1&t&&c.Gc(0,ya,17,18,"ng-container",0)},directives:[Te.c,We.C],styles:["cl-input[_ngcontent-%COMP%]{margin-bottom:20px;height:40px;width:50%}.slideover-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:40px}"]}),t}(),xa=function(t){function e(e){var n=t.call(this,e)||this;return e&&Object.assign(n,e),n.Date=bi()(n.Date),n.Type>=n.types.length&&(n.Type=n.types.length-1),n.Browser||(n.Browser="Unknown"),n}return Object(le.c)(e,t),e.prototype.browserIcon=function(){return $e.a.browserIcon(this.Browser)},e.prototype.methodIcon=function(){return $e.a.methodIcon(this.Type)},e.prototype.reasonIcon=function(){switch(this.Reason){case"401.0":return"/assets/icons/failedLogins/401.0.svg";case"401.1":return"/assets/icons/failedLogins/401.1.svg";case"401.3":return"/assets/icons/failedLogins/401.3.svg";case"406.0":return"/assets/icons/failedLogins/406.0.svg";case"401.7":return"/assets/icons/failedLogins/401.7.svg";case"403.3":return"/assets/icons/failedLogins/403.3.svg";case"429.0":return"/assets/icons/failedLogins/429.0.svg";default:return"/assets/icons/unknown_icon.png"}},e}(n("csUY").a),wa=function(t){return{"text-danger":t}};function Pa(t,e){if(1&t&&(c.Sb(0,"span",16),c.Ic(1),c.Rb()),2&t){var n=c.dc(3).$implicit,i=c.dc();c.kc("ngClass",c.nc(2,wa,!i.twoFactor.is_eanabled)),c.Ab(1),c.Jc(n(i.twoFactor.is_eanabled?"enabled":"disabled"))}}function Oa(t,e){if(1&t&&(c.Sb(0,"p",14),c.Ic(1),c.Gc(2,Pa,2,4,"span",15),c.Rb()),2&t){var n=e.item,i=c.dc(2).$implicit;c.Ab(1),c.Jc(i(n&&n.label?n.label:"selectOne")),c.Ab(1),c.kc("ngIf",n)}}function Ma(t,e){if(1&t&&(c.Sb(0,"p",17),c.Ic(1),c.Rb()),2&t){var n=e.item,i=c.dc(2).$implicit;c.Ab(1),c.Jc(n?i(n.label):"")}}function _a(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"button",18),c.Zb("click",(function(){return c.yc(n),c.dc(3).toggle2FA(!1)})),c.Ic(2),c.Rb(),c.Pb()}if(2&t){var i=c.dc(2).$implicit;c.Ab(2),c.Jc(i("disable"))}}function ka(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"button",19),c.Zb("click",(function(){return c.yc(n),c.dc(3).toggle2FA(!0)})),c.Ic(2),c.Rb(),c.Pb()}if(2&t){var i=c.dc(2).$implicit;c.Ab(2),c.Jc(i("reenable"))}}function Sa(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",5),c.Sb(1,"p"),c.Sb(2,"span",6),c.Ic(3),c.Rb(),c.Rb(),c.Sb(4,"p",7),c.Ic(5),c.Sb(6,"span",6),c.Ic(7),c.Rb(),c.Ic(8),c.Rb(),c.Sb(9,"cl-dropdown",8),c.Zb("selectionChange",(function(t){return c.yc(n),c.dc(2).selectedOption=t}))("selectionChange",(function(){return c.yc(n),c.dc(2).setTwoFactorType()})),c.Gc(10,Oa,3,2,"ng-template",9),c.Gc(11,Ma,2,1,"ng-template",10),c.Rb(),c.Sb(12,"span",11),c.Sb(13,"button",12),c.Zb("click",(function(){return c.yc(n),c.dc(2).onConfigure2FA()})),c.Ic(14),c.Rb(),c.Gc(15,_a,3,1,"ng-container",13),c.Gc(16,ka,3,1,"ng-container",13),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(3),c.Jc(i("configureTwoFactor")),c.Ab(2),c.Kc("",i("twoFactorOne")," "),c.Ab(2),c.Jc(i("one")),c.Ab(1),c.Kc(" ",i("twoFactorTwo"),""),c.Ab(1),c.Eb("disabled",!o.twoFactor),c.kc("selection",o.selectedOption)("options",o.twoFactorOptions)("showRemove",!1),c.Bb("aria-disabled",!o.twoFactor),c.Ab(4),c.Eb("disabled",!o.twoFactor.type||!o.twoFactor.is_eanabled),c.kc("disabled",!o.twoFactor.type||!o.twoFactor.is_eanabled),c.Ab(1),c.Jc(i("configure")),c.Ab(1),c.kc("ngIf",o.twoFactor.is_eanabled&&o.twoFactor.type&&!o.twoFactorRequired),c.Ab(1),c.kc("ngIf",!o.twoFactor.is_eanabled&&o.twoFactor.type)}}function Aa(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",21),c.Zb("click",(function(){c.yc(n);var t=c.dc().index;return c.dc(2).onOptionSelect(t)}))("keydown.Enter",(function(){c.yc(n);var t=c.dc().index;return c.dc(2).onOptionSelect(t)})),c.Nb(1,"i"),c.Sb(2,"div",22),c.Sb(3,"h4"),c.Ic(4),c.Rb(),c.Sb(5,"p",16),c.Ic(6),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc().$implicit;c.Ab(1),c.Cb(i.icon),c.Ab(3),c.Jc(o(i.title)),c.Ab(1),c.kc("ngClass",c.nc(5,wa,!i.isEnabled())),c.Ab(1),c.Jc(i.isEnabled()?o("enabled"):o("disabled"))}}function Ia(t,e){1&t&&c.Gc(0,Aa,7,7,"div",20),2&t&&c.kc("ngIf",e.$implicit.show())}function Ra(t,e){if(1&t&&(c.Qb(0),c.Gc(1,Sa,17,16,"div",3),c.Gc(2,Ia,1,1,"ng-template",null,4,c.Hc),c.Pb()),2&t){var n=c.dc();c.Ab(1),c.kc("ngIf",n.generalSettings&&n.generalSettings.EnableTwofactor)}}function Ta(t,e){if(1&t&&c.Nb(0,"p",34),2&t){var n=c.dc(3).$implicit;c.kc("innerText",n("myProfile.security.sessions.currentSession"))}}function Fa(t,e){if(1&t&&(c.Sb(0,"div"),c.Nb(1,"p",32),c.Gc(2,Ta,1,1,"p",33),c.Rb()),2&t){var n=e.row,i=c.dc(3);c.Ab(1),c.kc("innerText",n.TokenAssignTime.format("MMM D, Y h:mm A")),c.Ab(1),c.kc("ngIf",n.Token==i.gwsToken)}}function Ea(t,e){if(1&t&&(c.Sb(0,"div",35),c.Nb(1,"img",36),c.Nb(2,"p",32),c.Rb()),2&t){var n=e.row,i=c.dc(2).$implicit;c.Ab(1),c.kc("src",n.browserIcon(),c.Ac),c.Ab(1),c.kc("innerText",i(null!=n.Browser&&n.Browser.length?"myProfile.security.methods."+n.Browser:"myProfile.security.methods.Unknown"))}}function Da(t,e){if(1&t&&(c.Sb(0,"div",35),c.Nb(1,"img",36),c.Nb(2,"p",32),c.Rb()),2&t){var n=e.row,i=c.dc(2).$implicit;c.Ab(1),c.kc("src",n.methodIcon(),c.Ac),c.Ab(1),c.kc("innerText",i(n.types[n.LoginSourceId].key))}}var La=function(){return[5,10,15]};function Na(t,e){if(1&t){var n=c.Tb();c.Sb(0,"cl-data-table",28),c.Zb("tableFiltersChange",(function(t){return c.yc(n),c.dc(2).filter=t}))("pageEvent",(function(t){return c.yc(n),c.dc(2).handlePage(t)}))("selectionChange",(function(t){return c.yc(n),c.dc(2).selectedSessions=t})),c.Gc(1,Fa,3,2,"ng-template",29),c.Gc(2,Ea,3,2,"ng-template",30),c.Gc(3,Da,3,2,"ng-template",31),c.Rb()}if(2&t){var i=c.dc(2);c.kc("dataFields",i.sessionFields)("data",i.userSessions)("selectable",!0)("tableFilters",i.filter)("length",i.sessionCounts.total)("pageSizes",c.mc(10,La))("trackByFn",i.trackBy)("selection",i.selectedSessions)("selectionField","Token")("disabledSelection",i.currentSession)}}function Ha(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",37),c.Zb("click",(function(){return c.yc(n),c.dc(2).killSessions()})),c.Rb()}if(2&t){var i=c.dc(2);c.kc("innerText",i.killText())("disabled",!i.userSessions||i.sessionCounts.total<2||i.loadingSessions)}}function Ga(t,e){if(1&t&&(c.Sb(0,"div"),c.Nb(1,"p",32),c.Rb()),2&t){var n=e.row;c.Ab(1),c.kc("innerText",n.Date.format("MMM D, Y h:mm A"))}}function Ba(t,e){if(1&t&&(c.Sb(0,"div",35),c.Nb(1,"img",36),c.Nb(2,"p",32),c.Rb()),2&t){var n=e.row,i=c.dc(3).$implicit;c.Ab(1),c.kc("src",n.browserIcon(),c.Ac),c.Ab(1),c.kc("innerText",i("myProfile.security.methods."+n.Browser))}}function ja(t,e){if(1&t&&(c.Sb(0,"div",35),c.Nb(1,"img",36),c.Nb(2,"p",32),c.Rb()),2&t){var n=e.row,i=c.dc(3).$implicit;c.Ab(1),c.kc("src",n.methodIcon(),c.Ac),c.Ab(1),c.kc("innerText",i(n.types[n.Type].key))}}function Ua(t,e){if(1&t&&(c.Sb(0,"div",44),c.Nb(1,"p",45),c.Rb()),2&t){var n=c.dc().row;c.Ab(1),c.kc("innerText",n.ReasonName)}}function za(t,e){if(1&t&&(c.Sb(0,"div",35),c.Nb(1,"img",42),c.Gc(2,Ua,2,1,"ng-template",null,43,c.Hc),c.Rb()),2&t){var n=e.row,i=c.vc(3);c.Ab(1),c.kc("src",n.reasonIcon(),c.Ac)("alt",n.ReasonName)("clTooltip",i)}}function Va(t,e){if(1&t&&(c.Sb(0,"cl-data-table",40),c.Gc(1,Ga,2,1,"ng-template",29),c.Gc(2,Ba,3,2,"ng-template",30),c.Gc(3,ja,3,2,"ng-template",31),c.Gc(4,za,4,3,"ng-template",41),c.Rb()),2&t){var n=c.dc(3);c.kc("dataFields",n.loginFields)("data",n.logins)("useInternalFilters",!0)("pageSizes",c.mc(5,La))("trackByFn",n.trackBy)}}function Za(t,e){if(1&t&&(c.Sb(0,"div",38),c.Sb(1,"h3"),c.Ic(2),c.Rb(),c.Gc(3,Va,5,6,"cl-data-table",39),c.Rb()),2&t){var n=c.dc().$implicit,i=c.dc();c.Ab(2),c.Jc(n("myProfile.security.logins.failedLogins")),c.Ab(1),c.kc("ngIf",i.sessionsVisible)}}function $a(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",23),c.Sb(1,"h3"),c.Ic(2,"Forget Remembered Devices"),c.Rb(),c.Sb(3,"div",46),c.Sb(4,"button",47),c.Zb("click",(function(){return c.yc(n),c.dc(2).deleteAllDevices()})),c.Ic(5,"Forget All Devices"),c.Rb(),c.Sb(6,"button",48),c.Zb("click",(function(){return c.yc(n),c.dc(2).deleteThisDevices()})),c.Ic(7,"Forget This Device"),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.dc(2);c.Ab(6),c.kc("disabled",null===i.deviceId)}}function Wa(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",23),c.Sb(2,"h3"),c.Ic(3),c.Rb(),c.Gc(4,Na,4,11,"cl-data-table",24),c.Gc(5,Ha,1,2,"button",25),c.Rb(),c.Gc(6,Za,4,2,"div",26),c.Gc(7,$a,8,1,"div",27),c.Pb()),2&t){var n=e.$implicit,i=c.dc();c.Ab(3),c.Jc(n("myProfile.security.sessionTitle")),c.Ab(1),c.kc("ngIf",i.sessionsVisible),c.Ab(1),c.kc("ngIf",i.sessionsVisible),c.Ab(1),c.kc("ngIf",1==i.TMSSettings.useTMS),c.Ab(1),c.kc("ngIf",i.showForgetDevices)}}var Ja=function(){function t(t,e,n,i,o,r,a,s,c){var l=this;this.helper=t,this.nodeApi=e,this.translationHelper=n,this.settingsService=i,this.sessionService=o,this.growlService=r,this.translationService=a,this.tmsService=s,this.http=c,this.twoFactor={created_datetime:"",gauth_set:!1,id:null,image1:null,is_eanabled:!1,type:0},this.twoFactorRequired=!0,this.yubikeyRegistered=!1,this.pinConfigured=!1,this.selectedOption=this.twoFactor.type,this.twoFactorOptions=[],this.sessionCounts={total:0,current:0},this.sessionsVisible=!1,this.selectedSessions=[],this.currentSession=[],this.filter={limit:5,offset:0,sort:"TokenAssignTime",orderBy:"desc"},this.sessionFields=[{header:"date",fieldName:"TokenAssignTime",template:{name:"date"},minWidth:225},{header:"browser",fieldName:"Browser",template:{name:"browser"},minWidth:100},{header:"method",fieldName:"LoginSourceId",template:{name:"method"},minWidth:150},{header:"ipAddress",fieldName:"IPAddress",minWidth:100}],this.logins=[],this.loginFields=[{header:"date",fieldName:"Date",template:{name:"date"},minWidth:250},{header:"browser",fieldName:"Browser",template:{name:"browser"},minWidth:100},{header:"method",fieldName:"Type",template:{name:"method"},minWidth:100},{header:"ipAddress",fieldName:"IP",minWidth:100},{header:"reason",fieldName:"Reason",minWidth:100,template:{name:"reason"}}],this.loadingSessions=!1,this.deviceId=null,this.showForgetDevices=!0,this.enable2faToggle=!0,this.subscriptions=[],Xe()(this.sessionFields,(function(t,e){l.sessionFields[e].header=a.translate("myProfile.security.sessions."+t.header)})),Xe()(this.loginFields,(function(t,e){l.loginFields[e].header=a.translate("myProfile.security.sessions."+t.header)})),this.subscriptions[0]=t.generalSettingsUpdated.subscribe((function(t){l.gwsToken=l.sessionService.getGwsToken(),l.currentSession=[l.gwsToken],l.generalSettings=t,l.twoFactorOptions=[],t.EnableTwofactorSMS&&l.twoFactorOptions.push({label:"mobileSms",value:1,verifyFunc:function(){return l.is2FAPhoneEnabled()}}),t.EnableTwofactorImage&&l.twoFactorOptions.push({label:"image",value:2,verifyFunc:function(){return l.is2FAImageEnabled()}}),t.EnableTwofactorMobile&&l.twoFactorOptions.push({label:"authenticator",value:3,verifyFunc:function(){return l.is2FAAuthenticatorEnabled()}}),t.EnableTwofactorDuo&&l.twoFactorOptions.push({label:"duoPush",value:4,verifyFunc:function(){return l.is2FADuoPushEnabled()}}),t.EnableTwofactorYubikey&&l.twoFactorOptions.push({label:"yubikey",value:6,verifyFunc:function(){return l.is2FAYubikeyEnabled()}}),t.EnableTwofactorPIN&&l.twoFactorOptions.push({label:"pin",value:7,verifyFunc:function(){return l.is2FAPinEnabled()}})})),this.subscriptions[1]=o.useTMSUpdated.subscribe((function(t){l.TMSSettings=t})),this.subscriptions[2]=o.userInfoUpdated.subscribe((function(t){return l.userInfo=t}))}return t.prototype.ngOnInit=function(){var t=this;if(this.TMSSettings){this.tmsService.getMFARequired().subscribe((function(e){t.twoFactorRequired=e}),(function(){t.twoFactorRequired=!1}));var e=this.sessionService.getUserInfo();3059==+e.TenantId&&+e.roleLevel<=3&&(this.enable2faToggle=!1),this.getTwoFactor(),this.TMSSettings.useTMS&&this.getLogins(),this.getSessions(this.filter)}else this.tmsService.isUsingTms(this.sessionService.getUserInfo().BuildingId).subscribe((function(e){t.TMSSettings=e,t.sessionService.useTMSUpdated.next(e),e?t.ngOnInit():t.getTwoFactor()}))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getTwoFactor=function(){var t=this;this.nodeApi.getTwoFactor().subscribe((function(e){t.twoFactor=e||t.twoFactor,t.selectedOption=5===t.twoFactor.type?6:t.twoFactor.type,t.twoFactor&&t.generalSettings.EnableTwofactorSMS&&t.getPhoneSetting(),t.twoFactor&&t.generalSettings.EnableTwofactorYubikey&&t.getYubikeySetting(),t.twoFactor&&t.generalSettings.EnableTwofactorPIN&&t.getPinSettings()}))},t.prototype.getPhoneSetting=function(){var t=this;this.nodeApi.getPhoneSeting().subscribe((function(e){t.twoFactorPhone=e}))},t.prototype.getYubikeySetting=function(){var t=this;this.nodeApi.checkYubikeyRegistration().subscribe((function(e){return t.yubikeyRegistered=1===e.status}),(function(){return t.yubikeyRegistered=!1}))},t.prototype.getPinSettings=function(){var t=this;this.tmsService.getStoredMfa("pin").subscribe((function(e){e.length&&(t.pinConfigured=!0)}))},t.prototype.toggle2FA=function(t){var e=this;this.twoFactorOptions.find((function(t){return t.value===e.selectedOption})).verifyFunc()||!t?(this.twoFactor.is_eanabled=t,this.nodeApi.updateTwoFactor(this.twoFactor).subscribe((function(n){e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.twoFactorAuthentication",verb:t?"common.enabled":"common.disabled"})}),(function(n){e.twoFactor.is_eanabled=!t}))):this.onConfigure2FA()},t.prototype.setTwoFactorType=function(){var t=this;this.twoFactor.type=this.selectedOption,this.twoFactorOptions.find((function(e){return e.value===t.selectedOption})).verifyFunc()?this.nodeApi.updateTwoFactor(this.twoFactor).subscribe((function(t){})):this.onConfigure2FA()},t.prototype.onOptionSelect=function(t){this.helper.securityIndexChanged.next(t),this.helper.tabPageChanged.next(1)},t.prototype.onConfigure2FA=function(){this.helper.securityIndexChanged.next(this.selectedOption),this.helper.tabPageChanged.next(2)},t.prototype.is2FAPhoneEnabled=function(){return this.twoFactorPhone&&this.twoFactorPhone.is_verified},t.prototype.is2FAImageEnabled=function(){return this.twoFactor.image1&&""!==this.twoFactor.image1},t.prototype.is2FAAuthenticatorEnabled=function(){return this.twoFactor.gauth_set},t.prototype.is2FADuoPushEnabled=function(){return 4===this.twoFactor.type},t.prototype.is2FAYubikeyEnabled=function(){return this.yubikeyRegistered},t.prototype.is2FAPinEnabled=function(){return this.pinConfigured},t.prototype.getLogins=function(){var t,e,n=this,i=(null===(t=this.userInfo.failedLoginInfo)||void 0===t?void 0:t.lastLogin)?bi()(null===(e=this.userInfo.failedLoginInfo)||void 0===e?void 0:e.lastLogin).format("YYYY-MM-DD"):void 0,o=i&&bi()(i).isValid()&&bi()(i).isBefore(bi()().subtract(7,"days"))?i:void 0;this.settingsService.getLogins(o).subscribe((function(t){n.logins=t.map((function(t){return new xa(t)}))}))},t.prototype.getSessions=function(t){var e=this;this.settingsService.getSessions(t).subscribe((function(t){e.userSessions=t.data,e.sessionCounts={total:t.totalRows,current:t.rows},e.sessionsVisible=!0,e.loadingSessions=!1,e.getThisDeviceId()}))},t.prototype.handlePage=function(t){this.getSessions(this.filter)},t.prototype.killSessions=function(){var t=this;this.loadingSessions=!0,this.settingsService.killSessions(this.selectedSessions).subscribe((function(){setTimeout((function(){t.growlService.add.next({severity:"success",summary:t.translationService.translate("myProfile.security.sessions.sessionKill"),detail:t.translationService.translate("myProfile.security.sessions.sessionKillSuccess",{count:t.selectedSessions.length?t.selectedSessions.length:t.sessionCounts.total-1})}),t.filter.offset=0,t.selectedSessions=[],t.getSessions(t.filter)}),200)}))},t.prototype.trackBy=function(t){return t.Token},t.prototype.killText=function(){return this.selectedSessions.length?this.translationService.translate(this.selectedSessions.length>1?"myProfile.security.sessions.sessionGrowl_plural":"myProfile.security.sessions.sessionGrowl",{count:this.selectedSessions.length}):this.translationService.translate("myProfile.security.sessions.sessionGrowlAll")},t.prototype.getThisDeviceId=function(){var t,e=this;this.deviceId=null;for(var n=0,i=this.userSessions;n<i.length;n++){var o=i[n];o.Token===this.gwsToken&&(t=o.IPAddress)}this.tmsService.getAllDevices().subscribe((function(n){if(n.length>0)for(var i=0,o=n;i<o.length;i++){var r=o[i];r.ipAddress===t&&(e.deviceId=r.rememberedDeviceId)}else e.showForgetDevices=!1}))},t.prototype.deleteAllDevices=function(){var t=this;this.tmsService.deleteAllDevices().subscribe((function(e){t.getThisDeviceId(),t.growlService.add.next({severity:"success",summary:"Devices Forgotten",detail:"All devices forgotten."})}),(function(e){t.growlService.add.next({severity:"Error",summary:"Somthing Went Wrong",detail:"Please try again later."})}))},t.prototype.deleteThisDevices=function(){var t=this;this.tmsService.deleteThisDevice(this.deviceId).subscribe((function(e){t.getThisDeviceId(),t.growlService.add.next({severity:"success",summary:"Device Forgotten",detail:"This device was forgotten."})}),(function(e){t.growlService.add.next({severity:"Error",summary:"Somthing Went Wrong",detail:"Please try again later."})}))},t.\u0275fac=function(e){return new(e||t)(c.Mb(Fe),c.Mb(Qt.a),c.Mb(Be.a),c.Mb(di.a),c.Mb(ae.a),c.Mb(We.B),c.Mb(Te.f),c.Mb(pi),c.Mb(He.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-security-tab"]],decls:3,vars:1,consts:[[1,"slideover-content"],[4,"transloco","translocoRead"],[4,"transloco"],["class","column-nowrap flex-start",4,"ngIf"],["optionTemplate",""],[1,"column-nowrap","flex-start"],[1,"bold"],["id","toggleInstructions"],[3,"selection","options","showRemove","selectionChange"],["clTemplate","selectedItem"],["clTemplate","item"],[1,"buttons-ctnr","flex-start-end"],[1,"button-text",3,"disabled","click"],[4,"ngIf"],[1,"drop-template"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"h2","no-margin"],[1,"button","button-danger",3,"click"],[1,"button","button-primary",3,"click"],["class","option","role","button","tabindex","0",3,"click","keydown.Enter",4,"ngIf"],["role","button","tabindex","0",1,"option",3,"click","keydown.Enter"],[1,"flex-start","column-nowrap","title-ctnr"],[1,"column-nowrap","flex-start","sessions"],[3,"dataFields","data","selectable","tableFilters","length","pageSizes","trackByFn","selection","selectionField","disabledSelection","tableFiltersChange","pageEvent","selectionChange",4,"ngIf"],["class","button button-danger",3,"innerText","disabled","click",4,"ngIf"],["class","column-nowrap flex-start sessions failed-logins",4,"ngIf"],["class","column-nowrap flex-start sessions",4,"ngIf"],[3,"dataFields","data","selectable","tableFilters","length","pageSizes","trackByFn","selection","selectionField","disabledSelection","tableFiltersChange","pageEvent","selectionChange"],["clTemplate","date"],["clTemplate","browser"],["clTemplate","method"],[1,"no-margin",3,"innerText"],["class","no-margin current-session",3,"innerText",4,"ngIf"],[1,"no-margin","current-session",3,"innerText"],[1,"image-p"],["alt","",3,"src"],[1,"button","button-danger",3,"innerText","disabled","click"],[1,"column-nowrap","flex-start","sessions","failed-logins"],[3,"dataFields","data","useInternalFilters","pageSizes","trackByFn",4,"ngIf"],[3,"dataFields","data","useInternalFilters","pageSizes","trackByFn"],["clTemplate","reason"],[3,"src","alt","clTooltip"],["reason",""],[1,"cl-tooltip"],[3,"innerText"],[1,"mfa-btn-row"],[1,"button","button-default",3,"click"],[1,"button","button-default",3,"disabled","click"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Gc(1,Ra,4,1,"ng-container",1),c.Gc(2,Wa,8,5,"ng-container",2),c.Rb()),2&t&&(c.Ab(1),c.kc("translocoRead","myProfile.security"))},directives:[Te.c,i.l,We.t,We.f,i.j,We.p,We.Y],styles:[".slideover-content[_ngcontent-%COMP%]{height:100%!important}.slideover-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:50px}cl-slide-toggle[_ngcontent-%COMP%]{margin-bottom:5px}.toggle-wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.toggle-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:800!important;font-size:calc(var(--font-modifier) * 14px)}p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px);margin-bottom:20px}p.no-margin[_ngcontent-%COMP%]{margin-bottom:0}cl-dropdown[_ngcontent-%COMP%]{width:50%}p.drop-template[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;margin:0;width:100%;max-width:unset!important;font-weight:700}p.drop-template[_ngcontent-%COMP%], p.drop-template[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px)}p.drop-template[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:auto;color:var(--color-primary);font-weight:600}.bold[_ngcontent-%COMP%]{font-weight:700}.buttons-ctnr[_ngcontent-%COMP%]{width:50%;margin-top:10px}.buttons-ctnr[_ngcontent-%COMP%] > .button-text[_ngcontent-%COMP%]{margin:auto auto auto 0}.buttons-ctnr[_ngcontent-%COMP%] > .button-danger[_ngcontent-%COMP%]{-ms-flex-item-align:end;align-self:end}.option-ctnr[_ngcontent-%COMP%]{width:calc(100% + 20px);margin:0 -10px}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{min-width:250px;position:relative;display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:center;align-items:center;padding:20px;border-radius:5px;border:1px solid var(--color-border-dark);height:120px;-ms-flex:0 0 calc(33.333% - 20px);flex:0 0 calc(33.333% - 20px);margin:0 10px 10px}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px rgba(0,0,0,.1);opacity:1}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{font-size:60px;width:60px;opacity:.05;margin-right:auto}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .title-ctnr[_ngcontent-%COMP%]{margin-right:auto}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px);font-weight:600;color:var(--color-primary)}.sessions[_ngcontent-%COMP%]{padding-bottom:50px;margin-bottom:0!important}.sessions[_ngcontent-%COMP%]   cl-data-table[_ngcontent-%COMP%]{margin-top:20px;overflow-x:hidden;padding:15px 10px 10px;border-radius:5px;border:2px solid #ddd}.sessions[_ngcontent-%COMP%] > .button-danger[_ngcontent-%COMP%]{margin-top:10px;-ms-flex-item-align:end;align-self:end}.sessions[_ngcontent-%COMP%]   .mfa-btn-row[_ngcontent-%COMP%]{margin-top:20px;-ms-flex-flow:row;flex-flow:row;-ms-flex-pack:justify;justify-content:space-between;width:350px}.image-p[_ngcontent-%COMP%], .sessions[_ngcontent-%COMP%]   .mfa-btn-row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.image-p[_ngcontent-%COMP%]{-ms-flex-flow:row nowrap;flex-flow:row nowrap;height:50px;max-height:50px}.image-p[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;max-width:40px;margin:5px}.current-session[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 12px);color:var(--color-success)}"]}),t}(),qa=n("LvDl"),Ka=n.n(qa);function Ya(t,e){if(1&t&&(c.Sb(0,"div",9),c.Nb(1,"i",10),c.Sb(2,"p",11),c.Ic(3),c.Rb(),c.Rb()),2&t){var n=c.dc().$implicit;c.Ab(3),c.Jc(n("myProfile.security.passwordRecovery.unlinkOtherPhoneMessage"))}}function Qa(t,e){if(1&t&&(c.Sb(0,"p"),c.Ic(1),c.Rb()),2&t){var n=c.dc(2).$implicit;c.Ab(1),c.Jc(n("myProfile.security.passwordRecovery.checkPhone"))}}function Xa(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div"),c.Gc(1,Qa,2,1,"p",4),c.Sb(2,"cl-input",12),c.Zb("valueChange",(function(t){return c.yc(n),c.dc(2).unlinkPhoneCode=t})),c.Rb(),c.Sb(3,"p",13),c.Sb(4,"button",14),c.Zb("click",(function(){return c.yc(n),c.dc(2).resendCode()})),c.Ic(5),c.Rb(),c.Ic(6),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(1),c.kc("ngIf",2===o.unlinkStep),c.Ab(1),c.kc("value",o.unlinkPhoneCode)("label",i("myProfile.security.verification")),c.Ab(3),c.Jc(i("myProfile.security.resendCode")),c.Ab(1),c.Kc(" ",i("myProfile.security.passwordRecovery.ifNotReceived"),"")}}function ts(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",15),c.Zb("click",(function(){return c.yc(n),c.dc(2).sendCode()})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc().$implicit;c.Ab(1),c.Jc(i("myProfile.security.passwordRecovery.unlink"))}}function es(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",15),c.Zb("click",(function(){return c.yc(n),c.dc(2).unlinkPhone()})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc().$implicit;c.Ab(1),c.Jc(i("myProfile.security.passwordRecovery.unlink"))}}function ns(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",2),c.Sb(2,"h3"),c.Ic(3),c.Rb(),c.Rb(),c.Gc(4,Ya,4,1,"div",3),c.Gc(5,Xa,7,5,"div",4),c.Sb(6,"div",5),c.Sb(7,"button",6,7),c.Zb("click",(function(){return c.yc(n),c.dc().visibleChange(!1)})),c.Ic(9),c.Rb(),c.Gc(10,ts,2,1,"button",8),c.Gc(11,es,2,1,"button",8),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(3),c.Jc(i("myProfile.security.passwordRecovery.unlinkOtherPhone")),c.Ab(1),c.kc("ngIf",1===o.unlinkStep),c.Ab(1),c.kc("ngIf",2===o.unlinkStep),c.Ab(4),c.Jc(i("common.cancel")),c.Ab(1),c.kc("ngIf",1===o.unlinkStep),c.Ab(1),c.kc("ngIf",2===o.unlinkStep)}}var is=function(){function t(t){var e=this;this.profileHelper=t,this.unlinkCode=new c.n,this.resend=new c.n,this.visible=!1,this.sub=t.unlinkModal.subscribe((function(t){e.visible=t.open,e.visible&&(e.unlinkStep=1)}))}return t.prototype.ngOnInit=function(){this.unlinkStep=1},t.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},t.prototype.unlinkPhone=function(){this.unlinkCode.emit(this.unlinkPhoneCode)},t.prototype.sendCode=function(){this.resend.emit(!1),this.unlinkStep=2},t.prototype.resendCode=function(){this.resend.emit(!0)},t.prototype.visibleChange=function(t){this.profileHelper.unlinkModal.next({open:t})},t.\u0275fac=function(e){return new(e||t)(c.Mb(Fe))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-unlink-modal"]],outputs:{unlinkCode:"unlinkCode",resend:"resend"},decls:2,vars:1,consts:[[1,"modal-small","unlink-modal",3,"visible","visibleChange"],[4,"transloco"],[1,"modal-header"],["class","warning",4,"ngIf"],[4,"ngIf"],[1,"modal-controls"],[1,"button","button-default",3,"click"],["focusButton",""],["class","button button-success",3,"click",4,"ngIf"],[1,"warning"],[1,"far","fa-exclamation-triangle"],[1,"unlink-warning"],[1,"resend",3,"value","label","valueChange"],[1,"resend"],[1,"resend-button",3,"click"],[1,"button","button-success",3,"click"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(t){return e.visibleChange(t)})),c.Gc(1,ns,12,6,"ng-container",1),c.Rb()),2&t&&c.kc("visible",e.visible)},directives:[We.H,Te.c,i.l,We.C],styles:["div.warning[_ngcontent-%COMP%]{width:100%;-ms-flex-flow:row wrap;flex-flow:row wrap;margin-bottom:10px}.unlink-warning[_ngcontent-%COMP%]{-ms-flex:1;flex:1}.resend[_ngcontent-%COMP%]{margin-top:15px}button.resend-button[_ngcontent-%COMP%]{color:var(--color-primary);padding:0;margin:0}button.resend-button[_ngcontent-%COMP%]:after{width:calc(100% + 8px);height:calc(100% + 8px);top:-4px;left:-4px}"]}),t}();function os(t,e){if(1&t&&(c.Nb(0,"div"),c.Ic(1)),2&t){var n=e.item;c.Cb("flag "+n.lowerName),c.Ab(1),c.Kc(" (",n.countryCallingCodes[0],") ")}}function rs(t,e){if(1&t&&(c.Nb(0,"div"),c.Ic(1),c.Sb(2,"span",4),c.Ic(3),c.Rb()),2&t){var n=e.item;c.Cb("flag "+n.lowerName),c.Ab(1),c.Kc(" ",n.name," "),c.Ab(2),c.Kc("(",n.countryCallingCodes[0],")")}}var as=function(t,e,n){return{type:"tel",tabIndex:t,disabled:e,"aria-label":n}},ss=function(){function t(){this.input={countryCode:"+1",number:""},this.disabled=!1,this.inputChange=new c.n,this.enter=new c.n,this.disabledClass=!1,this.selection="United States",this.inputVal="",this.countryData=ne()(Me,(function(t){return"deleted"!==t.status&&t.countryCallingCodes.length>0})).map((function(t){return t.lowerName=t.alpha2.toLowerCase(),t}))}return t.prototype.ngOnChanges=function(t){var e=this;if(t.input){this.inputVal=this.input.number;var n=Ce()(this.countryData,(function(t){return t.countryCallingCodes[0]===e.input.countryCode}));this.selection=n?n.name:"United States"}t.disabled&&(this.disabledClass=this.disabled)},t.prototype.onCountrySelected=function(){var t=this;this.input.countryCode=Ce()(this.countryData,(function(e){return e.name===t.selection})).countryCallingCodes[0],this.inputChange.emit(this.input)},t.prototype.onInputChange=function(){this.input.number=this.inputVal,this.inputChange.emit(this.input)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["app-phone-input"]],hostVars:2,hostBindings:function(t,e){2&t&&c.Eb("disabled",e.disabledClass)},inputs:{input:"input",disabled:"disabled"},outputs:{inputChange:"inputChange",enter:"enter"},features:[c.yb],decls:5,vars:17,consts:[[3,"ariaLabel","tabIndex","selection","options","optionValue","optionLabel","showRemove","selectionChange"],["clTemplate","selectedItem"],["clTemplate","item"],[3,"id","value","attributes","valueChange"],[1,"code"]],template:function(t,e){1&t&&(c.Sb(0,"cl-dropdown",0),c.Zb("selectionChange",(function(t){return e.selection=t}))("selectionChange",(function(){return e.onCountrySelected()})),c.Gc(1,os,2,3,"ng-template",1),c.Gc(2,rs,4,4,"ng-template",2),c.Rb(),c.Sb(3,"cl-input",3),c.Zb("valueChange",(function(t){return e.inputVal=t}))("valueChange",(function(){return e.onInputChange()})),c.ec(4,"transloco"),c.Rb()),2&t&&(c.kc("ariaLabel","Select country code")("tabIndex",e.disabled?-1:0)("selection",e.selection)("options",e.countryData)("optionValue","name")("optionLabel","name")("showRemove",!1),c.Bb("aria-disabled",e.disabled),c.Ab(3),c.kc("id","phone-input")("value",e.inputVal)("attributes",c.pc(13,as,e.disabled?-1:0,e.disabled,c.fc(4,11,"myProfile.security.phoneNumber"))))},directives:[We.t,We.f,We.C],pipes:[Te.e],styles:["app-phone-input{display:-ms-flexbox;display:flex;position:relative;width:100%;height:40px}app-phone-input cl-dropdown{width:130px;-ms-flex:0 0 130px;flex:0 0 130px;z-index:1}app-phone-input cl-dropdown .dropdown-ctnr{position:static!important}app-phone-input cl-dropdown .dropdown-ctnr .display{-ms-flex-pack:start!important;justify-content:flex-start!important}app-phone-input cl-dropdown .dropdown-ctnr span.drop-arrow{margin-left:auto!important}app-phone-input cl-input{position:relative;left:-60px;-ms-flex:0 0 calc(100% - 70px);flex:0 0 calc(100% - 70px);width:calc(100% - 70px)}app-phone-input cl-input .input-ctnr input{padding-left:70px!important}app-phone-input span.code{color:var(--color-light);font-weight:500;margin-left:5px;white-space:nowrap}app-phone-input .flag{width:16px;height:11px;background:url(flags.2c7e0b9816d4917bb412.png);margin-right:10px}app-phone-input .zw{background-position:0 0}app-phone-input .zm{background-position:-16px 0}app-phone-input .za{background-position:0 -11px}app-phone-input .yt{background-position:-16px -11px}app-phone-input .ye{background-position:-32px 0}app-phone-input .ws{background-position:-32px -11px}app-phone-input .wf{background-position:0 -22px}app-phone-input .vu{background-position:-32px -22px}app-phone-input .vn{background-position:0 -33px}app-phone-input .vi{background-position:-16px -33px}app-phone-input .vg{background-position:-32px -33px}app-phone-input .ve{background-position:-48px 0}app-phone-input .vc{background-position:-48px -11px}app-phone-input .va{background-position:-48px -22px}app-phone-input .uz{background-position:-48px -33px}app-phone-input .uy{background-position:0 -44px}app-phone-input .um,app-phone-input .us{background-position:-16px -44px}app-phone-input .ug{background-position:-32px -44px}app-phone-input .ua{background-position:-48px -44px}app-phone-input .tz{background-position:-64px 0}app-phone-input .tw{background-position:-64px -11px}app-phone-input .tv{background-position:-64px -22px}app-phone-input .tt{background-position:-64px -33px}app-phone-input .tr{background-position:-64px -44px}app-phone-input .to{background-position:0 -55px}app-phone-input .tn{background-position:-16px -55px}app-phone-input .tm{background-position:-32px -55px}app-phone-input .tl{background-position:-48px -55px}app-phone-input .tk{background-position:-64px -55px}app-phone-input .tj{background-position:0 -66px}app-phone-input .th{background-position:-16px -66px}app-phone-input .tg{background-position:-32px -66px}app-phone-input .tf{background-position:-48px -66px}app-phone-input .td{background-position:-64px -66px}app-phone-input .tc{background-position:-80px 0}app-phone-input .sz{background-position:-80px -11px}app-phone-input .sy{background-position:-80px -22px}app-phone-input .sx{background-position:-80px -33px}app-phone-input .sv{background-position:-80px -44px}app-phone-input .st{background-position:-80px -55px}app-phone-input .ss{background-position:-80px -66px}app-phone-input .sr{background-position:0 -77px}app-phone-input .so{background-position:-16px -77px}app-phone-input .sn{background-position:-32px -77px}app-phone-input .sm{background-position:-48px -77px}app-phone-input .sl{background-position:-64px -77px}app-phone-input .sk{background-position:-80px -77px}app-phone-input .si{background-position:-96px 0}app-phone-input .sh{background-position:-96px -11px}app-phone-input .sg{background-position:-96px -22px}app-phone-input .se{background-position:-96px -33px}app-phone-input .sd{background-position:-96px -44px}app-phone-input .sc{background-position:-96px -66px}app-phone-input .sb{background-position:-96px -77px}app-phone-input .sa{background-position:0 -88px}app-phone-input .rw{background-position:-16px -88px}app-phone-input .ru{background-position:-32px -88px}app-phone-input .rs{background-position:-48px -88px}app-phone-input .ro{background-position:-64px -88px}app-phone-input .qa{background-position:-80px -88px}app-phone-input .py{background-position:-96px -88px}app-phone-input .pw{background-position:0 -99px}app-phone-input .pt{background-position:-16px -99px}app-phone-input .ps{background-position:-32px -99px}app-phone-input .pr{background-position:-48px -99px}app-phone-input .pn{background-position:-64px -99px}app-phone-input .pm{background-position:-80px -99px}app-phone-input .pl{background-position:-96px -99px}app-phone-input .pk{background-position:-112px 0}app-phone-input .ph{background-position:-112px -11px}app-phone-input .pg{background-position:-112px -22px}app-phone-input .pf{background-position:-112px -33px}app-phone-input .pe{background-position:-112px -44px}app-phone-input .pa{background-position:-112px -55px}app-phone-input .om{background-position:-112px -66px}app-phone-input .nz{background-position:-112px -77px}app-phone-input .nu{background-position:-112px -88px}app-phone-input .nr{background-position:-112px -99px}app-phone-input .bv,app-phone-input .no,app-phone-input .sj{background-position:0 -110px}app-phone-input .nl{background-position:-16px -110px}app-phone-input .ni{background-position:-32px -110px}app-phone-input .ng{background-position:-48px -110px}app-phone-input .nf{background-position:-64px -110px}app-phone-input .ne{background-position:-80px -110px}app-phone-input .nc{background-position:-96px -110px}app-phone-input .na{background-position:-112px -110px}app-phone-input .mz{background-position:-128px 0}app-phone-input .my{background-position:-128px -11px}app-phone-input .mx{background-position:-128px -22px}app-phone-input .mw{background-position:-128px -33px}app-phone-input .mv{background-position:-128px -44px}app-phone-input .mu{background-position:-128px -55px}app-phone-input .mt{background-position:-128px -66px}app-phone-input .ms{background-position:-128px -77px}app-phone-input .mr{background-position:-128px -88px}app-phone-input .mq{background-position:-128px -99px}app-phone-input .mp{background-position:-128px -110px}app-phone-input .mo{background-position:0 -121px}app-phone-input .mn{background-position:-16px -121px}app-phone-input .mm{background-position:-32px -121px}app-phone-input .ml{background-position:-48px -121px}app-phone-input .mk{background-position:-64px -121px}app-phone-input .mh{background-position:-80px -121px}app-phone-input .mg{background-position:-96px -121px}app-phone-input .me{background-position:0 -132px;height:12px}app-phone-input .md{background-position:-112px -121px}app-phone-input .mc{background-position:-128px -121px}app-phone-input .ma{background-position:-16px -132px}app-phone-input .ly{background-position:-32px -132px}app-phone-input .lv{background-position:-48px -132px}app-phone-input .lu{background-position:-64px -132px}app-phone-input .lt{background-position:-80px -132px}app-phone-input .ls{background-position:-96px -132px}app-phone-input .lr{background-position:-112px -132px}app-phone-input .lk{background-position:-128px -132px}app-phone-input .li{background-position:-144px 0}app-phone-input .lc{background-position:-144px -11px}app-phone-input .lb{background-position:-144px -22px}app-phone-input .la{background-position:-144px -33px}app-phone-input .kz{background-position:-144px -44px}app-phone-input .ky{background-position:-144px -55px}app-phone-input .kw{background-position:-144px -66px}app-phone-input .kr{background-position:-144px -77px}app-phone-input .kp{background-position:-144px -88px}app-phone-input .kn{background-position:-144px -99px}app-phone-input .km{background-position:-144px -110px}app-phone-input .ki{background-position:-144px -121px}app-phone-input .kh{background-position:-144px -132px}app-phone-input .kg{background-position:0 -144px}app-phone-input .ke{background-position:-16px -144px}app-phone-input .jp{background-position:-32px -144px}app-phone-input .jo{background-position:-48px -144px}app-phone-input .jm{background-position:-64px -144px}app-phone-input .je{background-position:-80px -144px}app-phone-input .it{background-position:-96px -144px}app-phone-input .is{background-position:-112px -144px}app-phone-input .ir{background-position:-128px -144px}app-phone-input .iq{background-position:-144px -144px}app-phone-input .io{background-position:-160px 0}app-phone-input .in{background-position:-160px -11px}app-phone-input .im{background-position:-160px -22px;height:9px}app-phone-input .il{background-position:-160px -31px}app-phone-input .ie{background-position:-160px -42px}app-phone-input .id{background-position:-160px -53px}app-phone-input .hu{background-position:-160px -64px}app-phone-input .ht{background-position:-160px -75px}app-phone-input .hr{background-position:-160px -86px}app-phone-input .hn{background-position:-160px -97px}app-phone-input .hk{background-position:-160px -108px}app-phone-input .gy{background-position:-160px -119px}app-phone-input .gw{background-position:-160px -130px}app-phone-input .gu{background-position:-160px -141px}app-phone-input .gt{background-position:0 -155px}app-phone-input .gs{background-position:-16px -155px}app-phone-input .gr{background-position:-32px -155px}app-phone-input .gq{background-position:-48px -155px}app-phone-input .gp{background-position:-64px -155px}app-phone-input .gn{background-position:-80px -155px}app-phone-input .gm{background-position:-96px -155px}app-phone-input .gl{background-position:-112px -155px}app-phone-input .gi{background-position:-128px -155px}app-phone-input .gh{background-position:-144px -155px}app-phone-input .gg{background-position:-160px -155px}app-phone-input .ge{background-position:-176px 0}app-phone-input .gd{background-position:-176px -11px}app-phone-input .gb{background-position:-176px -22px}app-phone-input .ga{background-position:-176px -33px}app-phone-input .bl,app-phone-input .fr,app-phone-input .gf,app-phone-input .mf,app-phone-input .re{background-position:-176px -44px}app-phone-input .fo{background-position:-176px -55px}app-phone-input .fm{background-position:-176px -66px}app-phone-input .fk{background-position:-176px -77px}app-phone-input .fj{background-position:-176px -88px}app-phone-input .fi{background-position:-176px -99px}app-phone-input .eu{background-position:-176px -121px}app-phone-input .et{background-position:-176px -132px}app-phone-input .es{background-position:-176px -143px}app-phone-input .er{background-position:-176px -154px}app-phone-input .eh{background-position:-16px -166px}app-phone-input .eg{background-position:-32px -166px}app-phone-input .ee{background-position:-48px -166px}app-phone-input .ec{background-position:-64px -166px}app-phone-input .dz{background-position:-80px -166px}app-phone-input .do{background-position:-96px -166px}app-phone-input .dm{background-position:-112px -166px}app-phone-input .dk{background-position:-128px -166px}app-phone-input .dj{background-position:-144px -166px}app-phone-input .de{background-position:-160px -166px}app-phone-input .cz{background-position:-176px -166px}app-phone-input .cy{background-position:0 -177px}app-phone-input .cx{background-position:-16px -177px}app-phone-input .cw{background-position:-32px -177px}app-phone-input .cv{background-position:-48px -177px}app-phone-input .cu{background-position:-64px -177px}app-phone-input .cs{background-position:-80px -177px}app-phone-input .cr{background-position:-96px -177px}app-phone-input .co{background-position:-112px -177px}app-phone-input .cn{background-position:-128px -177px}app-phone-input .cm{background-position:-144px -177px}app-phone-input .cl{background-position:-160px -177px}app-phone-input .ck{background-position:-176px -177px}app-phone-input .ci{background-position:-192px 0}app-phone-input .cg{background-position:-192px -11px}app-phone-input .cf{background-position:-192px -22px}app-phone-input .cd{background-position:-192px -33px}app-phone-input .cc{background-position:-192px -44px}app-phone-input .ca{background-position:-192px -66px}app-phone-input .bz{background-position:-192px -77px}app-phone-input .by{background-position:-192px -88px}app-phone-input .bw{background-position:-192px -99px}app-phone-input .bt{background-position:-192px -110px}app-phone-input .bs{background-position:-192px -121px}app-phone-input .br{background-position:-192px -132px}app-phone-input .bq{background-position:-192px -143px}app-phone-input .bo{background-position:-192px -154px}app-phone-input .bn{background-position:-192px -165px}app-phone-input .bm{background-position:-192px -176px}app-phone-input .bj{background-position:0 -188px}app-phone-input .bi{background-position:-16px -188px}app-phone-input .bh{background-position:-32px -188px}app-phone-input .bg{background-position:-48px -188px}app-phone-input .bf{background-position:-64px -188px}app-phone-input .be{background-position:-80px -188px}app-phone-input .bd{background-position:-96px -188px}app-phone-input .bb{background-position:-112px -188px}app-phone-input .ba{background-position:-128px -188px}app-phone-input .az{background-position:-144px -188px}app-phone-input .ax{background-position:-160px -188px}app-phone-input .aw{background-position:-176px -188px}app-phone-input .au,app-phone-input .hm{background-position:-192px -188px}app-phone-input .at{background-position:-208px 0}app-phone-input .as{background-position:-208px -11px}app-phone-input .ar{background-position:-208px -22px}app-phone-input .ao{background-position:-208px -33px}app-phone-input .an{background-position:-208px -44px}app-phone-input .am{background-position:-208px -55px}app-phone-input .al{background-position:-208px -66px}app-phone-input .ai{background-position:-208px -77px}app-phone-input .ag{background-position:-208px -88px}app-phone-input .af{background-position:-208px -99px}app-phone-input .ae{background-position:-208px -110px}app-phone-input .ad{background-position:-208px -121px}app-phone-input .np{background-position:-208px -132px}app-phone-input .ch{background-position:-208px -143px}"],encapsulation:2}),t}(),cs=["emailGrowl"];function ls(t,e){1&t&&(c.Qb(0),c.Sb(1,"div",9),c.Nb(2,"cl-progress-spinner",10),c.Rb(),c.Pb()),2&t&&(c.Ab(2),c.kc("strokeWidth",2))}function ps(t,e){if(1&t&&(c.Sb(0,"div",22),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=c.dc(3).$implicit;c.Ab(2),c.Jc(n("myProfile.security.passwordRecovery.phoneInfo"))}}function ds(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",26),c.Zb("click",(function(){return c.yc(n),c.dc(5).resendPhoneCode()})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc(4).$implicit;c.Bb("aria-label",i("myProfile.security.resendCode")),c.Ab(1),c.Jc(i("myProfile.security.resendCode"))}}function us(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",23),c.Gc(1,ds,2,2,"button",24),c.Sb(2,"button",25),c.Zb("click",(function(){return c.yc(n),c.dc(4).showModal=!0}))("clClickOutside",(function(){return c.yc(n),c.dc(4).showModal=!1}))("clTooltipDisplayChange",(function(t){return c.yc(n),c.dc(4).showModal=t})),c.Ic(3),c.Rb(),c.Rb()}if(2&t){var i=c.dc(3).$implicit,o=c.vc(7),r=c.dc();c.Ab(1),c.kc("ngIf",!r.form.phone.isVerified),c.Ab(1),c.kc("clTooltip",o)("clTooltipDisplay",r.showModal)("clTooltipDirection","bottom")("clTooltipPersist",!0),c.Bb("aria-label",i("common.delete")),c.Ab(1),c.Kc(" ",i("common.delete")," ")}}function gs(t,e){1&t&&(c.Sb(0,"div",27),c.Nb(1,"i",28),c.Rb())}function hs(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",29),c.Zb("click",(function(){return c.yc(n),c.dc(4).verifyPhoneCode()})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc(3).$implicit;c.Ab(1),c.Jc(i("common.submit"))}}var bs=function(t,e){return{tabindex:t,disabled:e,id:"verification-code-input",type:"text"}};function fs(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Gc(1,ps,3,1,"div",11),c.Sb(2,"div",12),c.Sb(3,"div",13),c.Sb(4,"div",14),c.Sb(5,"label",15),c.Ic(6),c.Rb(),c.Gc(7,us,4,7,"div",16),c.Rb(),c.Sb(8,"app-phone-input",17),c.Zb("inputChange",(function(t){return c.yc(n),c.dc(3).form.phone.input=t}))("enter",(function(){return c.yc(n),c.dc(3).saveRecoveryOptions()})),c.Rb(),c.Gc(9,gs,2,0,"div",18),c.Rb(),c.Sb(10,"div",13),c.Sb(11,"div",14),c.Sb(12,"label",19),c.Ic(13),c.Rb(),c.Rb(),c.Sb(14,"cl-input",20),c.Zb("valueChange",(function(t){return c.yc(n),c.dc(3).form.phone.code=t})),c.Rb(),c.Gc(15,hs,2,1,"button",21),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.dc(2).$implicit,o=c.dc();c.Ab(1),c.kc("ngIf",!o.initialRun),c.Ab(5),c.Jc(i("myProfile.security.phoneNumber")),c.Ab(1),c.kc("ngIf",o.form.phone.isConfirmed),c.Ab(1),c.kc("disabled",o.form.phone.isConfirmed||o.form.phone.isVerified)("input",o.form.phone.input),c.Ab(1),c.kc("ngIf",o.form.phone.isVerified),c.Ab(1),c.Eb("disabled",!o.form.phone.isConfirmed||o.form.phone.isVerified),c.Ab(3),c.Jc(i("myProfile.security.verification")),c.Ab(1),c.Eb("gray",!o.form.phone.isConfirmed||o.form.phone.isVerified),c.kc("value",o.form.phone.code)("attributes",c.oc(14,bs,!o.form.phone.isConfirmed||o.form.phone.isVerified?-1:0,!o.form.phone.isConfirmed||o.form.phone.isVerified?-1:0)),c.Ab(1),c.kc("ngIf",o.form.phone.isConfirmed&&!o.form.phone.isVerified)}}function ms(t,e){if(1&t&&(c.Sb(0,"div",22),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=c.dc(3).$implicit;c.Ab(2),c.Jc(n("myProfile.security.passwordRecovery.emailInfo"))}}function vs(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",26),c.Zb("click",(function(){return c.yc(n),c.dc(5).resendVerificationEmail()})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc(4).$implicit;c.Bb("aria-label",i("myProfile.security.passwordRecovery.resendEmail")),c.Ab(1),c.Jc(i("myProfile.security.passwordRecovery.resendEmail"))}}function ys(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",23),c.Gc(1,vs,2,2,"button",24),c.Sb(2,"button",32),c.Zb("click",(function(){return c.yc(n),c.dc(4).showModal=!0}))("clTooltipDisplayChange",(function(t){return c.yc(n),c.dc(4).showModal=t})),c.Ic(3),c.Rb(),c.Rb()}if(2&t){var i=c.dc(3).$implicit,o=c.vc(7),r=c.dc();c.Ab(1),c.kc("ngIf",!r.form.email.isVerified),c.Ab(1),c.kc("clTooltip",o)("clTooltipDisplay",r.showModal)("clTooltipDirection","bottom")("clTooltipPersist",!0),c.Bb("aria-label",i("common.delete")),c.Ab(1),c.Kc(" ",i("common.delete")," ")}}function Cs(t,e){1&t&&(c.Sb(0,"div",27),c.Nb(1,"i",28),c.Rb())}var xs=function(){return{id:"email-input",type:"text"}},ws=function(t){return{"keydown.Enter":t}};function Ps(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Gc(1,ms,3,1,"div",11),c.Sb(2,"div",13),c.Sb(3,"div",14),c.Sb(4,"label",30),c.Ic(5),c.Rb(),c.Gc(6,ys,4,7,"div",16),c.Rb(),c.Sb(7,"cl-input",31),c.Zb("valueChange",(function(t){return c.yc(n),c.dc(3).form.email.input=t})),c.Rb(),c.Gc(8,Cs,2,0,"div",18),c.Rb(),c.Pb()}if(2&t){var i=c.dc(2).$implicit,o=c.dc();c.Ab(1),c.kc("ngIf",!o.initialRun),c.Ab(4),c.Jc(i("myProfile.security.email")),c.Ab(1),c.kc("ngIf",o.form.email.isConfirmed),c.Ab(1),c.kc("disabled",o.form.email.isConfirmed||o.form.email.isVerified)("value",o.form.email.input)("attributes",c.mc(9,xs))("inputValidator",o.isValidEmail.bind(o))("events",c.nc(10,ws,o.saveRecoveryOptions.bind(o))),c.Ab(1),c.kc("ngIf",o.form.email.isVerified)}}function Os(t,e){if(1&t&&(c.Sb(0,"div",22),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=c.dc(3).$implicit;c.Ab(2),c.Jc(n("myProfile.security.passwordRecovery.questionInfo"))}}var Ms=function(t,e){return{question:t,index:e}};function _s(t,e){if(1&t&&c.Ob(0,35),2&t){var n=e.$implicit,i=e.index;c.dc(3);var o=c.vc(9);c.kc("ngTemplateOutlet",o)("ngTemplateOutletContext",c.oc(2,Ms,n,i))}}var ks=function(t){return{"margin-left":t}};function Ss(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",36),c.Zb("click",(function(){return c.yc(n),c.dc(4).showModal=!0}))("clTooltipDisplayChange",(function(t){return c.yc(n),c.dc(4).showModal=t})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc(3).$implicit,o=c.vc(7),r=c.dc();c.kc("ngStyle",c.nc(7,ks,r.initialRun?"55px":"0px"))("clTooltip",o)("clTooltipDisplay",r.showModal)("clTooltipDirection","bottom")("clTooltipPersist",!0),c.Bb("aria-label",i("common.removeMultiple")),c.Ab(1),c.Kc(" ",i("common.removeMultiple")," ")}}function As(t,e){if(1&t&&(c.Qb(0),c.Gc(1,Os,3,1,"div",11),c.Gc(2,_s,1,5,"ng-container",33),c.Gc(3,Ss,2,9,"button",34),c.Pb()),2&t){var n=c.dc(3);c.Ab(1),c.kc("ngIf",!n.initialRun),c.Ab(1),c.kc("ngForOf",n.form.questions.input),c.Ab(1),c.kc("ngIf",n.canDeleteQuestions&&!n.initialRun)}}function Is(t,e){if(1&t&&(c.Qb(0),c.Gc(1,fs,16,17,"ng-container",3),c.Gc(2,Ps,9,12,"ng-container",3),c.Gc(3,As,4,3,"ng-container",3),c.Pb()),2&t){var n=c.dc(2);c.Ab(1),c.kc("ngIf",0===n.activeTab),c.Ab(1),c.kc("ngIf",1===n.activeTab),c.Ab(1),c.kc("ngIf",2===n.activeTab)}}function Rs(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",36),c.Zb("click",(function(){return c.yc(n),c.dc(3).showModal=!0}))("clTooltipDisplayChange",(function(t){return c.yc(n),c.dc(3).showModal=t})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.vc(7),r=c.dc();c.kc("ngStyle",c.nc(7,ks,r.initialRun?"55px":"0px"))("clTooltip",o)("clTooltipDisplay",r.showModal)("clTooltipDirection","bottom")("clTooltipPersist",!0),c.Bb("aria-label",i("common.removeMultiple")),c.Ab(1),c.Kc(" ",i("common.removeMultiple")," ")}}function Ts(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",37),c.Gc(1,Rs,2,9,"button",34),c.Sb(2,"button",38),c.Zb("click",(function(){return c.yc(n),c.dc(2).saveRecoveryOptions()})),c.Ic(3),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(1),c.kc("ngIf",2===o.activeTab&&o.canDeleteQuestions),c.Ab(1),c.kc("disabled",!o.canSaveOptions())("tabindex",o.canSaveOptions()?0:-1),c.Ab(1),c.Kc(" ",i("common.save")," ")}}function Fs(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",39),c.Sb(1,"button",40),c.Zb("click",(function(){return c.yc(n),c.dc(2).helper.tabPageChanged.next(0)})),c.Ic(2),c.Rb(),c.Sb(3,"button",41),c.Zb("click",(function(){return c.yc(n),c.dc(2).saveRecoveryOptions()})),c.Ic(4),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(2),c.Jc(i("common.goBack")),c.Ab(1),c.kc("disabled",!o.canSaveOptions())("tabindex",o.canSaveOptions()?0:-1),c.Ab(1),c.Jc(i("common.save"))}}function Es(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",42),c.Sb(1,"h4"),c.Ic(2),c.Rb(),c.Sb(3,"p"),c.Ic(4),c.Rb(),c.Sb(5,"div",43),c.Sb(6,"button",40),c.Zb("click",(function(){return c.yc(n),c.dc(2).showModal=!1})),c.Ic(7),c.Rb(),c.Sb(8,"button",44),c.Zb("click",(function(){c.yc(n);var t=c.dc(2);return 0===t.activeTab?t.deletePhone():1===t.activeTab?t.deleteEmail():t.deleteQuestions(),t.showModal=!1})),c.Ic(9),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(2),c.Jc(i(0===o.activeTab?"myProfile.security.passwordRecovery.deletePhone":1===o.activeTab?"myProfile.security.passwordRecovery.deleteEmail":"myProfile.security.passwordRecovery.deleteQuestions")),c.Ab(2),c.Kc(" ",i(0===o.activeTab?"myProfile.security.passwordRecovery.deletePhoneInfo":1===o.activeTab?"myProfile.security.passwordRecovery.deleteEmailInfo":"myProfile.security.passwordRecovery.deleteQuestionsInfo"),""),c.Ab(3),c.Jc(i("common.cancel")),c.Ab(2),c.Jc(i("common.delete"))}}function Ds(t,e){if(1&t&&(c.Sb(0,"p",53),c.Ic(1),c.Rb()),2&t){var n=e.$implicit;c.Ab(1),c.Jc(n)}}function Ls(t,e){if(1&t&&(c.Sb(0,"div"),c.Gc(1,Ds,2,1,"p",52),c.Rb()),2&t){var n=c.dc().question,i=c.dc(2);c.Ab(1),c.kc("ngForOf",i.validatorResults[n.id][n.answer])}}function Ns(t,e){if(1&t&&(c.Sb(0,"p",53),c.Ic(1),c.Rb()),2&t){var n=e.$implicit;c.Ab(1),c.Jc(n)}}function Hs(t,e){if(1&t&&(c.Sb(0,"div"),c.Gc(1,Ns,2,1,"p",52),c.Rb()),2&t){var n=c.dc().question,i=c.dc(2);c.Ab(1),c.kc("ngForOf",i.customValidatorResults[n.answer])}}var Gs=function(t){return{number:t}},Bs=function(t,e){return{type:"text","aria-label":t,tabindex:e}},js=function(t){return{"aria-label":t,type:"password"}};function Us(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",45),c.Sb(1,"label"),c.Ic(2),c.Rb(),c.Sb(3,"div",46),c.Sb(4,"div",47),c.Sb(5,"cl-dropdown",48),c.Zb("click",(function(){c.yc(n);var t=e.index;return c.dc(2).closeOtherDropdowns(t)}))("selectionChange",(function(t){return c.yc(n),e.question.id=t})),c.Rb(),c.Sb(6,"cl-input",49),c.Zb("valueChange",(function(t){return c.yc(n),e.question.question=t})),c.Rb(),c.Rb(),c.Sb(7,"div",50),c.Sb(8,"cl-input",51),c.Zb("valueChange",(function(t){return c.yc(n),e.question.answer=t})),c.Rb(),c.Rb(),c.Rb(),c.Gc(9,Ls,2,1,"div",3),c.Gc(10,Hs,2,1,"div",3),c.Rb()}if(2&t){var i=e.question,o=e.index,r=c.dc().$implicit,a=c.dc();c.Ab(1),c.Bb("for",0===o?"question-one-input":1===o?"question-two-input":"question-three-input"),c.Ab(1),c.Jc(r(0===o?"myProfile.security.passwordRecovery.questionOne":1===o?"myProfile.security.passwordRecovery.questionTwo":"myProfile.security.passwordRecovery.questionThree")),c.Ab(2),c.Eb("full-width-drop",-1!==i.id),c.Ab(1),c.Ec("z-index",a.activeDropdownIndex===o?2:""),c.kc("id",0===o?"question-one-input":1===o?"question-two-input":"question-three-input")("selection",i.id)("options",a.availableQuestions)("showRemove",!1)("optionLabel","question")("optionValue","id"),c.Ab(1),c.kc("attributes",c.oc(21,Bs,r("myProfile.security.passwordRecovery.yourQuestion",c.nc(19,Gs,o+1)),-1===i.id?0:-1))("value",i.question),c.Ab(2),c.kc("attributes",c.nc(26,js,r("myProfile.security.passwordRecovery.yourAnswer",c.nc(24,Gs,o+1))))("value",i.answer)("showPasswordEye",!0),c.Ab(1),c.kc("ngIf",i.id>0&&a.validatorResults[i.id]&&a.validatorResults[i.id][i.answer]),c.Ab(1),c.kc("ngIf",i.id<0&&a.customValidatorResults[i.answer])}}var zs=function(t){return{email:t}};function Vs(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",54),c.Sb(1,"h4"),c.Ic(2),c.Rb(),c.Sb(3,"p"),c.Ic(4),c.Rb(),c.Sb(5,"button",55),c.Zb("click",(function(){return c.yc(n),c.dc(2).closeGrowl()})),c.Ic(6),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(2),c.Jc(i("myProfile.security.passwordRecovery.emailConfirmationMsg",c.nc(3,zs,o.form.email.input))),c.Ab(2),c.Jc(i("myProfile.security.passwordRecovery.confirmEmailAddress")),c.Ab(2),c.Kc(" ",i("common.ok")," ")}}function Zs(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",2),c.Gc(2,ls,3,1,"ng-container",3),c.Gc(3,Is,4,3,"ng-container",3),c.Gc(4,Ts,4,4,"div",4),c.Rb(),c.Gc(5,Fs,5,4,"div",5),c.Gc(6,Es,10,4,"ng-template",null,6,c.Hc),c.Gc(8,Us,11,28,"ng-template",null,7,c.Hc),c.Gc(10,Vs,7,5,"ng-template",null,8,c.Hc),c.Pb()),2&t){var n=c.dc();c.Ab(2),c.kc("ngIf",n.loading),c.Ab(1),c.kc("ngIf",!n.loading),c.Ab(1),c.kc("ngIf",n.initialRun),c.Ab(1),c.kc("ngIf",!n.initialRun)}}var $s=n("B5V+"),Ws=function(){function t(t,e,n,i,o,r,a,s){this.nodeApi=t,this.tms=e,this.sessionService=n,this.menuHelper=i,this.translationHelper=o,this.helper=r,this.growlService=a,this.initialRunHelper=s,this.initialRun=!1,this.loading=!0,this.form={phone:{id:-1,isConfirmed:!1,isVerified:!1,input:{countryCode:"+1",number:""},code:""},email:{id:-1,isConfirmed:!1,isVerified:!1,input:""},questions:{input:[]}},this.originalForm=this.form,this.availableQuestions=[],this.showModal=!1,this.validatorResults={},this.customValidatorResults={},this.tenantMinLen=3,this.subscriptions=[]}return t.prototype.ngOnInit=function(){var t=this;this.getUserRecoveryOptions(),this.initialRun?this.subscriptions[0]=this.initialRunHelper.recoverySelectionChanged.subscribe((function(e){t.activeTab=e,1===t.activeTab&&t.getUserRecoveryOptions(),2===t.activeTab&&t.getRecoveryQuestions()})):(this.subscriptions[0]=this.helper.securityIndexChanged.subscribe((function(e){return t.activeTab=e})),2===this.activeTab&&this.getRecoveryQuestions())},t.prototype.ngAfterViewInit=function(){var t=this;this.subscriptions[1]=this.dropdowns.changes.subscribe((function(e){t.handles=t.dropdowns.toArray().map((function(e){return t.menuHelper.registerMenu((function(){return e.hideDropdown()}))}))})),this.handles=this.dropdowns.toArray().map((function(e){return t.menuHelper.registerMenu((function(){return e.hideDropdown()}))}))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.showModal=!1},t.prototype.getRecoveryQuestions=function(){var t=this;Object(ue.a)({questions:this.nodeApi.getAvailableRecoveryQuestions(),validation:this.tms.getRecoveryValidation()}).subscribe((function(e){var n=e.questions,i=e.validation;if(n.push({id:-1,question:"Custom"}),t.availableQuestions=n,i.length){var o=Object(qa.find)(i,(function(t){return"minLength"===t.validationType}));t.tenantMinLen=o?o.validationValue:3}}))},t.prototype.getUserRecoveryOptions=function(){var t=this;this.nodeApi.getCurrentRecoveryOptions().subscribe((function(e){var n=e.phones[0]?e.phones[0]:void 0,i=e.emails[0]?e.emails[0]:void 0,o=e.secretquestions,r={id:-1,question:"",answer:""};n?(t.form.phone={id:n.id,isConfirmed:!0,isVerified:n.is_verified,input:t.helper.guessParseNumber(t.helper.decryptResponse(n.recovery_text)),code:""},n.is_verified||t.resendPhoneCode()):t.form.phone={id:-1,isConfirmed:!1,isVerified:!1,input:t.helper.guessParseNumber(""),code:""},t.form.email=i?{id:i.id,isConfirmed:!0,isVerified:i.is_verified,input:t.helper.decryptResponse(i.recovery_text)}:{id:-1,isConfirmed:!1,isVerified:!1,input:""},t.form.questions={input:new Array(3).fill(0).map((function(e,n){return 0!==o&&o[n]?{id:o[n].secret_question_id?o[n].secret_question_id:-1,question:o[n].custom_secret_question?o[n].custom_secret_question:"",answer:t.helper.decryptResponse(o[n].recovery_text)}:Object(le.a)({},r)}))},t.originalForm=he()(t.form),t.showDelete(),t.loading=!1}))},t.prototype.closeOtherDropdowns=function(t){this.activeDropdownIndex=t,this.menuHelper.closeAllOtherMenus(this.handles[t])},t.prototype.isValidEmail=function(){return $e.a.isValidEmail(this.form.email.input)},t.prototype.canSaveOptions=function(){return 0===this.activeTab&&this.canSavePhone()||1===this.activeTab&&this.canSaveEmail()||2===this.activeTab&&this.canSaveQuestions()},t.prototype.canSavePhone=function(){var t=this.form.phone;return!(t.isConfirmed&&!t.isVerified)&&!(t.isConfirmed&&t.isVerified)&&""!==t.input.number&&""!==t.input.countryCode&&this.arePhonesDifferent()},t.prototype.canSaveEmail=function(){return""!==this.form.email.input&&this.isValidEmail()&&this.areEmailsDifferent()},t.prototype.canSaveQuestions=function(){return Fr()(this.form.questions.input,(function(t){return""!==t.answer}))&&this.areQuestionsDifferent()},t.prototype.arePhonesDifferent=function(){var t=this.originalForm.phone.input,e=this.form.phone.input;return t.countryCode!==e.countryCode||t.number!==e.number},t.prototype.areEmailsDifferent=function(){return this.originalForm.email.input!==this.form.email.input},t.prototype.areQuestionsDifferent=function(){var t=this.originalForm.questions.input,e=this.form.questions.input;if(t.length!==e.length)return!0;for(var n=0;n<e.length;n++){var i=e[n],o=t[n];if(i.id!==o.id||-1===i.id&&i.question!==o.question||i.answer!==o.answer)return!0}return!1},t.prototype.checkValidationErrors=function(){var t=this;if(0===Object.keys(this.validatorResults).length&&0===Object.keys(this.customValidatorResults).length)return!0;var e=!0;return Object.keys(this.validatorResults).forEach((function(n){t.validatorResults[n]&&Object.keys(t.validatorResults[n]).forEach((function(i){0!==t.validatorResults[n][i].length&&(e=!1)}))})),Object.keys(this.customValidatorResults).forEach((function(n){0!==t.customValidatorResults[n].length&&Object(qa.find)(t.form.questions.input,(function(t){return t.answer===n}))&&(e=!1)})),e},t.prototype.saveRecoveryOptions=function(){var t,e=this;0===this.activeTab&&this.arePhonesDifferent()?t=this.tms.addRecoveryPhone(this.form.phone.input.countryCode.trim()+this.form.phone.input.number.trim(),!1):1===this.activeTab&&this.areEmailsDifferent()?t=this.nodeApi.addRecoveryEmail(this.form.email.input.trim()):2===this.activeTab&&(this.validateInput(),this.areQuestionsDifferent()&&this.checkValidationErrors()&&(t=this.nodeApi.setRecoveryQuestions(this.form.questions.input))),t&&t.subscribe((function(t){1===e.activeTab&&(e.addEmailGrowl(),e.originalForm.email.input=e.form.email.input,e.form.email.isConfirmed=!0),2===e.activeTab&&(e.canDeleteQuestions=!0),0===e.activeTab?(e.recoveryToken=t.prePasswordRecoveryToken,e.originalForm.phone={id:-1,isVerified:!1,isConfirmed:!1,input:{countryCode:"+1",number:""},code:""},e.form.phone={id:-1,isConfirmed:!0,isVerified:!1,input:e.form.phone.input,code:""}):(e.helper.tabPageChanged.next(0),e.initialRun&&e.updateInitialRunProgress()),1!==e.activeTab&&e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.recoveryOptions",verb:"common.edited"})}),(function(t){t.error.message.includes("is already linked to another account")&&(e.form.phone={id:-1,isConfirmed:!1,isVerified:!1,input:e.form.phone.input,code:""},e.helper.unlinkModal.next({open:!0}))}))},t.prototype.resendPhoneCode=function(){var t=this,e=(this.form.phone.input.countryCode+this.form.phone.input.number).replace(/\s+/g,"");this.tms.addRecoveryPhone(e,!1).subscribe((function(e){t.recoveryToken=e.prePasswordRecoveryToken,t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.phoneCode",verb:"common.resent"})}))},t.prototype.sendUnlinkCode=function(t){var e=this,n=(this.form.phone.input.countryCode+this.form.phone.input.number).replace(/\s+/g,"");this.tms.addRecoveryPhone(n,!0).subscribe((function(n){e.recoveryToken=n.prePasswordRecoveryToken,t&&e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.passwordRecovery.unlinkCode",verb:"common.resent"}),t||e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.passwordRecovery.unlinkCode",verb:"growl.sent"})}))},t.prototype.unlinkPhone=function(t){var e=this;this.tms.unlinkRecoveryPhone(t,this.recoveryToken).subscribe((function(t){e.helper.unlinkModal.next({open:!1}),e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.phone",verb:"growl.unlinkedAndVerified"}),e.form.phone.isConfirmed=!0,e.form.phone.isVerified=!0}))},t.prototype.resendVerificationEmail=function(){var t=this;this.nodeApi.resendRecoveryEmail(this.form.email.input).subscribe((function(e){t.addEmailGrowl()}))},t.prototype.deletePhone=function(){var t=this;this.tms.deleteRecoveryMethod(1).subscribe((function(e){t.originalForm.phone={id:-1,isVerified:!1,isConfirmed:!1,input:{countryCode:"+1",number:""},code:""},t.form.phone={id:-1,isVerified:!1,isConfirmed:!1,input:{countryCode:"+1",number:""},code:""},t.initialRunHelper.initialRunSettingsUpdated.next(!0),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.phone",verb:"common.removed"})}))},t.prototype.deleteEmail=function(){var t=this;this.nodeApi.removeRecoveryEmail(this.form.email.id).subscribe((function(e){t.originalForm.email={id:-1,isVerified:!1,isConfirmed:!1,input:""},t.form.email={id:-1,isVerified:!1,isConfirmed:!1,input:""},t.initialRunHelper.initialRunSettingsUpdated.next(!0),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.email",verb:"common.removed"})}))},t.prototype.verifyPhoneCode=function(){var t=this;this.tms.verifyPhoneCode(this.form.phone.code,this.recoveryToken).subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.phone",verb:"growl.verified"}),t.form.phone.isVerified=!0,t.initialRun&&t.updateInitialRunProgress(),t.helper.tabPageChanged.next(0)}))},t.prototype.addEmailGrowl=function(){this.growlService.add.next({severity:"success",summary:"An email has been sent to "+this.form.email.input+".",detail:"Please confirm your email address by clicking the link in the email.",sticky:!0,unclosable:!0,template:this.emailGrowlTemplate})},t.prototype.closeGrowl=function(){this.growlService.clear()},t.prototype.validateInput=function(){var t=this,e=new $s({useNewCustomCheckerFunction:!0,messages:{stringMin:"Your answer must be at least {expected} characters long",stringMax:"Your answer must be less than or equal to {expected} characters long.",uniqueAnswer:"Duplicate answers are not allowed."}}),n={answer:{type:"custom",min:this.tenantMinLen,max:1e3,answers:this.form.questions.input.map((function(t){return t.answer.toLowerCase()})),check:function(t,e,n){t.length<n.min&&e.push({type:"stringMin",expected:n.min,actual:t.length}),t.length>n.max&&e.push({type:"stringMax",expected:n.max,actual:t.length});var i,o=(i=n.answers).filter((function(t,e){return i.indexOf(t)!==e}));return o.length>0&&o.includes(t.toLowerCase())&&e.push({type:"uniqueAnswer"}),t}}};this.validatorResults={},this.form.questions.input.forEach((function(i){var o=e.validate(i,n),r=i.id;r>0?(t.validatorResults[r]={},o&&"boolean"!=typeof o?o.forEach((function(e){t.validatorResults[r][i.answer]||(t.validatorResults[r][i.answer]=[]),t.validatorResults[r][i.answer].push(e.message)})):t.validatorResults[r][i.answer]&&(t.validatorResults[r][i.answer]=[])):(t.customValidatorResults[i.answer]=[],o&&"boolean"!=typeof o?o.forEach((function(e){t.customValidatorResults[i.answer]||(t.customValidatorResults[i.answer]=[]),t.customValidatorResults[i.answer].push(e.message)})):t.customValidatorResults[i.answer]&&(t.customValidatorResults[i.answer]=[]))}))},t.prototype.showDelete=function(){var t=this;this.canDeleteQuestions=!1,this.originalForm.questions.input.forEach((function(e){e.answer&&(t.canDeleteQuestions=!0)}))},t.prototype.deleteQuestions=function(){var t=this;this.tms.deleteRecoveryMethod(2).subscribe((function(){var e={id:-1,question:"",answer:""};t.originalForm.questions={input:[]},t.form.questions={input:new Array(3).fill(0).map((function(t,n){return Object(le.a)({},e)}))},t.showDelete(),t.initialRunHelper.initialRunSettingsUpdated.next(!1),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.questions",verb:"common.removed"})}))},t.prototype.updateInitialRunProgress=function(){var t=this.initialRunHelper.progress.value;t.passwordRecovery=!0,this.initialRunHelper.initialRunSettingsUpdated.next(!1),this.initialRunHelper.progress.next(t)},t.\u0275fac=function(e){return new(e||t)(c.Mb(Qt.a),c.Mb(pi),c.Mb(ae.a),c.Mb(Ze),c.Mb(Be.a),c.Mb(Fe),c.Mb(We.B),c.Mb(io))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-password-recovery"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(cs,!0),c.Nc(We.t,!0)),2&t&&(c.uc(n=c.ac())&&(e.emailGrowlTemplate=n.first),c.uc(n=c.ac())&&(e.dropdowns=n))},inputs:{initialRun:"initialRun"},decls:2,vars:0,consts:[[4,"transloco"],[3,"resend","unlinkCode"],[1,"slideover-content"],[4,"ngIf"],["class","wizard-btn-controls",4,"ngIf"],["class","slideover-controls",4,"ngIf"],["confirmation",""],["recoveryQuestion",""],["emailGrowl",""],[1,"flex-center"],[3,"strokeWidth"],["class","slideover-info",4,"ngIf"],[1,"flex-start-center","row-wrap"],[1,"relative-input-ctnr"],[1,"label-ctnr"],["for","phone-input"],["class","float-buttons",4,"ngIf"],[3,"disabled","input","inputChange","enter"],["class","confirmed-check",4,"ngIf"],["for","verification-code-input"],[3,"value","attributes","valueChange"],["class","submit-code",3,"click",4,"ngIf"],[1,"slideover-info"],[1,"float-buttons"],["class","button-text",3,"click",4,"ngIf"],[1,"button-text","text-danger",3,"clTooltip","clTooltipDisplay","clTooltipDirection","clTooltipPersist","click","clClickOutside","clTooltipDisplayChange"],[1,"button-text",3,"click"],[1,"confirmed-check"],[1,"far","fa-check"],[1,"submit-code",3,"click"],["for","email-input"],[3,"disabled","value","attributes","inputValidator","events","valueChange"],[1,"button-text","text-danger",3,"clTooltip","clTooltipDisplay","clTooltipDirection","clTooltipPersist","click","clTooltipDisplayChange"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],["class","button-text text-danger question-delete",3,"ngStyle","clTooltip","clTooltipDisplay","clTooltipDirection","clTooltipPersist","click","clTooltipDisplayChange",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"button-text","text-danger","question-delete",3,"ngStyle","clTooltip","clTooltipDisplay","clTooltipDirection","clTooltipPersist","click","clTooltipDisplayChange"],[1,"wizard-btn-controls"],[1,"button","button-text","color-primary","save",3,"disabled","tabindex","click"],[1,"slideover-controls"],[1,"button","button-default",3,"click"],[1,"button","button-secondary",3,"disabled","tabindex","click"],[1,"cl-tooltip","confirmation"],[1,"buttons-ctnr"],[1,"button","button-default","text-danger",3,"click"],[1,"question-ctnr","flex-start","column-nowrap"],[1,"question-answer","flex-start"],[1,"dropdown-input"],[3,"id","selection","options","showRemove","optionLabel","optionValue","click","selectionChange"],[3,"attributes","value","valueChange"],[1,"answer","flex-start"],[3,"attributes","value","showPasswordEye","valueChange"],["class","error-msg",4,"ngFor","ngForOf"],[1,"error-msg"],[1,"template","flex-start","column-nowrap","email-growl"],[1,"button","button-primary",3,"click"]],template:function(t,e){1&t&&(c.Gc(0,Zs,12,4,"ng-container",0),c.Sb(1,"app-unlink-modal",1),c.Zb("resend",(function(t){return e.sendUnlinkCode(t)}))("unlinkCode",(function(t){return e.unlinkPhone(t)})),c.Rb())},directives:[Te.c,is,i.l,We.M,ss,We.C,We.Y,We.i,i.k,i.p,i.m,We.t],styles:['h3[_ngcontent-%COMP%]{margin-bottom:5px;font-size:calc(var(--font-modifier) * 13px)}cl-input[_ngcontent-%COMP%]{height:40px}p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px);letter-spacing:0}*[_ngcontent-%COMP%]{-ms-flex-negative:0!important;flex-shrink:0!important}.title-ctnr[_ngcontent-%COMP%]{position:relative;width:calc(100% + 100px);left:-50px;padding:0 50px 5px;margin-bottom:30px;border-bottom:1px solid var(--color-border-dark)}.title-ctnr[_ngcontent-%COMP%]   cl-slide-toggle[_ngcontent-%COMP%]{height:auto;width:auto;margin-left:20px}.title-ctnr[_ngcontent-%COMP%]   .unverified[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-left:20px;font-size:20px;color:var(--color-danger)}.title-ctnr[_ngcontent-%COMP%]   .toggle-arrow[_ngcontent-%COMP%]{margin-left:auto;transition:.2s ease-in-out}.question-ctnr[_ngcontent-%COMP%]{margin-bottom:30px;width:100%}.question-ctnr[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}.question-ctnr[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0 0 10px}.question-ctnr[_ngcontent-%COMP%]   cl-input[_ngcontent-%COMP%]{width:100%;margin:0}.question-ctnr[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%]{color:var(--color-danger);font-weight:600;margin-top:10px}.question-ctnr[_ngcontent-%COMP%]   .question-answer[_ngcontent-%COMP%]{width:100%}.question-ctnr[_ngcontent-%COMP%]   .question-answer[_ngcontent-%COMP%]   .dropdown-input[_ngcontent-%COMP%]{width:calc(50% - 10px);margin-right:10px}.question-ctnr[_ngcontent-%COMP%]   .question-answer[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]{width:calc(50% - 10px);margin-left:10px}.email-growl[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier)*14px);margin-bottom:5px;word-wrap:break-word}.email-growl[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#0054ff;margin-top:10px;min-width:80px;min-height:30px;height:35px}.slideover-info[_ngcontent-%COMP%]{width:100%!important}.slideover-info[_ngcontent-%COMP%]:after{content:"";width:calc(100% + 50px);height:100%;background-color:var(--color-bg-dark);position:absolute;z-index:-1}.question-delete[_ngcontent-%COMP%]{width:100px;margin-top:20px;margin-left:auto;margin-right:20px}.wizard-btn-controls[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;margin-top:20px}.wizard-btn-controls[_ngcontent-%COMP%]   .button-text.save[_ngcontent-%COMP%]{min-width:45px!important;height:unset}.wizard-btn-controls[_ngcontent-%COMP%]   .question-delete[_ngcontent-%COMP%]{margin:0 20px 0 0!important}app-phone-input[_ngcontent-%COMP%]{z-index:2}']}),t}(),Js=n("Q0GO"),qs=n.n(Js),Ks=n("+00W"),Ys=n.n(Ks),Qs=function(t){function e(e){return t.call(this,e)||this}return Object(le.c)(e,t),e.prototype.getWebAuthnRegistrationChallenge=function(t){return this.generateRequest("post",this.generateRequestUrl("/mfaSetup/v3.0/webAuthn/register/getRegistrationChallenge",{},Re.a.tmsUrl),this.basicBodyMapFunction,{userId:t})},e.prototype.getWebAuthnAuthentication=function(){return this.generateRequest("get",this.generateRequestUrl("/v1/appMfa/yubikey/webAuthn/initiate",{},Re.a.applicationsApiUrl),this.basicDataMapFunction)},e.prototype.verifyWebAuthnAuthentication=function(t){return this.generateRequest("post",this.generateRequestUrl("/v1/appMfa/yubikey/webAuthn/verify",{},Re.a.applicationsApiUrl),this.basicBodyMapFunction,t)},e.prototype.verifyWebAuthnRegistration=function(t){return this.generateRequest("post",this.generateRequestUrl("/mfaSetup/v3.0/webAuthn/register/verifyRegistrationResponse",{},Re.a.tmsUrl),this.basicBodyMapFunction,t)},e.prototype.verifyPin=function(t){return this.generateRequest("post",this.generateRequestUrl("/v1/appMfa/pin/verify",{},Re.a.applicationsApiUrl),this.basicDataMapFunction,{pin:t})},e.prototype.attemptMFA=function(t){return this.generateRequest("post",this.generateRequestUrl("/v1/mfa/v1/attempt",void 0,Re.a.authUrl),this.basicBodyMapFunction,{mfaType:t,action:"challenge"},this.getRequestOptions(!0))},e.prototype.getDuoRedirectUrl=function(t,e){return this.generateRequest("get",this.generateRequestUrl("/v1/mfa/duo/universal/v1/url",{redirectUrl:t,sid:e},Re.a.authUrl),this.basicBodyMapFunction,void 0,this.getRequestOptions(!0))},e.prototype.getDuoVerification=function(){return this.generateRequest("get",this.generateRequestUrl("/v1/appMfa/duoUniversal/verify",void 0,Re.a.applicationsApiUrl),this.basicDataMapFunction,void 0,this.getRequestOptions(!0))},e.\u0275fac=function(t){return new(t||e)(c.Wb(He.b))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(De.a);function Xs(t,e){if(1&t&&c.Nb(0,"a",9),2&t){var n=c.dc().$implicit;c.kc("innerText",n("myProfile.security.twoFactor.yubikeySupportLink"))}}function tc(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",23),c.Zb("click",(function(){return c.yc(n),c.dc(4).resendPhoneCode()})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc(3).$implicit;c.Bb("aria-label",i("myProfile.security.resendCode")),c.Ab(1),c.Jc(i("myProfile.security.resendCode"))}}function ec(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",20),c.Gc(1,tc,2,2,"button",21),c.Sb(2,"button",22),c.Zb("click",(function(){return c.yc(n),c.dc(3).deletePhone()})),c.Ic(3),c.Rb(),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.dc();c.Ab(1),c.kc("ngIf",!o.form.phone.isVerified),c.Ab(1),c.Bb("aria-label",i("common.delete")),c.Ab(1),c.Jc(i("common.delete"))}}function nc(t,e){1&t&&(c.Sb(0,"div",24),c.Nb(1,"i",25),c.Rb())}function ic(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",26),c.Zb("click",(function(){return c.yc(n),c.dc(3).verifyPhoneCode()})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.dc();c.kc("disabled",o.form.phone.isVerified?-1:0)("tabIndex",o.form.phone.isVerified?-1:0),c.Bb("aria-label",i("common.submit")),c.Ab(1),c.Kc(" ",i("common.submit")," ")}}var oc=function(t,e){return{type:"text",tabindex:t,disabled:e,id:"verification-code-input"}};function rc(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",10),c.Sb(2,"div",11),c.Sb(3,"div",12),c.Sb(4,"label",13),c.Ic(5),c.Rb(),c.Gc(6,ec,4,3,"div",14),c.Rb(),c.Sb(7,"app-phone-input",15),c.Zb("inputChange",(function(t){return c.yc(n),c.dc(2).form.phone.input=t})),c.Rb(),c.Gc(8,nc,2,0,"div",16),c.Rb(),c.Sb(9,"div",11),c.Sb(10,"div",12),c.Sb(11,"label",17),c.Ic(12),c.Rb(),c.Rb(),c.Sb(13,"cl-input",18),c.Zb("valueChange",(function(t){return c.yc(n),c.dc(2).form.phone.code=t})),c.Rb(),c.Gc(14,ic,2,4,"button",19),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(5),c.Jc(i("myProfile.security.phoneNumber")),c.Ab(1),c.kc("ngIf",o.form.phone.isConfirmed),c.Ab(1),c.kc("disabled",o.form.phone.isConfirmed||o.form.phone.isVerified)("input",o.form.phone.input),c.Ab(1),c.kc("ngIf",o.form.phone.isVerified),c.Ab(1),c.Eb("disabled",!o.form.phone.isConfirmed||o.form.phone.isVerified),c.Bb("aria-disabled",!o.form.phone.isConfirmed||o.form.phone.isVerified),c.Ab(3),c.Jc(i("myProfile.security.verification")),c.Ab(1),c.Eb("gray",!o.form.phone.isConfirmed||o.form.phone.isVerified),c.kc("value",o.form.phone.code)("attributes",c.oc(14,oc,!o.form.phone.isConfirmed||o.form.phone.isVerified?-1:0,!o.form.phone.isConfirmed||o.form.phone.isVerified?-1:0)),c.Ab(1),c.kc("ngIf",o.form.phone.isConfirmed&&!o.form.phone.isVerified)}}function ac(t,e){1&t&&(c.Qb(0),c.Sb(1,"span"),c.Nb(2,"i",31),c.Rb(),c.Pb())}function sc(t,e){if(1&t&&c.Nb(0,"img",32),2&t){var n=c.dc(2).$implicit,i=c.dc();c.kc("src",i.form.image.input,c.Ac)("alt",n(i.form.image.key?"imageLabels.twoFactor."+i.form.image.key:"myProfile.security.twoFactor.imageAlt"))}}function cc(t,e){if(1&t){var n=c.Tb();c.Sb(0,"img",36),c.Zb("keydown.Enter",(function(t){c.yc(n);var i=e.$implicit;return c.dc(4).onSelectImage(t,i)}))("focus",(function(){c.yc(n);var t=e.$implicit;return c.dc(4).onImageFocus(t.key)}))("click",(function(t){c.yc(n);var i=e.$implicit;return c.dc(4).onSelectImage(t,i)})),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(3).$implicit;c.kc("id",o("imageLabels.twoFactor."+i.key))("src",i.url,c.Ac)("alt",o("imageLabels.twoFactor."+i.key))}}function lc(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-dropdown-menu",33),c.Zb("click",(function(t){return c.yc(n),t.stopPropagation()})),c.Sb(1,"div",34),c.Gc(2,cc,1,3,"img",35),c.Rb(),c.Rb()}if(2&t){var i=c.dc(3);c.Bb("aria-labelledby","formTitle")("aria-activedescendant",i.focusedImageOpt),c.Ab(2),c.kc("ngForOf",i.imageList)}}function pc(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",27),c.Zb("keydown.Enter",(function(t){return c.yc(n),c.dc(2).toggleImageList(t)}))("click",(function(t){return c.yc(n),c.dc(2).toggleImageList(t)})),c.Gc(2,ac,3,0,"ng-container",28),c.Gc(3,sc,1,2,"ng-template",null,29,c.Hc),c.Gc(5,lc,3,3,"app-dropdown-menu",30),c.Rb(),c.Pb()}if(2&t){var i=c.vc(4),o=c.dc(2);c.Ab(1),c.Bb("aria-expanded",o.showImageList),c.Ab(1),c.kc("ngIf",!o.form.image.input)("ngIfElse",i),c.Ab(3),c.kc("ngIf",o.showImageList)}}function dc(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"button",45),c.Zb("click",(function(){return c.yc(n),c.dc(3).removeAuthenticator()})),c.Ic(2),c.Rb(),c.Pb()}if(2&t){var i=c.dc(2).$implicit;c.Ab(2),c.Jc(i("myProfile.security.twoFactor.resetAuthenticator"))}}var uc=function(t){return{"keydown.enter":t}},gc=function(t,e){return{disabled:t,type:"text","aria-label":e,"aria-describedby":"verifyCodeInstruction"}};function hc(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Gc(1,dc,3,1,"ng-container",6),c.Sb(2,"div",37),c.Sb(3,"div",38),c.Sb(4,"div",39),c.Ic(5),c.Rb(),c.Sb(6,"div",40),c.Sb(7,"p",41),c.Ic(8),c.Rb(),c.Sb(9,"p",42),c.Ic(10),c.Rb(),c.Rb(),c.Rb(),c.Sb(11,"div",38),c.Sb(12,"div",39),c.Ic(13),c.Rb(),c.Sb(14,"div",40),c.Sb(15,"p",41),c.Ic(16),c.Rb(),c.Nb(17,"img",32),c.Rb(),c.Rb(),c.Sb(18,"div",38),c.Sb(19,"div",39),c.Ic(20),c.Rb(),c.Sb(21,"div",40),c.Sb(22,"p",43),c.Ic(23),c.Rb(),c.Sb(24,"cl-input",44),c.Zb("valueChange",(function(t){return c.yc(n),c.dc(2).form.app.input=t})),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(1),c.kc("ngIf",o.twoFactor&&o.twoFactor.gauth_set),c.Ab(1),c.Eb("disabled",o.twoFactor&&o.twoFactor.gauth_set),c.Ab(3),c.Jc(i("myProfile.security.twoFactor.1")),c.Ab(3),c.Jc(i("myProfile.security.twoFactor.openApp")),c.Ab(2),c.Jc(i("myProfile.security.twoFactor.brands")),c.Ab(3),c.Jc(i("myProfile.security.twoFactor.2")),c.Ab(3),c.Jc(i("myProfile.security.twoFactor.scanCode")),c.Ab(1),c.kc("src",o.authenticatorImage,c.Ac)("alt",i("myProfile.security.twoFactor.qrAlt")),c.Ab(3),c.Jc(i("myProfile.security.twoFactor.3")),c.Ab(3),c.Jc(i("myProfile.security.twoFactor.enter")),c.Ab(1),c.kc("value",o.form.app.input)("events",c.nc(15,uc,o.saveTwoFactor.bind(o)))("attributes",c.oc(17,gc,o.twoFactor&&o.twoFactor.gauth_set,i("myProfile.security.twoFactor.code")))}}function bc(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",50),c.Nb(1,"h4",47),c.Sb(2,"div",51),c.Sb(3,"button",52),c.Zb("click",(function(){return c.yc(n),c.dc(3).confirmDialogVisible=!1})),c.Ic(4),c.Rb(),c.Sb(5,"button",53),c.Zb("click",(function(){c.yc(n);var t=c.dc(3);return t.removeDuo(),t.confirmDialogVisible=!1})),c.Ic(6),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.dc();c.Ab(1),c.kc("innerText",i(o.duoReset?"myProfile.security.twoFactor.duoConfirm":"myProfile.security.twoFactor.duoConfirmRequest")),c.Ab(3),c.Jc(i("common.cancel")),c.Ab(2),c.Jc(i("common.delete"))}}function fc(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",46),c.Nb(2,"label",47),c.Sb(3,"button",48),c.Zb("click",(function(){c.yc(n);var t=c.dc(2);return t.confirmDialogVisible=!t.confirmDialogVisible})),c.Rb(),c.Gc(4,bc,7,3,"ng-template",null,49,c.Hc),c.Rb(),c.Pb()}if(2&t){var i=c.vc(5),o=c.dc().$implicit,r=c.dc();c.Ab(2),c.kc("innerText",o(r.duoReset?"myProfile.security.twoFactor.duoResetDescription":"myProfile.security.twoFactor.duoResetDescriptionRequest")),c.Ab(1),c.kc("clTooltip",i)("clTooltipPersist",!0)("clTooltipDisplay",r.confirmDialogVisible)("clTooltipDirection",r.dir.Bottom)("innerText",o(r.duoReset?"myProfile.security.twoFactor.duoReset":"myProfile.security.twoFactor.duoResetRequest"))}}function mc(t,e){if(1&t&&(c.Sb(0,"div",61),c.Nb(1,"i",62),c.Sb(2,"p"),c.Ic(3),c.Rb(),c.Rb()),2&t){var n=c.dc(2).$implicit;c.Ab(3),c.Jc(n("myProfile.security.twoFactor.yubikeyNotSupported"))}}function vc(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",63),c.Zb("click",(function(){return c.yc(n),c.dc(3).startWebauthnRegistration()})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.dc();c.kc("disabled",!o.webauthnSupported),c.Ab(1),c.Jc(i("myProfile.security.twoFactor.register"))}}function yc(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",64),c.Zb("clClickOutside",(function(){return c.yc(n),c.dc(3).yubikeyDialogVisible=!1}))("click",(function(){return c.yc(n),c.dc(3).yubikeyDialogVisible=!0})),c.Ic(1),c.Rb()}if(2&t){c.dc();var i=c.vc(25),o=c.dc().$implicit,r=c.dc();c.kc("clTooltip",i)("clTooltipDisplay",r.yubikeyDialogVisible)("clTooltipPersist",!0),c.Ab(1),c.Jc(o("myProfile.security.twoFactor.unlinkYubikey"))}}function Cc(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",50),c.Sb(1,"h4"),c.Ic(2),c.Rb(),c.Sb(3,"div",51),c.Sb(4,"button",52),c.Zb("click",(function(){return c.yc(n),c.dc(3).yubikeyDialogVisible=!1})),c.Ic(5),c.Rb(),c.Sb(6,"button",53),c.Zb("click",(function(){return c.yc(n),c.dc(3).removeYubiKey()})),c.Ic(7),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.dc(2).$implicit;c.Ab(2),c.Jc(i("myProfile.security.twoFactor.confirmUnlinkYubikey")),c.Ab(3),c.Jc(i("common.cancel")),c.Ab(2),c.Jc(i("common.remove"))}}var xc=function(t){return{opacity:t}};function wc(t,e){if(1&t&&(c.Qb(0),c.Gc(1,mc,4,1,"div",54),c.Sb(2,"div",55),c.Sb(3,"div",38),c.Sb(4,"div",39),c.Ic(5),c.Rb(),c.Sb(6,"div",40),c.Sb(7,"p",41),c.Ic(8),c.Rb(),c.Rb(),c.Rb(),c.Sb(9,"div",38),c.Sb(10,"div",39),c.Ic(11),c.Rb(),c.Sb(12,"div",40),c.Sb(13,"p",41),c.Ic(14),c.Rb(),c.Rb(),c.Rb(),c.Sb(15,"div",38),c.Sb(16,"div",39),c.Ic(17),c.Rb(),c.Sb(18,"div",40),c.Sb(19,"p",56),c.Ic(20),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(21,"div",57),c.Gc(22,vc,2,2,"button",58),c.Gc(23,yc,2,4,"button",59),c.Gc(24,Cc,8,3,"ng-template",null,60,c.Hc),c.Rb(),c.Pb()),2&t){var n=c.dc().$implicit,i=c.dc();c.Ab(1),c.kc("ngIf",!i.webauthnSupported),c.Ab(1),c.kc("ngStyle",c.nc(10,xc,i.webauthnSupported?"1":"0.3")),c.Ab(3),c.Jc(n("myProfile.security.twoFactor.1")),c.Ab(3),c.Jc(n("myProfile.security.twoFactor.registerYubikey")),c.Ab(3),c.Jc(n("myProfile.security.twoFactor.2")),c.Ab(3),c.Jc(n("myProfile.security.twoFactor.insertYubikey")),c.Ab(3),c.Jc(n("myProfile.security.twoFactor.3")),c.Ab(3),c.Jc(n("myProfile.security.twoFactor.pressYubikey")),c.Ab(2),c.kc("ngIf",!i.form.yubikey.isRegistered),c.Ab(1),c.kc("ngIf",i.form.yubikey.isRegistered)}}var Pc=function(){return{type:"password",maxLength:6,style:"font-size: 5ch"}};function Oc(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",65),c.Sb(2,"cl-input",66),c.Zb("valueChange",(function(t){return c.yc(n),c.dc(2).form.pin.newPin=t})),c.Rb(),c.Sb(3,"cl-input",66),c.Zb("valueChange",(function(t){return c.yc(n),c.dc(2).form.pin.confirmPin=t})),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(2),c.kc("attributes",c.mc(8,Pc))("label",i("myProfile.security.twoFactor.newPin"))("showPasswordEye",!0)("value",o.form.pin.newPin),c.Ab(1),c.kc("attributes",c.mc(9,Pc))("label",i("myProfile.security.twoFactor.confirmPin"))("showPasswordEye",!0)("value",o.form.pin.confirmPin)}}function Mc(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",67),c.Sb(1,"button",68),c.Zb("click",(function(){return c.yc(n),c.dc(2).saveTwoFactor()})),c.Ic(2),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(1),c.Eb("disabled",!o.canSaveTwoFactor()),c.kc("disabled",!o.canSaveTwoFactor())("tabindex",o.canSaveTwoFactor()?0:-1),c.Ab(1),c.Kc(" ",i("common.save")," ")}}function _c(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",71),c.Zb("click",(function(){return c.yc(n),c.dc(3).saveTwoFactor()})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.dc();c.kc("disabled",!o.canSaveTwoFactor())("tabindex",o.canSaveTwoFactor()?0:-1),c.Ab(1),c.Jc(i("common.save"))}}function kc(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",69),c.Sb(1,"button",52),c.Zb("click",(function(){return c.yc(n),c.dc(2).helper.tabPageChanged.next(0)})),c.Ic(2),c.Rb(),c.Gc(3,_c,2,3,"button",70),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(2),c.Jc(i("common.goBack")),c.Ab(1),c.kc("ngIf",6!==o.form.type)}}function Sc(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"h3",3),c.Ic(4),c.Rb(),c.Sb(5,"p",4),c.Ic(6),c.Gc(7,Xs,1,1,"a",5),c.Rb(),c.Rb(),c.Gc(8,rc,15,17,"ng-container",6),c.Gc(9,pc,6,4,"ng-container",6),c.Gc(10,hc,25,20,"ng-container",6),c.Gc(11,fc,6,6,"ng-container",6),c.Gc(12,wc,26,12,"ng-container",6),c.Gc(13,Oc,4,10,"ng-container",6),c.Gc(14,Mc,3,5,"div",7),c.Rb(),c.Gc(15,kc,4,2,"div",8),c.Pb()),2&t){var n=e.$implicit,i=c.dc();c.Ab(4),c.Kc("",1===i.form.type?n("myProfile.security.mobileSms"):2===i.form.type?n("myProfile.security.image"):3===i.form.type?n("myProfile.security.authenticator"):4===i.form.type?n("myProfile.security.duoPush"):6===i.form.type?n("myProfile.security.yubikey"):7===i.form.type?n("myProfile.security.pin"):""," "),c.Ab(2),c.Kc("",1===i.form.type?n("myProfile.security.twoFactor.phoneDescription"):2===i.form.type?n("myProfile.security.twoFactor.imageDescription"):3===i.form.type?n("myProfile.security.twoFactor.authenticatorDescription"):4===i.form.type?n("myProfile.security.twoFactor.duoDescription"):6===i.form.type?n("myProfile.security.twoFactor.yubikeyDescription"):7===i.form.type?n("myProfile.security.twoFactor.pinDescription"):""," "),c.Ab(1),c.kc("ngIf",6===i.form.type),c.Ab(1),c.kc("ngIf",1===i.form.type),c.Ab(1),c.kc("ngIf",2===i.form.type),c.Ab(1),c.kc("ngIf",3===i.form.type),c.Ab(1),c.kc("ngIf",4===i.form.type),c.Ab(1),c.kc("ngIf",6===i.form.type),c.Ab(1),c.kc("ngIf",7===i.form.type),c.Ab(1),c.kc("ngIf",6!==i.form.type&&i.initialRun),c.Ab(1),c.kc("ngIf",!i.initialRun)}}var Ac=function(){function t(t,e,n,i,o,r,a,s,l,p){var d=this;this.nodeApi=t,this.translationHelper=e,this.helper=n,this.layoutService=i,this.growlService=o,this.sessionService=r,this.initialRunHelper=a,this.twoFactorService=s,this.utilsService=l,this.tmsService=p,this.initialRun=!1,this.validateTwoFactor=new c.n,this.form={type:1,phone:{id:-1,isConfirmed:!1,isVerified:!1,input:{countryCode:"+1",number:""},code:""},image:{input:"",key:""},app:{input:""},yubikey:{isRegistered:!1},pin:{currentPin:"",newPin:"",confirmPin:""}},this.originalForm=this.form,this.twoFactor={created_datetime:"",gauth_set:!1,id:null,image1:null,is_eanabled:!1,type:1},this.showImageList=!1,this.confirmDialogVisible=!1,this.dir=We.r,this.duoReset=!1,this.focusedImageOpt="",this.yubikeyDialogVisible=!1,this.webauthnSupported=!1,this.pinConfigured=!1,this.pinRemoveVisible=!1,this.subscriptions=[],this.subscriptions[0]=n.generalSettingsUpdated.subscribe((function(t){return d.generalSettings=t})),this.subscriptions[1]=n.securityIndexChanged.subscribe((function(t){d.form.type=t,d.getDataForType()})),this.subscriptions[2]=i.documentClicked.subscribe((function(){return d.showImageList=!1}))}return t.prototype.ngOnInit=function(){this.getTwoFactor()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getTwoFactor=function(){var t=this;this.nodeApi.getTwoFactor().subscribe((function(e){t.twoFactor=e||t.twoFactor,t.form.image.input=t.twoFactor.image1?t.twoFactor.image1:"",t.form.image.key=t.twoFactor.image1?t.twoFactor.image1.split("/").slice(-1)[0]:"",t.getDataForType()}))},t.prototype.getDataForType=function(){1===this.form.type&&this.getPhoneSetting(),2!==this.form.type||this.imageList||this.getImageList(),3===this.form.type&&this.getAuthenticatorImage(),4===this.form.type&&this.getDuoSettings(),6===this.form.type&&this.getYubikeySettings(),7===this.form.type&&this.getPinSettings()},t.prototype.getAuthenticatorImage=function(){var t=this;this.nodeApi.getAuthenticatorImage().subscribe((function(e){t.authenticatorImage=e}))},t.prototype.getPhoneSetting=function(){var t=this;this.nodeApi.getPhoneSeting().subscribe((function(e){t.form.phone={id:e.id?e.id:-1,isConfirmed:Boolean(e.phone),isVerified:e.is_verified,input:t.helper.guessParseNumber(e?t.helper.decryptResponse(e.phone):""),code:""},t.originalForm=he()(t.form)}))},t.prototype.getImageList=function(){var t=this;this.nodeApi.getTwoFactorImages().subscribe((function(e){t.imageList=e}))},t.prototype.getDuoSettings=function(){var t=this;this.nodeApi.getDuoSettings().subscribe((function(e){t.duoReset=!!e.DeviceReset}))},t.prototype.getYubikeySettings=function(){var t=this;this.webauthnSupported="undefined"!=typeof PublicKeyCredential,this.nodeApi.checkYubikeyRegistration().subscribe((function(e){t.form.yubikey.isRegistered=1===e.status}),(function(){return t.form.yubikey.isRegistered=!1}))},t.prototype.getPinSettings=function(){var t=this;this.tmsService.getStoredMfa("pin").subscribe((function(e){e.length&&(t.pinConfigured=!0)}))},t.prototype.toggleImageList=function(t){t.stopPropagation(),this.showImageList=!this.showImageList},t.prototype.onImageFocus=function(t){this.focusedImageOpt=t},t.prototype.onSelectImage=function(t,e){t.stopPropagation(),this.form.image.input=e.url,this.form.image.key=e.key,this.showImageList=!1},t.prototype.verifyAuthCode=function(){var t=this;this.nodeApi.verifyAuthenticatorCode(this.form.app.input).subscribe((function(e){t.updateTwoFactor()}))},t.prototype.removeYubiKey=function(){var t=this;this.nodeApi.deleteYubiKey().subscribe((function(){t.form.yubikey.isRegistered=!1,t.yubikeyDialogVisible=!1,t.validateTwoFactor.emit(),t.initiateGrowl("success","YubiKey Removed","Successfully removed YubiKey")}))},t.prototype.startRegistration=function(){var t=this;this.nodeApi.startRegistration().subscribe((function(e){qs.a.register(e.registrationRequest).then((function(n){t.nodeApi.completeRegistration({registrationResponse:{clientData:n.clientData,registrationData:n.registrationData,version:n.version,appId:e.registrationRequest.appId,challenge:e.registrationRequest.challenge},preAuthToken:e.preAuthToken}).subscribe((function(){t.form.yubikey.isRegistered=!0,t.initialRun?t.updateInitialRunProgress():t.helper.tabPageChanged.next(0),t.initiateGrowl("success","Registration Successful!","YubiKey has been successfully registered.")}))})).catch((function(e){console.log({err:e}),t.initiateGrowl("error","Registration Unsuccessful","YubiKey registration failed.")}))}))},t.prototype.startWebauthnRegistration=function(){var t=this,e=this.sessionService.getUserInfo();this.twoFactorService.getWebAuthnRegistrationChallenge(e.UserId.toString()).subscribe((function(e){var n=e.registrationRequest,i={challenge:Ys.a.toBuffer(n.challenge),rp:{name:"MyApps",id:n.rpId},user:{id:Uint8Array.from("UZSL85T9AFC",(function(t){return t.charCodeAt(0)})),name:"test",displayName:"test"},pubKeyCredParams:[{alg:-7,type:"public-key"}],authenticatorSelection:{authenticatorAttachment:"cross-platform"},timeout:6e4,attestation:"direct"};navigator.credentials.create({publicKey:i}).then((function(n){var i={token:e.webAuthnToken,response:JSON.stringify(t.utilsService.publicKeyCredentialToJSON(n))};t.twoFactorService.verifyWebAuthnRegistration(i).subscribe((function(e){t.form.yubikey.isRegistered=!0,t.updateTwoFactor(),t.initialRun?t.updateInitialRunProgress():t.helper.tabPageChanged.next(0),t.initiateGrowl("success","Registration Successful!","YubiKey has been successfully registered.")}),(function(e){console.log(e),t.initiateGrowl("error","Registration was not Successful","Yubikey was not registered.")}))})).catch((function(t){return console.log(t)}))}))},t.prototype.updateTwoFactor=function(t){var e=this;void 0===t&&(t=!0),this.twoFactor.type=this.form.type,this.twoFactor.image1=this.form.image.input&&this.form.image.input.includes("/")?this.form.image.input.split("/").slice(-1)[0]:"",this.nodeApi.updateTwoFactor(this.twoFactor).subscribe((function(n){t&&e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.twoFactorAuthentication",verb:"common.edited"}),3===e.twoFactor.type&&(e.twoFactor.gauth_set=!0,e.form.app.input=""),e.helper.tabPageChanged.next(0),e.initialRun&&e.updateInitialRunProgress(),e.validateTwoFactor.emit()}))},t.prototype.canSaveTwoFactor=function(){return this.canSavePhone()||this.canSaveImage()||this.canSaveApp()||this.canSavePin()},t.prototype.canSavePhone=function(){var t=this.originalForm.phone.input.countryCode.trim()+this.originalForm.phone.input.number.trim(),e=this.form.phone.input.countryCode.trim()+this.form.phone.input.number.trim();return 1===this.form.type&&t!==e},t.prototype.canSaveImage=function(){return 2===this.form.type&&""!==this.form.image.input},t.prototype.canSaveApp=function(){return 3===this.form.type&&""!==this.form.app.input},t.prototype.canSavePin=function(){return 7===this.form.type&&6===this.form.pin.newPin.length&&6===this.form.pin.confirmPin.length},t.prototype.saveTwoFactor=function(){1===this.form.type?this.addPhone():2===this.form.type?this.updateTwoFactor():3===this.form.type?this.verifyAuthCode():7===this.form.type&&this.updatePin()},t.prototype.addPhone=function(){var t=this,e=this.form.phone.input.countryCode.trim()+this.form.phone.input.number.trim();this.nodeApi.addRecoveryPhone(e).subscribe((function(e){t.form.phone.isConfirmed=!0,t.originalForm.phone=t.form.phone,t.translationHelper.translateAndAddGrowl({severity:"success",summary:"myProfile.security.twoFactor.phoneAdded",detail:"myProfile.security.twoFactor.phoneAddedDetail"}),Object(T.a)(500).subscribe((function(){return t.getPhoneSetting()})),t.initialRun&&t.updateInitialRunProgress()}))},t.prototype.resendPhoneCode=function(){var t=this,e=(this.form.phone.input.countryCode+this.form.phone.input.number).replace(/\s+/g,"");this.nodeApi.resendPhoneCode(e).subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.phoneCode",verb:"common.resent"})}))},t.prototype.verifyPhoneCode=function(){var t=this;this.nodeApi.verifyPhoneCode(this.form.phone.code).subscribe((function(e){t.form.phone.isVerified=!0,t.updateTwoFactor(),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.phone",verb:"growl.verified"}),t.helper.tabPageChanged.next(0)}))},t.prototype.deletePhone=function(){var t=this;this.nodeApi.removeRecoveryPhone(this.form.phone.id).subscribe((function(e){t.originalForm.phone={id:-1,isConfirmed:!1,isVerified:!1,input:{countryCode:"+1",number:""},code:""},t.form.phone={id:-1,isConfirmed:!1,isVerified:!1,input:{countryCode:"+1",number:""},code:""},t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.phone",verb:"common.removed"}),t.validateTwoFactor.emit()}))},t.prototype.removeAuthenticator=function(){var t=this;this.nodeApi.removeAuthenticator().subscribe((function(e){t.twoFactor.gauth_set=!1,t.form.app={input:""},t.validateTwoFactor.emit(),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.authenticator",verb:"common.removed"}),t.getDataForType()}))},t.prototype.removeDuo=function(){var t=this;this.nodeApi.removeDuo(this.duoReset).subscribe((function(e){t.translationHelper.translateAndAddGrowl({severity:"success",summary:t.duoReset?"myProfile.security.twoFactor.duoUnlink":"myProfile.security.twoFactor.duoUnlinkRequest",detail:t.duoReset?"myProfile.security.twoFactor.duoUnlinkDescription":"myProfile.security.twoFactor.duoUnlinkDescriptionRequest"}),t.helper.tabPageChanged.next(0),t.validateTwoFactor.emit()}))},t.prototype.updatePin=function(){var t=this;this.tmsService.configureMfaMethod("pin",this.form.pin.newPin,this.form.pin.confirmPin).subscribe((function(e){t.updateTwoFactor(),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.pin",verb:"common.saved"}),t.helper.tabPageChanged.next(0),t.initialRun&&t.updateInitialRunProgress()}),(function(e){var n={severity:"error",detail:"",summary:""};n.summary="error.genericFail",n.detail=e.error&&e.error.message?e.error.message:e.error?e.error:e.message?e.message:"error.unknownDetail",t.translationHelper.translateAndAddGrowl(n,{code:e.status},"error.unknownDetail"===n.detail?void 0:{translateDetail:!1})}))},t.prototype.removePin=function(){var t=this;this.tmsService.resetMfaMethod("pin").subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.pin",verb:"common.remove"}),t.helper.tabPageChanged.next(0)}))},t.prototype.initiateGrowl=function(t,e,n){this.growlService.add.next({severity:t,summary:e,detail:n})},t.prototype.updateInitialRunProgress=function(){var t=this.initialRunHelper.progress.value;t.twoFactorAuth=!0,this.initialRunHelper.initialRunSettingsUpdated.next(1),this.initialRunHelper.progress.next(t)},t.\u0275fac=function(e){return new(e||t)(c.Mb(Qt.a),c.Mb(Be.a),c.Mb(Fe),c.Mb(We.G),c.Mb(We.B),c.Mb(ae.a),c.Mb(io),c.Mb(Qs),c.Mb($e.a),c.Mb(pi))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-two-factor"]],inputs:{initialRun:"initialRun"},outputs:{validateTwoFactor:"validateTwoFactor"},decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-content"],[1,"title-ctnr","flex-start","column-nowrap"],["id","formTitle"],["id","formDescription"],["href","https://help.classlink.com/s/article/Yubikey-setup#usersetup","target","_blank",3,"innerText",4,"ngIf"],[4,"ngIf"],["class","wizard-btn-controls",4,"ngIf"],["class","slideover-controls",4,"ngIf"],["href","https://help.classlink.com/s/article/Yubikey-setup#usersetup","target","_blank",3,"innerText"],[1,"flex-start-center","row-wrap"],[1,"relative-input-ctnr"],[1,"label-ctnr"],["for","phone-input"],["class","float-buttons",4,"ngIf"],[3,"disabled","input","inputChange"],["class","confirmed-check",4,"ngIf"],["for","verification-code-input"],[3,"value","attributes","valueChange"],["class","submit-code",3,"disabled","tabIndex","click",4,"ngIf"],[1,"float-buttons"],["class","button-text",3,"click",4,"ngIf"],[1,"button-text","text-danger",3,"click"],[1,"button-text",3,"click"],[1,"confirmed-check"],[1,"far","fa-check"],[1,"submit-code",3,"disabled","tabIndex","click"],["role","button","tabindex","0","aria-labelledby","formTitle","aria-describedby","formDescription","aria-haspopup","true","aria-controls","imageDropdown","id","imgdropdowncontainer",1,"relative-ctnr",3,"keydown.Enter","click"],[4,"ngIf","ngIfElse"],["bg",""],["class","images","id","imageDropdown","aria-orientation","horizontal","role","menu",3,"click",4,"ngIf"],[1,"fas","fa-image"],[3,"src","alt"],["id","imageDropdown","aria-orientation","horizontal","role","menu",1,"images",3,"click"],[1,"images-ctnr","flex-start","row-wrap","custom-scroll"],["role","menuitem","tabindex","0",3,"id","src","alt","keydown.Enter","focus","click",4,"ngFor","ngForOf"],["role","menuitem","tabindex","0",3,"id","src","alt","keydown.Enter","focus","click"],[1,"slideover-steps","steps"],[1,"step"],[1,"step-num"],[1,"step-data"],[1,"step-header"],[1,"step-subline"],["id","verifyCodeInstruction",1,"step-header"],[3,"value","events","attributes","valueChange"],[1,"button","button-primary","reset-button",3,"click"],[1,"flex-start","column-nowrap"],[3,"innerText"],[1,"button","button-primary","bottom-20",3,"clTooltip","clTooltipPersist","clTooltipDisplay","clTooltipDirection","innerText","click"],["deleteConfirmation",""],[1,"cl-tooltip","confirmation"],[1,"buttons-ctnr"],[1,"button","button-default",3,"click"],[1,"button","button-default","text-danger",3,"click"],["class","warning",4,"ngIf"],[1,"slideover-steps","steps","yubikey",3,"ngStyle"],["id","yubikeyInstruction",1,"step-header"],[1,"yubikey-btns"],["class","button button-primary register",3,"disabled","click",4,"ngIf"],["class","button button-danger",3,"clTooltip","clTooltipDisplay","clTooltipPersist","clClickOutside","click",4,"ngIf"],["yubikeyDialog",""],[1,"warning"],[1,"far","fa-exclamation-triangle"],[1,"button","button-primary","register",3,"disabled","click"],[1,"button","button-danger",3,"clTooltip","clTooltipDisplay","clTooltipPersist","clClickOutside","click"],[1,"flex-start"],[1,"pin",3,"attributes","label","showPasswordEye","value","valueChange"],[1,"wizard-btn-controls"],[1,"button","button-text","color-primary","save",3,"disabled","tabindex","click"],[1,"slideover-controls"],["class","button button-secondary",3,"disabled","tabindex","click",4,"ngIf"],[1,"button","button-secondary",3,"disabled","tabindex","click"]],template:function(t,e){1&t&&c.Gc(0,Sc,16,11,"ng-container",0)},directives:[Te.c,i.l,ss,We.C,ko,i.k,We.Y,i.m,We.i],styles:[".pin[_ngcontent-%COMP%], cl-dropdown[_ngcontent-%COMP%]{margin-bottom:40px}.pin[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 12px);margin-right:60px}.title-ctnr[_ngcontent-%COMP%]{margin-bottom:40px}.title-ctnr[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px)}.title-ctnr[_ngcontent-%COMP%]   cl-slide-toggle[_ngcontent-%COMP%]{margin-left:auto;margin-top:auto}img[_ngcontent-%COMP%]{width:150px}img[_ngcontent-%COMP%]:focus{outline:3px solid var(--color-primary)!important}.relative-ctnr[_ngcontent-%COMP%]{position:relative;cursor:pointer;width:150px}.relative-ctnr[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:150px;width:150px}app-dropdown-menu.images[_ngcontent-%COMP%]{top:100%;min-height:370px;height:370px;width:600px;padding:20px;-ms-flex-flow:row wrap;flex-flow:row wrap}app-dropdown-menu.images[_ngcontent-%COMP%]   .images-ctnr[_ngcontent-%COMP%]{height:100%}app-dropdown-menu.images[_ngcontent-%COMP%]   .images-ctnr[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;margin:5px;cursor:pointer}.reset-button[_ngcontent-%COMP%]{-ms-flex-item-align:start;align-self:flex-start;margin-bottom:40px;-ms-flex-negative:0;flex-shrink:0}.slideover-steps[_ngcontent-%COMP%]   .step-data[_ngcontent-%COMP%]   p.step-header[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;font-size:calc(var(--font-modifier)*14px);font-weight:700;margin-bottom:5px}.slideover-steps.yubikey[_ngcontent-%COMP%]{margin-bottom:0!important}.yubikey-btns[_ngcontent-%COMP%]{margin-top:20px;display:-ms-flexbox;display:flex}.yubikey-btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 20px 30px 0}.button-text.save[_ngcontent-%COMP%]{min-width:45px!important;top:-23px;height:unset}.wizard-btn-controls[_ngcontent-%COMP%]{margin-top:30px;position:relative}#imgdropdowncontainer[_ngcontent-%COMP%], app-phone-input[_ngcontent-%COMP%]{z-index:2}"]}),t}(),Ic=n("MJIl"),Rc=n.n(Ic),Tc=n("eUzu"),Fc=function(t,e){return{$implicit:t,index:e}};function Ec(t,e){if(1&t&&c.Ob(0,8),2&t){var n=e.$implicit,i=e.index;c.dc(2);var o=c.vc(3);c.kc("ngTemplateOutlet",o)("ngTemplateOutletContext",c.oc(2,Fc,n,i))}}function Dc(t,e){if(1&t&&(c.Sb(0,"div",5),c.Sb(1,"h3"),c.Ic(2),c.Rb(),c.Sb(3,"p"),c.Ic(4),c.Rb(),c.Sb(5,"div",6),c.Gc(6,Ec,1,5,"ng-container",7),c.Rb(),c.Rb()),2&t){var n=c.dc().$implicit,i=c.dc();c.Ab(2),c.Jc(n("title")),c.Ab(2),c.Jc(n("description")),c.Ab(2),c.kc("ngForOf",i.passwordRecoveryOptions)}}var Lc=function(t){return{"text-danger":t}};function Nc(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",10),c.Zb("click",(function(){c.yc(n);var t=c.dc().index;return c.dc(2).onOptionSelect(t)}))("keydown.Enter",(function(){c.yc(n);var t=c.dc().index;return c.dc(2).onOptionSelect(t)})),c.Nb(1,"i"),c.Sb(2,"div",11),c.Sb(3,"h4"),c.Ic(4),c.Rb(),c.Sb(5,"p",12),c.Ic(6),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc().$implicit;c.Ab(1),c.Cb(i.icon),c.Ab(3),c.Jc(o(i.title)),c.Ab(1),c.kc("ngClass",c.nc(5,Lc,!i.isEnabled())),c.Ab(1),c.Jc(i.isEnabled()?o("enabled"):o("disabled"))}}function Hc(t,e){1&t&&c.Gc(0,Nc,7,7,"div",9),2&t&&c.kc("ngIf",e.$implicit.show())}function Gc(t,e){if(1&t&&(c.Qb(0),c.Gc(1,Dc,7,3,"div",3),c.Gc(2,Hc,1,1,"ng-template",null,4,c.Hc),c.Pb()),2&t){var n=c.dc();c.Ab(1),c.kc("ngIf",n.generalSettings&&n.generalSettings.EnablePasswordOptions&&7!==n.generalSettings.UserType&&8!==n.generalSettings.UserType)}}function Bc(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",14),c.Sb(1,"h3"),c.Ic(2),c.Rb(),c.Sb(3,"button",15),c.Zb("click",(function(){return c.yc(n),c.dc(2).helper.tabPageChanged.next(3)})),c.Ic(4),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit;c.Ab(2),c.Jc(i("password")),c.Ab(2),c.Jc(i("reset"))}}function jc(t,e){if(1&t&&(c.Qb(0),c.Gc(1,Bc,5,2,"div",13),c.Pb()),2&t){var n=c.dc();c.Ab(1),c.kc("ngIf",n.generalSettings&&n.generalSettings.EnablePasswordOptions&&7!==n.generalSettings.UserType&&8!==n.generalSettings.UserType&&!n.checkClose)}}function Uc(t,e){if(1&t&&(c.Sb(0,"div"),c.Nb(1,"p",22),c.Rb()),2&t){var n=e.row;c.Ab(1),c.kc("innerText",n.tmCreated.format("MMM D, Y h:mm A"))}}function zc(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",28),c.Zb("clClickOutside",(function(){return c.yc(n),c.dc(4).setDisplay(-1,0)})),c.Sb(1,"h4"),c.Ic(2),c.Rb(),c.Sb(3,"div",29),c.Sb(4,"button",30),c.Zb("click",(function(){return c.yc(n),c.dc(4).setDisplay(-1,0)})),c.Ic(5),c.Rb(),c.Sb(6,"button",31),c.Zb("click",(function(){var t=e.$implicit;return t.action(t.row.id)})),c.Ic(7),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(3).$implicit;c.Ab(2),c.Jc(i.actionText),c.Ab(3),c.Jc(o("common.no")),c.Ab(2),c.Jc(o("common.yes"))}}var Vc=function(t,e,n){return{action:t,actionText:e,row:n}};function Zc(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",23),c.Sb(1,"button",24),c.Zb("click",(function(){c.yc(n);var t=e.rowIndex;return c.dc(3).setDisplay(t,0)})),c.Ic(2),c.Rb(),c.Sb(3,"button",25),c.Zb("click",(function(){c.yc(n);var t=e.rowIndex;return c.dc(3).setDisplay(t,1)})),c.Nb(4,"i",26),c.Rb(),c.Rb(),c.Gc(5,zc,8,3,"ng-template",null,27,c.Hc)}if(2&t){var i=e.row,o=e.rowIndex,r=c.vc(6),a=c.dc(2).$implicit,s=c.dc();c.Ab(1),c.kc("clTooltip",r)("clTooltipPersist",!0)("clTooltipDirection","left")("clTooltipDisplay",s.display(o,0))("clTooltipContext",c.pc(11,Vc,s.restoreSnapshot.bind(s),a("myProfile.security.restoreSnapshot"),i)),c.Ab(1),c.Kc(" ",a("common.apply"),""),c.Ab(1),c.kc("clTooltip",r)("clTooltipPersist",!0)("clTooltipDirection","left")("clTooltipDisplay",s.display(o,1))("clTooltipContext",c.pc(15,Vc,s.deleteSnapshot.bind(s),a("myProfile.security.deleteSavedSetting"),i))}}function $c(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",32),c.Sb(1,"cl-input",33),c.Zb("valueChange",(function(t){return c.yc(n),c.dc(3).snapshotName=t})),c.Rb(),c.Sb(2,"button",34),c.Zb("click",(function(){return c.yc(n),c.dc(3).saveSnapshot()})),c.Ic(3),c.Rb(),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.dc();c.Ab(1),c.kc("value",o.snapshotName)("charLimit",50),c.Ab(1),c.kc("disabled",o.snapshotName.length<1),c.Ab(1),c.Jc(i("myProfile.security.saveSnapshot"))}}var Wc=function(){return[5,10,15]};function Jc(t,e){if(1&t&&(c.Sb(0,"div",17),c.Sb(1,"h3"),c.Ic(2),c.Rb(),c.Sb(3,"cl-data-table",18),c.Gc(4,Uc,2,1,"ng-template",19),c.Gc(5,Zc,7,19,"ng-template",20),c.Rb(),c.Gc(6,$c,4,4,"div",21),c.Rb()),2&t){var n=c.dc().$implicit,i=c.dc();c.Ab(2),c.Jc(n("myProfile.security.snapshot")),c.Ab(1),c.kc("dataFields",i.snapshotTable)("data",i.snapshotList)("useInternalFilters",!0)("pageSizes",c.mc(6,Wc)),c.Ab(3),c.kc("ngIf",!i.createdSnapshot)}}function qc(t,e){if(1&t&&(c.Qb(0),c.Gc(1,Jc,7,7,"div",16),c.Pb()),2&t){var n=c.dc();c.Ab(1),c.kc("ngIf",n.checkIfDemoTenant())}}var Kc=function(){function t(t,e,n,i,o,r,a,s,l,p,d,u,g){var h=this;this.helper=t,this.nodeApi=e,this.translationHelper=n,this.settingsService=i,this.sessionService=o,this.growlService=r,this.appsHelper=a,this.appsLibService=s,this.settingsHelper=l,this.myProfileHelper=p,this.appsService=d,this.translationService=u,this.appLibraryHelper=g,this.checkClose=!1,this.closeSlide=new c.n,this.twoFactor={created_datetime:"",gauth_set:!1,id:null,image1:null,is_eanabled:!1,type:1},this.snapshotName="",this.snapshotList=[],this.snapshotTable=[{header:"Name",fieldName:"name",minWidth:250},{header:"Date",fieldName:"tmCreated",template:{name:"date"},minWidth:100},{header:"",fieldName:"",template:{name:"buttons"},minWidth:125,columnWidth:1}],this.createdSnapshot=!1,this.activeTtip=[-1,-1],this.passwordRecoveryOptions=[{title:"mobilePhone",icon:"far fa-phone",show:function(){return h.recoveryOptions&&0!==h.recoveryOptions.phones},isEnabled:function(){return h.isPhoneEnabled()}},{title:"email",icon:"far fa-envelope",show:function(){return h.recoveryOptions&&0!==h.recoveryOptions.emails},isEnabled:function(){return h.isEmailEnabled()}},{title:"questions",icon:"far fa-question-circle",show:function(){return h.recoveryOptions&&0!==h.recoveryOptions.secretquestions},isEnabled:function(){return h.isQuestionsEnabled()}}],this.twoFactorOptions=[],this.checkUserAdded=function(t){return!(t.assign_acation_flag_raw&&(t.assign_acation_flag_raw.saAssigned||t.assign_acation_flag_raw.taAssigned))},this.subscriptions=[],this.subscriptions[0]=t.generalSettingsUpdated.subscribe((function(t){h.gwsToken=h.sessionService.getGwsToken(),h.generalSettings=t})),this.subscriptions[1]=a.appsUpdated.subscribe((function(t){return h.myApps=t.apps})),this.translationService.selectTranslate("contextMenu.name").subscribe((function(t){return h.snapshotTable[0].header=t})),this.translationService.selectTranslate("myProfile.security.sessions.date").subscribe((function(t){return h.snapshotTable[1].header=t}))}return t.prototype.ngOnInit=function(){this.getRecoveryOptions(),this.refreshSnapshots()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getRecoveryOptions=function(){var t=this;this.nodeApi.getCurrentRecoveryOptions().subscribe((function(e){t.recoveryOptions=e}))},t.prototype.onOptionSelect=function(t){this.helper.securityIndexChanged.next(t),this.helper.tabPageChanged.next(1)},t.prototype.isPhoneEnabled=function(){return this.recoveryOptions&&this.recoveryOptions.phones.length>0&&Rc()(this.recoveryOptions.phones,(function(t){return t.is_verified}))},t.prototype.isEmailEnabled=function(){return this.recoveryOptions&&this.recoveryOptions.emails.length>0&&Rc()(this.recoveryOptions.emails,(function(t){return t.is_verified}))},t.prototype.isQuestionsEnabled=function(){return this.recoveryOptions&&this.recoveryOptions.secretquestions.length>0},t.prototype.base2FAEnabled=function(){return this.twoFactor&&this.twoFactor.is_eanabled},t.prototype.refreshSnapshots=function(){var t=this;this.checkIfDemoTenant()&&this.settingsService.getSnapshots().subscribe((function(e){t.snapshotList=e.sort((function(t,e){return t.tmCreated<e.tmCreated?1:-1}))}))},t.prototype.saveSnapshot=function(){var t=this;this.createdSnapshot=!0;var e=[];$e.a.checkAppsForAutoLaunch(e,this.myApps);var n=[],i=[];this.myApps.forEach((function(e){var o={id:e.id,type:e.is_appfolder?2:e.is_folder?1:0};1===o.type&&e.apps&&e.apps.length&&(o.apps=e.apps.map((function(t){return t.id}))),i.push(o),t.checkUserAdded(e)&&n.push(e.id),e.apps&&e.apps.length&&e.apps.forEach((function(e){t.checkUserAdded(e)&&n.push(e.id)}))})),this.settingsService.saveSnapshot(this.snapshotName,n,e.map((function(t){return t.id})),i).subscribe((function(e){setTimeout((function(){t.refreshSnapshots()}),200)}))},t.prototype.restoreSnapshot=function(t){var e=this;this.activeTtip=[-1,-1],this.settingsHelper.snapshotRestored.next(!1),this.settingsService.restoreSnapshot(t).subscribe((function(n){var i=[],o=[],r=[];e.myApps.forEach((function(t){e.checkUserAdded(t)&&(o.push(t.id),r.push(t)),t.apps&&t.apps.length&&t.apps.forEach((function(t){e.checkUserAdded(t)&&o.push(t.id)}))})),n.userAddedLpAppIds.forEach((function(t){o.includes(t)||i.push(e.appsLibService.addAppById(t).pipe(Object(mi.a)((function(e){return Object(v.a)(-t)}))))})),r.forEach((function(o){n.userAddedLpAppIds.includes(o.id)||i.push(e.nodeApi.deleteApp(o).pipe(Object(mi.a)((function(e){return Object(v.a)(-t)}))))})),i.length>0?Object(ue.a)(i).subscribe((function(){e.restoreAutoLaunch(n.autolaunchLpAppIds,n.lpAppOrder)})):e.restoreAutoLaunch(n.autolaunchLpAppIds,n.lpAppOrder)}))},t.prototype.restoreAutoLaunch=function(t,e){var n=this,i=[];$e.a.checkAppsForAutoLaunch(i,this.myApps);var o=i.map((function(t){return t.id})),r=[];o.forEach((function(e){t.includes(e)||r.push(n.nodeApi.removeAutoLaunch({id:e}).pipe(Object(mi.a)((function(t){return Object(v.a)(-e)}))))})),t.forEach((function(t){o.includes(t)||r.push(n.nodeApi.addAutoLaunch({id:t}).pipe(Object(mi.a)((function(e){return Object(v.a)(-t)}))))})),r.length>0?Object(ue.a)(r).subscribe((function(){n.restoreOrder(e)})):this.restoreOrder(e)},t.prototype.restoreOrder=function(t){var e=this,n=this.appsService.getMyApps(),i=this.nodeApi.getGeneralSettings(),o=this.settingsService.getSettings();this.nodeApi.orderAppsRestore(t).subscribe((function(){Object(ue.a)({apps:n,generalSettings:i,settings:o}).subscribe((function(t){e.appsHelper.appsUpdated.next({apps:t.apps,reload:!0}),e.sessionService.setSettings(t.settings),e.sessionService.setUserInfo(t.settings.userInfo),e.appLibraryHelper.appLibraryStatusUpdated.next({appLibraryEnabled:t.settings.userInfo.appLibraryEnabled,globalAppLibraryEnabled:t.settings.userInfo.globalAppLibraryEnabled,canAddLibraryApp:t.settings.userInfo.canAddLibraryApp}),e.myProfileHelper.generalSettingsUpdated.next(t.generalSettings),setTimeout((function(){e.closeSlide.emit(void 0),e.settingsHelper.snapshotRestored.next(!0)}),1e3)}))}))},t.prototype.deleteSnapshot=function(t){var e=this;this.activeTtip=[-1,-1],this.settingsService.deleteSnapshot(t).subscribe((function(){e.refreshSnapshots()}))},t.prototype.checkIfDemoTenant=function(){return Re.a.demoTenants.includes(this.generalSettings.TenantId)},t.prototype.setDisplay=function(t,e){var n=this;setTimeout((function(){n.activeTtip=[-1,-1],n.activeTtip[e]=t}),0)},t.prototype.display=function(t,e){return this.activeTtip[e]===t},t.\u0275fac=function(e){return new(e||t)(c.Mb(Fe),c.Mb(Qt.a),c.Mb(Be.a),c.Mb(di.a),c.Mb(ae.a),c.Mb(We.B),c.Mb(Xt.a),c.Mb(Tc.a),c.Mb(re.a),c.Mb(Fe),c.Mb(je.a),c.Mb(Te.f),c.Mb(we.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-recovery-tab"]],inputs:{checkClose:"checkClose"},outputs:{closeSlide:"closeSlide"},decls:4,vars:2,consts:[[1,"slideover-content","bottom-20"],[4,"transloco","translocoRead"],[4,"transloco"],["class","column-nowrap flex-start",4,"ngIf"],["optionTemplate",""],[1,"column-nowrap","flex-start"],[1,"option-ctnr","row-wrap","flex-start"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","option","role","button","tabindex","0",3,"click","keydown.Enter",4,"ngIf"],["role","button","tabindex","0",1,"option",3,"click","keydown.Enter"],[1,"flex-start","column-nowrap","title-ctnr"],[3,"ngClass"],["class","flex-start column-nowrap",4,"ngIf"],[1,"flex-start","column-nowrap"],[1,"button","button-primary",3,"click"],["class","column-nowrap flex-start snapshots",4,"ngIf"],[1,"column-nowrap","flex-start","snapshots"],[3,"dataFields","data","useInternalFilters","pageSizes"],["clTemplate","date"],["clTemplate","buttons"],["class","snapshot-submission",4,"ngIf"],[1,"no-margin",3,"innerText"],[1,"bttn-ctnr"],[1,"button","button-text",3,"clTooltip","clTooltipPersist","clTooltipDirection","clTooltipDisplay","clTooltipContext","click"],[1,"button-icon","color-danger",3,"clTooltip","clTooltipPersist","clTooltipDirection","clTooltipDisplay","clTooltipContext","click"],[1,"far","fa-times"],["confirm",""],[1,"cl-tooltip","confirmation",3,"clClickOutside"],[1,"buttons-ctnr"],[1,"button","button-default",3,"click"],[1,"button","button-default","text-danger",3,"click"],[1,"snapshot-submission"],[3,"value","charLimit","valueChange"],[1,"button","button-primary",3,"disabled","click"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Gc(1,Gc,4,1,"ng-container",1),c.Gc(2,jc,2,1,"ng-container",1),c.Gc(3,qc,2,1,"ng-container",2),c.Rb()),2&t&&(c.Ab(1),c.kc("translocoRead","myProfile.security"),c.Ab(1),c.kc("translocoRead","myProfile.general"))},directives:[Te.c,i.l,i.k,i.p,i.j,We.p,We.f,We.Y,We.i,We.C],styles:[".slideover-content[_ngcontent-%COMP%]{height:100%!important}.slideover-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:50px}cl-slide-toggle[_ngcontent-%COMP%]{margin-bottom:5px}p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px);margin-bottom:20px}p.no-margin[_ngcontent-%COMP%]{margin-bottom:0}cl-dropdown[_ngcontent-%COMP%]{width:50%}p.drop-template[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;margin:0;width:100%;max-width:unset!important;font-weight:700}p.drop-template[_ngcontent-%COMP%], p.drop-template[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px)}p.drop-template[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:auto;color:var(--color-primary);font-weight:600}.bold[_ngcontent-%COMP%]{font-weight:700}.button-text[_ngcontent-%COMP%]{margin-top:20px}.option-ctnr[_ngcontent-%COMP%]{width:calc(100% + 20px);margin:0 -10px}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{min-width:250px;position:relative;display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:center;align-items:center;padding:20px;border-radius:5px;border:1px solid var(--color-border-dark);height:120px;-ms-flex:0 0 calc(33.333% - 20px);flex:0 0 calc(33.333% - 20px);margin:0 10px 10px}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px rgba(0,0,0,.1);opacity:1}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{font-size:60px;width:60px;opacity:.05;margin-right:auto}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .title-ctnr[_ngcontent-%COMP%]{margin-right:auto}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px);font-weight:600;color:var(--color-primary)}.sessions[_ngcontent-%COMP%]{padding-bottom:50px}.sessions[_ngcontent-%COMP%]   cl-data-table[_ngcontent-%COMP%]{margin-top:20px;overflow-x:hidden;padding:15px 10px 10px;border-radius:5px;border:2px solid #ddd}.sessions[_ngcontent-%COMP%] > .button-danger[_ngcontent-%COMP%]{margin-top:10px;-ms-flex-item-align:end;align-self:end}.image-p[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;height:50px;max-height:50px;-ms-flex-align:center;align-items:center}.image-p[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;max-width:40px;margin:5px}.current-session[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 12px);color:var(--color-success)}.bottom-20[_ngcontent-%COMP%]{padding-bottom:20px}.button-primary[_ngcontent-%COMP%]{margin-top:15px}.snapshots[_ngcontent-%COMP%]{padding-bottom:50px;margin-bottom:0!important}.snapshots[_ngcontent-%COMP%]   cl-data-table[_ngcontent-%COMP%]{margin-top:20px;overflow-x:hidden;padding:15px 10px 10px;border-radius:5px;border:2px solid #ddd}.snapshots[_ngcontent-%COMP%] > .button-danger[_ngcontent-%COMP%]{margin-top:10px;-ms-flex-item-align:end;align-self:end}.bttn-ctnr[_ngcontent-%COMP%]{width:100%;display:-ms-flexbox;display:flex;-ms-flex-flow:row;flex-flow:row;-ms-flex-pack:distribute;justify-content:space-around;margin-right:20px}.bttn-ctnr[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{margin-top:0;font-size:calc(var(--font-modifier) * 14px);min-width:unset!important}.snapshot-submission[_ngcontent-%COMP%]{width:100%;-ms-flex-flow:row wrap;flex-flow:row wrap;display:-ms-flexbox;display:flex;-ms-flex-flow:row;flex-flow:row}.snapshot-submission[_ngcontent-%COMP%]   cl-input[_ngcontent-%COMP%]{margin-top:15px;max-width:250px;margin-right:25px}"]}),t}();function Yc(t,e){if(1&t&&c.Nb(0,"app-general-tab",8),2&t){var n=c.dc(2);c.kc("avatarUrl",n.avatarUrl)}}function Qc(t,e){1&t&&c.Nb(0,"app-select-avatar",9)}function Xc(t,e){if(1&t&&c.Nb(0,"app-password-reset",10),2&t){var n=c.dc(2);c.kc("userInfo",n.userInfo)}}function tl(t,e){1&t&&c.Nb(0,"app-themes-tab",9)}function el(t,e){1&t&&c.Nb(0,"app-dynamic-theme-ui-settings",9)}function nl(t,e){1&t&&c.Nb(0,"app-passwords-tab",9)}function il(t,e){1&t&&c.Nb(0,"app-app-locker-list",9)}function ol(t,e){1&t&&c.Nb(0,"app-edit-locker",11)}function rl(t,e){1&t&&c.Nb(0,"app-edit-non-sso-locker",11)}function al(t,e){1&t&&c.Nb(0,"app-auto-launch-tab",9)}function sl(t,e){1&t&&c.Nb(0,"app-sign-in-tab",12)}function cl(t,e){if(1&t&&c.Nb(0,"app-verify-password",10),2&t){var n=c.dc(2);c.kc("userInfo",n.userInfo)}}function ll(t,e){1&t&&c.Nb(0,"app-security-tab",9)}function pl(t,e){1&t&&c.Nb(0,"app-password-recovery",11)}function dl(t,e){1&t&&c.Nb(0,"app-two-factor",11)}function ul(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-recovery-tab",13),c.Zb("closeSlide",(function(){return c.yc(n),c.dc(2).closeSlide()})),c.Rb()}if(2&t){var i=c.dc(2);c.kc("checkClose",i.checkClose)}}function gl(t,e){if(1&t&&(c.Qb(0),c.Nb(1,"app-profile-header"),c.Gc(2,Yc,1,1,"app-general-tab",2),c.Gc(3,Qc,1,0,"app-select-avatar",3),c.Gc(4,Xc,1,1,"app-password-reset",4),c.Gc(5,tl,1,0,"app-themes-tab",3),c.Gc(6,el,1,0,"app-dynamic-theme-ui-settings",3),c.Gc(7,nl,1,0,"app-passwords-tab",3),c.Gc(8,il,1,0,"app-app-locker-list",3),c.Gc(9,ol,1,0,"app-edit-locker",5),c.Gc(10,rl,1,0,"app-edit-non-sso-locker",5),c.Gc(11,al,1,0,"app-auto-launch-tab",3),c.Gc(12,sl,1,0,"app-sign-in-tab",6),c.Gc(13,cl,1,1,"app-verify-password",4),c.Gc(14,ll,1,0,"app-security-tab",3),c.Gc(15,pl,1,0,"app-password-recovery",5),c.Gc(16,dl,1,0,"app-two-factor",5),c.Gc(17,ul,1,1,"app-recovery-tab",7),c.Pb()),2&t){var n=c.dc();c.Ab(2),c.kc("ngIf",1===n.activeTab.id&&0===n.activeTabPage),c.Ab(1),c.kc("ngIf",1===n.activeTab.id&&1===n.activeTabPage),c.Ab(1),c.kc("ngIf",7===n.activeTab.id&&3===n.activeTabPage),c.Ab(1),c.kc("ngIf",2===n.activeTab.id&&!n.isDynamicTheme),c.Ab(1),c.kc("ngIf",2===n.activeTab.id&&n.isDynamicTheme),c.Ab(1),c.kc("ngIf",3===n.activeTab.id&&0===n.activeTabPage),c.Ab(1),c.kc("ngIf",3===n.activeTab.id&&1===n.activeTabPage),c.Ab(1),c.kc("ngIf",3===n.activeTab.id&&2===n.activeTabPage),c.Ab(1),c.kc("ngIf",3===n.activeTab.id&&3===n.activeTabPage),c.Ab(1),c.kc("ngIf",4===n.activeTab.id),c.Ab(1),c.kc("ngIf",5===n.activeTab.id&&0===n.activeTabPage),c.Ab(1),c.kc("ngIf",5===n.activeTab.id&&1===n.activeTabPage),c.Ab(1),c.kc("ngIf",6===n.activeTab.id&&0===n.activeTabPage),c.Ab(1),c.kc("ngIf",7===n.activeTab.id&&1===n.activeTabPage),c.Ab(1),c.kc("ngIf",6===n.activeTab.id&&2===n.activeTabPage),c.Ab(1),c.kc("ngIf",7===n.activeTab.id&&0===n.activeTabPage)}}var hl,bl=function(){function t(t,e,n,i,o,r,a,s){var c=this;this.helper=t,this.slideoverService=e,this.sessionService=n,this.nodeApi=i,this.layoutService=o,this.appsHelper=r,this.settingsService=a,this.menuHelper=s,this.visible=!1,this.activeTab={id:1,title:"General"},this.activeTabPage=0,this.width="50%",this.checkClose=!1,this.isDynamicTheme=!1,this.subscriptions=[],this.isInitialized=!1,this.userInfo=this.sessionService.getUserInfo(),this.subscriptions[0]=this.slideoverService.myProfile.opened.subscribe((function(t){return c.initSlideover(t)})),this.subscriptions[1]=this.helper.tabPageChanged.subscribe((function(t){c.activeTabPage=t})),this.subscriptions[2]=this.sessionService.userInfoUpdated.subscribe((function(t){return c.userInfo=t})),this.subscriptions[3]=this.helper.generalSettingsUpdated.subscribe((function(t){return c.generalSettings=t})),this.subscriptions[4]=o.windowResized.subscribe((function(){c.width=window.innerWidth<600?"100%":window.innerWidth<900?"75%":window.innerWidth<1500?"65%":"50%"})),this.subscriptions[5]=this.helper.activeTabUpdated.subscribe((function(t){return c.activeTab=t})),this.subscriptions[6]=this.sessionService.settingsUpdated.subscribe((function(){setTimeout((function(){return c.updateDynamicThemeStatus()}),0)})),this.subscriptions[7]=this.helper.avatarUpdated.subscribe((function(t){c.updateAvatarUrl(t)}))}return t.prototype.ngOnInit=function(){this.isInitialized=!0,this.updateDynamicThemeStatus()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onKeydownHandler=function(){this.visible&&(this.visible=!1)},t.prototype.initSlideover=function(t){if(this.visible=!0,this.helper.setTabById(t.id?t.id:1),t){if(t.app&&this.helper.passwordLockerAppSelected.next(t.app),t.tabPage&&this.helper.tabPageChanged.next(t.app&&15!==t.app.type?3:1),t.forcePasswordRecovery&&(this.checkClose=!0===t.forcePasswordRecovery),t.scrollToClass){var e=Array.from(document.getElementsByClassName("my-profile-slideover"))[0];e&&setTimeout((function(){var n=Array.from(e.getElementsByClassName(t.scrollToClass))[0];n&&n.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}),1e3)}this.closeEle=t.ele}},t.prototype.onVisibleChange=function(){var t=this;!0!==this.visible?(this.checkClose&&this.nodeApi.getPasswordRecoveryForceStatus().subscribe((function(e){e&&7!==t.generalSettings.UserType&&8!==t.generalSettings.UserType?t.appsHelper.showForcePasswordRecovery.next(!0):t.checkClose=!1})),this.helper.tabPageChanged.next(0),this.slideoverService.myProfile.closed.next(!0),this.helper.titleUpdated.next(void 0)):this.menuHelper.closeAllMenus()},t.prototype.closeSlide=function(){this.visible=!1,this.onVisibleChange()},t.prototype.updateDynamicThemeStatus=function(){if(this.sessionService&&this.sessionService.getSettings){var t=this.sessionService.getSettings();if(t&&t.customUISettings){var e=t.customUISettings.theme===Ee.a.Dynamic;this.isDynamicTheme!==e&&(this.isDynamicTheme=e,this.isInitialized&&this.visible&&this.forceRerender())}}},t.prototype.updateAvatarUrl=function(t){this.avatarUrl=t,this.generalSettings&&(this.generalSettings.ImagePath=t,this.helper.generalSettingsUpdated.next(this.generalSettings)),this.userInfo&&(this.userInfo.ImagePath=t,this.sessionService.setUserInfo(this.userInfo))},t.prototype.forceRerender=function(){var t=this;this.visible=!1,setTimeout((function(){t.visible=!0}),0)},t.\u0275fac=function(e){return new(e||t)(c.Mb(Fe),c.Mb(xe.a),c.Mb(ae.a),c.Mb(Qt.a),c.Mb(We.G),c.Mb(Xt.a),c.Mb(di.a),c.Mb(Ze))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-my-profile"]],hostBindings:function(t,e){1&t&&c.Zb("keydown.escape",(function(){return e.onKeydownHandler()}),!1,c.wc)},decls:2,vars:7,consts:[[1,"my-profile-slideover",3,"visible","width","showCloseIcon","autoFocusClose","trapFocus","initElement","visibleChange"],[4,"ngIf"],["class","my-profile-tab custom-scroll",3,"avatarUrl",4,"ngIf"],["class","my-profile-tab custom-scroll no-save",4,"ngIf"],["class","my-profile-tab custom-scroll",3,"userInfo",4,"ngIf"],["class","my-profile-tab custom-scroll",4,"ngIf"],["class","my-profile-tab custom-scroll no-save force-padding",4,"ngIf"],["class","my-profile-tab custom-scroll",3,"checkClose","closeSlide",4,"ngIf"],[1,"my-profile-tab","custom-scroll",3,"avatarUrl"],[1,"my-profile-tab","custom-scroll","no-save"],[1,"my-profile-tab","custom-scroll",3,"userInfo"],[1,"my-profile-tab","custom-scroll"],[1,"my-profile-tab","custom-scroll","no-save","force-padding"],[1,"my-profile-tab","custom-scroll",3,"checkClose","closeSlide"]],template:function(t,e){1&t&&(c.Sb(0,"cl-slideover",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(){return e.onVisibleChange()})),c.Gc(1,gl,18,16,"ng-container",1),c.Rb()),2&t&&(c.kc("visible",e.visible)("width",e.width)("showCloseIcon",0===e.activeTabPage)("autoFocusClose",!0)("trapFocus",e.visible)("initElement",e.closeEle),c.Ab(1),c.kc("ngIf",e.visible))},directives:[We.S,i.l,Ei,no,vo,Mo,rr,yr,_r,Rr,jr,Jr,ea,ma,Ca,Ja,Ws,Ac,Kc],styles:['app-my-profile{--color-primary:#0054ff}app-my-profile .cl-slideover{min-width:600px}app-my-profile .my-profile-tab{-ms-flex-positive:1;flex-grow:1;overflow-y:auto!important}app-my-profile .my-profile-tab.no-save .slideover-content{height:100%;max-height:100%}app-my-profile .my-profile-tab .slideover-content{height:calc(100% - 80px);max-height:calc(100% - 80px)}app-my-profile cl-dropdown,app-my-profile cl-input{-ms-flex-negative:0;flex-shrink:0}app-my-profile cl-slide-toggle label{margin:0}app-my-profile label{margin-bottom:10px}app-my-profile h3{font-weight:800;font-size:calc(var(--font-modifier) * 14px);text-transform:uppercase}app-my-profile h3 button{margin-left:5px}app-my-profile h3 svg{color:var(--color-primary);font-size:calc(var(--font-modifier) * 18px)!important}app-my-profile h4{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;text-align:center;font-size:calc(var(--font-modifier) * 13px);font-weight:600}app-my-profile h4 svg{width:25px!important;font-size:22px!important;margin-right:5px}app-my-profile .divider{position:relative;left:-50px;width:calc(100% + 100px);height:1px;background-color:var(--color-border-dark);margin:50px 0}app-my-profile .slideover-info{-ms-flex-negative:0!important;flex-shrink:0!important}app-my-profile .img-tpl{width:100%}app-my-profile .img-tpl .application{position:relative;margin-right:15px;height:50px;width:50px;-ms-flex:0 0 50px;flex:0 0 50px;min-width:50px;min-height:50px;filter:drop-shadow(5px 5px 5px var(--color-medium))}app-my-profile .img-tpl .application:before{content:"";position:absolute;top:3px;left:3px;width:calc(100% - 6px);height:calc(100% - 6px);border-radius:20px;box-shadow:0 0 10px rgba(0,0,0,.2)}app-my-profile .img-tpl .application img{width:47px;height:47px;clip-path:url(#squareCircle)}app-my-profile .img-tpl h4,app-my-profile .img-tpl p{letter-spacing:0;word-spacing:0}app-my-profile .img-tpl p{font-size:calc(var(--font-modifier) * 12px);font-weight:400}app-my-profile app-profile-header{z-index:2}@media only screen and (max-width:600px){app-my-profile .cl-slideover{min-width:0}}'],encapsulation:2}),t}(),fl={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},ml=new Uint8Array(16);function vl(){if(!hl&&!(hl="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hl(ml)}for(var yl=[],Cl=0;Cl<256;++Cl)yl.push((Cl+256).toString(16).slice(1));var xl=function(t,e,n){if(fl.randomUUID&&!e&&!t)return fl.randomUUID();var i=(t=t||{}).random||(t.rng||vl)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=i[o];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return yl[t[e+0]]+yl[t[e+1]]+yl[t[e+2]]+yl[t[e+3]]+"-"+yl[t[e+4]]+yl[t[e+5]]+"-"+yl[t[e+6]]+yl[t[e+7]]+"-"+yl[t[e+8]]+yl[t[e+9]]+"-"+yl[t[e+10]]+yl[t[e+11]]+yl[t[e+12]]+yl[t[e+13]]+yl[t[e+14]]+yl[t[e+15]]}(i)};function wl(t,e){if(1&t&&(c.Sb(0,"p"),c.Ic(1),c.Rb()),2&t){var n=c.dc().$implicit;c.Ab(1),c.Jc(n("appTwoFactorModal.needAdmin"))}}function Pl(t,e){if(1&t&&(c.Sb(0,"p"),c.Ic(1),c.Rb()),2&t){var n=c.dc().$implicit;c.Ab(1),c.Jc(n("appTwoFactorModal.needEnable"))}}function Ol(t,e){if(1&t&&(c.Sb(0,"p"),c.Ic(1),c.Rb()),2&t){var n=c.dc().$implicit;c.Ab(1),c.Jc(n("appTwoFactorModal.impersonated"))}}var Ml=function(t,e){return{type:"text",placeholder:t,"aria-label":e}},_l=function(t){return{"keydown.enter":t}};function kl(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",8),c.Sb(2,"p",9),c.Ic(3),c.Rb(),c.Sb(4,"button",10),c.Zb("click",(function(){return c.yc(n),c.dc(2).sendSMSCode(!0)})),c.Ic(5),c.Rb(),c.Rb(),c.Sb(6,"cl-input",11),c.Zb("valueChange",(function(t){return c.yc(n),c.dc(2).code=t})),c.Rb(),c.Pb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(3),c.Jc(i("appTwoFactorModal.enterSMS")),c.Ab(2),c.Jc(i("myProfile.security.resendCode")),c.Ab(1),c.kc("value",o.code)("attributes",c.oc(6,Ml,i("appTwoFactorModal.placeholder"),i("appTwoFactorModal.placeholder")))("charLimit",6)("events",c.nc(9,_l,o.verifySMSCode.bind(o)))}}function Sl(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",14),c.Zb("keydown.Enter",(function(){c.yc(n);var t=e.$implicit,i=c.dc(3);return i.onSelectImage(t),i.verifyImage()}))("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onSelectImage(t)})),c.Nb(1,"img",15),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(2).$implicit,r=c.dc();c.Eb("active",r.selectedImage===i),c.Bb("aria-label",o("imageLabels.twoFactor."+r.getImageName(i))),c.Ab(1),c.kc("src",i,c.Ac)("alt",o("imageLabels.twoFactor."+r.getImageName(i)))}}function Al(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Sb(3,"div",12),c.Gc(4,Sl,2,5,"div",13),c.Rb(),c.Pb()),2&t){var n=c.dc().$implicit,i=c.dc();c.Ab(2),c.Jc(n("appTwoFactorModal.selectImage")),c.Ab(2),c.kc("ngForOf",i.images)}}function Il(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Sb(3,"cl-input",11),c.Zb("valueChange",(function(t){return c.yc(n),c.dc(2).code=t})),c.Rb(),c.Pb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(2),c.Jc(i("appTwoFactorModal.enterCode")),c.Ab(1),c.kc("value",o.code)("attributes",c.oc(5,Ml,i("appTwoFactorModal.placeholder"),i("appTwoFactorModal.placeholder")))("charLimit",6)("events",c.nc(8,_l,o.verifyCode.bind(o)))}}function Rl(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Pb()),2&t){var n=c.dc(3).$implicit;c.Ab(2),c.Jc(n("appTwoFactorModal.startYubikeyAuth"))}}function Tl(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Sb(3,"p"),c.Ic(4),c.Rb(),c.Pb()),2&t){var n=c.dc(3).$implicit;c.Ab(2),c.Jc(n("appTwoFactorModal.yubikeyInstructions")),c.Ab(2),c.Jc(n("appTwoFactorModal.awaitYubikeyRes"))}}function Fl(t,e){if(1&t&&(c.Sb(0,"div",18),c.Gc(1,Rl,3,1,"ng-container",6),c.Gc(2,Tl,5,2,"ng-container",6),c.Rb()),2&t){var n=c.dc(3);c.Ab(1),c.kc("ngIf",!n.authPending),c.Ab(1),c.kc("ngIf",n.authPending)}}function El(t,e){if(1&t&&(c.Sb(0,"div",19),c.Nb(1,"i",3),c.Sb(2,"p"),c.Ic(3),c.Rb(),c.Rb()),2&t){var n=c.dc(2).$implicit;c.Ab(3),c.Jc(n("myProfile.security.twoFactor.yubikeyNotSupported"))}}function Dl(t,e){if(1&t&&(c.Qb(0),c.Gc(1,Fl,3,2,"div",16),c.Gc(2,El,4,1,"ng-template",null,17,c.Hc),c.Pb()),2&t){var n=c.vc(3),i=c.dc(2);c.Ab(1),c.kc("ngIf",i.webauthnSupported)("ngIfElse",n)}}function Ll(t,e){if(1&t&&(c.Sb(0,"p",25),c.Ic(1),c.Rb()),2&t){var n=c.dc(2).$implicit;c.Ab(1),c.Jc(n("appTwoFactorModal.duoInitialSummary"))}}function Nl(t,e){if(1&t&&(c.Sb(0,"p",25),c.Ic(1),c.Rb()),2&t){var n=c.dc(2).$implicit;c.Ab(1),c.Jc(n("appTwoFactorModal.duoInitialDetail"))}}function Hl(t,e){1&t&&c.Nb(0,"cl-progress-spinner",26)}function Gl(t,e){if(1&t&&(c.Sb(0,"p",25),c.Ic(1),c.Rb()),2&t){var n=c.dc(2).$implicit;c.Ab(1),c.Jc(n("appTwoFactorModal.duoPending"))}}function Bl(t,e){if(1&t&&(c.Sb(0,"p",27),c.Ic(1),c.Rb()),2&t){var n=c.dc(2).$implicit;c.Ab(1),c.Jc(n("appTwoFactorModal.duoFailedSummary"))}}function jl(t,e){if(1&t&&(c.Sb(0,"p",27),c.Ic(1),c.Rb()),2&t){var n=c.dc(2).$implicit;c.Ab(1),c.Jc(n("appTwoFactorModal.duoFailedDetail"))}}function Ul(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",20),c.Sb(2,"p",21),c.Ic(3),c.Rb(),c.Gc(4,Ll,2,1,"p",22),c.Gc(5,Nl,2,1,"p",22),c.Gc(6,Hl,1,0,"cl-progress-spinner",23),c.Gc(7,Gl,2,1,"p",22),c.Gc(8,Bl,2,1,"p",24),c.Gc(9,jl,2,1,"p",24),c.Rb(),c.Pb()),2&t){var n=c.dc().$implicit,i=c.dc();c.Ab(3),c.Jc(n("appTwoFactorModal.duoUniversal")),c.Ab(1),c.kc("ngIf",!i.mfaStatus),c.Ab(1),c.kc("ngIf",!i.mfaStatus),c.Ab(1),c.kc("ngIf","pending"===i.mfaStatus),c.Ab(1),c.kc("ngIf","pending"===i.mfaStatus),c.Ab(1),c.kc("ngIf","failed"===i.mfaStatus),c.Ab(1),c.kc("ngIf","failed"===i.mfaStatus)}}var zl=function(){return{type:"password"}};function Vl(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",8),c.Sb(2,"p",9),c.Ic(3),c.Rb(),c.Rb(),c.Sb(4,"div",8),c.Sb(5,"cl-input",28),c.Zb("valueChange",(function(t){return c.yc(n),c.dc(2).pin=t})),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(3),c.Jc(i("appTwoFactorModal.enterPin")),c.Ab(2),c.kc("value",o.pin)("attributes",c.mc(6,zl))("charLimit",6)("showPasswordEye",!0)("events",c.nc(7,_l,o.verifyPin.bind(o)))}}function Zl(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",36),c.Zb("click",(function(){return c.yc(n),c.dc(3).enrollTwoFactor()})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc(2).$implicit;c.Ab(1),c.Jc(i("appTwoFactorModal.enroll"))}}function $l(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",37),c.Zb("click",(function(){return c.yc(n),c.dc(3).verifySMSCode()})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.dc();c.Eb("disabled",6!==o.code.length),c.kc("tabIndex",6===o.code.length?0:-1),c.Ab(1),c.Jc(i("common.submit"))}}function Wl(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",37),c.Zb("click",(function(){return c.yc(n),c.dc(3).verifyImage()})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.dc();c.Eb("disabled",""===o.selectedImage),c.kc("tabIndex",""===o.selectedImage?0:-1),c.Ab(1),c.Jc(i("common.submit"))}}function Jl(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",37),c.Zb("click",(function(){return c.yc(n),c.dc(3).verifyCode()})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.dc();c.Eb("disabled",6!==o.code.length),c.kc("tabIndex",6===o.code.length?0:-1),c.Ab(1),c.Jc(i("common.submit"))}}function ql(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",37),c.Zb("click",(function(){return c.yc(n),c.dc(3).verifyPin()})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.dc();c.Eb("disabled",6!==o.pin.length),c.kc("tabIndex",6===o.pin.length?0:-1),c.Ab(1),c.Jc(i("common.submit"))}}var Kl=function(t){return{disabled:t}};function Yl(t,e){if(1&t){var n=c.Tb();c.Sb(0,"cl-spinner-button",38),c.Zb("click",(function(){return c.yc(n),c.dc(3).startYubikeyAuth()})),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.dc();c.kc("text",i("appTwoFactorModal.authenticate"))("attributes",c.nc(4,Kl,!o.webauthnSupported))("buttonClass",c.nc(6,Kl,!o.webauthnSupported))("loading",o.authPending)}}function Ql(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",39),c.Zb("click",(function(){return c.yc(n),c.dc(3).visible=!1})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc(2).$implicit;c.Ab(1),c.Jc(i("common.cancel"))}}function Xl(t,e){if(1&t){var n=c.Tb();c.Sb(0,"cl-spinner-button",40),c.Zb("click",(function(){return c.yc(n),c.dc(3).startDuo()})),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.dc();c.kc("text",i("appTwoFactorModal.launchDuo"))("loading",!o.duoRedirectUrl.length)}}function tp(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",41),c.Zb("click",(function(){return c.yc(n),c.dc(3).startDuo()})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc(2).$implicit;c.Ab(1),c.Jc(i("appTwoFactorModal.relaunchDuo"))}}function ep(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",41),c.Zb("click",(function(){return c.yc(n),c.dc(3).startDuo()})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc(2).$implicit;c.Ab(1),c.Jc(i("appTwoFactorModal.restartVerification"))}}function np(t,e){if(1&t&&(c.Sb(0,"div",29),c.Gc(1,Zl,2,1,"button",30),c.Gc(2,$l,2,4,"button",31),c.Gc(3,Wl,2,4,"button",31),c.Gc(4,Jl,2,4,"button",31),c.Gc(5,ql,2,4,"button",31),c.Gc(6,Yl,1,8,"cl-spinner-button",32),c.Gc(7,Ql,2,1,"button",33),c.Gc(8,Xl,1,2,"cl-spinner-button",34),c.Gc(9,tp,2,1,"button",35),c.Gc(10,ep,2,1,"button",35),c.Rb()),2&t){var n=c.dc(2);c.Ab(1),c.kc("ngIf",n.showNeedEnable()),c.Ab(1),c.kc("ngIf",n.showSMSVerify()),c.Ab(1),c.kc("ngIf",n.showImageVerify()),c.Ab(1),c.kc("ngIf",n.showCodeVerify()),c.Ab(1),c.kc("ngIf",n.showPinVerify()),c.Ab(1),c.kc("ngIf",n.showYubikeyAuth()),c.Ab(1),c.kc("ngIf",n.showDuoPush()),c.Ab(1),c.kc("ngIf",n.showDuoPush()&&!n.mfaStatus),c.Ab(1),c.kc("ngIf",n.showDuoPush()&&"pending"===n.mfaStatus),c.Ab(1),c.kc("ngIf",n.showDuoPush()&&"failed"===n.mfaStatus)}}function ip(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",2),c.Sb(2,"span"),c.Nb(3,"i",3),c.Rb(),c.Sb(4,"h2",4),c.Ic(5),c.Rb(),c.Rb(),c.Sb(6,"div",5),c.Gc(7,wl,2,1,"p",6),c.Gc(8,Pl,2,1,"p",6),c.Gc(9,Ol,2,1,"p",6),c.Gc(10,kl,7,11,"ng-container",6),c.Gc(11,Al,5,2,"ng-container",6),c.Gc(12,Il,4,10,"ng-container",6),c.Gc(13,Dl,4,2,"ng-container",6),c.Gc(14,Ul,10,7,"ng-container",6),c.Gc(15,Vl,6,9,"ng-container",6),c.Rb(),c.Gc(16,np,11,10,"div",7),c.Pb()),2&t){var n=e.$implicit,i=c.dc();c.Ab(5),c.Jc(i.showNeedEnable()||i.showNeedAdmin()?n("appTwoFactorModal.requireTwoFactor"):n("appTwoFactorModal.twoFactor")),c.Ab(2),c.kc("ngIf",i.showNeedAdmin()),c.Ab(1),c.kc("ngIf",i.showNeedEnable()),c.Ab(1),c.kc("ngIf",i.showNeedEnable()&&i.showImpersonated()),c.Ab(1),c.kc("ngIf",i.showSMSVerify()),c.Ab(1),c.kc("ngIf",i.showImageVerify()),c.Ab(1),c.kc("ngIf",i.showCodeVerify()),c.Ab(1),c.kc("ngIf",i.showYubikeyAuth()),c.Ab(1),c.kc("ngIf",i.showDuoPush()),c.Ab(1),c.kc("ngIf",i.showPinVerify()),c.Ab(1),c.kc("ngIf",!(i.showNeedAdmin()||i.showNeedEnable()&&i.showImpersonated()))}}var op=function(){function t(t,e,n,i,o,r,a,s,c,l,p,d,u){var g=this;this.appsHelper=t,this.nodeApi=e,this.slideoverService=n,this.translationHelper=i,this.settingsService=o,this.appTwoFactorService=r,this.growlService=a,this.transloco=s,this.utilsService=c,this.permissionService=l,this.sessionsService=p,this.router=d,this.activatedRoute=u,this.visible=!1,this.code="",this.images=[],this.duo={host:"",sig_request:""},this.authPending=!1,this.u2fSupported=!1,this.webauthnSupported=!1,this.pin="",this.duoRedirectUrl="",this.mfaStatus=null,this.subscriptions=[],this.subscriptions[0]=t.appTwoFactorRequired.subscribe((function(t){g.visible=!!t,g.visible&&(g.app=t,g.resetMfa(),g.getTwoFactorSettings())})),this.subscriptions[1]=u.queryParams.subscribe((function(t){return g.onParamsUpdate(t)})),this.subscriptions[2]=p.settingsUpdated.subscribe((function(t){return g.settings=t}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.showNeedAdmin=function(){return this.twoFactorSettings&&!this.twoFactorSettings.isEnabledTwoFactor},t.prototype.showNeedEnable=function(){return!(!this.twoFactorSettings||0!==this.twoFactorSettings.twoFactorType)||(this.twoFactorSettings&&6!==this.twoFactorSettings.twoFactorType?this.twoFactorSettings&&this.twoFactorSettings.isEnabledTwoFactor&&!this.twoFactorSettings.isSetTwoFactor:this.twoFactorSettings&&this.twoFactorSettings.isEnabledTwoFactor&&!this.twoFactorSettings.isYubikey2FASet)},t.prototype.twoFactorSet=function(){return this.twoFactorSettings&&6!==this.twoFactorSettings.twoFactorType?this.twoFactorSettings&&this.twoFactorSettings.isEnabledTwoFactor&&this.twoFactorSettings.isSetTwoFactor:this.twoFactorSettings&&this.twoFactorSettings.isEnabledTwoFactor&&this.twoFactorSettings.isYubikey2FASet},t.prototype.showSMSVerify=function(){return this.twoFactorSet()&&1===this.twoFactorSettings.twoFactorType},t.prototype.showImageVerify=function(){return this.twoFactorSet()&&2===this.twoFactorSettings.twoFactorType},t.prototype.showCodeVerify=function(){return this.twoFactorSet()&&3===this.twoFactorSettings.twoFactorType},t.prototype.showYubikeyAuth=function(){return this.twoFactorSet()&&(5===this.twoFactorSettings.twoFactorType||6===this.twoFactorSettings.twoFactorType)},t.prototype.showPinVerify=function(){return this.twoFactorSet()&&7===this.twoFactorSettings.twoFactorType},t.prototype.showImpersonated=function(){var t;return null===(t=this.settings)||void 0===t?void 0:t.userInfo.isImpersonated},t.prototype.showDuoPush=function(){return this.twoFactorSettings&&this.twoFactorSettings.isEnabledTwoFactor&&this.twoFactorSettings.isSetTwoFactor&&4===this.twoFactorSettings.twoFactorType},t.prototype.getTwoFactorSettings=function(){var t=this;this.nodeApi.getTwoFactorSettings().subscribe((function(e){t.twoFactorSettings=e,t.nodeApi.getTwoFactor().subscribe((function(e){e||(t.twoFactorSettings.twoFactorType=0)})),t.showSMSVerify()?t.sendSMSCode():t.showImageVerify()?t.getImageList():t.showDuoPush()?t.attemptDuo():5!==t.twoFactorSettings.twoFactorType&&6!==t.twoFactorSettings.twoFactorType||t.nodeApi.checkYubikeyRegistration().subscribe((function(e){t.twoFactorSettings.isYubikey2FASet=1===e.status,t.checkWebAuthnSupport()}),(function(){return t.twoFactorSettings.isYubikey2FASet=!1}))}))},t.prototype.sendSMSCode=function(t){var e=this;void 0===t&&(t=!1),this.nodeApi.sendPhoneCode(t).subscribe((function(n){t&&e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"growl.code",verb:"common.resent"})}))},t.prototype.getImageList=function(){var t=this;this.nodeApi.getTwoFactorVerificationImages().subscribe((function(e){t.images=e}))},t.prototype.enrollTwoFactor=function(){this.visible=!1,this.slideoverService.myProfile.opened.next({id:6})},t.prototype.getImageName=function(t){return t.split("/").slice(-1)[0]},t.prototype.verifySMSCode=function(){this.verifyCode()},t.prototype.onSelectImage=function(t){this.selectedImage=t},t.prototype.startYubikeyAuth=function(){this.authPending=!0,5!==this.twoFactorSettings.twoFactorType&&6!==this.twoFactorSettings.twoFactorType||this.startWebAuthn()},t.prototype.checkWebAuthnSupport=function(){this.webauthnSupported="undefined"!=typeof PublicKeyCredential},t.prototype.startWebAuthn=function(){var t=this;this.appTwoFactorService.getWebAuthnAuthentication().subscribe((function(e){var n=e.authenticationRequest,i=atob(n.keyHandle.replace(/_/g,"/").replace(/-/g,"+")),o=atob(n.challenge.replace(/_/g,"/").replace(/-/g,"+")),r={challenge:Uint8Array.from(o,(function(t){return t.charCodeAt(0)})),rpId:n.rpId,userVerification:"preferred",timeout:6e3,allowCredentials:[{id:Uint8Array.from(i,(function(t){return t.charCodeAt(0)})),type:"public-key",transports:["usb","ble","nfc"]}]};navigator.credentials.get({publicKey:r}).then((function(n){t.appTwoFactorService.verifyWebAuthnAuthentication({response:JSON.stringify(t.utilsService.publicKeyCredentialToJSON(n)),token:e.webAuthnToken}).subscribe((function(e){t.authPending=!1,t.visible=!1,t.appsHelper.launchApp(t.app,e.data.apptoken)}),(function(e){t.authPending=!1;var n=t.transloco.translate("appTwoFactorModal.yubikeyAuthError");t.growlService.add.next({severity:"error",summary:n})}))})).catch((function(e){t.authPending=!1;var n=t.transloco.translate("appTwoFactorModal.yubikeyAuthError");t.growlService.add.next({severity:"error",summary:n})}))}))},t.prototype.verifyImage=function(){this.code=this.getImageName(this.selectedImage),this.verifyCode()},t.prototype.verifyCode=function(){var t=this;this.nodeApi.verifyTwoFactorInput(this.twoFactorSettings.twoFactorType,this.code).subscribe((function(e){t.appsHelper.launchApp(t.app,e),t.visible=!1}),(function(e){2===t.twoFactorSettings.twoFactorType&&(t.selectedImage="",t.code="",t.getImageList())}))},t.prototype.verifyPin=function(){var t=this;this.appTwoFactorService.verifyPin(this.pin).subscribe((function(e){t.appsHelper.launchApp(t.app,e.apptoken),t.visible=!1}),(function(e){t.translationHelper.translateAndAddGrowl({severity:"error",summary:"appTwoFactorModal.pinVerifyError",detail:"appTwoFactorModal.pinVerifyErrorDetail"})}))},t.prototype.attemptDuo=function(){var t=this;this.appTwoFactorService.attemptMFA("Duo").subscribe((function(){t.sid=xl(),t.sessionsService.setAppMfaSid(t.sid),t.appTwoFactorService.getDuoRedirectUrl(window.location.origin,t.sid).subscribe((function(e){t.duoRedirectUrl=e.url}))}))},t.prototype.startDuo=function(){this.mfaNewTab&&this.mfaNewTab.close(),this.mfaStatus="pending",this.mfaNewTab=window.open(this.duoRedirectUrl,"_blank")},t.prototype.onParamsUpdate=function(t){if(null==t?void 0:t.sid){var e=this.sessionsService.getAppMfaSid();this.sessionsService.deleteAppMfaSid(),this.sessionsService.setAppMfaSidMatch(t.sid===e),this.router.navigate([])}},t.prototype.verifyDuoMfa=function(){var t=this;this.appTwoFactorService.getDuoVerification().subscribe((function(e){e.appToken?(t.appsHelper.launchApp(t.app,e.appToken),t.visible=!1):(t.mfaStatus="failed",t.mfaNewTab.close())}),(function(e){t.mfaStatus="failed",t.mfaNewTab.close()}))},t.prototype.resetMfa=function(){this.code="",this.selectedImage="",this.pin="",this.sid="",this.mfaNewTab&&this.mfaNewTab.close(),this.mfaStatus=null,this.sessionsService.deleteAppMfaSid(),this.sessionsService.deleteAppMfaSidMatch()},t.prototype.onStorageChange=function(t){if("appMfaSidMatch"===t.key){var e=this.sessionsService.getAppMfaSidMatch();this.sessionsService.deleteAppMfaSidMatch(),e?this.verifyDuoMfa():(this.mfaStatus="failed",this.mfaNewTab.close())}},t.prototype.onVisibleChange=function(){this.visible||(this.appsHelper.appTwoFactorRequired.next(void 0),this.resetMfa())},t.\u0275fac=function(e){return new(e||t)(c.Mb(Xt.a),c.Mb(Qt.a),c.Mb(xe.a),c.Mb(Be.a),c.Mb(di.a),c.Mb(Qs),c.Mb(We.B),c.Mb(Te.f),c.Mb($e.a),c.Mb(Ie.b),c.Mb(ae.a),c.Mb(Wt.d),c.Mb(Wt.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-app-two-factor-modal"]],hostBindings:function(t,e){1&t&&c.Zb("storage",(function(t){return e.onStorageChange(t)}),!1,c.xc)},decls:2,vars:5,consts:[["role","dialog","aria-labelledby","twoFactorRequired",1,"auto-height",3,"visible","visibleChange"],[4,"transloco"],[1,"modal-header"],[1,"far","fa-exclamation-triangle"],["id","twoFactorRequired"],[1,"modal-main-content"],[4,"ngIf"],["class","modal-controls",4,"ngIf"],[1,"flex-start","full-width","relative-ctnr"],[1,"margin-right"],[1,"left-auto","button-text",3,"click"],[3,"value","attributes","charLimit","events","valueChange"],[1,"scroller","full-width","custom-scroll"],["role","button","tabindex","0",3,"active","keydown.Enter","click",4,"ngFor","ngForOf"],["role","button","tabindex","0",3,"keydown.Enter","click"],[3,"src","alt"],["class","yubikey-container",4,"ngIf","ngIfElse"],["webAuthnNotSupported",""],[1,"yubikey-container"],[1,"warning"],[1,"full-width","column-nowrap","flex-center"],[1,"text-center","mfa-method"],["class","text-center",4,"ngIf"],["class","mfa-spinner",4,"ngIf"],["class","text-center text-danger",4,"ngIf"],[1,"text-center"],[1,"mfa-spinner"],[1,"text-center","text-danger"],[1,"pin",3,"value","attributes","charLimit","showPasswordEye","events","valueChange"],[1,"modal-controls"],["class","button button-primary left-auto",3,"click",4,"ngIf"],["class","button button-primary left-auto",3,"tabIndex","disabled","click",4,"ngIf"],["class","left-auto",3,"text","attributes","buttonClass","loading","click",4,"ngIf"],["class","button button-default",3,"click",4,"ngIf"],[3,"text","loading","click",4,"ngIf"],["class","button button-primary",3,"click",4,"ngIf"],[1,"button","button-primary","left-auto",3,"click"],[1,"button","button-primary","left-auto",3,"tabIndex","click"],[1,"left-auto",3,"text","attributes","buttonClass","loading","click"],[1,"button","button-default",3,"click"],[3,"text","loading","click"],[1,"button","button-primary",3,"click"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(){return e.onVisibleChange()})),c.Gc(1,ip,17,11,"ng-container",1),c.Rb()),2&t&&(c.Eb("modal-small",!e.showImageVerify())("modal-medium",e.showImageVerify()),c.kc("visible",e.visible))},directives:[We.H,Te.c,i.l,We.C,i.k,We.M,We.U],styles:["cl-input[_ngcontent-%COMP%]{margin-top:20px}svg[_ngcontent-%COMP%]{color:var(--color-warning)}.scroller[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,calc(16.66% - 20px)));grid-gap:20px;-ms-flex-pack:center;justify-content:center;justify-items:center;margin:20px auto;max-height:330px;overflow-x:hidden}.scroller[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:auto;height:auto;margin:5px;cursor:pointer}.scroller[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{width:calc(100% + 10px);left:-5px}.scroller[_ngcontent-%COMP%] > div.active[_ngcontent-%COMP%]:after{opacity:1;animation:none}.scroller[_ngcontent-%COMP%] > div.active[_ngcontent-%COMP%]:focus:after{opacity:0;animation:pulse 2s infinite}.scroller[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{opacity:.8}.margin-right[_ngcontent-%COMP%]{margin-right:10px}@media only screen and (max-width:1300px){.scroller[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(60px,calc(16.66% - 20px)))}.scroller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}}.yubikey-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0}iframe[_ngcontent-%COMP%]{width:100%;min-height:350px}.unsupported[_ngcontent-%COMP%]{margin-bottom:0!important}.pin[_ngcontent-%COMP%]{height:auto!important;width:auto!important}.modal-main-content[_ngcontent-%COMP%]   .mfa-method[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 20px);font-weight:700;padding-bottom:30px}.modal-main-content[_ngcontent-%COMP%]   .mfa-spinner[_ngcontent-%COMP%]{padding-bottom:15px;height:75px;width:75px}"]}),t}(),rp=["focusable"],ap=["dropdownEle"],sp=function(t,e){return{item:t,index:e}};function cp(t,e){if(1&t&&c.Ob(0,11),2&t){var n=e.$implicit,i=e.index;c.dc(2);var o=c.vc(7),r=c.vc(5);c.kc("ngTemplateOutlet",n.isDivider?o:r)("ngTemplateOutletContext",c.oc(2,sp,n,i))}}function lp(t,e){if(1&t&&(c.Qb(0),c.Gc(1,cp,1,5,"ng-container",10),c.Pb()),2&t){var n=c.dc(2);c.Ab(1),c.kc("ngForOf",n.contextMenuItems)}}function pp(t,e){if(1&t&&(c.Sb(0,"span",19),c.Nb(1,"i"),c.Rb()),2&t){var n=c.dc().item,i=c.dc(2);c.Ab(1),c.Cb(n.icon),c.Ec("color",i.sanitizeColor(n.color))}}function dp(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Pb()),2&t){var n=e.$implicit,i=c.dc().item,o=c.dc(2);c.Ab(1),c.Ec("color",o.sanitizeColor(i.color)),c.Ab(1),c.Jc(n(i.title))}}function up(t,e){1&t&&(c.Sb(0,"span",20),c.Nb(1,"i",21),c.Rb())}var gp=function(t){return{$implicit:t}};function hp(t,e){if(1&t&&c.Ob(0,11),2&t){var n=c.dc().item;c.kc("ngTemplateOutlet",n.subMenuTemplate)("ngTemplateOutletContext",c.nc(2,gp,n))}}var bp=function(t){return{item:t,isSubOption:!0}};function fp(t,e){if(1&t&&c.Ob(0,11),2&t){var n=e.$implicit;c.dc(4);var i=c.vc(5);c.kc("ngTemplateOutlet",i)("ngTemplateOutletContext",c.nc(2,bp,n))}}function mp(t,e){if(1&t&&(c.Sb(0,"app-dropdown-menu",23),c.Gc(1,fp,1,4,"ng-container",10),c.Rb()),2&t){var n=c.dc(2).item,i=c.dc(2);c.kc("ngStyle",i.subMenuStyles[n.title]),c.Bb("aria-labelledby",n.title),c.Ab(1),c.kc("ngForOf",n.subMenuOptions)}}function vp(t,e){if(1&t&&c.Gc(0,mp,2,3,"app-dropdown-menu",22),2&t){var n=c.dc().item,i=c.dc(2);c.kc("ngIf",i.showSubMenu[n.title]&&n.subMenuOptions)}}function yp(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",12,13),c.Zb("navigate",(function(t){return c.yc(n),c.dc(2).nav(t)}))("focus",(function(){c.yc(n);var t=e.item;return c.dc(2).onItemFocus(t)}))("mouseenter",(function(t){c.yc(n);var i=e.isSubOption,o=e.item,r=e.index,a=c.dc(2);return i?"":a.startShowTimer(o,t,r)}))("mouseleave",(function(){c.yc(n);var t=e.isSubOption,i=e.item,o=c.dc(2);return t?"":o.startHideTimer(i)}))("click",(function(){c.yc(n);var t=e.item;return c.dc(2).onItemClicked(t)}))("keydown.Enter",(function(t){c.yc(n);var i=e.item,o=e.index,r=e.isSubOption;return c.dc(2).onEnterKeydown(i,t,o,r)}))("keydown.Space",(function(t){c.yc(n);var i=e.item,o=e.index,r=e.isSubOption;return c.dc(2).onEnterKeydown(i,t,o,r)})),c.Gc(2,pp,2,4,"span",14),c.Gc(3,dp,3,3,"ng-container",15),c.Gc(4,up,2,0,"span",16),c.Rb(),c.Gc(5,hp,1,4,"ng-container",17),c.Gc(6,vp,1,1,"ng-template",null,18,c.Hc)}if(2&t){var i=e.item,o=e.index,r=c.vc(7),a=c.dc(2);c.Eb("disabled",!!i.isDisabled&&i.isDisabled())("active",!!i.isActive&&i.isActive()),c.kc("id",i.title)("customNavigation",!0),c.Bb("role","launch"===i.title?"menuitem link":"menuitem button")("autofocus",0===o)("aria-label",i.title)("aria-disabled",!!i.isDisabled&&i.isDisabled())("aria-haspopup",!!i.subMenuOptions)("aria-expanded",a.showSubMenu[i.title]),c.Ab(2),c.kc("ngIf",i.icon),c.Ab(1),c.kc("translocoRead","contextMenu"),c.Ab(1),c.kc("ngIf",i.subMenuOptions),c.Ab(1),c.kc("ngIf",i.subMenuTemplate)("ngIfElse",r)}}function Cp(t,e){1&t&&c.Nb(0,"div",24)}function xp(t,e){if(1&t&&c.Ob(0,11),2&t){var n=e.$implicit;c.dc(2);var i=c.vc(2);c.kc("ngTemplateOutlet",i)("ngTemplateOutletContext",c.nc(2,gp,n))}}function wp(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-dropdown-menu",27),c.Sb(1,"div",28,13),c.Zb("navigate",(function(t){return c.yc(n),c.dc(3).nav(t)}))("focus",(function(){c.yc(n);var t=c.dc().$implicit;return c.dc(2).onItemFocus(t)}))("click",(function(){c.yc(n);var t=c.dc(3);return t.createTag(),t.onDocumentClick()}))("keydown.Enter",(function(){c.yc(n);var t=c.dc(3);return t.createTag(),t.onDocumentClick()}))("keydown.Space",(function(){c.yc(n);var t=c.dc(3);return t.createTag(),t.onDocumentClick()})),c.Sb(3,"span",19),c.Nb(4,"i",29),c.Rb(),c.Sb(5,"p"),c.Ic(6),c.ec(7,"transloco"),c.Rb(),c.Rb(),c.Sb(8,"div",30),c.Gc(9,xp,1,4,"ng-container",10),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc(2);c.kc("ngStyle",o.subMenuStyles[i.title]),c.Ab(1),c.Eb("no-margin",0===(null==i.subMenuOptions?null:i.subMenuOptions.length)),c.kc("customNavigation",!0),c.Ab(5),c.Jc(c.fc(7,6,"addTag.add")),c.Ab(3),c.kc("ngForOf",i.subMenuOptions)}}function Pp(t,e){1&t&&(c.Sb(0,"span",19),c.Nb(1,"i",33),c.Rb())}function Op(t,e){1&t&&(c.Sb(0,"button",34),c.Nb(1,"i",35),c.Rb())}function Mp(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",31,13),c.Zb("focus",(function(){c.yc(n);var t=c.dc().$implicit;return c.dc(2).onItemFocus(t,!0)}))("navigate",(function(t){return c.yc(n),c.dc(3).nav(t)}))("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onItemClicked(t)}))("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onItemClicked(t)}))("keydown.Space",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onItemClicked(t)})),c.Gc(2,Pp,2,0,"span",14),c.Sb(3,"p"),c.Ic(4),c.Rb(),c.Gc(5,Op,2,0,"button",32),c.Rb()}if(2&t){var i=e.$implicit;c.Eb("active",!!i.isActive&&i.isActive()),c.kc("customNavigation",!0),c.Ab(2),c.kc("ngIf",!!i.isActive&&i.isActive()),c.Ab(2),c.Jc(i.title),c.Ab(1),c.kc("ngIf",!!i.isActive&&i.isActive())}}function _p(t,e){if(1&t&&(c.Gc(0,wp,10,8,"app-dropdown-menu",25),c.Gc(1,Mp,6,6,"ng-template",null,26,c.Hc)),2&t){var n=e.$implicit,i=c.dc(2);c.kc("ngIf",i.showSubMenu[n.title]&&n.subMenuOptions)}}function kp(t,e){if(1&t&&c.Ob(0,11),2&t){var n=e.$implicit;c.dc(2);var i=c.vc(2);c.kc("ngTemplateOutlet",i)("ngTemplateOutletContext",c.nc(2,gp,n))}}function Sp(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-dropdown-menu",38),c.Sb(1,"div",28,13),c.Zb("navigate",(function(t){return c.yc(n),c.dc(3).nav(t)}))("focus",(function(){c.yc(n);var t=c.dc().$implicit;return c.dc(2).onItemFocus(t)}))("click",(function(){c.yc(n);var t=c.dc(3);return t.createFolder(),t.onDocumentClick()}))("keydown.Enter",(function(){c.yc(n);var t=c.dc(3);return t.createFolder(),t.onDocumentClick()}))("keydown.Space",(function(){c.yc(n);var t=c.dc(3);return t.createFolder(),t.onDocumentClick()})),c.Sb(3,"span",19),c.Nb(4,"i",29),c.Rb(),c.Sb(5,"p"),c.Ic(6),c.ec(7,"transloco"),c.Rb(),c.Rb(),c.Sb(8,"div",30),c.Gc(9,kp,1,4,"ng-container",10),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc(2);c.kc("ngStyle",o.subMenuStyles[i.title]),c.Ab(1),c.Eb("no-margin",0===(null==i.subMenuOptions?null:i.subMenuOptions.length)),c.kc("customNavigation",!0),c.Ab(5),c.Jc(c.fc(7,6,"createFolder.add")),c.Ab(3),c.kc("ngForOf",i.subMenuOptions)}}function Ap(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",31,13),c.Zb("focus",(function(){c.yc(n);var t=c.dc().$implicit;return c.dc(2).onItemFocus(t,!0)}))("navigate",(function(t){return c.yc(n),c.dc(3).nav(t)}))("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onItemClicked(t)}))("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onItemClicked(t)}))("keydown.Space",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onItemClicked(t)})),c.Sb(2,"span",19),c.Nb(3,"i",39),c.Rb(),c.Sb(4,"p"),c.Ic(5),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(3);c.Eb("active",!!i.isActive&&i.isActive()),c.kc("customNavigation",!0),c.Ab(3),c.Ec("color",o.sanitizeColor(i.color)),c.Ab(2),c.Jc(i.title)}}function Ip(t,e){if(1&t&&(c.Gc(0,Sp,10,8,"app-dropdown-menu",36),c.Gc(1,Ap,6,6,"ng-template",null,37,c.Hc)),2&t){var n=e.$implicit,i=c.dc(2);c.kc("ngIf",i.showSubMenu[n.title]&&n.subMenuOptions)}}function Rp(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",1,2),c.Sb(2,"app-dropdown-menu",3),c.Zb("click",(function(t){return c.yc(n),t.stopPropagation()}))("mouseleave",(function(){return c.yc(n),c.dc().hideAllContextSubMenus()})),c.Gc(3,lp,2,1,"ng-container",4),c.Rb(),c.Gc(4,yp,8,17,"ng-template",5,6,c.Hc),c.Gc(6,Cp,1,0,"ng-template",null,7,c.Hc),c.Gc(8,_p,3,1,"ng-template",8),c.Gc(9,Ip,3,1,"ng-template",9),c.Rb()}if(2&t){var i=c.dc();c.Ab(2),c.kc("ngStyle",i.locationStyles),c.Bb("aria-activedescendant",i.ariaDescendant),c.Ab(1),c.kc("ngIf",i.contextMenuItems.length>0)}}var Tp=function(){function t(t,e,n,i,o,r,a){var s=this;this.san=t,this.menuHelper=e,this.cdr=n,this.helper=i,this.tagsHelper=o,this.appsHelper=r,this.zone=a,this.menuVisible=!1,this.ariaDescendant="",this.contextMenuItems=[],this.locationStyles={"left.px":0,"top.px":0},this.showSubMenu={},this.subMenuStyles={},this.closeMenuSubscriptions=[],this.isMenuOptionsChanging=!1,this.timers={enter:void 0,enterArgs:void 0,leave:void 0},this.subscriptions=[],this.subscriptions[0]=i.changeMenuOptions.subscribe((function(t){return s.onOptionsChange(t)})),this.menuHandle=e.registerMenu((function(){var t;s.options&&s.options.visible&&(s.helper.changeMenuOptions.next(Object(le.a)(Object(le.a)({},s.options),{visible:!1})),!1===(null===(t=s.options.app)||void 0===t?void 0:t.is_folder)&&$e.a.focusOnStoredElement())}))}return t.prototype.ngAfterViewInit=function(){var t=this;this.subscriptions[1]=this.dropdownEle.changes.subscribe((function(e){e&&e.length>0?(t.ensureLocationVisible(e),0===t.closeMenuSubscriptions.length&&(t.closeMenuSubscriptions[0]=Object(C.a)(document,"contextmenu").subscribe((function(){return t.onDocumentClick()})),t.closeMenuSubscriptions[1]=Object(C.a)(document,"click").subscribe((function(){return t.onDocumentClick()})),t.closeMenuSubscriptions[2]=Object(C.a)(document,"keydown").pipe(Object(E.a)((function(t){return"Enter"===t.key}))).subscribe((function(){return t.onDocumentClick()})),t.closeMenuSubscriptions[1]=Object(C.a)(document.querySelectorAll(".custom-scroll"),"scroll").subscribe((function(){t.isMenuOptionsChanging||t.onDocumentClick()})))):t.closeMenuSubscriptions.length>0&&(t.closeMenuSubscriptions.forEach((function(t){return t.unsubscribe()})),t.closeMenuSubscriptions=[])})),this.subscriptions[2]=this.templates.changes.pipe(Object(te.a)(100)).subscribe((function(e){return t.processInputTemplates(e)}))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.timers.enter&&this.timers.enter.unsubscribe(),this.timers.leave&&this.timers.leave.unsubscribe()},t.prototype.processInputTemplates=function(t){if(t&&0!==t.length&&this.contextMenuItems){var e=t.toArray();if(e.length>0)for(var n=function(t){if(!t.templateName)return"continue";t.subMenuTemplate=Ce()(e,(function(e){return e.templateName===t.templateName})).template},i=0,o=this.contextMenuItems;i<o.length;i++)n(o[i])}},t.prototype.onOptionsChange=function(t){var e=this;this.isMenuOptionsChanging=!0,this.zone.runOutsideAngular((function(){e.options=t,e.menuVisible=t.visible,e.locationStyles=Object(le.a)({},e.options.coordinates),e.contextMenuItems=e.helper.getItems(e.options),e.ariaDescendant=t?e.contextMenuItems[0].title:"",e.zone.run((function(){Object(T.a)(300).subscribe((function(){var t;e.isMenuOptionsChanging=!1,(null===(t=e.dropdownEle)||void 0===t?void 0:t.length)>0&&e.dropdownEle.first.nativeElement.querySelector('[role="menu"]').firstChild.focus()}))}))}))},t.prototype.ensureLocationVisible=function(t){var e;if(this.options.visible&&t&&0!==t.length&&window){var n=this.options.coordinates["left.px"],i=this.options.coordinates["top.px"];if(t&&(null===(e=t.first)||void 0===e?void 0:e.nativeElement)){var o=t.first.nativeElement.querySelector('[role="menu"]');if(o){var r=window.getComputedStyle(o),a=this.getValFromStyleProp(r,"width"),s=this.getValFromStyleProp(r,"height");this.locationStyles=Object(le.a)({},this.options.coordinates),n+a>window.innerWidth&&(this.locationStyles["left.px"]=n-a),i+s>window.innerHeight&&(i-s>=0?this.locationStyles["top.px"]=i-s:(delete this.locationStyles["top.px"],this.locationStyles.top="unset",this.locationStyles["bottom.px"]=0))}}}},t.prototype.ensureSubMenuVisible=function(t){var e,n=this;this.dropdownEle&&this.dropdownEle.first&&this.dropdownEle.first.nativeElement&&window&&this.dropdownEle&&(null===(e=this.dropdownEle.first)||void 0===e?void 0:e.nativeElement)&&Object(T.a)(50).subscribe((function(){var e=n.dropdownEle.first.nativeElement.querySelector(".sub-menu")||n.dropdownEle.first.nativeElement,i=window.getComputedStyle(e||n.dropdownEle.first.nativeElement),o=e.getBoundingClientRect(),r=n.getValFromStyleProp(i,"width");if(t["left.px"]=o.right>=window.innerWidth?window.innerWidth-r:t["left.px"]-30,e){var a=e.firstChild;a&&a.focus()}}))},t.prototype.getValFromStyleProp=function(t,e){return+t.getPropertyValue(e).slice(0,-2)},t.prototype.onItemClicked=function(t){t.handler&&t.handler(),this.onDocumentClick()},t.prototype.onDocumentClick=function(){this.ariaDescendant="",this.hideAllContextSubMenus(),this.menuHelper.closeAllMenus()},t.prototype.startShowTimer=function(t,e,n){this.timers.enterArgs=[t,e,n],!t.subMenuOptions||this.timers.leave&&!this.timers.leave.closed||this.showContextSubMenu(t,e,n)},t.prototype.onEnterKeydown=function(t,e,n,i){i?this.onItemClicked(t):this.toggleSubContextMenu(t,e,n),t.subMenuOptions?e.stopPropagation():this.onItemClicked(t)},t.prototype.toggleSubContextMenu=function(t,e,n){this.showSubMenu[t.title]?this.hideContextSubMenu(t):this.showContextSubMenu(t,e,n)},t.prototype.showContextSubMenu=function(t,e,n){if(t.subMenuOptions){var i=e.target,o=i.getBoundingClientRect();this.subMenuStyles[t.title]={"top.px":0===n?o.top-10:o.top-5,"left.px":o.left+i.offsetWidth},this.showSubMenu[t.title]=!0;for(var r=0,a=Object.keys(this.showSubMenu);r<a.length;r++){var s=a[r];this.showSubMenu[s]&&s!==t.title&&(this.showSubMenu[s]=!1)}this.ensureSubMenuVisible(this.subMenuStyles[t.title])}},t.prototype.startHideTimer=function(t){var e=this;this.timers.leave&&!this.timers.leave.closed||!t.subMenuOptions||(this.timers.leave=Object(T.a)(250).subscribe((function(){var n;e.timers.enterArgs&&e.timers.enterArgs[0].title===t.title||(e.hideContextSubMenu(t),(n=e.showContextSubMenu).call.apply(n,Object(le.e)([e],e.timers.enterArgs)))})))},t.prototype.hideContextSubMenu=function(t){t.subMenuOptions&&(this.showSubMenu[t.title]=!1)},t.prototype.hideAllContextSubMenus=function(){for(var t=0,e=Object.keys(this.showSubMenu);t<e.length;t++)this.showSubMenu[e[t]]=!1},t.prototype.sanitizeColor=function(t){return this.san.bypassSecurityTrustStyle(t)},t.prototype.createTag=function(){this.tagsHelper.tagCreated.next({tag:void 0,app:this.options.app}),this.tagsHelper.tagModalVisibleChanged.next(!0)},t.prototype.createFolder=function(){this.appsHelper.folderCreated.next(this.options.app),this.appsHelper.folderCreatorVisibleChanged.next(!0)},t.prototype.nav=function(t){if(t.stopPropagation(),t.preventDefault(),this.focusables.length){var e=this.focusables.toArray();$e.a.keyboardJump(e,t,!1)}},t.prototype.onItemFocus=function(t,e){if(void 0===e&&(e=!1),this.ariaDescendant=t.title,!e&&!t.isSubOption)for(var n=0,i=Object.keys(this.showSubMenu);n<i.length;n++){var o=i[n];this.showSubMenu[o]&&o!==t.title&&(this.showSubMenu[o]=!1)}},t.\u0275fac=function(e){return new(e||t)(c.Mb(Zn.b),c.Mb(Ze),c.Mb(c.h),c.Mb(Ve),c.Mb(se.a),c.Mb(Xt.a),c.Mb(c.z))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-context-menu"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(We.f,!0),c.Nc(rp,!0),c.Nc(ap,!0)),2&t&&(c.uc(n=c.ac())&&(e.templates=n),c.uc(n=c.ac())&&(e.focusables=n),c.uc(n=c.ac())&&(e.dropdownEle=n))},decls:2,vars:1,consts:[["class","dropdown-container",4,"ngIf"],[1,"dropdown-container"],["dropdownEle",""],["role","menu","tabindex","-1","aria-labelledby","'contextMenuBtn'","clFocusTrap","","clKeyboardNav","",1,"custom-scroll",3,"ngStyle","click","mouseleave"],[4,"ngIf"],["clTemplate","item"],["dropdownItem",""],["divider",""],["clTemplate","tags"],["clTemplate","folders"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["clItem","","tabindex","0",1,"dropdown-item",3,"id","customNavigation","navigate","focus","mouseenter","mouseleave","click","keydown.Enter","keydown.Space"],["focusable",""],["class","icon-ctnr",4,"ngIf"],[4,"transloco","translocoRead"],["class","right",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf","ngIfElse"],["defaultSubMenu",""],[1,"icon-ctnr"],[1,"right"],[1,"far","fa-angle-right"],["class","sub-menu custom-scroll",3,"ngStyle",4,"ngIf"],[1,"sub-menu","custom-scroll",3,"ngStyle"],[1,"divider"],["clKeyboardNav","","class","sub-menu",3,"ngStyle",4,"ngIf"],["tagDropdownItem",""],["clKeyboardNav","",1,"sub-menu",3,"ngStyle"],["clItem","","role","button","tabindex","0",1,"dropdown-item","tag-item","primary-color","add-item",3,"customNavigation","navigate","focus","click","keydown.Enter","keydown.Space"],[1,"far","fa-plus"],[1,"custom-scroll"],["clItem","","role","button","tabindex","0",1,"dropdown-item","tag-item",3,"customNavigation","focus","navigate","click","keydown.Enter","keydown.Space"],["class","color-danger",4,"ngIf"],[1,"far","fa-check"],[1,"color-danger"],[1,"far","fa-times"],["class","sub-menu",3,"ngStyle",4,"ngIf"],["folderDropdownItem",""],[1,"sub-menu",3,"ngStyle"],[1,"fas","fa-folder"]],template:function(t,e){1&t&&(c.Qb(0),c.Gc(1,Rp,10,3,"div",0),c.Pb()),2&t&&(c.Ab(1),c.kc("ngIf",e.menuVisible))},directives:[i.l,ko,We.y,We.E,i.m,We.f,i.k,i.p,We.J,Te.c],pipes:[Te.e],styles:['[_nghost-%COMP%]   div.dropdown-container[_ngcontent-%COMP%]{width:200px;height:auto;max-height:100vh}[_nghost-%COMP%]   div.dropdown-container[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]{position:fixed;width:200px;height:auto;max-height:100vh;padding:10px 0}[_nghost-%COMP%]   div.dropdown-container[_ngcontent-%COMP%]   app-dropdown-menu.sub-menu[_ngcontent-%COMP%]{min-width:150px;max-width:180px;max-height:200px;width:auto;height:auto;overflow-y:auto;overflow-x:auto}[_nghost-%COMP%]   div.dropdown-container[_ngcontent-%COMP%]   app-dropdown-menu.sub-menu[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-20px;width:20px;height:100%;z-index:-1}[_nghost-%COMP%]   div.dropdown-container[_ngcontent-%COMP%]   app-dropdown-menu.sub-menu[_ngcontent-%COMP%] > .custom-scroll[_ngcontent-%COMP%]{overflow-y:auto;width:100%}[_nghost-%COMP%]   div.dropdown-container[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin:10px 0;-ms-flex:0 0 1px;flex:0 0 1px}[_nghost-%COMP%]   div.dropdown-container[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{position:relative;padding:5px 20px;height:auto;-ms-flex:0 0 30px;flex:0 0 30px;border-radius:0}[_nghost-%COMP%]   div.dropdown-container[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%] > span.icon-ctnr[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-item-align:baseline;align-self:baseline;width:30px;-ms-flex:0 0 30px;flex:0 0 30px}[_nghost-%COMP%]   div.dropdown-container[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-weight:600;font-size:calc(var(--font-modifier) * 12px);overflow-wrap:anywhere;word-break:break-all;white-space:normal;line-height:normal}[_nghost-%COMP%]   div.dropdown-container[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%] > span.right[_ngcontent-%COMP%]{height:100%;margin-left:auto}[_nghost-%COMP%]   div.dropdown-container[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%] > span.right[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   div.dropdown-container[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:17px;height:17px}[_nghost-%COMP%]   div.dropdown-container[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .tag-item[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}[_nghost-%COMP%]   div.dropdown-container[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .tag-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none;margin-left:auto}[_nghost-%COMP%]   div.dropdown-container[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.add-item[_ngcontent-%COMP%]{height:auto;-ms-flex:0 0 40px;flex:0 0 40px;margin-bottom:10px}[_nghost-%COMP%]   div.dropdown-container[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.add-item.no-margin[_ngcontent-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   div.dropdown-container[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.add-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 12px);font-weight:800;text-transform:uppercase;-ms-flex-item-align:baseline;align-self:baseline;margin-top:3px;word-wrap:break-word}[_nghost-%COMP%]   div.dropdown-container[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.add-item[_ngcontent-%COMP%]   span.icon-ctnr[_ngcontent-%COMP%]{width:27px;-ms-flex:0 0 27px;flex:0 0 27px;-ms-flex-align:baseline;align-items:baseline;display:-ms-flexbox;display:flex;-ms-flex-item-align:center;align-self:center;height:100%}[_nghost-%COMP%]   div.dropdown-container[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.add-item[_ngcontent-%COMP%]   span.icon-ctnr[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}']}),t}(),Fp=["focusButton"];function Ep(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",2),c.Sb(2,"h3"),c.Ic(3),c.Rb(),c.Rb(),c.Sb(4,"div",3),c.Sb(5,"p"),c.Ic(6),c.Rb(),c.Rb(),c.Sb(7,"div",4),c.Sb(8,"button",5,6),c.Zb("click",(function(){return c.yc(n),c.dc().visible=!1})),c.Ic(10),c.Rb(),c.Sb(11,"button",7),c.Zb("click",(function(){return c.yc(n),c.dc().allowAction()})),c.Ic(12),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(3),c.Jc(o.currentItems.summary),c.Ab(3),c.Jc(o.currentItems.detail),c.Ab(4),c.Jc(i("cancel")),c.Ab(2),c.Jc(i("delete"))}}var Dp=function(){function t(t){var e=this;this.appsHelper=t,this.visible=!1,this.currentItems={summary:"",detail:"",handler:function(){}},this.subscriptions=[],this.subscriptions[0]=t.deleteConfirmationRequired.subscribe((function(t){t&&(e.visible=!0,e.currentItems=t,e.button.nativeElement.focus())}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.allowAction=function(){this.visible=!1,this.currentItems.handler(),this.onVisibleChange()},t.prototype.onVisibleChange=function(){this.visible||this.appsHelper.deleteConfirmationRequired.next(void 0)},t.\u0275fac=function(e){return new(e||t)(c.Mb(Xt.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-delete-app-modal"]],viewQuery:function(t,e){var n;1&t&&c.Nc(Fp,!0),2&t&&c.uc(n=c.ac())&&(e.button=n.first)},decls:2,vars:2,consts:[[1,"modal-small","auto-height",3,"visible","visibleChange"],[4,"transloco","translocoRead"],[1,"modal-header"],[1,"modal-main-content"],[1,"modal-controls"],[1,"button","button-default",3,"click"],["focusButton",""],[1,"button","button-danger",3,"click"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(){return e.onVisibleChange()})),c.Gc(1,Ep,13,4,"ng-container",1),c.Rb()),2&t&&(c.kc("visible",e.visible),c.Ab(1),c.kc("translocoRead","common"))},directives:[We.H,Te.c],styles:[".modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;word-break:normal!important}.modal-controls[_ngcontent-%COMP%]{margin-top:60px!important}.modal-main-content[_ngcontent-%COMP%]{overflow:hidden!important}"]}),t}(),Lp=function(){function t(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var i=n[e];this[i]=t[i]}}return t.prototype.setFilters=function(t){this.filter=Array.isArray(t)?t.join(" AND "):encodeURIComponent(t)},t.prototype.setDates=function(t,e,n){void 0===e&&(e="MM-DD-YYYY"),void 0===n&&(n="YYYY-MM-DD");var i=t.length;if(1===i||2===i){var o=t[0];this.startDate=bi.a.isMoment(o)||o instanceof Date?bi()(o).format(n):bi()(o,e).format(n)}if(2===i){var r=t[1];this.endDate=bi.a.isMoment(r)||r instanceof Date?bi()(r).format(n):bi()(r,e).format(n)}},t}(),Np=n("dlKe");function Hp(t,e){1&t&&c.Nb(0,"div",5)}function Gp(t,e){if(1&t&&(c.Sb(0,"div",6),c.Sb(1,"p",7),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=c.dc();c.Ab(2),c.Jc(n.icon.name)}}var Bp=function(){function t(){this.selected=!1,this.showName=!0}return t.prototype.handleImage=function(t){t.target.src=Re.a.coreCDN+"/assets/images/default-app-icon.png"},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["icon"]],inputs:{icon:"icon",selected:"selected",showName:"showName"},decls:5,vars:4,consts:[[1,"cl-clip-img-ctnr"],["class","img-border assigned",4,"ngIf"],[1,"img-border"],[3,"src","alt","error"],["class","name",4,"ngIf"],[1,"img-border","assigned"],[1,"name"],[1,"custom-scroll"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Gc(1,Hp,1,0,"div",1),c.Sb(2,"div",2),c.Sb(3,"img",3),c.Zb("error",(function(t){return e.handleImage(t)})),c.Rb(),c.Rb(),c.Rb(),c.Gc(4,Gp,3,1,"div",4)),2&t&&(c.Ab(1),c.kc("ngIf",e.selected),c.Ab(2),c.kc("src",e.icon.defaulturl,c.Ac)("alt",e.icon.name),c.Ab(1),c.kc("ngIf",e.showName))},directives:[i.l],styles:["div.name[_ngcontent-%COMP%]{margin-top:5px!important;height:auto!important}div.name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow-y:auto;height:100%;-ms-flex-align:baseline;align-items:baseline}"]}),t}();function jp(t,e){1&t&&(c.Sb(0,"div",13),c.Nb(1,"i",14),c.Rb())}var Up=function(t){return{"aria-label":t,required:!0}};function zp(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",4),c.Sb(1,"div",5),c.Sb(2,"h4"),c.Ic(3),c.Rb(),c.Rb(),c.Sb(4,"cl-input",6),c.Zb("valueChange",(function(t){return c.yc(n),c.dc(2).form.name=t})),c.Rb(),c.Sb(5,"cl-input",6),c.Zb("valueChange",(function(t){return c.yc(n),c.dc(2).form.url=t})),c.Rb(),c.Sb(6,"label"),c.Ic(7),c.Rb(),c.Sb(8,"div",7),c.Zb("click",(function(){return c.yc(n),c.dc(2).goToPage(1)})),c.Gc(9,jp,2,0,"div",8),c.Sb(10,"application",9),c.Zb("mouseenter",(function(){return c.yc(n),c.dc(2).showFader=!0}))("mouseleave",(function(){return c.yc(n),c.dc(2).showFader=!1})),c.Rb(),c.Rb(),c.Sb(11,"div",10),c.Sb(12,"button",11),c.Zb("click",(function(){c.yc(n);var t=c.dc(2);return t.visible=!1,t.onVisibleChange()})),c.Ic(13),c.Rb(),c.Sb(14,"button",12),c.Zb("click",(function(){return c.yc(n),c.dc(2).updateApp()})),c.Ic(15),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(3),c.Lc("",i("common.edit")," ",o.activeApp.name,""),c.Ab(1),c.kc("value",o.form.name)("label",i("apps.appName"))("attributes",c.nc(19,Up,i("apps.appName")))("inputValidator",o.isNotBlank.bind(o)),c.Ab(1),c.kc("value",o.form.url)("label",i("apps.appUrl"))("attributes",c.nc(21,Up,i("apps.appUrl")))("inputValidator",o.isValidUrl.bind(o)),c.Ab(2),c.Jc(i("apps.appIcon")),c.Ab(2),c.kc("ngIf",o.showFader),c.Ab(1),c.kc("app",o.displayIconApp)("showFlags",!1)("showName",!1),c.Ab(3),c.Jc(i("common.cancel")),c.Ab(1),c.Eb("disabled",!o.canSaveCustomApp()),c.Ab(1),c.Jc(i("common.save"))}}function Vp(t,e){if(1&t){var n=c.Tb();c.Sb(0,"icon",23),c.Zb("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onSelectIcon(t)})),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(3);c.Eb("assigned",o.selectedIcon&&o.selectedIcon.id===i.id),c.kc("icon",i)("showName",!1)("selected",o.selectedIcon&&o.selectedIcon.id===i.id)}}function Zp(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",15),c.Sb(1,"div",5),c.Sb(2,"h4"),c.Sb(3,"button",16),c.Zb("click",(function(){return c.yc(n),c.dc(2).page=0})),c.Nb(4,"i",17),c.Rb(),c.Ic(5),c.Rb(),c.Rb(),c.Sb(6,"cl-input",18),c.Zb("valueChange",(function(t){return c.yc(n),c.dc(2).iconSearch=t}))("valueChange",(function(){return c.yc(n),c.dc(2).onIconSearch()})),c.Rb(),c.Sb(7,"div",19),c.Zb("scrolled",(function(){return c.yc(n),c.dc(2).onPageScrolled()})),c.Gc(8,Vp,1,5,"icon",20),c.Rb(),c.Sb(9,"div",21),c.Sb(10,"button",22),c.Zb("click",(function(){return c.yc(n),c.dc(2).selectIcon()})),c.Ic(11),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(5),c.Jc(i("appLibrary.addApp.selectIcon")),c.Ab(1),c.kc("value",o.iconSearch)("icon","far fa-search"),c.Ab(1),c.kc("scrollWindow",!1),c.Ab(1),c.kc("ngForOf",o.icons)("ngForTrackBy",o.iconTrackBy),c.Ab(2),c.Eb("disabled",!o.selectedIcon),c.Ab(1),c.Jc(i("appLibrary.addApp.selectIcon"))}}function $p(t,e){if(1&t&&(c.Qb(0),c.Gc(1,zp,16,23,"div",2),c.Gc(2,Zp,12,9,"div",3),c.Pb()),2&t){var n=c.dc();c.Ab(1),c.kc("ngIf",n.activeApp&&0===n.page),c.Ab(1),c.kc("ngIf",1===n.page)}}var Wp=function(){function t(t,e,n,i){var o=this;this.appsHelper=t,this.nodeApi=e,this.appLibService=n,this.translationHelper=i,this.visible=!1,this.form={name:"",url:"",icon:""},this.page=0,this.iconSearch="",this.iconFilters=new Lp({rows:50,page:1}),this.showFader=!1,this.pushItems=!1,this.displayIconApp={icon:""},this.subscriptions=[],this.subscriptions[0]=t.editCustomAppUpdated.subscribe((function(t){o.visible=!!t,o.page=0,o.showFader=!1,t&&(o.activeApp=t,o.form.name=t.name,o.form.url=t.url[0],o.form.icon=t.icon,o.displayIconApp={icon:t.icon}),o.icons||o.getIcons()}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onVisibleChange=function(){!1===this.visible&&this.appsHelper.editCustomAppUpdated.next(void 0)},t.prototype.iconTrackBy=function(t){return t.id},t.prototype.getIcons=function(){var t=this;this.appLibService.getIcons(this.iconFilters).subscribe((function(e){var n;t.pushItems?(n=t.icons).push.apply(n,e):t.icons=e}))},t.prototype.canSaveCustomApp=function(){return""!==this.form.name.trim()&&$e.a.isValidUrl(this.form.url)},t.prototype.isValidUrl=function(t){return $e.a.isValidUrl(t)},t.prototype.isNotBlank=function(t){return""!==t.trim()},t.prototype.onIconSearch=function(){var t=this;this.pushItems=!1,this.iconFilters.page=0,this.icons=[],this.appLibService.searchIcons(this.iconSearch).subscribe((function(e){t.iconSearchResults=e,t.icons=e.slice(0,50)}))},t.prototype.onPageScrolled=function(){var t;this.pushItems=!0,this.iconFilters.page+=1,""!==this.iconSearch?(t=this.icons).push.apply(t,this.iconSearchResults.slice(this.iconFilters.rows*this.iconFilters.page,this.iconFilters.rows*(this.iconFilters.page+1))):this.getIcons()},t.prototype.goToPage=function(t){this.page=t,this.showFader=!1},t.prototype.onSelectIcon=function(t){this.selectedIcon=t},t.prototype.selectIcon=function(){this.displayIconApp.icon=this.selectedIcon.defaulturl,this.form.icon=this.selectedIcon.defaulturl,this.page=0},t.prototype.updateApp=function(){var t=this;this.activeApp.name=this.form.name,this.activeApp.url[0]=this.form.url,this.activeApp.icon=this.form.icon,this.nodeApi.updateApp(this.activeApp).subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"apps.customApp",verb:"common.added"}),t.visible=!1,t.onVisibleChange()}))},t.\u0275fac=function(e){return new(e||t)(c.Mb(Xt.a),c.Mb(Qt.a),c.Mb(Tc.a),c.Mb(Be.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-edit-custom-app"]],decls:2,vars:1,consts:[[1,"modal-small","auto-height",3,"visible","visibleChange"],[4,"transloco"],["class","form flex-start column-nowrap",4,"ngIf"],["class","icons flex-start column-nowrap",4,"ngIf"],[1,"form","flex-start","column-nowrap"],[1,"modal-header"],[3,"value","label","attributes","inputValidator","valueChange"],[1,"app-ctnr",3,"click"],["class","hover-fader flex-center",4,"ngIf"],["clLastFocused","",1,"cl-focusable",3,"app","showFlags","showName","mouseenter","mouseleave"],[1,"modal-controls"],[1,"button","button-default",3,"click"],[1,"button","button-secondary",3,"click"],[1,"hover-fader","flex-center"],[1,"fas","fa-cog"],[1,"icons","flex-start","column-nowrap"],[1,"button-text",3,"click"],[1,"fas","fa-arrow-left"],[3,"value","icon","valueChange"],["infiniteScroll","",1,"icon-ctnr","custom-scroll",3,"scrollWindow","scrolled"],["class","cl-app app-library no-name",3,"icon","showName","selected","assigned","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"modal-controls","flex-end-center"],[1,"button","button-primary","left-auto",3,"click"],[1,"cl-app","app-library","no-name",3,"icon","showName","selected","click"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(){return e.onVisibleChange()})),c.Gc(1,$p,3,2,"ng-container",1),c.Rb()),2&t&&c.kc("visible",e.visible)},directives:[We.H,Te.c,i.l,We.C,Rn,We.F,Np.a,i.k,Bp],styles:["app-edit-custom-app label{margin-bottom:5px}app-edit-custom-app .form,app-edit-custom-app .icons{width:100%}app-edit-custom-app .app-ctnr{position:relative;cursor:pointer;margin-bottom:20px}app-edit-custom-app .app-ctnr .hover-fader{position:absolute;top:0;left:0;width:100%;height:100%;z-index:10;background-color:hsla(0,0%,100%,.8);pointer-events:none}app-edit-custom-app .app-ctnr svg{font-size:30px;color:var(--color-primary)}app-edit-custom-app .form cl-input{height:59px;margin-bottom:15px}app-edit-custom-app .icons .modal-header{margin-bottom:20px}app-edit-custom-app .icons h4 button{margin-right:10px}app-edit-custom-app .icons h4 button svg{color:var(--color-primary);font-size:22px}app-edit-custom-app .icons cl-input{height:40px;margin-bottom:15px}app-edit-custom-app .icons .icon-ctnr{display:grid;grid-gap:20px;grid-template-columns:repeat(auto-fill,minmax(75px,1fr));grid-auto-rows:75px;height:266px;width:100%;padding:10px;margin-bottom:20px}app-edit-custom-app .icons icon.cl-app.no-name{width:75px;height:75px;margin:0;padding:0;position:relative}app-edit-custom-app .icons icon.cl-app.no-name .cl-clip-img-ctnr{width:75px;height:75px}app-edit-custom-app .icons icon.cl-app.no-name .cl-clip-img-ctnr .img-border.assigned{width:81px;height:81px;position:absolute;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-color:var(--color-primary)}app-edit-custom-app .icons icon.cl-app.no-name .cl-clip-img-ctnr img{width:72px;height:72px}app-edit-custom-app .icons .modal-controls{margin-top:60px}"],encapsulation:2}),t}(),Jp=function(t,e){return{"aria-label":t,autofocus:"",placeholder:e,type:"text",id:"folderNameInput"}},qp=function(t){return{"keydown.enter":t}},Kp=function(t,e){return{"aria-label":t,placeholder:e,type:"text",id:"folderColorInput"}};function Yp(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",2),c.Sb(2,"h3",3),c.Ic(3),c.Rb(),c.Rb(),c.Sb(4,"div",4),c.Sb(5,"label",5),c.Ic(6),c.Rb(),c.Sb(7,"cl-input",6),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().folder.name=t})),c.Rb(),c.Sb(8,"label",7),c.Ic(9),c.Rb(),c.Sb(10,"div",8),c.Sb(11,"cl-input",9),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().folder.color=t})),c.Rb(),c.Sb(12,"input",10),c.Zb("ngModelChange",(function(t){return c.yc(n),c.dc().folder.color=t}))("click",(function(t){return c.yc(n),c.dc().onInputClick(t)}))("clColorPickerChange",(function(t){return c.yc(n),c.dc().folder.color=t})),c.Rb(),c.Rb(),c.Rb(),c.Sb(13,"div",11),c.Sb(14,"button",12),c.Zb("click",(function(){return c.yc(n),c.dc().onSave()})),c.Ic(15),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(3),c.Jc(i(o.editing?"createFolder.edit":"createFolder.add")),c.Ab(3),c.Jc(i("createFolder.label")),c.Ab(1),c.kc("attributes",c.oc(21,Jp,i("createFolder.label"),i("createFolder.label")))("events",c.nc(24,qp,o.onSave.bind(o)))("charLimit",255)("value",o.folder.name),c.Ab(2),c.Jc(i("createFolder.colorLabel")),c.Ab(2),c.kc("attributes",c.oc(26,Kp,i("createFolder.colorLabel"),i("createFolder.colorPlaceholder")))("value",o.folder.color),c.Ab(1),c.kc("ngModel",o.folder.color)("clColorPicker",o.folder.color)("cpPosition","bottom")("cpSaveClickOutside",!1)("cpOKButton",!0)("cpOKButtonClass","button button-secondary")("cpCancelButton",!0)("cpCancelButtonClass","button button-default"),c.Bb("aria-label",i("createFolder.picker")),c.Ab(2),c.kc("disabled",!o.canSaveFolder()),c.Bb("tabindex",o.canSaveFolder()?0:-1),c.Ab(1),c.Jc(i(o.editing?"common.save":"common.create"))}}var Qp=function(){function t(t,e,n,i,o,r){var a=this;this.nodeApi=t,this.translationHelper=e,this.appsHelper=n,this.sessionService=i,this.cdr=o,this.appsService=r,this.showFolderModal=!1,this.folder={name:"",color:"#008AD7"},this.editing=!1,this.subscriptions=[],this.subscriptions[0]=this.appsHelper.folderCreated.subscribe((function(t){a.editing=!1,a.folder={name:"",color:a.settings.customUISettings.paletteColor},a.contextApp=t,Object(T.a)(0).subscribe((function(){return a.input.inputElement.focus()}))})),this.subscriptions[1]=n.appsUpdated.subscribe((function(t){return a.apps=t.apps})),this.subscriptions[2]=i.settingsUpdated.subscribe((function(t){a.settings=t,a.folder.color=t.customUISettings.paletteColor})),this.subscriptions[3]=n.folderEdited.subscribe((function(t){a.editing=!0,a.activeFolder=t,a.folder={name:t.name,color:t.color},setTimeout((function(){return a.input.inputElement.focus()}),0)})),this.subscriptions[4]=n.folderCreatorVisibleChanged.subscribe((function(t){return a.showFolderModal=t}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.canSaveFolder=function(){return""!==this.folder.name.trim()&&7===this.folder.color.length},t.prototype.onSave=function(){this.canSaveFolder()&&(this.editing?this.editFolder():this.createFolder())},t.prototype.editFolder=function(){var t=this;this.showFolderModal=!1,this.nodeApi.editFolder(this.activeFolder.id,this.folder.name,this.folder.color).subscribe((function(e){t.activeFolder.name=t.folder.name,t.activeFolder.color=t.folder.color,t.activeFolder.shadedColor=$e.a.shadeColorByPercent(t.folder.color,.7),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"common.folder",verb:"common.edited"}),t.appsHelper.appsUpdated.next({apps:t.apps.map((function(e){return e.id!==t.activeFolder.id?e:Object(le.a)(Object(le.a)({},e),{name:t.folder.name,color:t.folder.color,is_editing:!1})})),reload:!0}),t.folder={name:"",color:""}}))},t.prototype.createFolder=function(){this.showFolderModal=!1,this.appsHelper.createNewFolder(this.folder.name,this.folder.color,this.apps,this.contextApp),this.cdr.detectChanges(),this.folder={name:"",color:""}},t.prototype.onInputClick=function(t){t.preventDefault()},t.prototype.onVisibleChange=function(){this.showFolderModal||this.appsHelper.folderCreatorVisibleChanged.next(!1)},t.\u0275fac=function(e){return new(e||t)(c.Mb(Qt.a),c.Mb(Be.a),c.Mb(Xt.a),c.Mb(ae.a),c.Mb(c.h),c.Mb(je.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-create-folder"]],viewQuery:function(t,e){var n;1&t&&c.Nc(We.C,!0),2&t&&c.uc(n=c.ac())&&(e.input=n.first)},decls:2,vars:2,consts:[["aria-labelledby","folderModalTitle",1,"modal-small","auto-height",3,"visible","clFocusTrap","visibleChange"],[4,"transloco"],[1,"modal-header"],["id","folderModalTitle"],[1,"modal-main-content"],["for","folderNameInput"],[3,"attributes","events","charLimit","value","valueChange"],["for","folderColorInput"],[1,"relative-ctnr"],[3,"attributes","value","valueChange"],["type","color",3,"ngModel","clColorPicker","cpPosition","cpSaveClickOutside","cpOKButton","cpOKButtonClass","cpCancelButton","cpCancelButtonClass","ngModelChange","click","clColorPickerChange"],[1,"modal-controls"],[1,"button","button-secondary","left-auto",3,"disabled","click"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.showFolderModal=t}))("visibleChange",(function(){return e.onVisibleChange()})),c.Gc(1,Yp,16,29,"ng-container",1),c.Rb()),2&t&&c.kc("visible",e.showFolderModal)("clFocusTrap",e.showFolderModal)},directives:[We.H,We.y,Te.c,We.C,xi.a,xi.j,xi.m,We.j],styles:[".modal-controls[_ngcontent-%COMP%]{-ms-flex-pack:end!important;justify-content:flex-end!important;margin-top:60px!important}cl-input[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{margin-bottom:5px}.relative-ctnr[_ngcontent-%COMP%]{width:100%}.relative-ctnr[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer;width:40px;height:40px;max-width:40px;border-radius:5px;border:2px solid var(--color-border-dark);background-color:var(--color-white);padding:1px 2px}"]}),t}(),Xp=["colorPickerContainer"];function td(t,e){1&t&&(c.Sb(0,"span"),c.Nb(1,"i",25),c.Rb())}function ed(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",23),c.Zb("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onFolderColorChange(t)}))("keydown.Space",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onFolderColorChange(t)}))("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onFolderColorChange(t)})),c.Gc(1,td,2,0,"span",24),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(3);c.Ec("background-color",i),c.Bb("tabindex",o.showColorPicker?0:-1)("aria-label",i),c.Ab(1),c.kc("ngIf",o.folder.color===i&&!o.isCustomColorSelected)}}function nd(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",26),c.Sb(1,"div",27),c.Sb(2,"span",28),c.Zb("clColorPickerChange",(function(t){return c.yc(n),c.dc(3).customColor=t}))("clColorPickerChange",(function(t){return c.yc(n),c.dc(3).onCustomColorChange(t)})),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.dc(3);c.Ab(2),c.kc("clColorPicker",i.customColor)("cpSaveClickOutside",!1)("cpWidth","240px")("cpHeight","280px")("cpDialogDisplay","inline")("cpToggle",!0)("cpUseRootViewContainer",!0)}}function id(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-dropdown-menu",15),c.Zb("click",(function(t){return c.yc(n),t.stopPropagation()})),c.Sb(1,"div",16),c.Ic(2),c.Rb(),c.Sb(3,"div",17),c.Ic(4),c.Rb(),c.Sb(5,"div",18),c.Gc(6,ed,2,5,"div",19),c.Rb(),c.Sb(7,"div",20),c.Zb("click",(function(){return c.yc(n),c.dc(2).toggleCustomColorPicker()})),c.Sb(8,"span"),c.Ic(9),c.Rb(),c.Nb(10,"i",21),c.Rb(),c.Gc(11,nd,3,7,"div",22),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Eb("visible",o.showColorPicker),c.Bb("aria-hidden",!o.showColorPicker),c.Ab(2),c.Lc(" ",i("createFolder.myColor")," : ",o.folder.color," "),c.Ab(2),c.Jc(i("createFolder.recommendedColors")),c.Ab(2),c.kc("ngForOf",o.paletteColors)("ngForTrackBy",o.colorTrackBy),c.Ab(3),c.Jc(i("createFolder.customColor")),c.Ab(1),c.kc("@rotateChevron",o.getChevronState()),c.Ab(1),c.kc("ngIf",o.showCustomColorPicker)}}var od=function(t,e){return{"aria-label":t,autofocus:"",placeholder:e,type:"text",id:"folderNameInput"}},rd=function(t){return{"keydown.enter":t}};function ad(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",2),c.Sb(2,"h3",3),c.Ic(3),c.Rb(),c.Rb(),c.Sb(4,"div",4),c.Sb(5,"label",5),c.Ic(6),c.Rb(),c.Sb(7,"cl-input",6),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().folder.name=t})),c.Rb(),c.Sb(8,"label",7),c.Ic(9),c.Rb(),c.Sb(10,"div",8),c.Sb(11,"button",9),c.Zb("click",(function(t){return c.yc(n),c.dc().toggleColorPicker(t)}))("keydown.Enter",(function(t){return c.yc(n),c.dc().toggleColorPicker(t)}))("keydown.Space",(function(t){return c.yc(n),c.dc().toggleColorPicker(t)})),c.Rb(),c.Sb(12,"div",null,10),c.Gc(14,id,12,11,"app-dropdown-menu",11),c.Rb(),c.Rb(),c.Rb(),c.Sb(15,"div",12),c.Sb(16,"button",13),c.Zb("click",(function(){return c.yc(n),c.dc().onCancel()})),c.Ic(17),c.Rb(),c.Sb(18,"button",14),c.Zb("click",(function(){return c.yc(n),c.dc().onSave()})),c.Ic(19),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(3),c.Jc(i(o.editing?"createFolder.edit":"createFolder.add")),c.Ab(3),c.Jc(i("createFolder.label")),c.Ab(1),c.kc("attributes",c.oc(15,od,i("createFolder.label"),i("createFolder.label")))("events",c.nc(18,rd,o.onSave.bind(o)))("charLimit",255)("value",o.folder.name),c.Ab(2),c.Jc(i("createFolder.colorLabel")),c.Ab(2),c.Ec("background-color",o.folder.color),c.Bb("aria-label",i("selectFolderColor")),c.Ab(3),c.kc("ngIf",o.showColorPicker),c.Ab(3),c.Jc(i("common.cancel")),c.Ab(1),c.kc("disabled",!o.canSaveFolder()),c.Bb("tabindex",o.canSaveFolder()?0:-1),c.Ab(1),c.Kc("",i(o.editing?"common.save":"common.create")," ")}}var sd=function(){function t(t,e,n,i,o,r,a){var s=this;this.nodeApi=t,this.translationHelper=e,this.appsHelper=n,this.sessionService=i,this.cdr=o,this.appsService=r,this.elementRef=a,this.showFolderModal=!1,this.folder={name:"",color:"#008AD7"},this.editing=!1,this.showColorPicker=!1,this.showCustomColorPicker=!1,this.paletteColors=["#FF5C00","#B52121","#E40101","#D36745","#DC582A","#FF6B00","#B55400","#E5840C","#559B5C","#4A8F51","#148531","#03A52D","#26C06E","#238C7C","#00BFB2","#007A78","#007985","#00525E","#003B49","#009CCC","#57C1EC","#0A4D7F","#4E95CC","#3071AE","#1D4289","#1730B0","#0B1885","#6354A6","#7D1A9E","#5C005C","#D270AD","#E56DB1","#A61E62","#D3273E","#850F13","#DDDDDD"],this.customColor="#0054FF",this.isCustomColorSelected=!1,this.subscriptions=[],this.subscriptions[0]=this.appsHelper.folderCreated.subscribe((function(t){s.editing=!1,s.folder={name:"",color:s.settings.customUISettings.paletteColor},s.contextApp=t,Object(T.a)(0).subscribe((function(){return s.input.inputElement.focus()}))})),this.subscriptions[1]=n.appsUpdated.subscribe((function(t){return s.apps=t.apps})),this.subscriptions[2]=i.settingsUpdated.subscribe((function(t){s.settings=t,s.folder.color=t.customUISettings.paletteColor})),this.subscriptions[3]=n.folderEdited.subscribe((function(t){s.editing=!0,s.activeFolder=t,s.folder={name:t.name,color:t.color},setTimeout((function(){return s.input.inputElement.focus()}),0)})),this.subscriptions[4]=this.appsHelper.newFolderCreatorVisibleChanged.subscribe((function(t){var e,n,i,o;s.showFolderModal=t,t&&(s.folder={name:null!==(e=s.folder.name)&&void 0!==e?e:"",color:null!==(n=s.folder.color)&&void 0!==n?n:null===(o=null===(i=s.settings)||void 0===i?void 0:i.customUISettings)||void 0===o?void 0:o.paletteColor})}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.canSaveFolder=function(){return""!==this.folder.name.trim()&&7===this.folder.color.length},t.prototype.onSave=function(){this.canSaveFolder()&&(this.editing?this.editFolder():this.createFolder())},t.prototype.editFolder=function(){var t=this;this.showFolderModal=!1,this.nodeApi.editFolder(this.activeFolder.id,this.folder.name,this.folder.color).subscribe((function(e){t.activeFolder.name=t.folder.name,t.activeFolder.color=t.folder.color,t.activeFolder.shadedColor=$e.a.shadeColorByPercent(t.folder.color,.7),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"common.folder",verb:"common.edited"}),t.appsHelper.appsUpdated.next({apps:t.apps.map((function(e){return e.id!==t.activeFolder.id?e:Object(le.a)(Object(le.a)({},e),{name:t.folder.name,color:t.folder.color,is_editing:!1})})),reload:!0}),t.folder={name:"",color:""}}))},t.prototype.createFolder=function(){this.showFolderModal=!1,this.appsHelper.createNewFolder(this.folder.name,this.folder.color,this.apps,this.contextApp),this.cdr.detectChanges(),this.folder={name:"",color:""}},t.prototype.onInputClick=function(t){t.preventDefault()},t.prototype.onVisibleChange=function(){this.showFolderModal||(this.appsHelper.newFolderCreatorVisibleChanged.next(!1),this.closeColorPicker())},t.prototype.toggleColorPicker=function(t){t.stopPropagation(),this.showColorPicker=!this.showColorPicker,this.showColorPicker||(this.showCustomColorPicker=!1)},t.prototype.toggleCustomColorPicker=function(){this.showCustomColorPicker=!this.showCustomColorPicker},t.prototype.onFolderColorChange=function(t){this.folder.color=t,this.customColor=t,this.isCustomColorSelected=!1,this.showColorPicker=!1},t.prototype.onCustomColorChange=function(t){this.folder.color=t,this.customColor=t,this.isCustomColorSelected=!0},t.prototype.getChevronState=function(){return this.showCustomColorPicker?"up":"down"},t.prototype.clickOutside=function(t){if(this.showColorPicker){var e=this.colorPickerContainer.nativeElement,n=this.elementRef.nativeElement.querySelector(".color-swatch");e.contains(t.target)||n.contains(t.target)||this.closeColorPicker()}},t.prototype.closeColorPicker=function(){this.showColorPicker=!1,this.showCustomColorPicker=!1},t.prototype.onCancel=function(){this.showFolderModal=!1,this.folder={name:"",color:"#008AD7"},this.closeColorPicker(),this.appsHelper.folderCreatorVisibleChanged.next(!1)},t.\u0275fac=function(e){return new(e||t)(c.Mb(Qt.a),c.Mb(Be.a),c.Mb(Xt.a),c.Mb(ae.a),c.Mb(c.h),c.Mb(je.a),c.Mb(c.l))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-dynamic-create-folder"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(We.C,!0),c.Nc(Xp,!0)),2&t&&(c.uc(n=c.ac())&&(e.input=n.first),c.uc(n=c.ac())&&(e.colorPickerContainer=n.first))},hostBindings:function(t,e){1&t&&c.Zb("click",(function(t){return e.clickOutside(t)}),!1,c.wc)},decls:2,vars:2,consts:[["aria-labelledby","folderModalTitle",1,"modal-small","auto-height",3,"visible","clFocusTrap","visibleChange"],[4,"transloco"],[1,"modal-header"],["id","folderModalTitle"],[1,"modal-main-content"],["for","folderNameInput"],[3,"attributes","events","charLimit","value","valueChange"],["for","folderColorInput"],[1,"color-swatch-container"],[1,"color-swatch",3,"click","keydown.Enter","keydown.Space"],["colorPickerContainer",""],["class","palette","tabindex","-1","role","menu","clFocusTrap","",3,"visible","click",4,"ngIf"],[1,"modal-controls"],[1,"button","button-default",3,"click"],[1,"button","button-secondary","left-auto",3,"disabled","click"],["tabindex","-1","role","menu","clFocusTrap","",1,"palette",3,"click"],[1,"color-picker-header"],[1,"color-picker-label"],[1,"color-ctnr"],["role","button","class","color cl-focusable",3,"background-color","keydown.Enter","keydown.Space","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"custom-color-toggle",3,"click"],[1,"fas","fa-chevron-down"],["class","custom-color-picker-container",4,"ngIf"],["role","button",1,"color","cl-focusable",3,"keydown.Enter","keydown.Space","click"],[4,"ngIf"],[1,"fa-regular","fa-check"],[1,"custom-color-picker-container"],[1,"custom-color-picker"],[1,"inline-picker",3,"clColorPicker","cpSaveClickOutside","cpWidth","cpHeight","cpDialogDisplay","cpToggle","cpUseRootViewContainer","clColorPickerChange"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.showFolderModal=t}))("visibleChange",(function(){return e.onVisibleChange()})),c.Gc(1,ad,20,20,"ng-container",1),c.Rb()),2&t&&c.kc("visible",e.showFolderModal)("clFocusTrap",e.showFolderModal)},directives:[We.H,We.y,Te.c,We.C,i.l,ko,i.k,We.j],styles:['[_nghost-%COMP%]{display:block}  .modal-small{max-height:560px!important;overflow-y:auto}.modal-main-content[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;height:750px!important;width:649px!important;border-radius:16px}.modal-controls[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;margin-top:20px!important}.modal-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:auto}.modal-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:auto}cl-input[_ngcontent-%COMP%]{margin-bottom:20px;border-radius:9px}label[_ngcontent-%COMP%]{margin-bottom:5px}.color-swatch-container[_ngcontent-%COMP%]{position:relative;margin-right:5px;width:100%;margin-top:12px}.color-swatch[_ngcontent-%COMP%]{width:50px;height:50px;-ms-flex:0 0 28px;flex:0 0 28px;border-radius:4px;cursor:pointer;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.color-swatch[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px var(--color-primary)}app-dropdown-menu.palette[_ngcontent-%COMP%]{width:318px;border-radius:8px;background-color:var(--color-white);box-shadow:0 0 20px 0 rgba(0,0,0,.25098039215686274);-ms-flex-align:start;align-items:flex-start;padding:17px 30px 22px 23px;position:absolute;left:0;z-index:1000;top:calc(100% + 15px)}app-dropdown-menu.palette[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-10px;left:20px;border-left:10px solid rgba(0,0,0,0);border-right:10px solid rgba(0,0,0,0);border-bottom:10px solid var(--color-white)}app-dropdown-menu.palette[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 14px);font-weight:500;margin-bottom:26px;-ms-flex-item-align:start;align-self:flex-start}app-dropdown-menu.palette[_ngcontent-%COMP%]   .color-picker-label[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 14px);font-weight:500;margin-bottom:8px;-ms-flex-item-align:start;align-self:start}app-dropdown-menu.palette[_ngcontent-%COMP%]   .color-ctnr[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(9,1fr);gap:4px;margin-bottom:16px}app-dropdown-menu.palette[_ngcontent-%COMP%]   .color-ctnr[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:3px;cursor:pointer;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}app-dropdown-menu.palette[_ngcontent-%COMP%]   .color-ctnr[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]:focus{outline:2px solid var(--color-primary);outline-offset:2px}app-dropdown-menu.palette[_ngcontent-%COMP%]   .color-ctnr[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%]{color:#fff;font-size:calc(var(--font-modifier) * 14px)}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-toggle[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;font-size:calc(var(--font-modifier) * 14px);font-weight:500;cursor:pointer;margin-bottom:8px;-ms-flex-item-align:start;align-self:flex-start}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-left:8px}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker-container[_ngcontent-%COMP%]{border:.5px solid var(--color-border-extra-dark);border-radius:10px;padding:10px;margin-top:8px;width:100%;max-height:290px;overflow:hidden;transition:max-height .2s ease}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]   .inline-picker[_ngcontent-%COMP%]{display:block;width:100%}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker{padding:0;width:auto!important;border:none;box-shadow:none;background-color:rgba(0,0,0,0)}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .saturation-lightness{width:100%!important;height:140px;border:1px solid #000;position:relative;overflow:hidden}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .saturation-lightness .cursor{width:16px;height:16px;border-radius:50%;border:3px solid #000;box-shadow:0 0 2px rgba(0,0,0,.8);position:absolute;top:0;left:0}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .hue-alpha .left{display:none}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .hue-alpha .right{width:100%}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .hue-alpha .right .alpha, app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .hue-alpha .right .hue{height:18px;border:1px solid #000;border-radius:10px;margin-bottom:10px;position:relative;overflow:hidden}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .hue-alpha .right .hue .cursor{border:3px solid var(--color-dark)}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .hex-text{width:100%;margin-top:10px}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .hex-text .box{width:100%}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .hex-text .box input{width:100%;border:.3px solid var(--color-medium);border-radius:3.25px;padding:5px}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .cmyk-text, app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .hsla-text, app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .rgba-text, app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .type-policy{display:none!important}']}),t}(),cd=["button"],ld=["logoutButton"];function pd(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"h1"),c.Ic(2),c.Rb(),c.Sb(3,"h4"),c.Ic(4),c.Rb(),c.Sb(5,"div",7),c.Sb(6,"button",8,9),c.Zb("click",(function(){return c.yc(n),c.dc(3).onStayLoggedIn()})),c.Ic(8),c.Rb(),c.Sb(9,"button",10),c.Zb("click",(function(){return c.yc(n),c.dc(3).logout(!0)})),c.Ic(10),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.dc(2).$implicit,o=c.dc();c.Ab(2),c.Jc(i("warning")),c.Ab(2),c.Mc("",i("timerFirst")," ",o.timerVal," ",i("timerSecond"),""),c.Ab(2),c.kc("tabindex",o.visible?0:-1),c.Bb("aria-label",i("keepLoggedIn")),c.Ab(2),c.Jc(i("keepLoggedIn")),c.Ab(1),c.kc("tabindex",o.visible?0:-1),c.Bb("aria-label",i("logout")),c.Ab(1),c.Jc(i("logout"))}}function dd(t,e){if(1&t){var n=c.Tb();c.Sb(0,"h1"),c.Ic(1),c.Rb(),c.Sb(2,"h4"),c.Ic(3),c.Rb(),c.Sb(4,"button",8,11),c.Zb("click",(function(){return c.yc(n),c.dc(3).onLogin()})),c.Ic(6),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.dc();c.Ab(1),c.Jc(i("oops")),c.Ab(2),c.Jc(i("youArentLoggedIn")),c.Ab(1),c.kc("tabindex",o.visible?0:-1),c.Bb("aria-label",i("login")),c.Ab(2),c.Jc(i("login"))}}function ud(t,e){if(1&t&&(c.Sb(0,"div",3),c.Nb(1,"img",4),c.Gc(2,pd,11,10,"ng-container",5),c.Gc(3,dd,7,5,"ng-template",null,6,c.Hc),c.Rb()),2&t){var n=c.vc(4),i=c.dc(2);c.kc("clFocusTrap",i.visible),c.Ab(1),c.kc("src","assets/images/classlink-logo-invert-filled.svg",c.Ac)("alt","Classlink Logo"),c.Ab(1),c.kc("ngIf",i.showWarning)("ngIfElse",n)}}function gd(t,e){if(1&t&&(c.Qb(0),c.Gc(1,ud,5,5,"div",2),c.Pb()),2&t){var n=c.dc();c.Ab(1),c.kc("ngIf",n.visible)}}var hd=function(t){return{active:t}},bd=function(){function t(t,e,n,i){var o,r=this;this.appsHelper=t,this.zone=e,this.settingsService=n,this.sessionService=i,this.visible=!1,this.showWarning=!0,this.subscriptions=[],this.userInfo=null===(o=this.sessionService)||void 0===o?void 0:o.getUserInfo(),this.subscriptions[0]=t.sessionTimedOut.subscribe((function(t){return r.onSessionTimeout(t)})),this.subscriptions[1]=t.sessionDuration.subscribe((function(t){var e=(new Date).getTime();r.sessionDuration=t,r.timerVal=Math.ceil(.001*(r.sessionDuration-e))})),this.subscriptions[3]=this.sessionService.settingsUpdated.subscribe((function(t){return r.settings=t}))}return Object.defineProperty(t.prototype,"buttonRef",{set:function(t){t&&t.nativeElement.focus()},enumerable:!1,configurable:!0}),t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onSessionTimeout=function(t){var e=this;if(t||(this.visible=!1),t!==this.visible){if(this.visible=t,this.timerVal<=0)return this.showLoggedOut();this.showWarning=!0,this.button&&this.button.nativeElement.focus(),this.subscriptions[2]&&this.subscriptions[2].unsubscribe(),this.subscriptions[2]=Object(J.a)(1e3).subscribe((function(t){return e.zone.run((function(){return e.onTimerTick()}))}))}},t.prototype.onStayLoggedIn=function(){this.visible=!1,this.showWarning=!0,this.subscriptions[2].unsubscribe(),this.appsHelper.sessionTimedOut.next(!1),this.settingsService.resetSessionTimeout()},t.prototype.onTimerTick=function(){var t=(new Date).getTime();this.timerVal=Math.ceil(.001*(this.sessionDuration-t)),this.timerVal<=0&&(this.showLoggedOut(),this.subscriptions[2].unsubscribe())},t.prototype.showLoggedOut=function(){var t,e;this.showWarning=!1,this.customPage=null===(e=null===(t=this.settings)||void 0===t?void 0:t.buildingSettings)||void 0===e?void 0:e.loginUrl,this.logout(!1)},t.prototype.logout=function(t){this.appsHelper.logout(t)},t.prototype.onLogin=function(){window.location.href="Parent"===this.userInfo.Role?Re.a.launchpadUrl+"/logout":Re.a.launchpadUrl+"/"+(this.customPage?this.customPage:"logout")},t.\u0275fac=function(e){return new(e||t)(c.Mb(Xt.a),c.Mb(c.z),c.Mb(di.a),c.Mb(ae.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-session-expired"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(cd,!0),c.Nc(ld,!0)),2&t&&(c.uc(n=c.ac())&&(e.button=n.first),c.uc(n=c.ac())&&(e.buttonRef=n.first))},decls:2,vars:5,consts:[[1,"bg","flex-start-center","column-nowrap",3,"ngClass"],[4,"transloco","translocoRead"],["class","modal flex-center column-nowrap","aria-modal","true",3,"clFocusTrap",4,"ngIf"],["aria-modal","true",1,"modal","flex-center","column-nowrap",3,"clFocusTrap"],[3,"src","alt"],[4,"ngIf","ngIfElse"],["loggedOut",""],[1,"button-ctnr","flex-space-between-center"],[1,"button","button-primary",3,"tabindex","click"],["button",""],[1,"button","button-danger",3,"tabindex","click"],["logoutButton",""]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Gc(1,gd,2,1,"ng-container",1),c.Rb()),2&t&&(c.kc("ngClass",c.nc(3,hd,e.visible)),c.Bb("aria-hidden",!e.visible),c.Ab(1),c.kc("translocoRead","sessionExpired"))},directives:[i.j,Te.c,i.l,We.y],styles:[".bg[_ngcontent-%COMP%]{opacity:0;pointer-events:none;width:100%;height:100%;position:fixed;top:0;left:0;background-color:rgba(0,0,0,.4);z-index:1009}.bg.active[_ngcontent-%COMP%]{opacity:1;pointer-events:all}.bg[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{position:relative;top:200px;overflow:visible;min-width:200px;width:40%;height:200px;padding:20px;background-color:var(--color-white);box-shadow:0 0 30px rgba(0,0,0,.3);border-radius:5px}.bg[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;right:40px;top:-40px;width:100px;z-index:1;filter:drop-shadow(0 4px 4px rgba(0,0,0,.25))}.bg[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:26px;font-weight:800;margin-bottom:10px}.bg[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;margin-bottom:40px}.bg[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .button-ctnr[_ngcontent-%COMP%]{padding:0 40px;width:100%}"]}),t}();function fd(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",2),c.Nb(2,"i",3),c.Sb(3,"h3"),c.Ic(4),c.Rb(),c.Rb(),c.Sb(5,"div",4),c.Sb(6,"p"),c.Ic(7),c.Sb(8,"span",5),c.Ic(9),c.Rb(),c.Ic(10),c.Sb(11,"span",5),c.Ic(12),c.Rb(),c.Rb(),c.Rb(),c.Pb()),2&t){var n=e.$implicit;c.Ab(4),c.Jc(n("title")),c.Ab(3),c.Kc("",n("descriptionOne")," "),c.Ab(2),c.Jc(n("browsersOne")),c.Ab(1),c.Kc(" ",n("or")," "),c.Ab(2),c.Jc(n("browsersTwo"))}}var md=function(){function t(t){this.appsHelper=t,this.visible=!1,this.text={title:"",main:""}}return t.prototype.ngOnInit=function(){var t=$e.a.getBrowser()===ui.a.OperaMini;t!==this.visible&&(this.visible=t,this.onVisibleChange())},t.prototype.onVisibleChange=function(){this.appsHelper.unsupporterBrowserShown.next(this.visible)},t.\u0275fac=function(e){return new(e||t)(c.Mb(Xt.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-unsupported-browser"]],decls:2,vars:2,consts:[[1,"modal-small","unsupported-browser",3,"visible","visibleChange"],[4,"transloco","translocoRead"],[1,"modal-header"],[1,"far","fa-exclamation-triangle"],[1,"modal-main-content"],[1,"bold"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(){return e.onVisibleChange()})),c.Gc(1,fd,13,5,"ng-container",1),c.Rb()),2&t&&(c.kc("visible",e.visible),c.Ab(1),c.kc("translocoRead","unsupportedBrowser"))},directives:[We.H,Te.c],styles:[".modal-header[_ngcontent-%COMP%]{margin-bottom:20px!important}svg[_ngcontent-%COMP%]{font-size:40px;margin-right:20px;color:#f99a24}p[_ngcontent-%COMP%]{font-size:16px}"]}),t}();function vd(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",10),c.Zb("click",(function(){return c.yc(n),c.dc(2).showConfirm=!0})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.vc(11),r=c.dc();c.kc("clTooltip",o)("clTooltipDirection","bottom")("clTooltipBodyAppend",!1)("clTooltipPersist",!0)("clTooltipDisplay",r.showConfirm),c.Ab(1),c.Jc(i("common.delete"))}}function yd(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",11),c.Sb(1,"h4"),c.Ic(2),c.Rb(),c.Sb(3,"p"),c.Ic(4),c.Rb(),c.Sb(5,"div",12),c.Sb(6,"button",13),c.Zb("click",(function(){return c.yc(n),c.dc(2).showConfirm=!1})),c.Ic(7),c.Rb(),c.Sb(8,"button",14),c.Zb("click",(function(){c.yc(n);var t=c.dc(2);return t.deleteTag(),t.showConfirm=!1})),c.Ic(9),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit;c.Ab(2),c.Jc(i("addTag.deleteTitle")),c.Ab(2),c.Jc(i("addTag.deleteSubtitle")),c.Ab(3),c.Jc(i("common.cancel")),c.Ab(2),c.Jc(i("common.delete"))}}var Cd=function(t){return{type:"text","aria-label":t,required:!0}},xd=function(t){return{"keydown.enter":t}};function wd(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",2),c.Sb(2,"h2",3),c.Ic(3),c.Rb(),c.Rb(),c.Sb(4,"div",4),c.Sb(5,"cl-input",5),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().activeTag.name=t})),c.Rb(),c.Rb(),c.Sb(6,"div",6),c.Gc(7,vd,2,6,"button",7),c.Sb(8,"button",8),c.Zb("click",(function(){return c.yc(n),c.dc().onSave()})),c.Ic(9),c.Rb(),c.Rb(),c.Gc(10,yd,10,4,"ng-template",null,9,c.Hc),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(3),c.Jc(i(-1===o.activeTag.id?"addTag.add":"addTag.edit")),c.Ab(2),c.kc("value",o.activeTag.name)("attributes",c.nc(12,Cd,i("addTag.label")))("events",c.nc(14,xd,o.onSave.bind(o)))("charLimit",255)("label",i("addTag.label")),c.Ab(2),c.kc("ngIf",-1!==o.activeTag.id),c.Ab(1),c.Eb("disabled",!o.canSave()),c.kc("tabindex",o.canSave()?0:-1)("disabled",!o.canSave()),c.Ab(1),c.Kc(" ",i(-1===o.activeTag.id?"common.create":"common.save")," ")}}var Pd=function(){function t(t,e,n){var i=this;this.tagsHelper=t,this.translationHelper=e,this.tagsService=n,this.activeTag={id:-1,name:"",apps:[]},this.showConfirm=!1,this.visible=!1,this.otherTagNames=[],this.tags=[],this.subscriptions=[],this.subscriptions[0]=t.tagsUpdated.subscribe((function(t){return i.tags=t})),this.subscriptions[1]=t.tagCreated.subscribe((function(t){i.activeTag=t.tag?he()(t.tag):{id:-1,name:"",apps:[]},i.otherTagNames=i.tags.filter((function(t){return i.activeTag.id!==t.id})).map((function(t){return t.name.trim().toLowerCase()})),i.appContext=t.app,Object(T.a)(0).subscribe((function(){return i.input.inputElement.focus()}))})),this.subscriptions[2]=t.tagModalVisibleChanged.subscribe((function(t){return i.visible=t}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.canSave=function(){var t=this.activeTag.name.trim().toLowerCase();return t.length>0&&t.length<=255&&!this.otherTagNames.includes(t)},t.prototype.onSave=function(){this.canSave()&&(-1===this.activeTag.id?this.createTag():this.updateTag())},t.prototype.onVisibleChange=function(){!this.visible&&this.showConfirm&&(this.showConfirm=!1),this.visible||this.tagsHelper.tagModalVisibleChanged.next(!1)},t.prototype.createTag=function(){var t=this,e=this.activeTag.name.trim();this.tagsService.createTag(e).subscribe((function(){t.onRequestSuccess("created"),t.appContext&&t.tagsService.getTags().subscribe((function(n){var i=Ce()(n,(function(t){return t.name===e}));i.apps=[t.appContext.id],t.tagsHelper.tagsUpdated.next(n),t.tagsService.updateTagAppsById(i.id,[t.appContext.id]).subscribe((function(){}))}))}))},t.prototype.updateTag=function(){var t=this;this.tagsService.updateTagNameById(this.activeTag.id,this.activeTag.name.trim()).subscribe((function(e){return t.onRequestSuccess("edited")}))},t.prototype.deleteTag=function(){var t=this;this.tagsService.deleteTagById(this.activeTag.id).subscribe((function(e){return t.onRequestSuccess("deleted")}))},t.prototype.onRequestSuccess=function(t){var e=this;this.tagsService.getTags().subscribe((function(t){return e.tagsHelper.tagsUpdated.next(t)})),this.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"common.tag",verb:"common."+t}),this.tagsHelper.tagModalVisibleChanged.next(!1)},t.\u0275fac=function(e){return new(e||t)(c.Mb(se.a),c.Mb(Be.a),c.Mb(Ge))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-add-tag"]],viewQuery:function(t,e){var n;1&t&&c.Nc(We.C,!0),2&t&&c.uc(n=c.ac())&&(e.input=n.first)},decls:2,vars:1,consts:[["role","dialog","aria-labelledby","addTagTitle",1,"modal-small","auto-height",3,"visible","visibleChange"],[4,"transloco"],[1,"modal-header"],["id","addTagTitle"],[1,"modal-main-content"],[3,"value","attributes","events","charLimit","label","valueChange"],[1,"modal-controls"],["class","button button-default text-danger",3,"clTooltip","clTooltipDirection","clTooltipBodyAppend","clTooltipPersist","clTooltipDisplay","click",4,"ngIf"],[1,"button","button-secondary","left-auto",3,"tabindex","disabled","click"],["deleteConfirmation",""],[1,"button","button-default","text-danger",3,"clTooltip","clTooltipDirection","clTooltipBodyAppend","clTooltipPersist","clTooltipDisplay","click"],[1,"cl-tooltip","confirmation"],[1,"buttons-ctnr"],[1,"button","button-default",3,"click"],[1,"button","button-default","text-danger",3,"click"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(){return e.onVisibleChange()})),c.Gc(1,wd,12,16,"ng-container",1),c.Rb()),2&t&&c.kc("visible",e.visible)},directives:[We.H,Te.c,We.C,i.l,We.Y],styles:["cl-input[_ngcontent-%COMP%]{height:59px!important;margin:20px 0 40px}h2[_ngcontent-%COMP%]{font-weight:800;font-size:calc(var(--font-modifier) * 26px);padding-right:10px;word-break:break-word}"]}),t}(),Od=["growlTemplate"],Md=["button"];function _d(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",2),c.Sb(2,"h4"),c.Ic(3),c.Rb(),c.Sb(4,"p"),c.Ic(5),c.Sb(6,"span",3),c.Ic(7),c.Rb(),c.Rb(),c.Sb(8,"button",4),c.Zb("click",(function(){return c.yc(n),c.dc(2).onAccept()})),c.Ic(9),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc(2);c.Ab(3),c.Jc(i("title")),c.Ab(2),c.Kc("",i("descriptionOne")," "),c.Ab(2),c.Lc("",o.timeLeft," ",i("descriptionTwo"),""),c.Ab(2),c.Jc(i("reload"))}}function kd(t,e){1&t&&c.Gc(0,_d,10,5,"ng-container",1),2&t&&c.kc("translocoRead","updateRequired")}var Sd=function(){function t(t,e){var n=this;this.appsHelper=t,this.translationHelper=e,this.visible=!1,this.timeLeft=30,this.viewInit=!1,this.initialTime=30,this.subscriptions=[],this.subscriptions[0]=t.showWorkerUpdate.pipe(Object(E.a)((function(t){return!0===t}))).subscribe((function(t){n.visible=t,console.log("Update required, subscription: visible is "+n.visible+", viewInit is "+n.viewInit),n.onShow()}))}return t.prototype.ngAfterViewInit=function(){this.viewInit=!0,console.log("View init and visible is "+this.visible),this.visible&&this.onShow()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onShow=function(){var t=this;console.log("On show called with viewInit being "+this.viewInit+" and visible being "+this.visible),this.viewInit&&(this.translationHelper.translateAndAddGrowl({severity:"info",unclosable:!0,sticky:!0,template:this.growlTemplate}),this.subscriptions[1]=Object(T.a)(1e3,1e3).subscribe((function(e){var n=t.initialTime-e;t.timeLeft=n>0?n:0,t.timeLeft<=0&&(t.subscriptions[1].unsubscribe(),t.onAccept())})))},t.prototype.onAccept=function(){console.log("Update require onAccept called."),this.visible=!1,this.appsHelper.showWorkerUpdate.next(!1)},t.\u0275fac=function(e){return new(e||t)(c.Mb(Xt.a),c.Mb(Be.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-update-required"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(Od,!0),c.Nc(Md,!0)),2&t&&(c.uc(n=c.ac())&&(e.growlTemplate=n.first),c.uc(n=c.ac())&&(e.button=n.first))},decls:2,vars:0,consts:[["growlTemplate",""],[4,"transloco","translocoRead"],[1,"update-growl","flex-start","column-nowrap"],[1,"bold"],[1,"button","button-primary",3,"click"]],template:function(t,e){1&t&&c.Gc(0,kd,1,1,"ng-template",null,0,c.Hc)},directives:[Te.c],styles:[""]}),t}(),Ad=["focusButton"];function Id(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",2),c.Sb(2,"h3"),c.Ic(3),c.Rb(),c.Rb(),c.Sb(4,"div",3),c.Sb(5,"p"),c.Ic(6),c.Rb(),c.Rb(),c.Sb(7,"div",4),c.Sb(8,"button",5,6),c.Zb("click",(function(){return c.yc(n),c.dc().logout()})),c.Ic(10),c.Rb(),c.Sb(11,"button",7),c.Zb("click",(function(){return c.yc(n),c.dc().setupRecovery()})),c.Ic(12),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit;c.Ab(3),c.Jc(i("title")),c.Ab(3),c.Jc(i("required")),c.Ab(4),c.Jc(i("logout")),c.Ab(2),c.Jc(i("setup"))}}var Rd=function(){function t(t,e){var n=this;this.appsHelper=t,this.slideoverService=e,this.visible=!1,this.subscriptions=[],this.subscriptions[0]=t.showForcePasswordRecovery.subscribe((function(t){n.visible=t,n.visible&&Object(T.a)(0).subscribe((function(){return n.focusButton.nativeElement.focus()}))}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.logout=function(){this.appsHelper.logout(!0)},t.prototype.onVisibleChange=function(t){this.visible!==t&&(this.visible=t,this.appsHelper.showForcePasswordRecovery.next(t))},t.prototype.setupRecovery=function(){this.onVisibleChange(!1),this.slideoverService.myProfile.opened.next({id:7,forcePasswordRecovery:!0})},t.\u0275fac=function(e){return new(e||t)(c.Mb(Xt.a),c.Mb(xe.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-force-password-recovery"]],viewQuery:function(t,e){var n;1&t&&c.Nc(Ad,!0),2&t&&c.uc(n=c.ac())&&(e.focusButton=n.first)},decls:2,vars:5,consts:[[1,"modal-small",3,"visible","clickOutsideToClose","escapeToClose","showCloseIcon","visibleChange"],[4,"transloco","translocoRead"],[1,"modal-header"],[1,"modal-main-content"],[1,"modal-controls"],[1,"button","button-danger",3,"click"],["focusButton",""],[1,"button","button-primary",3,"click"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(t){return e.onVisibleChange(t)})),c.Gc(1,Id,13,4,"ng-container",1),c.Rb()),2&t&&(c.kc("visible",e.visible)("clickOutsideToClose",!1)("escapeToClose",!1)("showCloseIcon",!1),c.Ab(1),c.kc("translocoRead","forcePasswordRecovery"))},directives:[We.H,Te.c],styles:[""]}),t}(),Td=n("Te9D"),Fd=n.n(Td),Ed=["noteinput"];function Dd(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",13),c.Sb(1,"div",14),c.Zb("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).selectNote(t)}))("keydown.space",(function(t){c.yc(n);var i=e.$implicit,o=c.dc(3);return t.preventDefault(),o.selectNote(i)}))("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).selectNote(t)})),c.Sb(2,"p",15),c.Ic(3),c.Rb(),c.Sb(4,"p",16),c.Ic(5),c.Rb(),c.Rb(),c.Sb(6,"button",17),c.Zb("click",(function(t){c.yc(n);var i=e.$implicit,o=e.index,r=c.dc(3);return r.cancelTooltip(),r.showDeleteNote(i,o),t.stopPropagation()}))("keydown.space",(function(t){c.yc(n);var i=e.$implicit,o=e.index,r=c.dc(3);return r.cancelTooltip(),r.showDeleteNote(i,o),t.stopPropagation()}))("keydown.enter",(function(t){c.yc(n);var i=e.$implicit,o=e.index,r=c.dc(3);return r.cancelTooltip(),r.showDeleteNote(i,o),t.stopPropagation()}))("clTooltipDisplayChange",(function(t){c.yc(n);var i=e.$implicit;return c.dc(3).showTooltip[i.id]=t})),c.Nb(7,"i",18),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit;c.dc(2);var o=c.vc(14),r=c.dc();c.Ab(1),c.Bb("aria-describedby",i.id+"_date"),c.Ab(2),c.Jc(i.content+(i.contenttrimmed?"...":"")),c.Ab(1),c.kc("id",i.id+"_date"),c.Ab(1),c.Jc(i.created_at),c.Ab(1),c.kc("clTooltipDirection","left")("clTooltip",o)("clTooltipPersist",!0)("clTooltipDisplay",r.showTooltip[i.id])("clTooltipBodyAppend",!1),c.Bb("aria-describedby",i.id+"_date")}}function Ld(t,e){if(1&t&&(c.Sb(0,"div",11),c.Gc(1,Dd,8,10,"div",12),c.Rb()),2&t){var n=c.dc(2);c.Ab(1),c.kc("ngForOf",n.notes)("ngForTrackBy",n.trackByFn)}}function Nd(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",19),c.Sb(1,"h4"),c.Ic(2),c.Rb(),c.Sb(3,"div",20),c.Sb(4,"button",21),c.Zb("click",(function(){return c.yc(n),c.dc(2).cancelTooltip()})),c.Ic(5),c.Rb(),c.Sb(6,"button",22),c.Zb("click",(function(){return c.yc(n),c.dc(2).deleteNote()})),c.Ic(7),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit;c.Ab(2),c.Jc(i("notes.deleteNote")),c.Ab(3),c.Jc(i("common.cancel")),c.Ab(2),c.Jc(i("common.delete"))}}var Hd=function(){return[25,50,100]};function Gd(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",2),c.Sb(2,"h2",3),c.Ic(3),c.Rb(),c.Rb(),c.Sb(4,"div",4),c.Sb(5,"textarea",5,6),c.Zb("ngModelChange",(function(t){return c.yc(n),c.dc().noteText=t})),c.Rb(),c.Sb(7,"button",7),c.Zb("click",(function(){return c.yc(n),c.dc().addNote()})),c.Ic(8),c.Rb(),c.Sb(9,"h3"),c.Ic(10),c.Rb(),c.Gc(11,Ld,2,2,"div",8),c.Sb(12,"cl-paginator",9),c.Zb("pageChange",(function(t){return c.yc(n),c.dc().activePage=t}))("pageChange",(function(){return c.yc(n),c.dc().onPage()})),c.Rb(),c.Rb(),c.Gc(13,Nd,8,3,"ng-template",null,10,c.Hc),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc(),r=c.vc(2);c.Ab(3),c.Jc(i("notes.notes")),c.Ab(2),c.kc("ngModel",o.noteText),c.Bb("aria-label",i("notes.enterNote")),c.Ab(2),c.Eb("disabled",!o.canSaveNewNote()),c.kc("tabindex",o.canSaveNewNote()?0:-1),c.Ab(1),c.Jc(i("common.save")),c.Ab(2),c.Jc(i("notes.previous")),c.Ab(1),c.kc("ngIf",o.notes)("ngIfElse",r),c.Ab(1),c.kc("page",o.activePage)("pageSizes",c.mc(13,Hd))("length",o.noteCount)}}function Bd(t,e){1&t&&c.Nb(0,"cl-progress-spinner")}var jd=function(){function t(t,e){this.nodeApi=t,this.translationHelper=e,this.activeNoteChange=new c.n,this.noteText="",this.params={page:1,rows:25,search:"",smallcontent:100},this.noteCount=0,this.activePage={pageSize:25,pageIndex:0},this.deleteNoteInfo={id:-1,index:-1},this.showTooltip={}}return t.prototype.ngOnInit=function(){var t=this;this.getNotes(),Object(T.a)(1e3).subscribe((function(){return t.getNotes()}),(function(t){return console.log(t)}),(function(){return t.noteInput.nativeElement.focus()}))},t.prototype.getNotes=function(){var t=this;this.nodeApi.getNotes(this.params).subscribe((function(e){t.noteCount=e.count,t.notes=e.notes,t.notes=t.notes.map((function(t){return t.content=$e.a.decodeHtmlSymbols(t.content),t}))}))},t.prototype.onPage=function(){this.params.page=this.activePage.pageIndex+1,this.params.rows=this.activePage.pageSize,this.getNotes()},t.prototype.canSaveNewNote=function(){return""!==this.noteText.trim()},t.prototype.selectNote=function(t){this.activeNoteChange.emit(t)},t.prototype.showDeleteNote=function(t,e){this.showTooltip[t.id]=!0,this.deleteNoteInfo={id:t.id,index:e}},t.prototype.cancelTooltip=function(){for(var t=0,e=Object.keys(this.showTooltip);t<e.length;t++)this.showTooltip[e[t]]=!1;this.deleteNoteInfo={id:-1,index:-1}},t.prototype.trackByFn=function(t,e){return e.id+e.content},t.prototype.addNote=function(){var t=this,e=Fd()(this.noteText);this.nodeApi.addNote(e).subscribe((function(e){e.content.length>=t.params.smallcontent&&(e.content=e.content.slice(0,t.params.smallcontent),e.contenttrimmed=!0),t.notes=Object(le.e)([e],t.notes),t.noteText="",t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"notes.note",verb:"common.created"})}))},t.prototype.deleteNote=function(){var t=this,e=this.deleteNoteInfo.index;this.nodeApi.deleteNote(this.deleteNoteInfo.id).subscribe((function(n){0===n?t.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.cantDeleteNote",detail:"error.cantDeleteNoteDetail"}):(t.notes.splice(e,1),t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"notes.note",verb:"common.deleted"}))})),this.deleteNoteInfo=void 0},t.\u0275fac=function(e){return new(e||t)(c.Mb(Qt.a),c.Mb(Be.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-notes-list"]],viewQuery:function(t,e){var n;1&t&&c.Nc(Ed,!0),2&t&&c.uc(n=c.ac())&&(e.noteInput=n.first)},outputs:{activeNoteChange:"activeNoteChange"},decls:3,vars:0,consts:[[4,"transloco"],["loader",""],[1,"slideover-header"],["id","notesAppLabel"],[1,"slideover-content"],[1,"custom-scroll",3,"ngModel","ngModelChange"],["noteinput",""],[1,"button","button-primary","left-auto",3,"tabindex","click"],["class","notes-ctnr custom-scroll",4,"ngIf","ngIfElse"],[3,"page","pageSizes","length","pageChange"],["tooltip",""],[1,"notes-ctnr","custom-scroll"],["class","note",4,"ngFor","ngForOf","ngForTrackBy"],[1,"note"],["role","button","tabindex","0","aria-label","view and edit note",3,"click","keydown.space","keydown.Enter"],[1,"note-title"],[3,"id"],["aria-label","delete this note",1,"delete","color-danger","icon-button",3,"clTooltipDirection","clTooltip","clTooltipPersist","clTooltipDisplay","clTooltipBodyAppend","click","keydown.space","keydown.enter","clTooltipDisplayChange"],[1,"far","fa-times"],[1,"cl-tooltip","confirmation"],[1,"buttons-ctnr","flex-start-center"],[1,"button","button-default",3,"click"],[1,"button","button-danger","left-auto",3,"click"]],template:function(t,e){1&t&&(c.Gc(0,Gd,15,14,"ng-container",0),c.Gc(1,Bd,1,0,"ng-template",null,1,c.Hc))},directives:[Te.c,xi.a,xi.j,xi.m,i.l,We.K,i.k,We.Y,We.M],styles:[".slideover-header[_ngcontent-%COMP%]{height:60px!important;-ms-flex-preferred-size:60px!important;flex-basis:60px!important}.slideover-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 18px);font-weight:800}.slideover-content[_ngcontent-%COMP%]{padding:20px 50px!important}.slideover-content[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-ms-flex-negative:0;flex-shrink:0}.slideover-content[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin-bottom:20px;text-transform:uppercase!important}.slideover-content[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%], .slideover-content[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 14px);font-weight:700}.slideover-content[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{color:var(--color-dark)!important;word-break:break-all;word-break:break-word;width:100%;margin-top:0!important}.slideover-content[_ngcontent-%COMP%]   button.button-primary[_ngcontent-%COMP%]{margin:20px 0}.slideover-content[_ngcontent-%COMP%]   .notes-ctnr[_ngcontent-%COMP%]{position:relative;width:calc(100% + 100px);left:-50px;overflow-y:auto}.slideover-content[_ngcontent-%COMP%]   .notes-ctnr[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{width:100%;padding:30px 50px;border-top:1px solid var(--color-border-light);border-bottom:1px solid var(--color-border-light);display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.slideover-content[_ngcontent-%COMP%]   .notes-ctnr[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]:focus, .slideover-content[_ngcontent-%COMP%]   .notes-ctnr[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-dark)}.slideover-content[_ngcontent-%COMP%]   .notes-ctnr[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]:after{content:none}.slideover-content[_ngcontent-%COMP%]   .notes-ctnr[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:98%;margin-right:5px}.slideover-content[_ngcontent-%COMP%]   .notes-ctnr[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]   button.icon-button[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:4px}.slideover-content[_ngcontent-%COMP%]   .notes-ctnr[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]   button.icon-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:20px}.slideover-content[_ngcontent-%COMP%]   .notes-ctnr[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]   button.icon-button[_ngcontent-%COMP%]:hover{background-color:var(--color-white)}.slideover-content[_ngcontent-%COMP%]   .notes-ctnr[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-medium);margin-top:5px}.slideover-content[_ngcontent-%COMP%]   cl-paginator[_ngcontent-%COMP%]{margin-top:auto;width:calc(100% + 100px);left:-50px;position:relative}cl-progress-spinner[_ngcontent-%COMP%]{margin:50px auto}"]}),t}(),Ud=["noteinput"];function zd(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",11),c.Sb(1,"h4"),c.Ic(2),c.Rb(),c.Sb(3,"div",12),c.Sb(4,"button",13),c.Zb("click",(function(){return c.yc(n),c.dc(2).showDeleteTooltip=void 0})),c.Ic(5),c.Rb(),c.Sb(6,"button",14),c.Zb("click",(function(){return c.yc(n),c.dc(2).deleteNote()})),c.Ic(7),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit;c.Ab(2),c.Jc(i("notes.deleteNote")),c.Ab(3),c.Jc(i("common.cancel")),c.Ab(2),c.Jc(i("common.delete"))}}function Vd(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"button",2),c.Zb("click",(function(){return c.yc(n),c.dc().onGoBack()})),c.Nb(3,"i",3),c.Rb(),c.Rb(),c.Sb(4,"div",4),c.Sb(5,"p"),c.Ic(6),c.Rb(),c.Sb(7,"textarea",5,6),c.Zb("ngModelChange",(function(t){return c.yc(n),c.dc().activeNote.content=t})),c.Rb(),c.Sb(9,"div",7),c.Sb(10,"button",8),c.Zb("click",(function(){return c.yc(n),c.dc().showDeleteTooltip=!0}))("clTooltipDisplayChange",(function(t){return c.yc(n),c.dc().showDeleteTooltip=t})),c.Ic(11),c.Rb(),c.Sb(12,"button",9),c.Zb("click",(function(){return c.yc(n),c.dc().editNote()})),c.Ic(13),c.Rb(),c.Rb(),c.Rb(),c.Gc(14,zd,8,3,"ng-template",null,10,c.Hc),c.Pb()}if(2&t){var i=e.$implicit,o=c.vc(15),r=c.dc();c.Ab(2),c.Bb("aria-label",i("common.goBack")),c.Ab(4),c.Jc(r.activeNote.created_at),c.Ab(1),c.kc("ngModel",r.activeNote.content),c.Bb("aria-label",i("notes.enterNote")),c.Ab(3),c.kc("clTooltip",o)("clTooltipPersist",!0)("clTooltipDisplay",r.showDeleteTooltip),c.Ab(1),c.Jc(i("common.delete")),c.Ab(1),c.kc("tabindex",r.canSaveNote()?0:-1)("disabled",!r.canSaveNote()),c.Ab(1),c.Jc(i("common.save"))}}var Zd=function(){function t(t,e){this.nodeApi=t,this.translationHelper=e,this.activeNoteChange=new c.n,this.showDeleteTooltip=!1}return t.prototype.ngAfterViewInit=function(){this.noteInput.nativeElement.focus()},t.prototype.ngOnChanges=function(t){t.activeNote&&this.getActiveNote()},t.prototype.getActiveNote=function(){var t=this;this.nodeApi.getNote(this.activeNote.id).subscribe((function(e){t.activeNote=e,t.originalContent=e.content}))},t.prototype.canSaveNote=function(){return this.activeNote&&this.originalContent&&this.activeNote.content.trim()!==this.originalContent.trim()},t.prototype.onGoBack=function(){this.activeNote=void 0,this.activeNoteChange.emit(void 0)},t.prototype.editNote=function(){var t=this,e=Fd()(this.activeNote.content);this.nodeApi.editNote(this.activeNote.id,e).subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"notes.note",verb:"common.edited"}),t.onGoBack()}))},t.prototype.deleteNote=function(){var t=this;this.nodeApi.deleteNote(this.activeNote.id).subscribe((function(e){0===e?t.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.cantDeleteNote",detail:"error.cantDeleteNoteDetail"}):t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"notes.note",verb:"common.deleted"}),t.onGoBack()}))},t.\u0275fac=function(e){return new(e||t)(c.Mb(Qt.a),c.Mb(Be.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-note-edit"]],viewQuery:function(t,e){var n;1&t&&c.Nc(Ud,!0),2&t&&c.uc(n=c.ac())&&(e.noteInput=n.first)},inputs:{activeNote:"activeNote"},outputs:{activeNoteChange:"activeNoteChange"},features:[c.yb],decls:1,vars:0,consts:[[4,"transloco"],[1,"slideover-header"],[1,"return","color-primary","icon-button",3,"click"],[1,"fas","fa-arrow-left"],[1,"slideover-content"],[1,"grow","custom-scroll",3,"ngModel","ngModelChange"],["noteinput",""],[1,"buttons-ctnr","flex-start-center"],[1,"button","button-danger",3,"clTooltip","clTooltipPersist","clTooltipDisplay","click","clTooltipDisplayChange"],[1,"button","button-primary","left-auto",3,"tabindex","disabled","click"],["tooltip",""],[1,"cl-tooltip","confirmation"],[1,"buttons-ctnr"],[1,"button","button-default",3,"click"],[1,"button","button-danger",3,"click"]],template:function(t,e){1&t&&c.Gc(0,Vd,16,11,"ng-container",0)},directives:[Te.c,xi.a,xi.j,xi.m,We.Y],styles:[".slideover-header[_ngcontent-%COMP%]{height:60px!important;-ms-flex-preferred-size:60px!important;flex-basis:60px!important}.slideover-content[_ngcontent-%COMP%]{padding:20px 50px!important}.slideover-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-medium);margin-bottom:20px}.slideover-content[_ngcontent-%COMP%]   .buttons-ctnr[_ngcontent-%COMP%]{margin-top:20px}"]}),t}();function $d(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-notes-list",5),c.Zb("activeNoteChange",(function(t){return c.yc(n),c.dc(3).changeActiveNote(t)})),c.Rb()}}function Wd(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-note-edit",6),c.Zb("activeNoteChange",(function(t){return c.yc(n),c.dc(3).activeNote=t})),c.Rb()}if(2&t){var i=c.dc(3);c.kc("activeNote",i.activeNote)}}function Jd(t,e){if(1&t&&(c.Qb(0),c.Gc(1,$d,1,0,"app-notes-list",3),c.Gc(2,Wd,1,1,"app-note-edit",4),c.Pb()),2&t){var n=c.dc(2);c.Ab(1),c.kc("ngIf",!n.activeNote),c.Ab(1),c.kc("ngIf",n.activeNote)}}function qd(t,e){if(1&t){var n=c.Tb();c.Sb(0,"cl-slideover",1),c.Zb("visibleChange",(function(t){return c.yc(n),c.dc().visible=t}))("visibleChange",(function(){return c.yc(n),c.dc().onVisibleChange()})),c.Gc(1,Jd,3,2,"ng-container",2),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc();c.kc("visible",o.visible)("width","50%")("autoFocusClose",!1)("clFocusTrap",o.visible),c.Bb("aria-labelledby",o.activeNote?null:"notesAppLabel")("aria-label",o.activeNote?i("notes.notes"):null),c.Ab(1),c.kc("ngIf",o.visible)}}var Kd=function(){function t(t){var e=this;this.slideoverService=t,this.visible=!1,this.subscriptions=[],this.subscriptions[0]=t.notes.opened.subscribe((function(t){e.visible=!0,e.activeNote=void 0}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onVisibleChange=function(){this.visible||this.slideoverService.notes.closed.next(!0)},t.prototype.changeActiveNote=function(t){this.activeNote=t},t.\u0275fac=function(e){return new(e||t)(c.Mb(xe.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-notes"]],decls:1,vars:0,consts:[[3,"visible","width","autoFocusClose","clFocusTrap","visibleChange",4,"transloco"],[3,"visible","width","autoFocusClose","clFocusTrap","visibleChange"],[4,"ngIf"],[3,"activeNoteChange",4,"ngIf"],[3,"activeNote","activeNoteChange",4,"ngIf"],[3,"activeNoteChange"],[3,"activeNote","activeNoteChange"]],template:function(t,e){1&t&&c.Gc(0,qd,2,7,"cl-slideover",0)},directives:[Te.c,We.S,We.y,i.l,jd,Zd],styles:["app-note-edit[_ngcontent-%COMP%], app-notes-list[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;height:100%;width:100%}"]}),t}();function Yd(t,e){if(1&t&&(c.Sb(0,"p"),c.Ic(1),c.Rb()),2&t){var n=c.dc(2).$implicit,i=c.dc(2);c.Ab(1),c.Jc(n(i.appInfo.lockerStatus?"set":"notSet"))}}function Qd(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"h4"),c.Ic(2),c.Rb(),c.Gc(3,Yd,2,1,"p",12),c.Pb()),2&t){var n=c.dc().$implicit,i=c.vc(22),o=c.dc(2);c.Ab(2),c.Jc(n("passwordStatus")),c.Ab(1),c.kc("ngIf",void 0!==o.appInfo.lockerStatus)("ngIfElse",i)}}function Xd(t,e){1&t&&c.Nb(0,"cl-progress-spinner",13),2&t&&c.kc("strokeWidth",2)}function tu(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",3),c.Nb(2,"application",4),c.Sb(3,"div",5),c.Sb(4,"h2",6),c.Ic(5),c.Rb(),c.Sb(6,"div",7),c.Ic(7),c.Rb(),c.Rb(),c.Rb(),c.Sb(8,"div",8),c.Sb(9,"p",9),c.Ic(10),c.Rb(),c.Nb(11,"div",10),c.Sb(12,"h4"),c.Ic(13),c.Rb(),c.Sb(14,"p"),c.Ic(15),c.Rb(),c.Sb(16,"h4"),c.Ic(17),c.Rb(),c.Sb(18,"p"),c.Ic(19),c.Rb(),c.Gc(20,Qd,4,3,"ng-container",1),c.Gc(21,Xd,1,1,"ng-template",null,11,c.Hc),c.Rb(),c.Pb()),2&t){var n=e.$implicit,i=c.dc(2);c.Ab(2),c.kc("app",i.app)("showName",!1)("showFlags",!1),c.Ab(3),c.Jc(i.app.name),c.Ab(2),c.Jc(i.appInfo.type),c.Ab(2),c.Eb("fade",!i.app.appdesc),c.Ab(1),c.Jc(i.app.appdesc?i.app.appdesc:n("noDescription")),c.Ab(3),c.Jc(n("assignedBy")),c.Ab(2),c.Jc(i.appInfo.assignment),c.Ab(2),c.Jc(n("source")),c.Ab(2),c.Jc(i.appInfo.source),c.Ab(1),c.kc("ngIf",i.appInfo.showLocker)}}function eu(t,e){1&t&&(c.Qb(0),c.Gc(1,tu,23,13,"ng-container",2),c.Pb()),2&t&&(c.Ab(1),c.kc("translocoRead","appInfo"))}var nu=function(){function t(t,e,n){var i=this;this.appsHelper=t,this.nodeApi=e,this.cdr=n,this.visible=!1,this.subscriptions=[],this.subscriptions[0]=t.appInfoVisible.subscribe((function(t){i.app=t,i.visible=!!t,i.appInfo=t?{showLocker:9===t.type||15===t.type,lockerStatus:void 0,assignment:Xt.a.getAssignmentFromApp(t),type:Xt.a.convertTypeToText(i.app.type),source:Xt.a.convertSourceToText(i.app.source)}:void 0,!i.visible||9!==t.type&&15!==t.type||i.getLockerStatus(),i.cdr.detectChanges()}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onVisibleChange=function(){this.visible||this.appsHelper.appInfoVisible.next(void 0)},t.prototype.getLockerStatus=function(){var t=this;(15===this.app.type?this.nodeApi.getLockersForApp(this.app.id,{offset:0,limit:10,search:""}):this.nodeApi.getLockerDetails(this.app.id)).subscribe((function(e){t.appInfo.lockerStatus=15===t.app.type&&e.count>0||9===t.app.type&&e.UserCredentials&&e.UserCredentials.length>0}))},t.\u0275fac=function(e){return new(e||t)(c.Mb(Xt.a),c.Mb(Qt.a),c.Mb(c.h))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-app-info"]],decls:2,vars:2,consts:[["role","dialog","aria-labelledby","appNameLabel",1,"modal-small","auto-height","pad-30",3,"visible","visibleChange"],[4,"ngIf"],[4,"transloco","translocoRead"],[1,"modal-header","flex-start-center"],[3,"app","showName","showFlags"],[1,"info","column-nowrap","flex-start"],["id","appNameLabel"],[1,"tag"],[1,"modal-main-content","column-nowrap"],[1,"small"],[1,"divider"],["loader",""],[4,"ngIf","ngIfElse"],[3,"strokeWidth"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(){return e.onVisibleChange()})),c.Gc(1,eu,2,1,"ng-container",1),c.Rb()),2&t&&(c.kc("visible",e.visible),c.Ab(1),c.kc("ngIf",e.app))},directives:[We.H,i.l,Te.c,Rn,We.M],styles:[".modal-header[_ngcontent-%COMP%]{-ms-flex-flow:row nowrap;flex-flow:row nowrap}application[_ngcontent-%COMP%]{margin-right:10px}h3[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 20px)!important;margin-bottom:10px;font-weight:700!important}h4[_ngcontent-%COMP%]{font-weight:800;font-size:calc(var(--font-modifier) * 14px);text-transform:uppercase;margin-bottom:3px}p[_ngcontent-%COMP%]{word-spacing:normal;letter-spacing:normal;margin-bottom:20px;font-size:calc(var(--font-modifier) * 14px)!important}p.small[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px)!important}p.fade[_ngcontent-%COMP%]{color:var(--color-medium)}.tag[_ngcontent-%COMP%]{border-radius:5px;background-color:var(--color-bg-dark);font-weight:600;font-size:calc(var(--font-modifier) * 14px);padding:5px 10px}.divider[_ngcontent-%COMP%]{margin:20px 0;min-height:1px;width:100%;height:1px;background-color:var(--color-border-dark)}"]}),t}(),iu=["startBtn"],ou=function(t){return{name:t}};function ru(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Nb(1,"img",2),c.Sb(2,"div",3),c.Sb(3,"h2"),c.Ic(4),c.Rb(),c.Sb(5,"p"),c.Ic(6),c.Rb(),c.Sb(7,"button",4,5),c.Zb("click",(function(){return c.yc(n),c.dc().openSetup()})),c.Ic(9),c.Rb(),c.Sb(10,"button",6),c.Zb("click",(function(){return c.yc(n),c.dc().skip()})),c.Ic(11),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(1),c.kc("src","/assets/images/wizard-intro-graphic.svg",c.Ac)("alt",i("welcomeImgAlt")),c.Ab(3),c.Jc(i("welcomeTitle",c.nc(6,ou,o.name))),c.Ab(2),c.Jc(i("welcomeSubtitle")),c.Ab(3),c.Jc(i("getStarted")),c.Ab(2),c.Jc(i("skip"))}}var au=function(){function t(t,e,n){var i=this;this.sessionService=t,this.initialRunHelper=e,this.notificationsHelper=n,this.open=new c.n,this.close=new c.n,this.name="",this.subscriptions=[],this.subscriptions[0]=t.userInfoUpdated.subscribe((function(t){return i.name=(null==t?void 0:t.FirstName)+" "+(null==t?void 0:t.LastName)})),this.subscriptions[1]=e.modalVisible.subscribe((function(t){var e=t.visible;i.visible=e,e&&Object(T.a)(700).subscribe((function(){return i.startBtn.nativeElement.focus()}))})),this.subscriptions[2]=n.openModalCount.subscribe((function(t){return i.openModalCount=t}))}return t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.openSetup=function(){this.open.emit(),this.visible=!1},t.prototype.skip=function(){this.close.emit(),this.visible=!1},t.prototype.onVisibleChange=function(t){this.openModalCount=t?++this.openModalCount:--this.openModalCount,this.notificationsHelper.updateOpenModalCount(this.openModalCount),this.initialRunHelper.modalVisible.next({visible:t})},t.\u0275fac=function(e){return new(e||t)(c.Mb(ae.a),c.Mb(io),c.Mb(vi))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-welcome-modal"]],viewQuery:function(t,e){var n;1&t&&c.Nc(iu,!0),2&t&&c.uc(n=c.ac())&&(e.startBtn=n.first)},outputs:{open:"open",close:"close"},decls:2,vars:4,consts:[[1,"modal-small","welcome-wizard",3,"visible","showCloseIcon","clFocusTrap","visibleChange"],[4,"transloco","translocoRead"],[3,"src","alt"],[1,"content-container"],["tabindex","0",1,"button","button-primary",3,"click"],["startBtn",""],[1,"button","skip",3,"click"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(t){return e.onVisibleChange(t)})),c.Gc(1,ru,12,8,"ng-container",1),c.Rb()),2&t&&(c.kc("visible",e.visible)("showCloseIcon",!1)("clFocusTrap",!0),c.Ab(1),c.kc("translocoRead","initialRun"))},directives:[We.H,We.y,Te.c],styles:["cl-modal[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{margin:auto;padding:20px;text-align:center}cl-modal[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;font-weight:800;margin:20px 0 10px}cl-modal[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   button.button-primary[_ngcontent-%COMP%]{min-height:35px;height:35px;margin:25px auto 0}cl-modal[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   button.skip[_ngcontent-%COMP%]{color:var(--color-medium);text-decoration:underline;margin:auto;font-weight:400}"]}),t}(),su=function(){function t(){this.slideover=new de.a({open:!1,key:"",videoSrc:"",steps:null})}return t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}();function cu(t,e){if(1&t&&(c.Sb(0,"p"),c.Ic(1),c.Rb()),2&t){var n=e.$implicit,i=c.dc(3);c.Ab(1),c.Jc(i.steps[n])}}function lu(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",3),c.Sb(2,"h2"),c.Ic(3),c.Rb(),c.Sb(4,"p"),c.Ic(5),c.Rb(),c.Rb(),c.Sb(6,"div",4),c.Sb(7,"video",5),c.Nb(8,"source",6),c.Rb(),c.Sb(9,"div",7),c.Gc(10,cu,2,1,"p",8),c.Rb(),c.Rb(),c.Pb()),2&t){var n=c.dc().$implicit,i=c.dc();c.Ab(3),c.Jc(n("launchpadLesson")),c.Ab(2),c.Jc(n("steps."+i.key)),c.Ab(3),c.kc("src",i.videoSrc,c.Ac),c.Ab(2),c.kc("ngForOf",i.stepKeys)}}function pu(t,e){if(1&t){var n=c.Tb();c.Sb(0,"cl-slideover",1),c.Zb("visibleChange",(function(t){return c.yc(n),c.dc().visible=t})),c.Gc(1,lu,11,4,"ng-container",2),c.Rb()}if(2&t){var i=c.dc();c.kc("visible",i.visible),c.Ab(1),c.kc("ngIf",i.visible)}}var du=function(){function t(t){var e=this;this.learnMoreService=t,this.steps={},this.stepKeys=[],this.subscription=t.slideover.subscribe((function(t){var n=t.open,i=t.steps,o=t.key,r=t.videoSrc;e.visible=n,n&&(e.key=o,e.steps=i,e.videoSrc=Re.a.videosCdn+"/"+r+".webm",e.orderSteps(i))}))}return t.prototype.ngOnInit=function(){},t.prototype.orderSteps=function(t){var e=Object.keys(t);e.sort((function(t,e){return+t<+e?-1:1})),this.stepKeys=e},t.\u0275fac=function(e){return new(e||t)(c.Mb(su))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-learn-more-slideover"]],decls:1,vars:1,consts:[[3,"visible","visibleChange",4,"transloco","translocoRead"],[3,"visible","visibleChange"],[4,"ngIf"],[1,"slideover-header"],[1,"slideover-content"],["autoplay","","loop","","playsinline",""],["type","video/webm",3,"src"],[1,"instructions"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&c.Gc(0,pu,2,2,"cl-slideover",0),2&t&&c.kc("translocoRead","initialRun")},directives:[Te.c,We.S,i.l,i.k],styles:[".slideover-header[_ngcontent-%COMP%]{-ms-flex-flow:column nowrap!important;flex-flow:column nowrap!important;-ms-flex-pack:center!important;justify-content:center!important;-ms-flex-align:start!important;align-items:flex-start!important}.slideover-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:#008ad7;font-size:calc(var(--font-modifier)*18px);margin:15px 0}.slideover-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;font-size:calc(var(--font-modifier)*14px)}.slideover-content[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{max-width:100%;width:100%;border-radius:10px;margin-bottom:20px;height:auto}.slideover-content[_ngcontent-%COMP%]   .instructions[_ngcontent-%COMP%]{background-color:var(--color-bg-dark);border-radius:10px;padding:20px}.slideover-content[_ngcontent-%COMP%]   .instructions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:last-of-type){margin-bottom:15px}"]}),t}();function uu(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",12),c.Nb(1,"img",13),c.Sb(2,"cl-slide-toggle",14),c.Zb("toggledChange",(function(t){c.yc(n);var i=e.$implicit;return c.dc(2).onCustomizationChange("theme",i.value,t)})),c.Ic(3),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc().$implicit,r=c.dc();c.Ab(1),c.kc("src",i.image,c.Ac),c.Ab(1),c.kc("toggled",r.settings.customUISettings.theme===i.value)("disabled",!r.settings.userInfo.canSetTheme),c.Ab(1),c.Lc(" ",o(i.label)," ",i.default?"("+o("default")+")":""," ")}}function gu(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",7),c.Sb(1,"div",15),c.Sb(2,"div",16),c.Nb(3,"img",13),c.Rb(),c.Sb(4,"label"),c.Ic(5),c.Rb(),c.Rb(),c.Sb(6,"cl-slide-toggle",17),c.Zb("toggledChange",(function(t){c.yc(n);var i=e.$implicit;return c.dc(2).onCustomizationChange("iconSize",i.value,t)})),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc().$implicit,r=c.dc();c.Ab(3),c.kc("src",i.image,c.Ac),c.Ab(2),c.Jc(o(i.label)),c.Ab(1),c.kc("disabled",2===r.settings.customUISettings.theme)("toggled",r.settings.customUISettings.iconSize===i.value)}}function hu(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",7),c.Sb(1,"div",15),c.Sb(2,"span",18),c.Ic(3,"A"),c.Rb(),c.Sb(4,"label"),c.Ic(5),c.Rb(),c.Rb(),c.Sb(6,"cl-slide-toggle",17),c.Zb("toggledChange",(function(t){c.yc(n);var i=e.$implicit;return c.dc(2).onCustomizationChange("fontBackgroundTreatment",i.value,t)})),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc().$implicit,r=c.dc();c.Ab(2),c.kc("ngClass",i.class),c.Ab(3),c.Lc("",o(i.label)," ",i.default?"("+o("default")+")":"",""),c.Ab(1),c.kc("disabled",1!==r.settings.customUISettings.theme)("toggled",r.settings.customUISettings.fontBackgroundTreatment===i.value)}}function bu(t,e){if(1&t&&(c.Sb(0,"label"),c.Ic(1),c.Rb()),2&t){var n=e.$implicit;c.Ab(1),c.Jc(n("highContrast"))}}function fu(t,e){if(1&t&&(c.Sb(0,"label"),c.Ic(1),c.Rb()),2&t){var n=e.$implicit;c.Ab(1),c.Jc(n("preview"))}}function mu(t,e){if(1&t&&(c.Sb(0,"p"),c.Ic(1),c.Rb()),2&t){var n=e.$implicit;c.Ab(1),c.Jc(n("previewDescription"))}}function vu(t,e){if(1&t&&c.Nb(0,"application",19),2&t){var n=c.dc(2);c.kc("app",n.exampleApp)}}var yu=function(){return[0,1,2,3,4,5]};function Cu(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div"),c.Sb(1,"div",1),c.Gc(2,uu,4,5,"div",2),c.Rb(),c.Sb(3,"div",3),c.Sb(4,"div",4),c.Sb(5,"h3",5),c.Ic(6),c.Rb(),c.Gc(7,gu,7,4,"div",6),c.Nb(8,"hr"),c.Gc(9,hu,7,5,"div",6),c.Sb(10,"div",7),c.Gc(11,bu,2,1,"label",0),c.Sb(12,"cl-slide-toggle",8),c.Zb("toggledChange",(function(t){return c.yc(n),c.dc().settings.customUISettings.highContrastSelected=t}))("toggledChange",(function(t){return c.yc(n),c.dc().onCustomizationChange("highContrastSelected",t)})),c.Rb(),c.Rb(),c.Rb(),c.Sb(13,"div",9),c.Gc(14,fu,2,1,"label",0),c.Gc(15,mu,2,1,"p",0),c.Sb(16,"div",10),c.Gc(17,vu,1,1,"application",11),c.Rb(),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(2),c.kc("ngForOf",o.themeOptions),c.Ab(4),c.Jc(i("appSize")),c.Ab(1),c.kc("ngForOf",o.sizeOptions),c.Ab(2),c.kc("ngForOf",o.fontStyleOptions),c.Ab(2),c.kc("translocoRead","header"),c.Ab(1),c.kc("toggled",o.settings.customUISettings.highContrastSelected),c.Ab(2),c.kc("translocoRead","myProfile.themes"),c.Ab(1),c.kc("translocoRead","initialRun"),c.Ab(2),c.kc("ngForOf",c.mc(9,yu))}}var xu=function(){function t(t,e,n,i){var o=this;this.settingsHelper=t,this.settingsService=e,this.sessionService=n,this.initialRunHelper=i,this.themeCustomized=new c.n,this.Themes=Ee.a,this.exampleApp={name:"Application Name",icon:Re.a.coreCDN+"/assets/images/default-app-icon.png"},this.themeOptions=[{label:"classic",value:1,image:"assets/images/lp-wizard-classic.png",default:!0},{label:"primary",value:2,image:"assets/images/lp-wizard-primary.png"},{label:"professional",value:3,image:"assets/images/lp-wizard-professional.png"}],this.sizeOptions=[{label:"small",value:"small",image:"assets/images/app-icon-small.svg"},{label:"default",value:"medium",image:"assets/images/app-icon-default.svg"},{label:"large",value:"large",image:"assets/images/app-icon-large.svg"}],this.fontStyleOptions=[{label:"textBackground",value:"solid-block",class:"text-bg",default:!0},{label:"textShadow",value:"text-shadow",class:"text-shadow"}],this.subscriptions=[],this.subscriptions[0]=n.settingsUpdated.subscribe((function(t){o.settings=t,t.userInfo.canSetTheme||(o.themeOptions=[Ce()(o.themeOptions,(function(e){return e.value===t.customUISettings.theme}))])}))}return t.prototype.ngOnInit=function(){},t.prototype.onCustomizationChange=function(t,e,n){if(this.themeCustomized.emit(),"highContrastSelected"!==t&&!n)switch(t){case"fontBackgroundTreatment":e="solid-block"===e?"text-shadow":"solid-block";break;case"iconSize":e="medium"===e?"small":"medium";break;case"theme":e=1===e?2:1}this.settings.customUISettings[t]=e,this.sessionService.setSettings(this.settings),this.settingsService.setSettings(this.settings).subscribe((function(t){}));var i=this.initialRunHelper.progress.value;i.customizeTheme=!0,this.initialRunHelper.progress.next(i)},t.\u0275fac=function(e){return new(e||t)(c.Mb(re.a),c.Mb(di.a),c.Mb(ae.a),c.Mb(io))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-customize-theme"]],outputs:{themeCustomized:"themeCustomized"},decls:1,vars:1,consts:[[4,"transloco","translocoRead"],[1,"flex-space-between-center"],["class","theme-option",4,"ngFor","ngForOf"],[1,"customizations"],[1,"display-options"],[1,"size"],["class","option",4,"ngFor","ngForOf"],[1,"option"],[3,"toggled","toggledChange"],[1,"preview"],[1,"preview-container"],["clLastFocused","","class","cl-focusable","class","cl-app app-margin",3,"app",4,"ngFor","ngForOf"],[1,"theme-option"],[3,"src"],[3,"toggled","disabled","toggledChange"],[1,"display-opt"],[1,"img-wrapper"],[3,"disabled","toggled","toggledChange"],[1,"icon-ctnr",3,"ngClass"],["clLastFocused","",1,"cl-app","app-margin",3,"app"]],template:function(t,e){1&t&&c.Gc(0,Cu,18,10,"div",0),2&t&&c.kc("translocoRead","editBar")},directives:[Te.c,i.k,We.Q,i.j,Rn,We.F],styles:[".theme-option[_ngcontent-%COMP%]{max-width:30%}.theme-option[_ngcontent-%COMP%]   cl-slide-toggle[_ngcontent-%COMP%]{display:block;margin-top:20px}.theme-option[_ngcontent-%COMP%]   cl-slide-toggle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier)*14px)}.customizations[_ngcontent-%COMP%]{margin-top:40px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.customizations[_ngcontent-%COMP%]   .display-options[_ngcontent-%COMP%]{margin-right:20px;-ms-flex-positive:1;flex-grow:1}.customizations[_ngcontent-%COMP%]   .display-options[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:calc(var(--font-modifier)*16px);margin-bottom:20px}.customizations[_ngcontent-%COMP%]   .display-options[_ngcontent-%COMP%]   h3.size[_ngcontent-%COMP%]{margin-bottom:30px}.customizations[_ngcontent-%COMP%]   .display-options[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:none;border-top:.5px solid var(--color-border-dark);margin-bottom:25px}.customizations[_ngcontent-%COMP%]   .display-options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{margin-bottom:20px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center}.customizations[_ngcontent-%COMP%]   .display-options[_ngcontent-%COMP%]   .option.size[_ngcontent-%COMP%]{min-height:60px}.customizations[_ngcontent-%COMP%]   .display-options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;font-size:calc(var(--font-modifier) * 14px);letter-spacing:.3px}.customizations[_ngcontent-%COMP%]   .display-options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .display-opt[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.customizations[_ngcontent-%COMP%]   .display-options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .display-opt[_ngcontent-%COMP%]   .icon-ctnr[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 20px);display:block;font-weight:700;margin-right:10px;width:25px;text-align:center}.customizations[_ngcontent-%COMP%]   .display-options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .display-opt[_ngcontent-%COMP%]   .icon-ctnr.text-bg[_ngcontent-%COMP%]{background-color:var(--color-primary)}.customizations[_ngcontent-%COMP%]   .display-options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .display-opt[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{min-width:72px;margin-right:10px}.preview[_ngcontent-%COMP%]{width:60%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;font-size:calc(var(--font-modifier)*18px);letter-spacing:.3px;margin-bottom:5px}.preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}.preview[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1;border-radius:5px;display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap;background-color:var(--color-bg-dark);padding:0 10px}"]}),t}();function wu(t,e){1&t&&(c.Sb(0,"div",7),c.Nb(1,"i",8),c.Rb())}function Pu(t,e){if(1&t&&(c.Sb(0,"p",9),c.Ic(1),c.Rb()),2&t){var n=c.dc().$implicit,i=c.dc();c.Ab(1),c.Jc(n(i.cardContent.description))}}var Ou=function(t,e){return{checked:t,selected:e}};function Mu(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",1),c.Zb("click",(function(){return c.yc(n),c.dc().clicked.emit()})),c.Sb(1,"div",2),c.Sb(2,"div",3),c.Nb(3,"i",4),c.Sb(4,"p"),c.Ic(5),c.Rb(),c.Rb(),c.Gc(6,wu,2,0,"div",5),c.Rb(),c.Gc(7,Pu,2,1,"p",6),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc();c.kc("ngClass",c.oc(7,Ou,o.checked,o.selected)),c.Bb("aria-controls",o.label)("aria-selected",o.selected),c.Ab(3),c.kc("ngClass",o.cardContent.icon),c.Ab(2),c.Jc(i(o.cardContent.title)),c.Ab(1),c.kc("ngIf",o.checked),c.Ab(1),c.kc("ngIf",o.cardContent.description)}}var _u=function(){function t(){this.clicked=new c.n}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["app-option-card"]],inputs:{cardContent:"cardContent",checked:"checked",selected:"selected",label:"label"},outputs:{clicked:"clicked"},decls:1,vars:0,consts:[["class","card-container","role","tab",3,"ngClass","click",4,"transloco"],["role","tab",1,"card-container",3,"ngClass","click"],[1,"top","flex-space-between-center"],[1,"card-title","flex-start-center"],[3,"ngClass"],["class","circle-check",4,"ngIf"],["class","description",4,"ngIf"],[1,"circle-check"],[1,"far","fa-check"],[1,"description"]],template:function(t,e){1&t&&c.Gc(0,Mu,8,10,"div",0)},directives:[Te.c,i.j,i.l],styles:[".card-container[_ngcontent-%COMP%]{width:350px;height:120px;padding:15px 20px;border-radius:4px;border:1px solid var(--color-border-dark);cursor:pointer}.card-container.checked[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-primary)}.card-container.selected[_ngcontent-%COMP%]{border:1px solid var(--color-primary)}.card-container[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px rgba(0,0,0,.1)}.card-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700}.card-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:10px;font-size:30px;color:var(--color-border-dark)}.card-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .circle-check[_ngcontent-%COMP%]{border-radius:50%;border:1px solid var(--color-primary);display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;height:30px;width:30px}.card-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .circle-check[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:18px;color:var(--color-primary)}.card-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-style:italic;margin-top:15px}"]}),t}();function ku(t,e){1&t&&(c.Sb(0,"div",3),c.Nb(1,"cl-progress-spinner"),c.Rb())}function Su(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-option-card",10),c.Zb("clicked",(function(){c.yc(n);var t=c.dc().$implicit;return c.dc(3).onOptionClick(t.id)})),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc(3);c.kc("cardContent",i)("selected",i.id===o.activeTab)("checked",i.enabled)("label","recoveryTabpanel")}}function Au(t,e){if(1&t&&(c.Qb(0),c.Gc(1,Su,1,4,"app-option-card",9),c.Pb()),2&t){var n=e.$implicit;c.Ab(1),c.kc("ngIf",n.show)}}function Iu(t,e){if(1&t&&(c.Sb(0,"div",12),c.Nb(1,"i",13),c.Sb(2,"p"),c.Ic(3),c.Rb(),c.Rb()),2&t){var n=e.$implicit;c.Ab(3),c.Jc(n("emailRecoveryWarning"))}}function Ru(t,e){1&t&&(c.Qb(0),c.Gc(1,Iu,4,1,"div",11),c.Pb()),2&t&&(c.Ab(1),c.kc("translocoRead","initialRun"))}function Tu(t,e){if(1&t&&(c.Sb(0,"div",4),c.Gc(1,Au,2,1,"ng-container",5),c.Rb(),c.Sb(2,"div",6),c.Gc(3,Ru,2,1,"ng-container",7),c.Nb(4,"app-password-recovery",8),c.Rb()),2&t){var n=c.dc(2);c.Ab(1),c.kc("ngForOf",n.recoveryOptions),c.Ab(2),c.kc("ngIf",n.showWarning),c.Ab(1),c.kc("initialRun",!0)}}function Fu(t,e){if(1&t&&(c.Sb(0,"div"),c.Gc(1,ku,2,0,"div",1),c.Gc(2,Tu,5,3,"ng-template",null,2,c.Hc),c.Rb()),2&t){var n=c.vc(3),i=c.dc();c.Ab(1),c.kc("ngIf",i.loading)("ngIfElse",n)}}var Eu=function(){function t(t,e){var n=this;this.nodeApi=t,this.initialRunHelper=e,this.recoveryOptions=[{title:"myProfile.security.mobilePhone",val:"phones",icon:"far fa-phone",id:0,show:!1,enabled:!1,description:"myProfile.security.passwordRecovery.phoneInfo",selected:!1},{title:"myProfile.security.email",val:"emails",icon:"far fa-envelope",id:1,show:!1,enabled:!1,description:"myProfile.security.passwordRecovery.emailInfo",selected:!1},{title:"myProfile.security.questions",val:"secretquestions",icon:"far fa-question-circle",id:2,show:!1,enabled:!1,description:"myProfile.security.passwordRecovery.questionInfo",selected:!1}],this.showWarning=!1,this.loading=!0,this.subscriptions=[],this.subscriptions[0]=e.initialRunSettingsUpdated.subscribe((function(t){var e=t?500:0;Object(T.a)(e).subscribe((function(){return n.getUserRecoveryOptions()}))}))}return t.prototype.ngOnInit=function(){this.getUserRecoveryOptions()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getUserRecoveryOptions=function(){var t=this;this.nodeApi.getCurrentRecoveryOptions().subscribe((function(e){t.recoveryOptions.forEach((function(t){t.enabled=!!e[t.val].length,t.show=0!==e[t.val]}));var n=t.recoveryOptions.find((function(t){return t.show}));t.activeTab||(t.activeTab=n.id),t.shouldShowWarning(),t.initialRunHelper.recoverySelectionChanged.next(t.activeTab),t.loading=!1}))},t.prototype.shouldShowWarning=function(){var t=ne()(this.recoveryOptions,(function(t){return t.enabled}));this.showWarning=1===t.length&&"emails"===t[0].val},t.prototype.onOptionClick=function(t){this.activeTab=t,this.initialRunHelper.recoverySelectionChanged.next(t)},t.\u0275fac=function(e){return new(e||t)(c.Mb(Qt.a),c.Mb(io))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-recovery-setup"]],decls:1,vars:1,consts:[[4,"transloco","translocoRead"],["class","flex-center",4,"ngIf","ngIfElse"],["recovery",""],[1,"flex-center"],["role","tablist",1,"flex-start"],[4,"ngFor","ngForOf"],["role","tabpanel","id","recoveryTabpanel"],[4,"ngIf"],[3,"initialRun"],[3,"cardContent","selected","checked","label","clicked",4,"ngIf"],[3,"cardContent","selected","checked","label","clicked"],["class","warning",4,"transloco","translocoRead"],[1,"warning"],[1,"far","fa-exclamation-triangle"]],template:function(t,e){1&t&&c.Gc(0,Fu,4,2,"div",0),2&t&&c.kc("translocoRead","myProfile.security")},directives:[Te.c,i.l,We.M,i.k,Ws,_u],styles:[".flex-start[_ngcontent-%COMP%]{margin-bottom:40px;-ms-flex-wrap:wrap;flex-wrap:wrap}.flex-start[_ngcontent-%COMP%]   app-option-card[_ngcontent-%COMP%]{margin:0 15px 15px 0}"]}),t}();function Du(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-option-card",9),c.Zb("clicked",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onOptionClick(t.value)})),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(3);c.kc("cardContent",i)("selected",i.value===o.selectedOption)("checked",i.value===o.selectedOption)("label","mfaTabpanel")}}function Lu(t,e){if(1&t&&(c.Sb(0,"div"),c.Sb(1,"p",10),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=c.dc(2).$implicit;c.Ab(2),c.Kc(" ",n("myProfile.security.twoFactor.validateTwoFactorDetail")," ")}}function Nu(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",5),c.Gc(2,Du,1,4,"app-option-card",6),c.Rb(),c.Gc(3,Lu,3,1,"div",4),c.Sb(4,"div",7),c.Sb(5,"app-two-factor",8),c.Zb("validateTwoFactor",(function(){return c.yc(n),c.dc(2).validateTwoFactor()})),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.dc(2);c.Ab(2),c.kc("ngForOf",i.twoFactorOptions),c.Ab(1),c.kc("ngIf",i.twoFactorError),c.Ab(2),c.kc("initialRun",!0)}}var Hu=function(){return{"margin-right.px":10}};function Gu(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div"),c.Sb(1,"div",1),c.Sb(2,"cl-slide-toggle",2),c.Zb("toggledChange",(function(t){return c.yc(n),c.dc().twoFactor.is_eanabled=t}))("toggledChange",(function(t){return c.yc(n),c.dc().toggle2FA(t)})),c.Rb(),c.Sb(3,"label",3),c.Ic(4),c.Rb(),c.Rb(),c.Gc(5,Nu,6,3,"ng-container",4),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(2),c.kc("ngStyle",c.mc(5,Hu))("toggled",o.twoFactor.is_eanabled)("disabled",o.twoFactorRequired),c.Ab(2),c.Jc(i("myProfile.security.enableTwoFactor")),c.Ab(1),c.kc("ngIf",o.twoFactor.is_eanabled)}}var Bu=function(){function t(t,e,n,i){var o=this;this.nodeApi=t,this.profileHelper=e,this.translationHelper=n,this.tmsService=i,this.verifyMFAMethod=new c.n,this.twoFactorEnabled=new c.n,this.twoFactorError=!1,this.twoFactorOptions=[],this.twoFactor={created_datetime:"",gauth_set:!1,id:null,image1:null,is_eanabled:!1,type:1},this.yubikeyRegistered=!1,this.twoFactorRequired=!1,this.pinConfigured=!1,this.subscriptions=[],this.subscriptions[0]=e.generalSettingsUpdated.subscribe((function(t){o.generalSettings=t,o.twoFactorOptions=[],t.EnableTwofactorSMS&&o.twoFactorOptions.push({title:"myProfile.security.mobileSms",value:1,verifyFunc:function(){return o.is2FAPhoneEnabled()},icon:"far fa-phone"}),t.EnableTwofactorImage&&o.twoFactorOptions.push({title:"myProfile.security.image",value:2,verifyFunc:function(){return o.is2FAImageEnabled()},icon:"far fa-image"}),t.EnableTwofactorMobile&&o.twoFactorOptions.push({title:"myProfile.security.authenticator",value:3,verifyFunc:function(){return o.is2FAAuthenticatorEnabled()},icon:"far fa-mobile-alt"}),t.EnableTwofactorDuo&&o.twoFactorOptions.push({title:"myProfile.security.duoPush",value:4,verifyFunc:function(){return o.is2FADuoPushEnabled()},icon:"far fa-mobile-alt"}),t.EnableTwofactorYubikey&&o.twoFactorOptions.push({title:"myProfile.security.yubikey",value:6,verifyFunc:function(){return o.is2FAYubikeyEnabled()},icon:"far fa-usb-drive"}),t.EnableTwofactorPIN&&o.twoFactorOptions.push({title:"myProfile.security.pin",value:7,verifyFunc:function(){return o.is2FAPinEnabled()},icon:"far fa-user-shield"})}))}return t.prototype.ngOnInit=function(){var t=this;this.getTwoFactor(),this.tmsService.getMFARequired().subscribe((function(e){return t.twoFactorRequired=e}),(function(){return t.twoFactorRequired=!1}))},t.prototype.onOptionClick=function(t){var e=this;this.selectedOption=t,this.twoFactorOptions.find((function(t){return t.value===e.selectedOption})).verifyFunc()?(this.twoFactor.type=t,this.verifyMFAMethod.emit(!0),this.nodeApi.updateTwoFactor(this.twoFactor).subscribe((function(t){}))):this.verifyMFAMethod.emit(!1),this.profileHelper.securityIndexChanged.next(t)},t.prototype.getTwoFactor=function(){var t=this;this.nodeApi.getTwoFactor().subscribe((function(e){t.twoFactor=e||t.twoFactor,t.twoFactorEnabled.emit(t.twoFactor.is_eanabled),t.verifyMFAMethod.emit(!0),t.selectedOption=t.twoFactor.type,t.twoFactor&&t.generalSettings.EnableTwofactorSMS&&t.getPhoneSetting(),t.twoFactor&&t.generalSettings.EnableTwofactorYubikey&&t.getYubikeySetting(),t.twoFactor&&t.generalSettings.EnableTwofactorPIN&&t.getPinSettings(),t.profileHelper.securityIndexChanged.next(t.selectedOption)}))},t.prototype.toggle2FA=function(t){var e=this;this.twoFactor.is_eanabled=t,this.twoFactorEnabled.emit(this.twoFactor.is_eanabled),this.nodeApi.updateTwoFactor(this.twoFactor).subscribe((function(n){var i=e.twoFactorOptions.find((function(t){return t.value===e.selectedOption})).verifyFunc();e.verifyMFAMethod.emit(!!i),e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.security.twoFactorAuthentication",verb:t?"common.enabled":"common.disabled"})}),(function(n){e.twoFactor.is_eanabled=!t})),this.selectedOption=this.twoFactor.type,this.profileHelper.securityIndexChanged.next(this.twoFactor.type)},t.prototype.validateTwoFactor=function(){this.getTwoFactor()},t.prototype.getPhoneSetting=function(){var t=this;this.nodeApi.getPhoneSeting().subscribe((function(e){t.twoFactorPhone=e}))},t.prototype.getYubikeySetting=function(){var t=this;this.nodeApi.checkYubikeyRegistration().subscribe((function(e){t.yubikeyRegistered=1===e.status}),(function(){t.yubikeyRegistered=!1}))},t.prototype.getPinSettings=function(){var t=this;this.tmsService.getStoredMfa("pin").subscribe((function(e){e.length&&(t.pinConfigured=!0)}))},t.prototype.is2FAPhoneEnabled=function(){return this.twoFactorPhone&&this.twoFactorPhone.is_verified},t.prototype.is2FAImageEnabled=function(){return this.twoFactor.image1&&""!==this.twoFactor.image1},t.prototype.is2FAAuthenticatorEnabled=function(){return this.twoFactor.gauth_set},t.prototype.is2FADuoPushEnabled=function(){return 4===this.twoFactor.type},t.prototype.is2FAYubikeyEnabled=function(){return this.yubikeyRegistered},t.prototype.is2FAPinEnabled=function(){return this.pinConfigured},t.\u0275fac=function(e){return new(e||t)(c.Mb(Qt.a),c.Mb(Fe),c.Mb(Be.a),c.Mb(pi))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-two-factor-setup"]],inputs:{twoFactorError:"twoFactorError"},outputs:{verifyMFAMethod:"verifyMFAMethod",twoFactorEnabled:"twoFactorEnabled"},decls:1,vars:0,consts:[[4,"transloco"],[1,"toggle-wrapper"],["id","enable2FAToggle",1,"bold-label",3,"ngStyle","toggled","disabled","toggledChange"],["for","enable2FAToggle"],[4,"ngIf"],["role","tablist",1,"flex-start"],[3,"cardContent","selected","checked","label","clicked",4,"ngFor","ngForOf"],["role","tabpanel","id","mfaTabPanel"],[3,"initialRun","validateTwoFactor"],[3,"cardContent","selected","checked","label","clicked"],[1,"error-msg"]],template:function(t,e){1&t&&c.Gc(0,Gu,6,6,"div",0)},directives:[Te.c,We.Q,i.m,i.l,i.k,Ac,_u],styles:[".flex-start[_ngcontent-%COMP%]{margin-bottom:40px;-ms-flex-wrap:wrap;flex-wrap:wrap}.flex-start[_ngcontent-%COMP%]   app-option-card[_ngcontent-%COMP%]{margin:0 15px 15px 0}.toggle-wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;margin:20px 0}.toggle-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:800!important;font-size:calc(var(--font-modifier) * 13px)}.error-msg[_ngcontent-%COMP%]{color:var(--color-danger);font-weight:600;margin-bottom:40px}"]}),t}(),ju=["tabpanel"],Uu=["tabitem"];function zu(t,e){1&t&&(c.Sb(0,"div",29),c.Nb(1,"i",30),c.Rb())}var Vu=function(t,e){return{width:t,height:e}};function Zu(t,e){if(1&t&&(c.Sb(0,"div",29),c.Nb(1,"div",31),c.Rb()),2&t){var n=c.dc().index,i=c.dc(2);c.Ab(1),c.kc("ngStyle",c.oc(1,Vu,i.activeStep===n?"30%":"20%",i.activeStep===n?"30%":"20%"))}}function $u(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",24,25),c.Zb("click",(function(){c.yc(n);var t=e.index;return c.dc(2).onStepSelect(t)}))("keydown.enter",(function(){c.yc(n);var t=e.index;return c.dc(2).onStepSelect(t)}))("keydown.space",(function(){c.yc(n);var t=e.index;return c.dc(2).onStepSelect(t)}))("keydown.arrowleft",(function(){c.yc(n);var t=e.index;return c.dc(2).nav("left",t)}))("keydown.arrowright",(function(){c.yc(n);var t=e.index;return c.dc(2).nav("right",t)})),c.Sb(2,"p"),c.Ic(3),c.Rb(),c.Sb(4,"div",26),c.Gc(5,zu,2,0,"div",27),c.Gc(6,Zu,2,4,"ng-template",null,28,c.Hc),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=e.index,r=c.vc(7),a=c.dc().$implicit,s=c.dc();c.kc("tabindex",s.activeStep===o?0:-1),c.Bb("aria-controls","initialRunPanel")("aria-selected",s.activeStep===o),c.Ab(3),c.Jc(a("steps."+i.key)),c.Ab(2),c.kc("ngIf",i.completed&&!(s.activeStep===o))("ngIfElse",r)}}function Wu(t,e){if(1&t&&(c.Sb(0,"p"),c.Ic(1),c.Rb()),2&t){var n=c.dc().$implicit,i=c.dc();c.Ab(1),c.Jc(n(i.steps[i.activeStep].description))}}function Ju(t,e){1&t&&c.Nb(0,"app-select-avatar",32),2&t&&c.kc("initialRun",!0)}function qu(t,e){1&t&&c.Nb(0,"app-customize-theme")}function Ku(t,e){1&t&&c.Nb(0,"app-recovery-setup")}function Yu(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-two-factor-setup",33),c.Zb("verifyMFAMethod",(function(t){return c.yc(n),c.dc(2).verifyMFAMethod(t)}))("twoFactorEnabled",(function(t){return c.yc(n),c.dc(2).setTwoFactorEnabled(t)})),c.Rb()}if(2&t){var i=c.dc(2);c.kc("twoFactorError",i.twoFactorError)}}function Qu(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",34),c.Zb("click",(function(){c.yc(n);var t=c.dc(2);return t.activeStep=t.activeStep-1})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc().$implicit;c.Ab(1),c.Jc(i("previous"))}}function Xu(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",1),c.Sb(1,"button",2),c.Zb("click",(function(){return c.yc(n),c.dc().onExit()})),c.Nb(2,"i",3),c.Rb(),c.Sb(3,"div",4),c.Sb(4,"div"),c.Sb(5,"div",5),c.Nb(6,"img",6),c.Sb(7,"h2"),c.Ic(8),c.Rb(),c.Rb(),c.Sb(9,"div",7),c.Sb(10,"div",8),c.Gc(11,$u,8,6,"div",9),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(12,"div",10,11),c.Sb(14,"div",12),c.Sb(15,"div",13),c.Sb(16,"p"),c.Ic(17),c.Rb(),c.Sb(18,"button",14,15),c.Zb("click",(function(){return c.yc(n),c.dc().openLearnMoreSlideover()})),c.Ic(20),c.Sb(21,"span"),c.Nb(22,"i",16),c.Rb(),c.Rb(),c.Rb(),c.Gc(23,Wu,2,1,"p",17),c.Rb(),c.Sb(24,"div",18),c.Gc(25,Ju,1,1,"app-select-avatar",19),c.Gc(26,qu,1,0,"app-customize-theme",17),c.Gc(27,Ku,1,0,"app-recovery-setup",17),c.Gc(28,Yu,1,1,"app-two-factor-setup",20),c.Rb(),c.Sb(29,"div",21),c.Gc(30,Qu,2,1,"button",22),c.Sb(31,"button",23),c.Zb("click",(function(){c.yc(n);var t=c.dc();return t.activeStep<t.steps.length-1?t.activeStep=t.activeStep+1:t.onFinishSetup()})),c.Ic(32),c.Rb(),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc();c.kc("clFocusTrap",!0),c.Ab(6),c.kc("src","/assets/images/classlink-logo-invert.svg",c.Ac),c.Ab(2),c.Jc(i("userWalkthrough")),c.Ab(3),c.kc("ngForOf",o.steps),c.Ab(6),c.Jc(o.activeStep+1+". "+i("steps."+o.steps[o.activeStep].key+"Long")),c.Ab(3),c.Kc(" ",i("learnMore")," "),c.Ab(3),c.kc("ngIf",o.steps[o.activeStep].description),c.Ab(2),c.kc("ngIf","selectAvatar"===o.steps[o.activeStep].key),c.Ab(1),c.kc("ngIf","customizeTheme"===o.steps[o.activeStep].key),c.Ab(1),c.kc("ngIf","passwordRecovery"===o.steps[o.activeStep].key),c.Ab(1),c.kc("ngIf","twoFactorAuth"===o.steps[o.activeStep].key),c.Ab(2),c.kc("ngIf",o.activeStep>0),c.Ab(2),c.Kc(" ",i(o.activeStep<o.steps.length-1?"next":"finish")," ")}}var tg=function(){function t(t,e,n,i,o){var r=this;this.sessionService=t,this.initialRunHelper=e,this.learnMoreSlideoverService=n,this.transloco=i,this.myProfileHelper=o,this.close=new c.n,this.toggleAnim=!1,this.twoFactorRegistered=!0,this.twoFactorError=!1,this.twoFactorEnabled=!1,this.steps=[{key:"selectAvatar",completed:!1,videoSrc:"avatar-selection"},{key:"customizeTheme",completed:!1,videoSrc:"theme-settings"},{key:"passwordRecovery",completed:!1,videoSrc:"pw-recovery-setup",description:"steps.passRecoveryDescription"},{key:"twoFactorAuth",completed:!1,videoSrc:"authenticator-setup",description:"steps.twoFactorDescription"}],this.subscriptions=[],this.subscriptions[0]=t.userInfoUpdated.subscribe((function(t){r.user=t})),this.subscriptions[1]=e.progress.subscribe((function(t){r.steps.forEach((function(e){t[e.key]&&(e.completed=t[e.key])}))})),this.subscriptions[2]=o.generalSettingsUpdated.subscribe((function(t){r.settings=t})),this.setTabs()}return t.prototype.ngOnInit=function(){this.activeStep=0},t.prototype.ngAfterViewInit=function(){this.tabpanel.nativeElement.focus()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.setTabs=function(){7!==this.settings.UserType&&8!==this.settings.UserType&&this.settings.EnablePasswordOptions||ke()(this.steps,(function(t){return"passwordRecovery"===t.key})),this.settings.EnableTwofactor||ke()(this.steps,(function(t){return"twoFactorAuth"===t.key}))},t.prototype.onStepSelect=function(t){this.activeStep=t},t.prototype.openLearnMoreSlideover=function(){var t=this.steps[this.activeStep],e=this.transloco.translateObject("initialRun.instructions."+t.key);this.learnMoreSlideoverService.slideover.next({open:!0,key:t.key,videoSrc:t.videoSrc,steps:e})},t.prototype.onExit=function(){this.close.emit()},t.prototype.nav=function(t,e){var n,i=this.tabs.toArray();"right"===t&&(n=e===i.length-1?0:e+1),"left"===t&&(n=0===e?i.length-1:e-1),i[e].nativeElement.tabIndex="-1",i[n].nativeElement.tabIndex="0",i[n].nativeElement.focus()},t.prototype.verifyMFAMethod=function(t){this.twoFactorRegistered=t,this.twoFactorError=!1},t.prototype.setTwoFactorEnabled=function(t){this.twoFactorEnabled=t,this.twoFactorError=!1},t.prototype.onFinishSetup=function(){this.twoFactorRegistered||!this.twoFactorEnabled?this.close.emit():this.twoFactorError=!0},t.\u0275fac=function(e){return new(e||t)(c.Mb(ae.a),c.Mb(io),c.Mb(su),c.Mb(Te.f),c.Mb(Fe))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-welcome-setup"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(ju,!0),c.Nc(Uu,!0,c.l)),2&t&&(c.uc(n=c.ac())&&(e.tabpanel=n.first),c.uc(n=c.ac())&&(e.tabs=n))},outputs:{close:"close"},decls:2,vars:1,consts:[["class","container",3,"clFocusTrap",4,"transloco","translocoRead"],[1,"container",3,"clFocusTrap"],[1,"button","button-icon","close-btn",3,"click"],[1,"far","fa-times"],[1,"sidebar","custom-scroll"],[1,"heading"],[3,"src"],[1,"steps"],["role","tablist",1,"tabs"],["role","tab","class","tab",3,"tabindex","click","keydown.enter","keydown.space","keydown.arrowleft","keydown.arrowright",4,"ngFor","ngForOf"],["role","tabpanel","id","initialRunPanel","tabindex","0",1,"main-content"],["tabpanel",""],[1,"top"],[1,"flex-space-between-center"],[1,"button","button-text",3,"click"],["learnMoreBtn",""],[1,"far","fa-book-reader"],[4,"ngIf"],[1,"content-container","custom-scroll"],[3,"initialRun",4,"ngIf"],[3,"twoFactorError","verifyMFAMethod","twoFactorEnabled",4,"ngIf"],[1,"content-footer","flex-space-between-center"],["class","button button-default",3,"click",4,"ngIf"],[1,"button","next",3,"click"],["role","tab",1,"tab",3,"tabindex","click","keydown.enter","keydown.space","keydown.arrowleft","keydown.arrowright"],["tabitem",""],[1,"progress-wrapper"],["class","progress-indicator flex-center",4,"ngIf","ngIfElse"],["circle",""],[1,"progress-indicator","flex-center"],["aria-label","indicates if step has been completed",1,"far","fa-check"],["aria-label","indicates if step is selected",1,"circle",3,"ngStyle"],[3,"initialRun"],[3,"twoFactorError","verifyMFAMethod","twoFactorEnabled"],[1,"button","button-default",3,"click"]],template:function(t,e){1&t&&(c.Gc(0,Xu,33,13,"div",0),c.Nb(1,"app-learn-more-slideover")),2&t&&c.kc("translocoRead","initialRun")},directives:[Te.c,du,We.y,i.k,i.l,i.m,vo,xu,Eu,Bu],styles:['div.container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:var(--color-white);z-index:300;display:-ms-flexbox;display:flex}div.container[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{background:linear-gradient(180deg,var(--color-primary),var(--color-primary)),linear-gradient(0deg,var(--color-primary),var(--color-primary));width:275px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-direction:column;flex-direction:column;overflow-y:auto}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;padding:30px 20px;-ms-flex-align:center;align-items:center}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;font-size:calc(var(--font-modifier) * 23px);color:var(--color-white);text-align:right;margin-left:10px}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:75px;width:75px}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%], div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column;width:100%;padding:20px}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{position:relative;cursor:pointer;display:-ms-flexbox;display:flex;margin-bottom:30px;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:after{content:"";position:absolute;width:calc(100% + 16px);height:calc(100% + 10px);top:-5px;left:-8px;border-radius:5px;border:2px solid var(--color-white);opacity:0;transition:all .1s ease-in-out;pointer-events:none}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:focus:after{opacity:1}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;color:var(--color-white);letter-spacing:.3px;font-size:calc(var(--font-modifier)*14px)}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .progress-wrapper[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.1);width:45px;height:45px;border-radius:50%}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .progress-wrapper[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{width:100%;height:100%}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .progress-wrapper[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border-radius:50%;background-color:var(--color-white)}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .progress-wrapper[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-white);font-size:20px}div.container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .number-step[_ngcontent-%COMP%]{margin-top:auto;font-size:225px;font-weight:700;color:var(--color-white);opacity:.2;text-align:right;padding-right:20px}div.container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-direction:column;flex-direction:column;width:calc(100% - 275px)}div.container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{padding:40px}div.container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;font-size:calc(var(--font-modifier)*16px)}div.container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--color-primary)}div.container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:25px;height:25px;background-color:var(--color-primary);border-radius:50%;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;margin-left:5px;font-size:14px}div.container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-white)}div.container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{height:100%;overflow-y:auto;padding:0 40px 40px}div.container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .content-footer[_ngcontent-%COMP%]{position:sticky;border-top:1px solid var(--color-border-dark);background-color:var(--color-bg-light);top:85%;height:15%;width:100%;padding:20px 40px}div.container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .content-footer[_ngcontent-%COMP%]   button.next[_ngcontent-%COMP%]{background-color:var(--color-primary);margin-left:auto;color:var(--color-white)}'],data:{animation:[Object(Ke.j)("fadeAnimation",[Object(Ke.g)("in",Object(Ke.h)({opacity:.2})),Object(Ke.i)(":enter",[Object(Ke.h)({opacity:0}),Object(Ke.e)(400)]),Object(Ke.i)(":leave",Object(Ke.e)(400,Object(Ke.h)({opacity:0})))])]}}),t}();function eg(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-welcome-setup",2),c.Zb("close",(function(){return c.yc(n),c.dc().closeInitialRun()})),c.Rb()}}var ng=function(){function t(t,e,n,i,o){var r=this;this.appsHelper=t,this.sessionService=e,this.settingsHelper=n,this.settingsService=o,this.setupActive=!1,this.subscriptions=[],this.subscriptions[0]=t.welcomeVisibleChanged.subscribe((function(t){r.settings?i.modalVisible.next({visible:t}):r.waitingSettings=t})),this.subscriptions[1]=e.settingsUpdated.subscribe((function(t){r.settings=t,r.waitingSettings&&i.modalVisible.next({visible:!0}),r.waitingSettings=!1}))}return t.prototype.ngOnInit=function(){},t.prototype.closeInitialRun=function(){this.setupActive&&(this.setupActive=!1),this.appsHelper.welcomeVisibleChanged.next(!1),this.settings.customUISettings.showFirstTime=!1,this.sessionService.setSettings(this.settings),this.settingsService.setSettings(this.settings).subscribe((function(t){}))},t.\u0275fac=function(e){return new(e||t)(c.Mb(Xt.a),c.Mb(ae.a),c.Mb(re.a),c.Mb(io),c.Mb(di.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-initial-run-wizard"]],decls:2,vars:1,consts:[[3,"open","close"],[3,"close",4,"ngIf"],[3,"close"]],template:function(t,e){1&t&&(c.Sb(0,"app-welcome-modal",0),c.Zb("open",(function(){return e.setupActive=!0}))("close",(function(){return e.closeInitialRun()})),c.Rb(),c.Gc(1,eg,1,0,"app-welcome-setup",1)),2&t&&(c.Ab(1),c.kc("ngIf",e.setupActive))},directives:[au,i.l,tg],styles:[""]}),t}();function ig(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",8),c.Zb("click",(function(){return c.yc(n),c.dc(2).visible=!1})),c.Ic(1),c.Rb()}if(2&t){var i=e.$implicit;c.Ab(1),c.Kc(" ",i("common.close")," ")}}function og(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",2),c.Nb(2,"i",3),c.Sb(3,"h3"),c.Ic(4),c.Rb(),c.Rb(),c.Sb(5,"div",4),c.Sb(6,"p"),c.Ic(7),c.Rb(),c.Sb(8,"p"),c.Ic(9),c.Sb(10,"a",5),c.Ic(11),c.Rb(),c.Rb(),c.Gc(12,ig,2,1,"button",6),c.Sb(13,"a",7),c.Zb("click",(function(){return c.yc(n),c.dc().openRecoverySettings()})),c.Ic(14),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit;c.Ab(4),c.Jc(i("title")),c.Ab(3),c.Jc(i("detail")),c.Ab(2),c.Kc("",i("instructions")," "),c.Ab(2),c.Kc(" ",i("linkText")," "),c.Ab(3),c.Kc(" ",i("recoveryOptions"),"")}}var rg=function(){function t(t,e,n){var i=this;this.appsHelper=t,this.slideoverService=e,this.notificationsHelper=n,this.visible=!1,this.subscriptions=[],this.subscriptions[0]=t.showRecoveryQuestionsWarning.subscribe((function(t){i.visible=t})),this.subscriptions[1]=n.openModalCount.subscribe((function(t){return i.openModalCount=t}))}return t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe}))},t.prototype.onVisibleChange=function(t){this.visible!==t&&(this.visible=t,this.appsHelper.showRecoveryQuestionsWarning.next(t))},t.prototype.openRecoverySettings=function(){this.onVisibleChange(!1),this.slideoverService.myProfile.opened.next({id:7})},t.prototype.onModalChange=function(t){this.openModalCount=t?++this.openModalCount:--this.openModalCount,this.notificationsHelper.updateOpenModalCount(this.openModalCount)},t.\u0275fac=function(e){return new(e||t)(c.Mb(Xt.a),c.Mb(xe.a),c.Mb(vi))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-recovery-questions-modal"]],decls:2,vars:2,consts:[[1,"modal-small","recovery-questions",3,"visible","visibleChange"],[4,"transloco","translocoRead"],[1,"modal-header"],[1,"far","fa-exclamation-triangle"],[1,"modal-main-content"],["href","https://help.classlink.com/s/article/removing-challenge-response-questions-for-password-recovery","target","_blank"],["class","button button-default",3,"click",4,"transloco"],["tabindex","0",1,"recovery-link","cl-focusable",3,"click"],[1,"button","button-default",3,"click"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(t){return e.onModalChange(t)})),c.Gc(1,og,15,5,"ng-container",1),c.Rb()),2&t&&(c.kc("visible",e.visible),c.Ab(1),c.kc("translocoRead","warnRecoveryQuestions"))},directives:[We.H,Te.c],styles:[".modal-header[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-warning);font-size:30px!important}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 20px)!important}.modal-main-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-of-type{margin:20px 0}.recovery-link[_ngcontent-%COMP%]{margin-left:auto;background-color:var(--color-primary)!important;color:var(--color-white)!important;padding:0 12px;height:40px;width:150px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;font-size:calc(var(--font-modifier) * 12px);font-weight:600;border-radius:5px;cursor:pointer}"]}),t}(),ag=function(t){function e(e){return t.call(this,e)||this}return Object(le.c)(e,t),e.prototype.getUnreadAup=function(){return this.generateRequest("get",this.generateRequestUrl("/v1/aups/unread",void 0,Re.a.aupUrl),this.basicBodyMapFunction)},e.prototype.interactAup=function(t,e){return this.generateRequest("post",this.generateRequestUrl("/v1/aups/"+e+"/interact",void 0,Re.a.aupUrl),this.basicBodyMapFunction,{status:t})},e.\u0275fac=function(t){return new(t||e)(c.Wb(He.b))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(De.a),sg=function(){return function(t){this.id=t.id,this.title=t.title,this.body=t.body}}(),cg=n("wMS7"),lg=n.n(cg),pg=n("6Kvy"),dg=["aup_area"],ug=["closeButton"],gg=["cancelButton"],hg=["stepper"];function bg(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",26),c.Sb(1,"p",27),c.Ic(2),c.Rb(),c.Sb(3,"button",28,29),c.Zb("click",(function(){return c.yc(n),c.dc(3).onCloseoutModal()}))("clClickOutside",(function(){return c.yc(n),c.dc(3).showCloseTooltip=!1})),c.Nb(5,"i",30),c.Rb(),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.vc(3),r=c.dc();c.Ab(2),c.Jc(i("accepted")),c.Ab(1),c.kc("clTooltip",o)("clTooltipPersist",!0)("clTooltipDisplay",r.showCloseTooltip)("clTooltipBodyAppend",!1),c.Bb("aria-label",i("labels.close"))}}function fg(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",28,29),c.Zb("click",(function(){return c.yc(n),c.dc(3).onCloseoutModal()}))("clClickOutside",(function(){return c.yc(n),c.dc(3).showCloseTooltip=!1})),c.Nb(2,"i",30),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.vc(3),r=c.dc();c.kc("clTooltip",o)("clTooltipPersist",!0)("clTooltipDisplay",r.showCloseTooltip)("clTooltipBodyAppend",!1),c.Bb("aria-label",i("labels.close"))}}function mg(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",31),c.Sb(2,"button",32),c.Zb("click",(function(){return c.yc(n),c.dc(3).handleBackStep()})),c.Nb(3,"i",33),c.Rb(),c.Sb(4,"cl-stepper",34,35),c.Zb("emitActiveStepNumber",(function(t){return c.yc(n),c.dc(3).getCurrentStep(t)})),c.Rb(),c.Sb(6,"button",32),c.Zb("click",(function(){c.yc(n);var t=c.dc(3);return t.handleNextStep(t.steps[t.stepIndex].isComplete)})),c.Nb(7,"i",36),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.dc(3);c.Ab(4),c.kc("steps",i.steps)("stepBGColor","#0054ff")("stepperWidth","10rem")("stepWidth","1rem")("isLinear",!0)("isCircleButtons",!0)("showSubCircleComplete",!1)("isCircleBtnsHorizontal",!0)}}var vg=function(t){return{"no-stepper":t}};function yg(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",5),c.Gc(1,bg,6,6,"div",6),c.Sb(2,"div",7),c.Sb(3,"div",8),c.Nb(4,"i",9),c.Rb(),c.Sb(5,"div",10),c.Sb(6,"div",11),c.Sb(7,"h1",12),c.Ic(8),c.Rb(),c.Sb(9,"p",13),c.Ic(10),c.Rb(),c.Rb(),c.Gc(11,fg,3,5,"button",14),c.Rb(),c.Rb(),c.Sb(12,"div",15,16),c.Zb("scroll",(function(t){return c.yc(n),c.dc(2).detectScrolledToBottom(t)})),c.Nb(14,"div",17),c.ec(15,"safeHtml"),c.Rb(),c.Sb(16,"div",18),c.Nb(17,"div",19),c.Gc(18,mg,8,8,"ng-container",20),c.Sb(19,"div",21),c.Sb(20,"button",22),c.Zb("click",(function(){return c.yc(n),c.dc(2).onPrintAup()})),c.Ic(21),c.Rb(),c.Sb(22,"button",23),c.Zb("click",(function(){c.yc(n);var t=c.dc(2);return t.onAupInteract("accepted",t.aups[t.stepIndex].id)})),c.Ic(23),c.Rb(),c.Rb(),c.Rb(),c.Sb(24,"div",24),c.Sb(25,"h1"),c.Ic(26),c.Rb(),c.Nb(27,"div",25),c.ec(28,"safeHtml"),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(1),c.kc("ngIf",o.steps[o.stepIndex].isComplete),c.Ab(7),c.Kc(" ",o.aups[o.stepIndex].title," "),c.Ab(2),c.Jc(i(null!=o.settings&&null!=o.settings.userInfo&&o.settings.userInfo.isImpersonated?"acceptImpersonate":"scrollNote")),c.Ab(1),c.kc("ngIf",!o.steps[o.stepIndex].isComplete),c.Ab(3),c.kc("innerHTML",c.fc(15,14,o.aups[o.stepIndex].body),c.zc),c.Bb("aria-label",i("labels.body")),c.Ab(2),c.kc("ngClass",c.nc(18,vg,o.steps.length<=1)),c.Ab(2),c.kc("ngIf",o.steps.length>1),c.Ab(1),c.kc("ngClass",c.nc(20,vg,o.steps.length<=1)),c.Ab(2),c.Kc(" ",i("print")," "),c.Ab(1),c.kc("disabled",!o.canAcknowledge()||o.steps[o.stepIndex].isComplete||(null==o.settings||null==o.settings.userInfo?null:o.settings.userInfo.isImpersonated)),c.Ab(1),c.Kc(" ",i("agree")," "),c.Ab(3),c.Jc(o.aups[o.stepIndex].title),c.Ab(1),c.kc("innerHTML",c.fc(28,16,o.aups[o.stepIndex].body),c.zc)}}function Cg(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",37),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Sb(3,"div",38),c.Sb(4,"button",39),c.Zb("click",(function(){return c.yc(n),c.dc(2).showCloseTooltip=!1})),c.Ic(5),c.Rb(),c.Sb(6,"button",40),c.Zb("click",(function(){return c.yc(n),c.dc(2).logout()})),c.Ic(7),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit;c.Ab(2),c.Jc(i("closeout")),c.Ab(2),c.Bb("aria-label",i("labels.cancel")),c.Ab(1),c.Jc(i("cancel")),c.Ab(1),c.Bb("aria-label",i("labels.logout")),c.Ab(1),c.Jc(i("logout"))}}function xg(t,e){if(1&t&&(c.Qb(0),c.Gc(1,yg,29,22,"div",3),c.Gc(2,Cg,8,5,"ng-template",null,4,c.Hc),c.Pb()),2&t){var n=c.dc();c.Ab(1),c.kc("ngIf",n.visible)}}function wg(t,e){if(1&t&&(c.Sb(0,"div",41),c.Ic(1),c.Rb()),2&t){var n=e.$implicit;c.Ab(1),c.Jc(n)}}var Pg=function(){function t(t,e,n,i,o,r,a,s,c){var l=this;this.san=t,this.growlService=e,this.changeDetectorRef=n,this.aupService=i,this.appsHelper=o,this.layoutService=r,this.translationHelper=a,this.sessionService=s,this.notificationsHelper=c,this.subscriptions=[],this.visible=!1,this.showCloseTooltip=!1,this.hasReadAup=!1,this.read=!1,this.stepIndex=0,this.loadingStepper=!0,this.steps=[],this.subscriptions[0]=this.aupService.getUnreadAup().subscribe((function(t){l.aups=t.map((function(t){return t.body=$e.a.decodeHtmlSymbols(t.body),new sg(t)})),l.steps=t.map((function(t){return{name:t.title,isComplete:!1}})),l.visible=l.aups&&l.aups.length>0,l.visible&&setTimeout((function(){l.closeButton.nativeElement.focus()}),500)})),this.subscriptions[1]=this.sessionService.settingsUpdated.subscribe((function(t){return l.settings=t})),this.subscriptions[2]=c.openModalCount.subscribe((function(t){return l.openModalCount=t}))}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewChecked=function(){this.changeDetectorRef.detectChanges()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onVisibleChange=function(t){this.visible=t,this.appsHelper.aupModalVisible.next(t),t||(this.hasReadAup=!1),this.openModalCount=this.visible?++this.openModalCount:--this.openModalCount,this.notificationsHelper.updateOpenModalCount(this.openModalCount)},t.prototype.aupFitsInModal=function(){if(this.aup_area)return this.aup_area.nativeElement.scrollHeight===this.aup_area.nativeElement.clientHeight},t.prototype.canAcknowledge=function(){return this.aupFitsInModal()||this.hasReadAup},t.prototype.onAupInteract=function(t,e){var n=this;this.interactAup=this.aupService.interactAup(t,e).subscribe((function(t){n.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"aup.acceptableUsePolicy",verb:"common.accepted"}),n.handleNextStep(!0),(n.onCheckAupsComplete()||1===n.steps.length)&&(n.visible=!1),n.interactAup.unsubscribe()}))},t.prototype.onPrintAup=function(){var t=document.getElementById("aup-print").innerHTML,e=lg.a.sanitize(t),n=window.open("","","width=600,height=600");n.document.open(),n.document.write('<html lang="en"><head><title>Print</title></head><body>'),n.document.write(e),n.document.write("</body></html>"),n.document.close(),n.print(),n.close()},t.prototype.onCloseoutModal=function(){this.settings.userInfo.isImpersonated?this.visible=!1:this.showCloseTooltip=!this.showCloseTooltip},t.prototype.logout=function(){this.appsHelper.logout(!0)},t.prototype.handleNextStep=function(t){if(1===this.steps.length&&t)return this.visible=!1;this.stepper.updateStep(t),this.stepIndex!==this.steps.length-1&&(this.aup_area.nativeElement.scrollTo(0,0),this.stepper.goToNextStep())},t.prototype.handleBackStep=function(){this.aup_area.nativeElement.scrollTo(0,0),this.stepper.goToPrevStep()},t.prototype.getCurrentStep=function(t){this.stepIndex=t,this.currentStep=this.steps[this.stepIndex],this.hasReadAup=!1},t.prototype.onCheckAupsComplete=function(){return this.steps.every((function(t){return t.isComplete}))},t.prototype.detectScrolledToBottom=function(t){t.target.scrollTop>=t.target.scrollHeight-t.target.clientHeight-10&&!this.hasReadAup&&(this.hasReadAup=!0)},t.\u0275fac=function(e){return new(e||t)(c.Mb(Zn.b),c.Mb(We.B),c.Mb(c.h),c.Mb(ag),c.Mb(Xt.a),c.Mb(We.G),c.Mb(Be.a),c.Mb(ae.a),c.Mb(vi))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-aup-modal"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(dg,!0),c.Nc(ug,!0),c.Nc(gg,!0),c.Nc(hg,!0)),2&t&&(c.uc(n=c.ac())&&(e.aup_area=n.first),c.uc(n=c.ac())&&(e.closeButton=n.first),c.uc(n=c.ac())&&(e.cancelButton=n.first),c.uc(n=c.ac())&&(e.stepper=n.first))},hostBindings:function(t,e){1&t&&c.Zb("scroll",(function(t){return e.detectScrolledToBottom(t.target)}))},decls:4,vars:5,consts:[[1,"aup-modal","modal-small",3,"visible","clickOutsideToClose","escapeToClose","showCloseIcon","visibleChange"],[4,"transloco","translocoRead"],["helpTooltip",""],["class","aup-ctnr",4,"ngIf"],["closeoutModalTooltip",""],[1,"aup-ctnr"],["class","accepted-aup-header flex-space-between-center",4,"ngIf"],[1,"aup-header-ctnr","flex-start","modal-header"],[1,"color-danger"],[1,"far","fa-exclamation-triangle"],[1,"aup-header"],[1,"flex-center-start","column-nowrap"],[1,"aup-title"],[1,"aup-header-note"],["class","button-icon aup-modal-close",3,"clTooltip","clTooltipPersist","clTooltipDisplay","clTooltipBodyAppend","click","clClickOutside",4,"ngIf"],["id","aup_area",1,"aup_area","scroller","custom-scroll",3,"scroll"],["aup_area",""],["tabindex","0",3,"innerHTML"],[1,"modal-controls","aup-controls-ctnr",3,"ngClass"],[1,"aup-control","decline-btn-ctnr"],[4,"ngIf"],[1,"aup-control","button-container",3,"ngClass"],[1,"button","button-success",3,"click"],[1,"button","button-primary",3,"disabled","click"],["id","aup-print"],[3,"innerHTML"],[1,"accepted-aup-header","flex-space-between-center"],[1,"bold","accepted-aup-text"],[1,"button-icon","aup-modal-close",3,"clTooltip","clTooltipPersist","clTooltipDisplay","clTooltipBodyAppend","click","clClickOutside"],["closeButton",""],[1,"far","fa-times"],[1,"aup-control","stepper"],[1,"button-icon","aup-page-arrow",3,"click"],[1,"far","fa-chevron-left"],[3,"steps","stepBGColor","stepperWidth","stepWidth","isLinear","isCircleButtons","showSubCircleComplete","isCircleBtnsHorizontal","emitActiveStepNumber"],["stepper",""],[1,"far","fa-chevron-right"],[1,"cl-tooltip","confirmation"],[1,"buttons-ctnr"],[1,"button","button-default",3,"click"],[1,"button","button-danger",3,"click"],[1,"cl-tooltip"]],template:function(t,e){1&t&&(c.Sb(0,"cl-modal",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(t){return e.onVisibleChange(t)})),c.Gc(1,xg,4,1,"ng-container",1),c.Rb(),c.Gc(2,wg,2,1,"ng-template",null,2,c.Hc)),2&t&&(c.kc("visible",e.visible)("clickOutsideToClose",!1)("escapeToClose",!1)("showCloseIcon",!1),c.Ab(1),c.kc("translocoRead","aup"))},directives:[We.H,Te.c,i.l,i.j,We.Y,We.i,We.W],pipes:[pg.a],styles:[".aup-modal[_ngcontent-%COMP%]{--color-primary:#0054ff}.aup-modal[_ngcontent-%COMP%]   .aup-ctnr[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;height:100%;width:100%;padding:10px 5px 0}.aup-modal[_ngcontent-%COMP%]   .accepted-aup-header[_ngcontent-%COMP%]{color:var(--color-success);margin-bottom:20px}.aup-modal[_ngcontent-%COMP%]   .accepted-aup-header[_ngcontent-%COMP%]   .accepted-aup-text[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 32px)}.aup-modal[_ngcontent-%COMP%]   .aup-header-ctnr[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 20px);gap:10px}.aup-modal[_ngcontent-%COMP%]   .aup-header-ctnr[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 20px);margin-right:unset}.aup-modal[_ngcontent-%COMP%]   .aup-header-ctnr[_ngcontent-%COMP%]   .aup-header[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:start;align-items:flex-start;width:100%;gap:10px}.aup-modal[_ngcontent-%COMP%]   .aup-header-ctnr[_ngcontent-%COMP%]   .aup-header-note[_ngcontent-%COMP%]{margin-top:10px}.aup-modal[_ngcontent-%COMP%]   .aup-header-ctnr[_ngcontent-%COMP%]   .aup-title[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 20px);word-break:break-word}.aup-modal[_ngcontent-%COMP%]   .aup-header-ctnr[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{margin-left:auto;font-size:calc(var(--font-modifier) * 24px);color:var(--color-dark)}.aup-modal[_ngcontent-%COMP%]   .aup_area[_ngcontent-%COMP%]{max-height:450px;-ms-flex-preferred-size:auto;flex-basis:auto;overflow-y:scroll;padding:10px 10px 10px 0;word-break:break-word;-webkit-mask:linear-gradient(0deg,#000 calc(100% - 10px),rgba(0,0,0,0)),linear-gradient(180deg,#000 calc(100% - 10px),rgba(0,0,0,0));mask:linear-gradient(0deg,#000 calc(100% - 10px),rgba(0,0,0,0)),linear-gradient(180deg,#000 calc(100% - 10px),rgba(0,0,0,0));-webkit-mask-composite:source-in,xor;mask-composite:intersect}.aup-modal[_ngcontent-%COMP%]   .aup_area[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece:start{margin-top:10px}.aup-modal[_ngcontent-%COMP%]   .aup_area[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece:end{margin-bottom:10px}.aup-modal[_ngcontent-%COMP%]   .aup-controls-ctnr[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center}.aup-modal[_ngcontent-%COMP%]   .aup-controls-ctnr[_ngcontent-%COMP%]   .aup-control[_ngcontent-%COMP%]{width:33%}.aup-modal[_ngcontent-%COMP%]   .stepper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;margin:0 15px;min-width:300px}.aup-modal[_ngcontent-%COMP%]   .stepper[_ngcontent-%COMP%]   .aup-page-arrow[_ngcontent-%COMP%]{color:var(--color-primary);font-size:24px;margin:20px}.aup-modal[_ngcontent-%COMP%]   .decline-btn-ctnr[_ngcontent-%COMP%]{min-width:150px;margin-right:15px}.aup-modal[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-align:center;align-items:center;gap:25px;margin-left:15px;min-width:235px}.aup-modal[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:105px!important;height:35px!important}.aup-modal[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background-color:var(--color-primary)}#aup-print[_ngcontent-%COMP%]{display:none}@media (max-width:1035px){.aup-modal[_ngcontent-%COMP%]   .decline-btn-ctnr[_ngcontent-%COMP%]{min-width:unset}}@media (max-width:845px){.aup-modal[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{-ms-flex-wrap:wrap;flex-wrap:wrap;min-width:unset}.aup-modal[_ngcontent-%COMP%]   .no-stepper[_ngcontent-%COMP%]{-ms-flex-wrap:unset;flex-wrap:unset}}@media (max-width:625px){.aup-modal[_ngcontent-%COMP%]   .aup-controls-ctnr[_ngcontent-%COMP%]{-ms-flex-flow:row wrap-reverse;flex-flow:row wrap-reverse;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.aup-modal[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{-ms-flex-wrap:unset;flex-wrap:unset;min-width:235px;margin:0 0 15px}}"]}),t}(),Og=n("kGJw"),Mg=n.n(Og),_g=n("TYy9"),kg=n.n(_g),Sg=n("sEfC"),Ag=n.n(Sg);function Ig(t,e){1&t&&(c.Qb(0),c.Sb(1,"span"),c.Nb(2,"i",7),c.Rb(),c.Pb())}function Rg(t,e){if(1&t){var n=c.Tb();c.Sb(0,"span"),c.Nb(1,"i",7),c.Rb(),c.Sb(2,"p"),c.Ic(3),c.Rb(),c.Sb(4,"button",8),c.Zb("click",(function(t){c.yc(n);var e=c.dc(3);return e.selectedTagId=void 0,e.onTagSelect(),t.stopPropagation()})),c.Nb(5,"i",9),c.Rb()}if(2&t){var i=c.dc().item,o=c.dc().$implicit;c.Ab(2),c.Bb("aria-label","Active Tag "+i.name),c.Ab(1),c.Jc(i.name),c.Ab(1),c.Bb("aria-label",o("removeActive"))}}function Tg(t,e){if(1&t&&(c.Sb(0,"div",4),c.Gc(1,Ig,3,0,"ng-container",5),c.Gc(2,Rg,6,3,"ng-template",null,6,c.Hc),c.Rb()),2&t){var n=e.item,i=c.vc(3);c.Ab(1),c.kc("ngIf",!n||-1===n.id)("ngIfElse",i)}}function Fg(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",12),c.Zb("click",(function(t){c.yc(n);var e=c.dc().item;return c.dc(2).showTagCreator(e,t)})),c.Sb(1,"span",13),c.Nb(2,"i",14),c.Rb(),c.Sb(3,"p",13),c.Ic(4),c.Rb(),c.Rb()}if(2&t){var i=c.dc().item;c.Ab(4),c.Jc(null==i?null:i.name)}}function Eg(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",15),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Sb(3,"button",16),c.Zb("click",(function(t){c.yc(n);var e=c.dc().item;return c.dc(2).showTagCreator(e,t)})),c.Nb(4,"i",17),c.Rb(),c.Rb()}if(2&t){var i=c.dc().item,o=c.dc().$implicit;c.Ab(2),c.Jc(null==i?null:i.name),c.Ab(1),c.Bb("aria-label",o("edit"))}}function Dg(t,e){if(1&t&&(c.Gc(0,Fg,5,1,"div",10),c.Gc(1,Eg,5,2,"div",11)),2&t){var n=e.item;c.kc("ngIf",-1===(null==n?null:n.id)),c.Ab(1),c.kc("ngIf",-1!==(null==n?null:n.id))}}var Lg=function(t){return{"has-selection":t}};function Ng(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"cl-dropdown",1),c.Zb("selectionChange",(function(t){return c.yc(n),c.dc().selectedTagId=t}))("selectionChange",(function(){return c.yc(n),c.dc().onTagSelect()}))("click",(function(t){return c.yc(n),t.stopPropagation()})),c.Gc(2,Tg,4,2,"ng-template",2),c.Gc(3,Dg,2,2,"ng-template",3),c.Rb(),c.Pb()}if(2&t){var i=c.dc();c.Ab(1),c.kc("ariaLabel",i.addTagString)("ngClass",c.nc(8,Lg,void 0!==i.selectedTagId))("options",i.tags)("selection",i.selectedTagId)("optionLabel","name")("showRemove",!1)("optionValue","id")("inline",!0)}}var Hg=function(){function t(t,e,n,i,o){var r=this;this.tagsService=t,this.tagsHelper=e,this.translationService=n,this.menuHelper=i,this.cdr=o,this.tags=[],this.addTagString="Add Tag",this.subscriptions=[],this.subscriptions[0]=this.tagsHelper.tagsUpdated.subscribe((function(t){if(r.tags=Object(le.e)([{id:-1,name:r.addTagString,apps:[]}],t),r.tagFilter){var e=Ce()(r.tags,(function(t){return t.id===r.tagFilter.id}));r.tagsHelper.tagFilterUpdated.next(e)}})),this.subscriptions[1]=this.tagsHelper.tagFilterUpdated.subscribe((function(t){r.tagFilter=t,r.selectedTagId=t?t.id:void 0})),this.subscriptions[2]=n.selectTranslate("addTag.add").subscribe((function(t){r.addTagString=t,r.tags[0]&&(r.tags[0].name=t)})),this.tagMenuHandler=this.menuHelper.registerMenu((function(){r.tagDropdown.hideDropdown()}))}return t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.menuHelper.unregisterMenu(this.tagMenuHandler)},t.prototype.getTags=function(){var t=this;this.tagsService.getTags().subscribe((function(e){t.tagsHelper.tagsUpdated.next(e)}))},t.prototype.onTagSelect=function(){var t=this;if(-1===this.selectedTagId)this.showTagCreator(this.tags[0]),Object(T.a)(0).subscribe((function(){return t.selectedTagId=void 0}));else{var e=Ce()(this.tags,(function(e){return e.id===t.selectedTagId}));this.tagFilter=e,this.tagsHelper.tagFilterUpdated.next(e)}},t.prototype.showTagCreator=function(t,e){e&&e.stopPropagation(),this.tagDropdown.hideDropdown(),this.tagsHelper.tagCreated.next({tag:t&&-1!==t.id?t:void 0,app:void 0}),this.tagsHelper.tagModalVisibleChanged.next(!0)},t.\u0275fac=function(e){return new(e||t)(c.Mb(Ge),c.Mb(se.a),c.Mb(Te.f),c.Mb(Ze),c.Mb(c.h))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-tag-dropdown"]],viewQuery:function(t,e){var n;1&t&&c.Nc(We.t,!0),2&t&&c.uc(n=c.ac())&&(e.tagDropdown=n.first)},decls:1,vars:1,consts:[[4,"transloco","translocoRead"],[1,"tag-dropdown",3,"ariaLabel","ngClass","options","selection","optionLabel","showRemove","optionValue","inline","selectionChange","click"],["clTemplate","selectedItem"],["clTemplate","item"],[1,"flex-end-center","selection-template"],[4,"ngIf","ngIfElse"],["def",""],[1,"fas","fa-tag"],[1,"hover-button",3,"click"],[1,"far","fa-times"],["class","flex-start-center option-template add","role","menuitem",3,"click",4,"ngIf"],["class","flex-space-between-center option-template","role","menuitem",4,"ngIf"],["role","menuitem",1,"flex-start-center","option-template","add",3,"click"],[1,"color-primary"],[1,"far","fa-plus"],["role","menuitem",1,"flex-space-between-center","option-template"],[1,"edit-button","color-primary",3,"click"],[1,"far","fa-edit"]],template:function(t,e){1&t&&c.Gc(0,Ng,4,10,"ng-container",0),2&t&&c.kc("translocoRead","addTag")},directives:[Te.c,We.t,i.j,We.f,i.l],styles:["cl-dropdown[_ngcontent-%COMP%]{position:absolute;right:0;top:0;height:100%;max-width:150px;width:-moz-fit-content;width:fit-content}cl-dropdown.has-selection[_ngcontent-%COMP%]   .selection-template[_ngcontent-%COMP%]{max-width:138px;height:28px;padding:0 12px;border-radius:5px;left:6px;background-color:var(--color-primary)}cl-dropdown.has-selection[_ngcontent-%COMP%]   .selection-template[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600;margin:0 10px;font-size:13px}cl-dropdown.has-selection[_ngcontent-%COMP%]   .selection-template[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], cl-dropdown.has-selection[_ngcontent-%COMP%]   .selection-template[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-white)}cl-dropdown.has-selection[_ngcontent-%COMP%]   .selection-template[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 0 0 auto;padding:0}cl-dropdown[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}cl-dropdown[_ngcontent-%COMP%]   div.add[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:27px}cl-dropdown[_ngcontent-%COMP%]   div.add[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px}cl-dropdown[_ngcontent-%COMP%]   div.add[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;font-weight:800;text-transform:uppercase}cl-dropdown[_ngcontent-%COMP%]   div.selection-template[_ngcontent-%COMP%]{position:relative}cl-dropdown[_ngcontent-%COMP%]   div.selection-template[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:145px}cl-dropdown[_ngcontent-%COMP%]   div.selection-template[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin:0}cl-dropdown[_ngcontent-%COMP%]   div.option-template[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-dark)}cl-dropdown[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{display:none;width:18px;height:18px;padding:0;margin-left:5px}cl-dropdown[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;margin-right:0}cl-dropdown[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;line-height:normal}"]}),t}(),Gg=["closeButton"];function Bg(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"h2"),c.Ic(2),c.Rb(),c.Pb()),2&t){var n=c.dc(2).$implicit;c.Ab(2),c.Jc(n("notifications.notifications"))}}function jg(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",14),c.Sb(1,"button",15),c.Zb("click",(function(){return c.yc(n),c.dc(4).changeMaximized(-1)})),c.Nb(2,"i",16),c.Rb(),c.Sb(3,"div",17),c.Sb(4,"h2"),c.Ic(5),c.ec(6,"title"),c.Rb(),c.Sb(7,"p"),c.Ic(8),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.dc(2);c.Ab(1),c.Bb("aria-label",i("common.goBack")),c.Ab(4),c.Jc(c.gc(6,3,o.notifications[o.maximizedIndex].title,100)),c.Ab(3),c.Jc(o.notifications[o.maximizedIndex].date)}}function Ug(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"p",18),c.Ic(2),c.Rb(),c.Pb()),2&t){var n=c.dc(2).$implicit;c.Ab(2),c.Jc(n("notifications.none"))}}var zg=function(t,e){return{$implicit:t,index:e}};function Vg(t,e){if(1&t&&c.Ob(0,20),2&t){var n=e.$implicit,i=e.index;c.dc(3);var o=c.vc(6);c.kc("ngTemplateOutlet",o)("ngTemplateOutletContext",c.oc(2,zg,n,i))}}function Zg(t,e){if(1&t&&(c.Qb(0),c.Gc(1,Vg,1,5,"ng-container",19),c.Pb()),2&t){var n=c.dc(4);c.Ab(1),c.kc("ngForOf",n.notifications)("ngForTrackBy",n.trackByFn)}}var $g=function(t){return{$implicit:t}};function Wg(t,e){if(1&t&&c.Ob(0,20),2&t){c.dc(2);var n=c.vc(8),i=c.dc(2);c.kc("ngTemplateOutlet",n)("ngTemplateOutletContext",c.nc(2,$g,i.notifications[i.maximizedIndex]))}}var Jg=function(t){return{large:t}};function qg(t,e){if(1&t&&(c.Sb(0,"app-dropdown-menu",10),c.Gc(1,Bg,3,1,"ng-container",11),c.Gc(2,jg,9,6,"div",12),c.Gc(3,Ug,3,1,"ng-container",11),c.Gc(4,Zg,2,2,"ng-container",11),c.Gc(5,Wg,1,4,"ng-container",13),c.Rb()),2&t){var n=c.dc(3);c.kc("ngClass",c.nc(6,Jg,-1!==n.maximizedIndex)),c.Ab(1),c.kc("ngIf",-1===n.maximizedIndex),c.Ab(1),c.kc("ngIf",-1!==n.maximizedIndex),c.Ab(1),c.kc("ngIf",0===(null==n.notifications?null:n.notifications.length)),c.Ab(1),c.kc("ngIf",(null==n.notifications?null:n.notifications.length)>0&&-1===n.maximizedIndex),c.Ab(1),c.kc("ngIf",(null==n.notifications?null:n.notifications.length)>0&&-1!==n.maximizedIndex)}}function Kg(t,e){1&t&&(c.Sb(0,"div"),c.Nb(1,"i",25),c.Rb())}function Yg(t,e){1&t&&c.Nb(0,"div")}var Qg=function(t){return{title:t}};function Xg(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",21),c.Zb("keydown.Space",(function(){c.yc(n);var t=e.index;return c.dc(3).changeMaximized(t)}))("keydown.Enter",(function(){c.yc(n);var t=e.index;return c.dc(3).changeMaximized(t)}))("click",(function(){c.yc(n);var t=e.index;return c.dc(3).changeMaximized(t)})),c.ec(1,"title"),c.Sb(2,"div",22),c.Sb(3,"p",23),c.Ic(4),c.ec(5,"title"),c.Rb(),c.Gc(6,Kg,2,0,"div",0),c.Gc(7,Yg,1,0,"ng-template",null,24,c.Hc),c.Rb(),c.Sb(9,"p"),c.Ic(10),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=e.index,r=c.vc(8),a=c.dc().$implicit,s=c.dc(2);c.Eb("no-border",o===s.notifications.length-1),c.Bb("aria-label",a("notifications.readNotificationLabel",c.nc(15,Qg,c.gc(1,9,i.title,100)))+" "+s.getDateLabel(i.created_on)),c.Ab(3),c.Eb("important",i.always_show),c.Ab(1),c.Kc(" ",c.gc(5,12,i.title,100)," "),c.Ab(2),c.kc("ngIf",i.always_show)("ngIfElse",r),c.Ab(4),c.Jc(i.date)}}function th(t,e){if(1&t&&(c.Nb(0,"div",28),c.ec(1,"safeHtml")),2&t){var n=c.dc().$implicit;c.kc("innerHTML",c.fc(1,1,n.messageMarkup),c.zc)}}function eh(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",29),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Nb(3,"br"),c.Sb(4,"p"),c.Ic(5," Go to your security settings for "),c.Sb(6,"button",30),c.Zb("click",(function(){return c.yc(n),c.dc(4).openSecuritySettings()})),c.Ic(7," more details"),c.Rb(),c.Ic(8,". "),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit;c.Ab(2),c.Jc(i.message)}}function nh(t,e){if(1&t&&(c.Gc(0,th,2,3,"div",26),c.Gc(1,eh,9,1,"div",27)),2&t){var n=e.$implicit;c.kc("ngIf",-2!==n.id),c.Ab(1),c.kc("ngIf",-2===n.id)}}function ih(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",3),c.Sb(1,"button",4,5),c.Zb("click",(function(){return c.yc(n),c.dc(2).closeNotifications()})),c.Nb(3,"i",6),c.Rb(),c.Gc(4,qg,6,8,"app-dropdown-menu",7),c.Gc(5,Xg,11,17,"ng-template",null,8,c.Hc),c.Gc(7,nh,2,2,"ng-template",null,9,c.Hc),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(2);c.kc("clFocusTrap",o.visible),c.Ab(1),c.kc("tabIndex",o.buttonIndex),c.Bb("aria-label",i("common.close")),c.Ab(3),c.kc("ngIf",o.visible)}}function oh(t,e){1&t&&(c.Qb(0),c.Gc(1,ih,9,4,"div",2),c.Pb())}function rh(t,e){if(1&t&&(c.Qb(0),c.Nb(1,"img",55),c.Pb()),2&t){var n=c.dc().$implicit,i=c.dc(3);c.Ab(1),c.kc("src",i.APP_CONFIG.fileCdnUrl+"/"+i.settings.tenantSettings.customLogo,c.Ac)("alt",n("header.logoAlt"))}}function ah(t,e){if(1&t&&c.Nb(0,"img",56),2&t){var n=c.dc().$implicit;c.kc("src","assets/images/classlink-logo.svg",c.Ac)("alt",n("header.logoAlt"))}}function sh(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"p",18),c.Ic(2),c.Rb(),c.Pb()),2&t){var n=c.dc().$implicit;c.Ab(2),c.Jc(n("notifications.none"))}}var ch=function(t,e,n){return{$implicit:t,index:e,maxim:n}};function lh(t,e){if(1&t&&c.Ob(0,20),2&t){var n=e.$implicit,i=e.index;c.dc(2);var o=c.vc(36),r=c.dc(3);c.kc("ngTemplateOutlet",o)("ngTemplateOutletContext",c.pc(2,ch,n,i,r.maximizedIndex))}}function ph(t,e){if(1&t&&(c.Qb(0),c.Gc(1,lh,1,6,"ng-container",19),c.Pb()),2&t){var n=c.dc(4);c.Ab(1),c.kc("ngForOf",n.notifications)("ngForTrackBy",n.trackByFn)}}function dh(t,e){if(1&t&&c.Ob(0,20),2&t){c.dc();var n=c.vc(38),i=c.dc(3);c.kc("ngTemplateOutlet",n)("ngTemplateOutletContext",c.nc(2,$g,i.activeNotification))}}function uh(t,e){if(1&t&&c.Ob(0,20),2&t){c.dc();var n=c.vc(40),i=c.dc(3);c.kc("ngTemplateOutlet",n)("ngTemplateOutletContext",c.nc(2,$g,i.notifications[i.maximizedIndex]))}}function gh(t,e){if(1&t&&(c.Sb(0,"div",66),c.Nb(1,"i",25),c.Rb()),2&t){c.dc(4);var n=c.vc(2);c.kc("clTooltip",n)("clTooltipContext","Pinned notification")("clTooltipDirection","top")}}function hh(t,e){1&t&&(c.Sb(0,"div",67),c.Nb(1,"i",68),c.Rb())}function bh(t,e){1&t&&(c.Sb(0,"div"),c.Nb(1,"i",69),c.Rb())}function fh(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",57,58),c.Zb("keydown.Space",(function(){c.yc(n);var t=e.index;return c.dc(4).changeMaximized(t)}))("keydown.Enter",(function(){c.yc(n);var t=e.index;return c.dc(4).changeMaximized(t)}))("click",(function(){c.yc(n);var t=e.index;return c.dc(4).changeMaximized(t)})),c.ec(2,"title"),c.Sb(3,"div",59),c.Gc(4,gh,2,3,"div",60),c.Rb(),c.Sb(5,"div",61),c.Gc(6,hh,2,0,"div",62),c.Gc(7,bh,2,0,"div",11),c.Rb(),c.Sb(8,"div",63),c.Sb(9,"h3",64),c.Ic(10),c.Rb(),c.Sb(11,"p",23),c.Ic(12),c.Rb(),c.Sb(13,"div",65),c.Ic(14),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=e.index,r=e.maxim,a=c.dc().$implicit,s=c.dc(3);c.Eb("selected",o===r)("no-border",o===s.notifications.length-1),c.Bb("aria-label",a("notifications.readNotificationLabel",c.nc(21,Qg,c.gc(2,18,i.title,100)))+" "+s.getDateLabel(i.created_on)),c.Ab(3),c.Eb("active",i.always_show),c.Bb("aria-label","Pin this notification"),c.Ab(1),c.kc("ngIf",i.always_show),c.Ab(2),c.kc("ngIf",-2===i.id),c.Ab(1),c.kc("ngIf",!i.read&&-2!==i.id),c.Ab(1),c.Eb("new",!i.read),c.Ab(2),c.Jc(i.date),c.Ab(1),c.Eb("important",i.always_show),c.Ab(1),c.Kc(" ",i.title," "),c.Ab(2),c.Jc(i.opening_lines)}}function mh(t,e){if(1&t&&(c.Sb(0,"div",70),c.Sb(1,"div",71),c.Sb(2,"h3",64),c.Ic(3),c.Rb(),c.Sb(4,"p",23),c.Ic(5),c.Rb(),c.Nb(6,"div",72),c.ec(7,"safeHtml"),c.Rb(),c.Rb()),2&t){var n=e.$implicit;c.Ab(3),c.Jc(null==n?null:n.date),c.Ab(2),c.Jc(null==n?null:n.title),c.Ab(1),c.kc("innerHTML",c.fc(7,3,null==n?null:n.messageMarkup),c.zc)}}function vh(t,e){if(1&t&&(c.Sb(0,"div",85),c.Sb(1,"div",86),c.Sb(2,"span",87),c.Ic(3),c.Rb(),c.Sb(4,"span",88),c.Ic(5),c.Rb(),c.Rb(),c.Sb(6,"div",89),c.Nb(7,"img",56),c.Sb(8,"span"),c.Ic(9),c.Rb(),c.Rb(),c.Sb(10,"div",90),c.Nb(11,"img",56),c.Sb(12,"span"),c.Ic(13),c.Rb(),c.Rb(),c.Rb()),2&t){var n=e.$implicit,i=e.index,o=c.dc(6);c.Eb("divider",i<o.failedLogins.length-1),c.Ab(3),c.Jc(n.ReasonName),c.Ab(2),c.Jc(n.date),c.Ab(2),c.kc("src",o.getBrowserIcon(n.Browser),c.Ac)("alt","browser logo"),c.Ab(2),c.Jc(n.Browser),c.Ab(2),c.kc("src",o.getMethodIcon(n.Type),c.Ac)("alt","method logo"),c.Ab(2),c.Jc(n.TypeName)}}function yh(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",74),c.Sb(1,"h3",64),c.Ic(2),c.Rb(),c.Sb(3,"p",23),c.Ic(4),c.Rb(),c.Sb(5,"p",75),c.Ic(6," You have "),c.Sb(7,"span",76),c.Ic(8),c.Rb(),c.Ic(9," failed logins: "),c.Rb(),c.Sb(10,"div",77),c.Sb(11,"div",78),c.Sb(12,"span",79),c.Ic(13,"DATE/MSG"),c.Rb(),c.Sb(14,"span",80),c.Ic(15,"BROWSER"),c.Rb(),c.Sb(16,"span",81),c.Ic(17,"METHOD"),c.Rb(),c.Rb(),c.Gc(18,vh,14,10,"div",82),c.Rb(),c.Sb(19,"span",83),c.Ic(20,"You can view your failed logins above or by clicking into "),c.Rb(),c.Sb(21,"span",84),c.Zb("click",(function(t){c.yc(n);var e=c.dc(5);return e.menuHelper.closeAllMenus(),e.openSecuritySettings(t)})),c.Ic(22,"My Profile"),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc(4);c.Ab(2),c.Jc(null==i?null:i.date),c.Ab(2),c.Jc(null==i?null:i.title),c.Ab(4),c.Jc(o.settings.userInfo.failedLoginInfo.count),c.Ab(10),c.kc("ngForOf",o.failedLogins)}}function Ch(t,e){if(1&t&&c.Gc(0,yh,23,4,"div",73),2&t){var n=c.dc(4);c.kc("ngIf",n.failedLogins)}}var xh=function(){return{placeholder:"Search by title or body content",maxlength:180,"aria-label":"Search label","aria-autocomplete":"list",id:"filteringBar-search-input"}},wh=function(t,e){return{"keyup.arrowleft":t,"keyup.arrowright":e}};function Ph(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",33),c.Sb(1,"div",34),c.Sb(2,"div",35),c.Sb(3,"div"),c.Gc(4,rh,2,2,"ng-container",0),c.Gc(5,ah,1,2,"ng-template",null,36,c.Hc),c.Sb(7,"div",37),c.Sb(8,"h3"),c.Ic(9),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(10,"h1"),c.Ic(11),c.Rb(),c.Sb(12,"div",38),c.Sb(13,"button",39,5),c.Zb("click",(function(){return c.yc(n),c.dc(3).closeNotifications()})),c.Nb(15,"i",6),c.Rb(),c.Rb(),c.Rb(),c.Sb(16,"div",40),c.Sb(17,"div",41),c.Sb(18,"div",42),c.Sb(19,"cl-input",43,44),c.Zb("valueChange",(function(t){return c.yc(n),c.dc(3).searchValue=t}))("valueChange",(function(t){return c.yc(n),c.dc(3).onSearchUpdate(t)})),c.Rb(),c.Sb(21,"div",45),c.Sb(22,"button",46),c.Zb("click",(function(t){return c.yc(n),c.dc(3).showFilterOptions(t)}))("keydown.Enter",(function(t){return c.yc(n),c.dc(3).showFilterOptions(t)}))("keydown.Space",(function(t){return c.yc(n),c.dc(3).showFilterOptions(t)})),c.Nb(23,"i",47),c.Rb(),c.Sb(24,"div",48),c.Sb(25,"app-dropdown-menu",49),c.Sb(26,"button",50),c.Zb("click",(function(t){return c.yc(n),c.dc(3).changeFilterOptions(t,"desc")}))("keydown.Enter",(function(t){return c.yc(n),c.dc(3).changeFilterOptions(t,"desc")}))("keydown.Space",(function(t){return c.yc(n),c.dc(3).changeFilterOptions(t,"desc")})),c.Ic(27," Oldest First "),c.Rb(),c.Sb(28,"button",50),c.Zb("click",(function(t){return c.yc(n),c.dc(3).changeFilterOptions(t,"asc")}))("keydown.Enter",(function(t){return c.yc(n),c.dc(3).changeFilterOptions(t,"asc")}))("keydown.Space",(function(t){return c.yc(n),c.dc(3).changeFilterOptions(t,"asc")})),c.Ic(29," Newest First "),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(30,"app-dropdown-menu",51),c.Gc(31,sh,3,1,"ng-container",11),c.Gc(32,ph,2,2,"ng-container",11),c.Rb(),c.Rb(),c.Gc(33,dh,1,4,"ng-container",13),c.Gc(34,uh,1,4,"ng-container",13),c.Rb(),c.Gc(35,fh,15,23,"ng-template",null,52,c.Hc),c.Gc(37,mh,8,5,"ng-template",null,53,c.Hc),c.Gc(39,Ch,1,1,"ng-template",null,54,c.Hc),c.Rb()}if(2&t){var i=e.$implicit,o=c.vc(6);c.dc(2);var r=c.vc(2),a=c.dc();c.kc("clFocusTrap",a.visible)("clKeyboardNav",a.visible),c.Ab(4),c.kc("ngIf",a.settings&&a.settings.tenantSettings.customLogo)("ngIfElse",o),c.Ab(5),c.Kc(" ",a.settings&&a.settings.tenantSettings.customText?a.settings.tenantSettings.customText:"LaunchPad"," "),c.Ab(2),c.Jc(i("notifications.notifications")),c.Ab(2),c.kc("tabIndex",a.buttonIndex),c.Bb("aria-label",i("common.close")),c.Ab(6),c.kc("value",a.searchValue)("icon","far fa-search")("attributes",c.mc(26,xh))("events",c.oc(27,wh,a.onSearchKeyNav.bind(a,!1),a.onSearchKeyNav.bind(a,!0))),c.Ab(3),c.kc("clTooltip",r)("clTooltipContext","Filter")("clTooltipDirection","bottom"),c.Ab(2),c.Eb("active",a.isFilterMenuOpen),c.Ab(2),c.Bb("role","button")("autofocus",!0)("aria-label","oldest first"),c.Ab(2),c.Bb("role","button")("aria-label","Newest first"),c.Ab(3),c.kc("ngIf",0===(null==a.notifications?null:a.notifications.length)),c.Ab(1),c.kc("ngIf",(null==a.notifications?null:a.notifications.length)>0),c.Ab(1),c.kc("ngIf",a.activeNotification),c.Ab(1),c.kc("ngIf",(null==a.notifications?null:a.notifications.length)>0&&a.isDynamicTheme&&(null==a.tmsSettings?null:a.tmsSettings.useTMS)&&!a.activeNotification&&-1!==a.maximizedIndex&&-2===(null==a.notifications[a.maximizedIndex]?null:a.notifications[a.maximizedIndex].id))}}function Oh(t,e){1&t&&(c.Qb(0),c.Gc(1,Ph,41,30,"div",32),c.Pb())}function Mh(t,e){if(1&t&&(c.Sb(0,"div",91),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=e.$implicit;c.Ab(2),c.Jc(n)}}function _h(t,e){if(1&t&&(c.Gc(0,Oh,2,0,"ng-container",11),c.Gc(1,Mh,3,1,"ng-template",null,31,c.Hc)),2&t){var n=c.dc();c.kc("ngIf",n.visible)}}var kh=function(){function t(t,e,n,i,o,r,a,s,c,l,p,d,u){var g=this;this.san=t,this.nodeApi=e,this.notificationsHelper=n,this.cdr=i,this.ele=o,this.renderer=r,this.sessionService=a,this.settingsSerivce=s,this.notificationsService=c,this.safeHtml=l,this.slideoverService=p,this.appsHelper=d,this.menuHelper=u,this.visible=!1,this.notifications=[],this.activeNotification=null,this.maximizedIndex=-1,this.buttonIndex=-1,this.allowMaximized=!0,this.isDynamicTheme=!1,this.APP_CONFIG=Re.a,this.searchValue="",this.isFilterMenuOpen=!1,this.filterOrder="asc",this.closeFilterMenu=[],this.initialized=!1,this.failedShowing=!1,this.isLoadingLogins=!1,this.isAupVisible=!1,this.subscriptions=[],this.subscriptions[0]=a.useTMSUpdated.subscribe((function(t){g.tmsSettings=t})),this.subscriptions[1]=n.visibilitySet.subscribe((function(t){g.isAupVisible&&!t||(g.onSearchUpdate(""),g.buttonIndex=t?0:-1,g.visible=t,g.closeButton&&t&&g.focusCloseButton())})),this.subscriptions[2]=a.settingsUpdated.subscribe((function(t){g.settings=t,g.modalCount<=0&&g.notificationsHelper.visibilitySet.next(!1),g.isDynamicTheme=t.customUISettings.theme===Ee.a.Dynamic})),this.subscriptions[3]=n.notificationsUpdated.subscribe((function(t){g.onNotificationsUpdate(t)})),this.subscriptions[4]=this.notificationsHelper.openModalCount.subscribe((function(t){g.modalCount=t})),this.subscriptions[5]=this.appsHelper.aupModalVisible.subscribe((function(t){var e,n;g.isAupVisible=t,g.isAupVisible&&(null===(n=null===(e=g.closeButton)||void 0===e?void 0:e.nativeElement)||void 0===n||n.blur())}))}return t.prototype.ngAfterViewInit=function(){this.focusCloseButton()},t.prototype.getDateLabel=function(t){return bi()(t).format("MM/DD/YYY")},t.prototype.getFirstWords=function(t){for(var e="",n=!1,i=t.split(""),o=0;o<i.length;o++){var r=i[o];if("<"===r&&(n=!0),">"!==r){if(!n&&!n){if(" "===r&&e.endsWith(" "))continue;e+=r}}else n=!1,e.endsWith(" ")||(e+=" ")}return""!==e?e.trim():e},t.prototype.onNotificationsUpdate=function(t){var e=this;if(this.canGetFailedLogins()&&this.getFailedLogins(),this.notifications=t.map((function(t,n){return(!t.read||t.always_show&&!t.read)&&e.allowMaximized&&(e.maximizedIndex=n,e.allowMaximized=!1),t.messageMarkup=$e.a.decodeHtmlSymbols(t.message),t.date=bi()(t.created_on).format(e.isDynamicTheme?"MMMM DD, YYYY":"MM/DD/YYYY"),e.isDynamicTheme&&(t.opening_lines=e.getFirstWords(t.messageMarkup)),t})),!this.failedShowing&&this.settings){if(this.settings.userInfo.failedLoginInfo&&this.settings.userInfo.failedLoginInfo.count>0&&!this.notifications.find((function(t){return-2===t.id}))){var n=this.settings.userInfo.failedLoginInfo;this.notifications.push({always_show:!0,created_by:"Security",created_on:bi()().format("MM/DD/YYYY"),date:bi()().format("MM/DD/YYYY"),expire_on:bi()().add(1,"day").format("MM/DD/YYYY"),id:-2,message:"There have been "+n.count+" failed login attempts since the last success"+(n.lastLogin?" on "+bi()(n.lastLogin).local().format("MMM DD, YYYY [at] h:mm A")+". ":"."),messageMarkup:null,maximized:!0,read:!1,start_on:bi()().format("MM/DD/YYYY"),title:"Failed Login Attempts",opening_lines:"There have been "+n.count+" failed login"})}this.failedShowing=!0,this.initialized=!1,this.failedShowing=!0}this.storedNotifications||(this.storedNotifications=Object(le.e)(this.notifications)),this.initialized||(this.notificationsHelper.visibilitySet.next(Rc()(this.notifications,(function(t){return t.always_show}))||-1!==this.maximizedIndex),this.initialized=!0),-1===this.maximizedIndex||this.notifications[this.maximizedIndex].read||this.markNotificationRead(this.notifications[this.maximizedIndex].id,this.maximizedIndex),this.isDynamicTheme&&(this.reOrderNotifications(this.filterOrder),this.notifications.length>0&&(-2!==this.notifications[0].id&&(this.activeNotification=this.notifications[0]),-1===this.maximizedIndex&&this.changeMaximized(0)))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.trackByFn=function(t,e){return e.id},t.prototype.onClick=function(t){t.stopPropagation()},t.prototype.changeMaximized=function(t){this.isDynamicTheme||this.focusCloseButton(),this.maximizedIndex=this.maximizedIndex!==t||this.isDynamicTheme?t:-1;var e=this.notifications[this.maximizedIndex];e&&(e.read||this.markNotificationRead(e.id,t),this.isDynamicTheme&&(this.activeNotification=-2!==e.id?e:null))},t.prototype.closeNotifications=function(){this.notificationsHelper.visibilitySet.next(!1)},t.prototype.markNotificationRead=function(t,e){this.notifications[e].read=!0,this.notificationsHelper.notificationsUpdated.next(this.notifications),-2!=t&&(this.sessionService.getUserInfo().isImpersonated||(this.notifications[e].isNotificationApi?this.notificationsService.readNotification(t).subscribe((function(t){})):this.nodeApi.markNotificationRead(t).subscribe((function(t){}))))},t.prototype.openSecuritySettings=function(){this.slideoverService.myProfile.opened.next({id:6,tabPage:0,scrollToClass:"failed-logins"})},t.prototype.onSearchUpdate=function(t){var e;this.searchValue=t;var n=this.searchValue.trim().toLowerCase();""!==n?(this.notifications=this.storedNotifications.filter((function(t){return t.title.toLowerCase().includes(n)||t.opening_lines.toLowerCase().includes(n)})),this.reOrderNotifications(this.filterOrder)):(this.notifications=Object(le.e)(null!==(e=this.storedNotifications)&&void 0!==e?e:[]),this.reOrderNotifications(this.filterOrder))},t.prototype.showFilterOptions=function(t){var e=this;this.isFilterMenuOpen=!this.isFilterMenuOpen;var n=t.target;Object(T.a)(200).pipe(Object(ze.a)()).subscribe((function(){var t,i,o,r;e.isFilterMenuOpen&&(n.classList.contains("filter-btn")?(null===(t=n.nextElementSibling)||void 0===t?void 0:t.classList.contains("active"))&&(r=n.nextElementSibling.querySelector(".filter-option"))&&r.focus():(null===(o=null===(i=n.parentElement)||void 0===i?void 0:i.nextElementSibling)||void 0===o?void 0:o.classList.contains("active"))&&(r=n.parentElement.nextElementSibling.querySelector(".filter-option"))&&r.focus(),e.closeFilterMenu[0]=Object(C.a)(document,"click").pipe(Object(ze.a)()).subscribe((function(){return e.onDocumentClick()})),e.closeFilterMenu[1]=Object(C.a)(e.ele.nativeElement,"click").pipe(Object(ze.a)()).subscribe((function(){return e.onDocumentClick()})))}))},t.prototype.reOrderNotifications=function(t){this.notifications.sort((function(e,n){if(e.always_show&&!n.always_show)return-1;if(!e.always_show&&n.always_show)return 1;if(e.always_show&&n.always_show||!e.always_show&&!n.always_show){if(!bi()(e.created_on).isValid())return 1;if(!bi()(n.created_on).isValid())return-1;if("asc"===t)return bi()(e.created_on).isAfter(bi()(n.created_on))?-1:1;if("desc"===t)return bi()(e.created_on).isBefore(bi()(n.created_on))?-1:1}}))},t.prototype.pinNotification=function(t){t>=0&&(this.notifications[t].always_show=!this.notifications[t].always_show)},t.prototype.changeFilterOptions=function(t,e){this.filterOrder=e,this.reOrderNotifications(e),this.onDocumentClick()},t.prototype.onSearchKeyNav=function(t,e){var n=e.target,i=n.selectionStart,o=t?i+1:i>0?i-1:i;n.setSelectionRange(o,o)},t.prototype.onDocumentClick=function(){var t;this.isFilterMenuOpen=!1,(null===(t=this.closeFilterMenu)||void 0===t?void 0:t.length)>0&&(this.closeFilterMenu.forEach((function(t){t.unsubscribe()})),this.closeFilterMenu=[]),$e.a.focusOnStoredElement()},t.prototype.getBrowserIcon=function(t){return $e.a.browserIcon(t)},t.prototype.getMethodIcon=function(t){return $e.a.methodIcon(t)},t.prototype.getFailedLogins=function(){var t=this;this.isLoadingLogins=!0,this.settingsSerivce.getLogins(void 0,5).subscribe((function(e){t.failedLogins=e.map((function(t){return Object(le.a)(Object(le.a)({},t),{date:bi()(t.Date).format("MMMM DD, YYYY hh:mm:ss A")})}))}))},t.prototype.focusCloseButton=function(){var t,e;this.isAupVisible||null===(e=null===(t=this.closeButton)||void 0===t?void 0:t.nativeElement)||void 0===e||e.focus()},t.prototype.canGetFailedLogins=function(){var t,e,n,i;return this.isDynamicTheme&&!this.isLoadingLogins&&(null===(t=this.tmsSettings)||void 0===t?void 0:t.useTMS)&&(null===(i=null===(n=null===(e=this.settings)||void 0===e?void 0:e.userInfo)||void 0===n?void 0:n.failedLoginInfo)||void 0===i?void 0:i.count)&&!this.failedLogins},t.\u0275fac=function(e){return new(e||t)(c.Mb(Zn.b),c.Mb(Qt.a),c.Mb(vi),c.Mb(c.h),c.Mb(c.l),c.Mb(c.E),c.Mb(ae.a),c.Mb(di.a),c.Mb(gi),c.Mb(pg.a),c.Mb(xe.a),c.Mb(Xt.a),c.Mb(Ze))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-notifications"]],viewQuery:function(t,e){var n;1&t&&c.Nc(Gg,!0,c.l),2&t&&c.uc(n=c.ac())&&(e.closeButton=n.first)},hostBindings:function(t,e){1&t&&c.Zb("click",(function(t){return e.onClick(t)}))},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["dynamicNotificationsTemplate",""],["class","container",3,"clFocusTrap",4,"transloco"],[1,"container",3,"clFocusTrap"],[1,"close",3,"tabIndex","click"],["closeButton",""],[1,"far","fa-times"],["class","custom-scroll",3,"ngClass",4,"ngIf"],["notificationTemplate",""],["activeNotification",""],[1,"custom-scroll",3,"ngClass"],[4,"ngIf"],["class","title-ctnr flex-start",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[1,"title-ctnr","flex-start"],[1,"color-primary",3,"click"],[1,"fas","fa-arrow-left"],[1,"text","flex-start","column-nowrap"],[1,"none"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","button","tabindex","0","clItem","",1,"notification","flex-start","column-nowrap",3,"keydown.Space","keydown.Enter","click"],[1,"title-line","flex-space-between-center"],[1,"notif-title"],["blank",""],[1,"fas","fa-thumbtack"],["class","notification-content-ctnr custom-scroll",3,"innerHTML",4,"ngIf"],["class","notification-content-ctnr custom-scroll",4,"ngIf"],[1,"notification-content-ctnr","custom-scroll",3,"innerHTML"],[1,"notification-content-ctnr","custom-scroll"],[1,"button-text",3,"click"],["descriptiveTooltip",""],["class","container","tabindex","-1",3,"clFocusTrap","clKeyboardNav",4,"transloco"],["tabindex","-1",1,"container",3,"clFocusTrap","clKeyboardNav"],[1,"header-container"],[1,"college-logo"],["defaultLogo",""],[1,"logo-text-container"],[1,"close-notifications"],[3,"tabIndex","click"],[1,"main-section"],[1,"left-column"],[1,"filtering-bar"],[1,"search-input","primary-color","cl-focusable",3,"value","icon","attributes","events","valueChange"],["input",""],[1,"filter-button-container"],[1,"cl-focusable","filter-btn",3,"clTooltip","clTooltipContext","clTooltipDirection","click","keydown.Enter","keydown.Space"],[1,"far","fa-filter"],[1,"filter-options"],["clFocusTrap","","clKeyboardNav","","role","menu","tabindex","-1","aria-labelledby","'filterMenuBtn'",1,"custom-scroll"],["tabindex","0","clItem","",1,"cl-focusable","filter-option",3,"click","keydown.Enter","keydown.Space"],[1,"custom-scroll"],["notificationPreview",""],["activeNotificationBody",""],["failedLoginBody",""],["onerror","this.src = 'assets/images/classlink-logo-invert.svg'",3,"src","alt"],[3,"src","alt"],["role","button","tabindex","0","clItem","",1,"notification",3,"keydown.Space","keydown.Enter","click"],["notificationItem",""],[1,"holded-notification"],[3,"clTooltip","clTooltipContext","clTooltipDirection",4,"ngIf"],[1,"unread"],["class","failed-login-icon",4,"ngIf"],[1,"notification-header"],[1,"notif-date"],[1,"notif-message"],[3,"clTooltip","clTooltipContext","clTooltipDirection"],[1,"failed-login-icon"],[1,"fas","fa-times-circle"],[1,"fas","fa-bell"],[1,"active-notification-message"],[1,"message-container","custom-scroll"],[1,"notif-message",3,"innerHTML"],["class","active-notification-message failed-logins",4,"ngIf"],[1,"active-notification-message","failed-logins"],[1,"logins-count"],[1,"count"],[1,"logins-container","custom-scroll"],[1,"header"],[1,"date-header"],[1,"browser-header"],[1,"method-header"],["class","login",3,"divider",4,"ngFor","ngForOf"],[1,"action"],[1,"action","my-profile",3,"click"],[1,"login"],[1,"login-date-info"],[1,"reason"],[1,"date"],[1,"login-browser"],[1,"login-method"],[1,"cl-tooltip"]],template:function(t,e){if(1&t&&(c.Gc(0,oh,2,0,"ng-container",0),c.Gc(1,_h,3,1,"ng-template",null,1,c.Hc)),2&t){var n=c.vc(2);c.kc("ngIf",!e.isDynamicTheme)("ngIfElse",n)}},directives:[i.l,Te.c,We.y,ko,i.j,i.k,i.p,We.J,We.E,We.C,We.Y],pipes:[rn.a,pg.a],styles:["[_nghost-%COMP%]{position:absolute;top:43px;left:calc(100% - 58px);width:60vw;z-index:203}.professional[_nghost-%COMP%]{left:unset;right:-13px}.dynamic[_nghost-%COMP%]{left:unset;right:148px}.hide[_nghost-%COMP%]{pointer-events:none;opacity:0}[_nghost-%COMP%]   .close[_ngcontent-%COMP%]{z-index:1001}[_nghost-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]{position:relative;display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:start;align-items:flex-start;height:auto;max-height:60vh;width:100%;padding:20px 20px 0;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .title-ctnr[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], [_nghost-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{font-size:18px;font-weight:800;margin-bottom:10px;word-break:break-all;word-break:break-word}[_nghost-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .title-ctnr[_ngcontent-%COMP%], [_nghost-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{margin-bottom:20px;margin-right:30px}[_nghost-%COMP%]   .title-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}[_nghost-%COMP%]   .title-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-primary);font-size:20px}[_nghost-%COMP%]   .notification-content-ctnr[_ngcontent-%COMP%]{width:100%;overflow:auto;margin-bottom:20px;word-wrap:break-word;overflow-wrap:break-word;min-height:31px}[_nghost-%COMP%]   .notification-content-ctnr[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset}[_nghost-%COMP%]   .close-button[_ngcontent-%COMP%]{top:15px;right:15px}[_nghost-%COMP%]   .none[_ngcontent-%COMP%]{width:100%;text-align:center;color:var(--color-medium);font-weight:600;margin:20px 0 40px}[_nghost-%COMP%]   .notification[_ngcontent-%COMP%]{padding:20px 0;width:100%;overflow:visible;border-bottom:1px solid var(--color-border-light);cursor:pointer}[_nghost-%COMP%]   .notification[_ngcontent-%COMP%]:after{height:100%}[_nghost-%COMP%]   .notification[_ngcontent-%COMP%]:hover{opacity:.85}[_nghost-%COMP%]   .notification.no-border[_ngcontent-%COMP%]{border-bottom:none}[_nghost-%COMP%]   .notification[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .notification[_ngcontent-%COMP%] > .title-line[_ngcontent-%COMP%]{margin-bottom:5px}[_nghost-%COMP%]   .notification[_ngcontent-%COMP%] > .title-line[_ngcontent-%COMP%]   p.notif-title[_ngcontent-%COMP%]{font-size:14px;font-weight:700;letter-spacing:0;word-break:break-all;word-break:break-word}[_nghost-%COMP%]   .notification[_ngcontent-%COMP%] > .title-line[_ngcontent-%COMP%]   p.notif-title.important[_ngcontent-%COMP%]{color:var(--color-primary)}[_nghost-%COMP%]   .notification[_ngcontent-%COMP%] > .title-line[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-left:5px;min-width:13px}[_nghost-%COMP%]   .notification[_ngcontent-%COMP%] > .title-line[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-primary);font-size:18px;-ms-transform:rotate(22.5deg);transform:rotate(22.5deg)}[_nghost-%COMP%]   .notification[_ngcontent-%COMP%] > .notification-content-ctnr[_ngcontent-%COMP%]{margin:15px 0}[_nghost-%COMP%]   .notification[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:13px;color:var(--color-medium)}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{display:grid;grid-template-rows:100px 1fr;gap:0;background-color:var(--color-white);padding:0 2em 2em;border-radius:6px;filter:drop-shadow(0 25px 25px rgba(0,0,0,.15));overflow:hidden;max-height:85vh}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:40% 1fr 50px;grid-template-rows:1fr;gap:22px}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .college-logo[_ngcontent-%COMP%], .dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:start;justify-content:flex-start}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Open Sans,Arial,sans-serif;font-size:calc(var(--font-modifier) * 24px);line-height:calc(var(--font-modifier) * 32.6px);font-weight:800}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .college-logo[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:start;justify-content:flex-start;gap:.25em;min-height:50px;max-height:50px;height:50px;width:100%}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .college-logo[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:50px;max-height:50px;min-height:50px}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .college-logo[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .logo-text-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:center;justify-content:center;height:100%;width:100%}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .college-logo[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .logo-text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:0;color:var(--color-primary);font-family:Poppins,Arial,sans-serif;font-weight:600;font-size:calc(var(--font-modifier) * 16px);line-height:calc(var(--font-modifier) * 18px);display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;max-width:200px;overflow:hidden}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .close-notifications[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-align:center;align-items:center}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .close-notifications[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:4px;font-size:24px;line-height:24px}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:40% 1fr;grid-template-rows:1fr;gap:18px;box-sizing:border-box;overflow:hidden}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]{height:100%;overflow:hidden;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .filtering-bar[_ngcontent-%COMP%]{width:100%;padding:0 0 22px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;gap:11px}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .filtering-bar[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]     .input-ctnr input{border:2px solid var(--color-border-dark);padding-left:40px}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .filtering-bar[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]     .icon-ctnr{padding:0 12px}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .filtering-bar[_ngcontent-%COMP%]   .filter-button-container[_ngcontent-%COMP%]{position:relative}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .filtering-bar[_ngcontent-%COMP%]   .filter-button-container[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{border:2px solid var(--color-border-dark);border-radius:9px;color:var(--color-dark);font-size:20px;line-height:20px;padding:8px}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .filtering-bar[_ngcontent-%COMP%]   .filter-button-container[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]:after{left:-3px;top:-1px;width:calc(100% + 5px);height:calc(100% + 3px)}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .filtering-bar[_ngcontent-%COMP%]   .filter-button-container[_ngcontent-%COMP%]   .filter-options[_ngcontent-%COMP%]{position:absolute;height:73px;width:140px;z-index:1010;right:0;top:102%;box-shadow:0 0 30px rgba(0,0,0,.25);border-radius:9px;overflow:visible;display:none}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .filtering-bar[_ngcontent-%COMP%]   .filter-button-container[_ngcontent-%COMP%]   .filter-options[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;padding:0;border:1px solid var(--color-border-dark);width:100%;height:100%;max-height:100%;min-height:100%;overflow:visible;border-radius:9px}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .filtering-bar[_ngcontent-%COMP%]   .filter-button-container[_ngcontent-%COMP%]   .filter-options[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   button.cl-focusable.filter-option[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:start;justify-content:flex-start;background-color:var(--color-bg-dark);border:none;border-bottom:1px solid var(--color-border-dark);width:100%;font-size:calc(var(--font-modifier) * 13px);font-weight:600;padding:10px;white-space:nowrap;text-overflow:ellipsis;cursor:pointer;border-radius:9px 9px 0 0}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .filtering-bar[_ngcontent-%COMP%]   .filter-button-container[_ngcontent-%COMP%]   .filter-options[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   button.cl-focusable.filter-option[_ngcontent-%COMP%]:last-child{border:none;border-radius:0 0 9px 9px}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .filtering-bar[_ngcontent-%COMP%]   .filter-button-container[_ngcontent-%COMP%]   .filter-options[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   button.cl-focusable.filter-option[_ngcontent-%COMP%]:focus, .dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .filtering-bar[_ngcontent-%COMP%]   .filter-button-container[_ngcontent-%COMP%]   .filter-options[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   button.cl-focusable.filter-option[_ngcontent-%COMP%]:hover{background-color:var(--color-white)}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .filtering-bar[_ngcontent-%COMP%]   .filter-button-container[_ngcontent-%COMP%]   .filter-options[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   button.cl-focusable.filter-option[_ngcontent-%COMP%]:after{width:calc(100% + 8px);height:calc(100% + 2px);top:-2px;left:-4px;z-index:1110}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .filtering-bar[_ngcontent-%COMP%]   .filter-button-container[_ngcontent-%COMP%]   .filter-options.active[_ngcontent-%COMP%]{display:block}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]{box-shadow:none;padding:0 1em 0 0}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message[_ngcontent-%COMP%]{padding:40px;background-color:#f3f3f3;height:100%;width:100%;max-width:100%;overflow:hidden;box-sizing:border-box}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message[_ngcontent-%COMP%]   .message-container[_ngcontent-%COMP%]{height:100%}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message[_ngcontent-%COMP%]   .notif-date[_ngcontent-%COMP%], .dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message[_ngcontent-%COMP%]   .notif-message[_ngcontent-%COMP%], .dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message[_ngcontent-%COMP%]   .notif-title[_ngcontent-%COMP%]{font-weight:600}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message[_ngcontent-%COMP%]   .notif-message[_ngcontent-%COMP%], .dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message[_ngcontent-%COMP%]   .notif-title[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 14.5px);line-height:calc(var(--font-modifier) * 20px)}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message[_ngcontent-%COMP%]   .notif-title[_ngcontent-%COMP%]{margin-bottom:12px}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message[_ngcontent-%COMP%]   .notif-date[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 17.3px);line-height:calc(var(--font-modifier) * 23.5px);margin-bottom:22px}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message[_ngcontent-%COMP%]   .notif-message[_ngcontent-%COMP%] {max-height:45vh}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message[_ngcontent-%COMP%]   .notif-message[_ngcontent-%COMP%]  a, .dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message[_ngcontent-%COMP%]   .notif-message[_ngcontent-%COMP%]  a span, .dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message[_ngcontent-%COMP%]   .notif-message[_ngcontent-%COMP%]  p, .dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message[_ngcontent-%COMP%]   .notif-message[_ngcontent-%COMP%]  p span, .dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message[_ngcontent-%COMP%]   .notif-message[_ngcontent-%COMP%]  span{word-break:break-word;font-weight:600}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]{padding:40px 20px 20px}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .notif-title[_ngcontent-%COMP%]{font-family:Open Sans;font-size:calc(var(--font-modifier) * 17.29px);font-weight:600}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-count[_ngcontent-%COMP%]{font-family:Open Sans;font-size:calc(var(--font-modifier) * 14px);font-weight:600;margin-top:20px}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-count[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{color:#118af3}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-container[_ngcontent-%COMP%]{width:100%;max-height:45vh;overflow-x:hidden;padding:16px 16px 6px;border:1px solid var(--color-border-dark);border-radius:2px;box-shadow:0 0 5px 0 var(--color-border-light);background-color:var(--color-white);margin:17px 0}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Open Sans}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%], .dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;gap:10px}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{padding:10px 0}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 10px);font-weight:700;margin-bottom:20px}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-container[_ngcontent-%COMP%]   .date-header[_ngcontent-%COMP%], .dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-container[_ngcontent-%COMP%]   .login-date-info[_ngcontent-%COMP%]{overflow:hidden;-ms-flex:0 0 45%;flex:0 0 45%}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-container[_ngcontent-%COMP%]   .browser-header[_ngcontent-%COMP%], .dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-container[_ngcontent-%COMP%]   .login-browser[_ngcontent-%COMP%]{overflow:hidden;-ms-flex:0 0 20%;flex:0 0 20%}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-container[_ngcontent-%COMP%]   .login-method[_ngcontent-%COMP%], .dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-container[_ngcontent-%COMP%]   .method-header[_ngcontent-%COMP%]{overflow:hidden;-ms-flex:0 0 35%;flex:0 0 35%}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-container[_ngcontent-%COMP%]   .login-date-info[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;gap:4px}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-container[_ngcontent-%COMP%]   .login-date-info[_ngcontent-%COMP%]   .reason[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 10px);font-style:italic;font-weight:600;color:#000}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-container[_ngcontent-%COMP%]   .login-date-info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 9px);font-weight:600}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-container[_ngcontent-%COMP%]   .login-browser[_ngcontent-%COMP%], .dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-container[_ngcontent-%COMP%]   .login-method[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;overflow:hidden;gap:5px}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-container[_ngcontent-%COMP%]   .login-browser[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-container[_ngcontent-%COMP%]   .login-method[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 11px);font-weight:600}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-container[_ngcontent-%COMP%]   .login-browser[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-container[_ngcontent-%COMP%]   .login-method[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;max-width:40px;height:40px;max-height:40px}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .logins-container[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.14901960784313725)}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{font-family:Open Sans;font-size:calc(var(--font-modifier) * 14px);font-weight:400}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .active-notification-message.failed-logins[_ngcontent-%COMP%]   .my-profile[_ngcontent-%COMP%]{cursor:pointer;color:#118af3;font-weight:600}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{position:relative;width:100%;display:grid;grid-template-columns:60px 1fr;-ms-flex-align:start;align-items:flex-start}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .holded-notification[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;opacity:0;position:absolute;top:.5em;right:.5em;width:1em;height:1em;color:var(--color-light);transition:opacity .1s ease}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .holded-notification[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-ms-transform:rotate(45deg);transform:rotate(45deg)}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .holded-notification.active[_ngcontent-%COMP%]{opacity:1;color:#008ad7}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .holded-notification[_ngcontent-%COMP%]:focus{opacity:1}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .unread[_ngcontent-%COMP%]{height:100%;justify-self:flex-start;display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:end;justify-content:flex-end;padding-right:1em}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .unread[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-top:5px;color:var(--color-success)}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .unread[_ngcontent-%COMP%]   .failed-login-icon[_ngcontent-%COMP%]{-ms-flex-item-align:center;align-self:center;color:var(--color-danger);width:10px;height:10px;margin-right:10px}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .unread[_ngcontent-%COMP%]   .failed-login-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:20px;width:20px}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notif-date[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 17.3px);line-height:calc(var(--font-modifier) * 23.5px);margin-bottom:10px}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notif-date[_ngcontent-%COMP%], .dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notif-message[_ngcontent-%COMP%]{font-weight:400}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notif-message[_ngcontent-%COMP%], .dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notif-title[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 14.5px);line-height:calc(var(--font-modifier) * 20px);overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;word-break:break-all}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notif-title[_ngcontent-%COMP%]{font-weight:600}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .notification-header.new[_ngcontent-%COMP%]   .notif-date[_ngcontent-%COMP%], .dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .notification-header.new[_ngcontent-%COMP%]   .notif-message[_ngcontent-%COMP%], .dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .notification-header.new[_ngcontent-%COMP%]   .notif-title[_ngcontent-%COMP%]{font-weight:700}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .notification.selected[_ngcontent-%COMP%]{background-color:rgba(17,138,243,.06274509803921569)}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]:focus:after{top:0;left:0;width:calc(100% + 5px);height:100%;transition:none}.dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]:focus   .holded-notification[_ngcontent-%COMP%], .dynamicDesign[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .main-section[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]:hover   .holded-notification[_ngcontent-%COMP%]{opacity:1}"]}),t}(),Sh=["input"],Ah=["profNotificationButton"],Ih=["notificationButton"],Rh=["focusable"],Th=["appSubItem"];function Fh(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",24),c.Zb("keydown.shift.Tab",(function(){return c.yc(n),c.dc(2).onShiftTab()}))("click",(function(t){return c.yc(n),c.dc(2).toggleLinksDropdown(t)})),c.Nb(1,"i",25),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Bb("aria-expanded",o.showLinksMenu)("aria-label",i("header.buttonLabel"))}}var Eh=function(t){return{$implicit:t}};function Dh(t,e){if(1&t){var n=c.Tb();c.Sb(0,"a",33,34),c.Zb("focus",(function(){c.yc(n);var t=c.dc().$implicit;return c.dc(3).hamburgerItemFocus(t.title)}))("keydown.Enter",(function(){c.yc(n);var t=c.dc().$implicit;return c.dc(3).goToLink(t.link)})),c.Ob(2,35),c.Rb()}if(2&t){var i=c.dc().$implicit;c.dc();var o=c.vc(4),r=c.dc(2);c.kc("href",i.link,c.Ac)("target","_blank")("id",r.genId(i.title)),c.Ab(2),c.kc("ngTemplateOutlet",o)("ngTemplateOutletContext",c.nc(5,Eh,i))}}function Lh(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",36,34),c.Zb("focus",(function(){c.yc(n);var t=c.dc().$implicit;return c.dc(3).hamburgerItemFocus(t.title)}))("click",(function(){c.yc(n);var t=c.dc().$implicit,e=c.dc(3);return t.handler(),e.showLinksMenu=!1}))("keydown.Enter",(function(){c.yc(n);var t=c.dc().$implicit,e=c.dc(3);return t.handler(),e.showLinksMenu=!1}))("keydown.Space",(function(t){c.yc(n);var e=c.dc().$implicit,i=c.dc(3);return t.stopPropagation(),e.handler(),i.showLinksMenu=!1})),c.Ob(2,35),c.Rb()}if(2&t){var i=c.dc().$implicit;c.dc();var o=c.vc(4),r=c.dc(2);c.kc("id",r.genId(i.title)),c.Ab(2),c.kc("ngTemplateOutlet",o)("ngTemplateOutletContext",c.nc(3,Eh,i))}}function Nh(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",37,34),c.Zb("focus",(function(){c.yc(n);var t=c.dc().$implicit;return c.dc(3).hamburgerItemFocus(t.title)}))("click",(function(){c.yc(n);var t=c.dc().$implicit,e=c.dc(3);return t.handler(),e.showLinksMenu=!1}))("keydown.Enter",(function(){c.yc(n);var t=c.dc().$implicit,e=c.dc(3);return t.handler(),e.showLinksMenu=!1})),c.Ob(2,35),c.Rb()}if(2&t){var i=c.dc().$implicit;c.dc();var o=c.vc(4),r=c.dc(2);c.kc("id",r.genId(i.title)),c.Ab(2),c.kc("ngTemplateOutlet",o)("ngTemplateOutletContext",c.nc(3,Eh,i))}}function Hh(t,e){if(1&t&&(c.Qb(0),c.Gc(1,Dh,3,7,"a",30),c.Gc(2,Lh,3,5,"div",31),c.Gc(3,Nh,3,5,"div",32),c.Pb()),2&t){var n=e.$implicit;c.Ab(1),c.kc("ngIf",n.link),c.Ab(1),c.kc("ngIf",!n.link&&!n.icon.includes("backpack")),c.Ab(1),c.kc("ngIf",n.icon.includes("backpack"))}}function Gh(t,e){if(1&t&&c.Nb(0,"i"),2&t){var n=c.dc().$implicit;c.Cb(n.icon)}}function Bh(t,e){if(1&t&&c.Nb(0,"cl-custom-icon",42),2&t){var n=c.dc().$implicit;c.lc("name",n.icon)}}function jh(t,e){if(1&t&&c.Nb(0,"img",43),2&t){var n=c.dc().$implicit;c.kc("src",n.customIcon+".svg",c.Ac)("alt",n.title)}}function Uh(t,e){if(1&t&&(c.Sb(0,"span",38),c.Gc(1,Gh,1,2,"i",39),c.Gc(2,Bh,1,1,"cl-custom-icon",40),c.Gc(3,jh,1,2,"img",41),c.Rb(),c.Ic(4)),2&t){var n=e.$implicit,i=c.dc(3);c.Ab(1),c.kc("ngIf",n.icon&&!i.utilsService.isCustomIcon(n.icon)),c.Ab(1),c.kc("ngIf",n.icon&&i.utilsService.isCustomIcon(n.icon)),c.Ab(1),c.kc("ngIf",n.customIcon),c.Ab(1),c.Kc(" ",n.title," ")}}function zh(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-dropdown-menu",26),c.Zb("click",(function(t){return c.yc(n),t.stopPropagation()})),c.Nb(1,"img",27),c.Gc(2,Hh,4,3,"ng-container",28),c.Gc(3,Uh,5,4,"ng-template",null,29,c.Hc),c.Rb()}if(2&t){var i=c.dc(2);c.kc("clFocusTrap",i.showLinksMenu),c.Bb("aria-activedescendant",i.focusedHamburgerItem),c.Ab(1),c.kc("src","assets/images/classlink-logo.svg",c.Ac),c.Ab(1),c.kc("ngForOf",i.dropdownItems)}}function Vh(t,e){if(1&t&&(c.Qb(0),c.Nb(1,"img",44),c.Pb()),2&t){var n=c.dc().$implicit,i=c.dc();c.Ab(1),c.kc("src",i.APP_CONFIG.fileCdnUrl+"/"+i.settings.tenantSettings.customLogo,c.Ac)("alt",n("header.logoAlt"))}}function Zh(t,e){if(1&t&&c.Nb(0,"img",43),2&t){var n=c.dc().$implicit;c.kc("src","assets/images/classlink-logo-invert.svg",c.Ac)("alt",n("header.logoAlt"))}}function $h(t,e){if(1&t&&(c.Sb(0,"div",45),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=c.dc().$implicit;c.Ab(2),c.Jc(n("notifications.notifications"))}}function Wh(t,e){if(1&t&&(c.Sb(0,"div",45),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=e.$implicit;c.Ab(2),c.Jc(n)}}function Jh(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",53,34),c.Zb("click",(function(t){return c.yc(n),c.dc(3).openAppLibrary(t)})),c.Nb(2,"i",54),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.vc(13);c.kc("clTooltip",o)("clTooltipContext",i("header.openAppLibrary"))("clTooltipDirection","bottom"),c.Bb("aria-label",i("header.openAppLibrary"))}}function qh(t,e){if(1&t&&c.Nb(0,"app-notifications",55),2&t){var n=c.dc(3);c.Eb("hide",!n.notificationsVisible)}}function Kh(t,e){if(1&t&&(c.Sb(0,"div",56),c.Ic(1),c.Rb()),2&t){var n=c.dc(3);c.Ab(1),c.Jc(n.notificationsUnread)}}var Yh=function(t){return{amount:t}};function Qh(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",46),c.Gc(1,Jh,3,4,"button",47),c.Sb(2,"button",48,34),c.Zb("click",(function(){return c.yc(n),c.dc(2).toggleEditMode()})),c.Nb(4,"i",49),c.Rb(),c.Sb(5,"button",50,51),c.Zb("click",(function(t){return c.yc(n),c.dc(2).toggleShowNotifications(t)})),c.Nb(8,"i",19),c.Rb(),c.Gc(9,qh,1,2,"app-notifications",52),c.Gc(10,Kh,2,1,"div",20),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.vc(13),r=c.dc();c.Ab(1),c.kc("ngIf",r.appLibraryStatus&&r.appLibraryStatus.appLibraryEnabled),c.Ab(1),c.Eb("active",r.isEditMode),c.kc("clTooltip",o)("clTooltipContext",i("header.editMode"))("clTooltipDirection","bottom"),c.Bb("aria-label",i("header.editMode"))("aria-expanded",r.isEditMode),c.Ab(3),c.Eb("active",r.notificationsVisible),c.kc("clTooltip",o)("clTooltipContext",i("notifications.notifications"))("clTooltipDirection","bottom"),c.Bb("aria-expanded",r.notificationsVisible)("aria-label",i("notifications.notificationsLabel",c.nc(17,Yh,r.notificationsUnread))),c.Ab(4),c.kc("ngIf",!r.isProfessionalThemeActive&&!r.isDynamicThemeActive),c.Ab(1),c.kc("ngIf",r.notificationsUnread>0)}}function Xh(t,e){if(1&t&&(c.Sb(0,"p"),c.Ic(1),c.Rb()),2&t){var n=c.dc(2);c.Ab(1),c.Jc(n.version)}}function tb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",57),c.Zb("click",(function(){return c.yc(n),c.dc(2).clearFilter()})),c.Nb(1,"i",58),c.Rb()}if(2&t){var i=c.dc(2);c.Dc(i.extraStyles.clearBtn),c.kc("tabIndex",""!==i.filter?0:-1),c.Bb("aria-hidden",""===i.filter||null)}}function eb(t,e){1&t&&(c.Qb(0),c.Sb(1,"span"),c.Nb(2,"i",65),c.Rb(),c.Pb())}function nb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"img",67),c.Zb("error",(function(t){return c.yc(n),c.dc(5).handleImage(t)})),c.Rb()}if(2&t){var i=c.dc(2).$implicit;c.kc("src",i.icon,c.Ac)}}function ib(t,e){if(1&t&&c.Gc(0,nb,1,1,"img",66),2&t){var n=c.dc().$implicit,i=c.dc(3);c.kc("ngIf",""!==n&&!i.isDynamicThemeActive)}}function ob(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",61,62),c.Zb("focus",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).focusedResult=t.name+"_result"}))("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onAppLaunch(t)}))("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onAppLaunch(t)})),c.Gc(2,eb,3,0,"ng-container",5),c.Gc(3,ib,1,1,"ng-template",null,63,c.Hc),c.Nb(5,"div",64),c.Rb()}if(2&t){var i=e.$implicit,o=e.index,r=c.vc(4),a=c.dc(3);c.Eb("active",a.keyedIndex===o),c.Ab(2),c.kc("ngIf",a.appsHelper.isFolder(i))("ngIfElse",r),c.Ab(3),c.kc("innerHTML",a.filterResultsMarkup[o],c.zc)}}function rb(t,e){if(1&t&&(c.Sb(0,"app-dropdown-menu",59),c.Gc(1,ob,6,5,"div",60),c.Rb()),2&t){var n=c.dc(2);c.Eb("dynamic-style",n.isDynamicThemeActive),c.Ab(1),c.kc("ngForOf",n.filterResults.slice(0,10))}}function ab(t,e){if(1&t&&(c.Sb(0,"div",56),c.Ic(1),c.Rb()),2&t){var n=c.dc(2);c.Ab(1),c.Kc(" ",n.notificationsUnread," ")}}function sb(t,e){if(1&t&&c.Nb(0,"app-notifications",68),2&t){var n=c.dc(2);c.Eb("hide",!n.notificationsVisible)}}function cb(t,e){if(1&t&&(c.Sb(0,"div",56),c.Ic(1),c.Rb()),2&t){var n=c.dc(3);c.Ab(1),c.Kc(" ",n.notificationsUnread," ")}}function lb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",53,34),c.Zb("click",(function(t){return c.yc(n),c.dc(3).openAppLibrary(t)})),c.Nb(2,"i",74),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.vc(13);c.kc("clTooltip",o)("clTooltipContext",i("header.openAppLibrary"))("clTooltipDirection","bottom"),c.Bb("aria-label",i("header.openAppLibrary"))}}function pb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",53,34),c.Zb("click",(function(t){c.yc(n);var e=c.dc(3);return t.stopPropagation(),e.openMyProfile(t)})),c.Nb(2,"i",75),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.vc(13);c.kc("clTooltip",o)("clTooltipContext",i("header.settings"))("clTooltipDirection","bottom"),c.Bb("aria-label",i("header.settings"))}}function db(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",53,34),c.Zb("click",(function(t){c.yc(n);var e=c.dc(3);return t.stopPropagation(),e.toggleWidgetsDrawer(t)})),c.Nb(2,"i",76),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.vc(13),r=c.dc();c.Eb("active",r.isDrawerVisible),c.kc("clTooltip",o)("clTooltipContext",i("header.widgets"))("clTooltipDirection","bottom"),c.Bb("aria-label",i("header.widgets"))}}function ub(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",46),c.Sb(1,"button",50,51),c.Zb("click",(function(t){return c.yc(n),c.dc(2).toggleShowNotifications(t)})),c.Nb(4,"i",69),c.Gc(5,cb,2,1,"div",20),c.Rb(),c.Nb(6,"app-notifications",70),c.Sb(7,"button",71,34),c.Zb("click",(function(){return c.yc(n),c.dc(2).toggleEditMode()})),c.Nb(9,"i",72),c.Rb(),c.Gc(10,lb,3,4,"button",47),c.Gc(11,pb,3,4,"button",47),c.Gc(12,db,3,6,"button",73),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.vc(13),r=c.dc();c.Ab(1),c.Eb("active",r.notificationsVisible),c.kc("clTooltip",o)("clTooltipContext",i("notifications.notifications"))("clTooltipDirection","bottom"),c.Bb("aria-expanded",r.notificationsVisible)("aria-label",i("notifications.notificationsLabel",c.nc(22,Yh,r.notificationsUnread))),c.Ab(4),c.kc("ngIf",r.notificationsUnread>0),c.Ab(1),c.Eb("hide",!r.notificationsVisible)("dynamicDesign",r.isDynamicThemeActive),c.Ab(1),c.Eb("active",r.isEditMode),c.kc("clTooltip",o)("clTooltipDirection","bottom")("clTooltipContext",i("header.editMode")),c.Bb("aria-label",i("header.editMode"))("aria-expanded",r.isEditMode),c.Ab(3),c.kc("ngIf",r.appLibraryStatus&&r.appLibraryStatus.appLibraryEnabled),c.Ab(1),c.kc("ngIf",r.isDynamicThemeActive),c.Ab(1),c.kc("ngIf",r.isDynamicThemeActive)}}function gb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",77),c.Zb("keydown.Enter",(function(t){return c.yc(n),c.dc(2).toggleProfileDropdown(t)}))("keydown.space",(function(t){return c.yc(n),c.dc(2).toggleProfileDropdown(t)}))("click",(function(t){return c.yc(n),c.dc(2).toggleProfileDropdown(t)})),c.Nb(1,"img",78),c.Nb(2,"i",79),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Bb("aria-expanded",o.showProfileDropdown)("aria-label",i("header.profileLabel")),c.Ab(1),c.kc("src",o.userInfo.ImagePath,c.Ac)("alt",i("header.profilePictureLabel"))}}function hb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",90),c.Zb("click",(function(){return c.yc(n),c.dc(3).logout()})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc(2).$implicit;c.Bb("aria-label",i("header.signOut")),c.Ab(1),c.Kc(" ",i("header.signOut")," ")}}function bb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",90),c.Zb("click",(function(){return c.yc(n),c.dc(3).endImpersonation()})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc(2).$implicit;c.Bb("aria-label",i("header.endImpersonation")),c.Ab(1),c.Kc(" ",i("header.endImpersonation")," ")}}function fb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",96),c.Zb("click",(function(t){c.yc(n);var i=e.$implicit,o=c.dc(5);return o.toggleProfileDropdown(t),o.switchProfile(i)}))("keydown.Enter",(function(t){c.yc(n);var i=e.$implicit,o=c.dc(5);return o.toggleProfileDropdown(t),o.switchProfile(i)}))("keydown.space",(function(t){c.yc(n);var i=e.$implicit,o=c.dc(5);return o.toggleProfileDropdown(t),o.switchProfile(i)})),c.Sb(1,"p",84),c.Ic(2),c.Rb(),c.Sb(3,"p"),c.Ic(4),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(4).$implicit,r=c.dc();c.Eb("active",i.profileId===r.settings.userInfo.ProfileId),c.Ab(2),c.Jc(i.profileName),c.Ab(2),c.Lc("",o("header.role")," ",i.roleName,"")}}function mb(t,e){if(1&t&&(c.Sb(0,"div",94),c.Gc(1,fb,5,5,"div",95),c.Rb()),2&t){var n=c.dc(4);c.Ab(1),c.kc("ngForOf",n.profiles)}}function vb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",91),c.Zb("click",(function(t){return c.yc(n),c.dc(3).toggleShowProfiles(t)}))("keydown.space",(function(t){return c.yc(n),c.dc(3).toggleShowProfiles(t)}))("keydown.Enter",(function(t){return c.yc(n),c.dc(3).toggleShowProfiles(t)})),c.Sb(1,"h2"),c.Ic(2),c.Sb(3,"span"),c.Ic(4),c.Rb(),c.Rb(),c.Sb(5,"span"),c.Nb(6,"i",92),c.Rb(),c.Gc(7,mb,2,1,"div",93),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.dc();c.Ab(2),c.Kc(" ",i("header.profile")," "),c.Ab(2),c.Jc(o.getCurrentProfile().profileName),c.Ab(3),c.kc("ngIf",o.showProfileDropdown&&o.showUserProfiles)}}function yb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",80),c.Zb("click",(function(t){return c.yc(n),t.stopPropagation()})),c.Sb(1,"div",81),c.Sb(2,"div",82),c.Sb(3,"div",83),c.Sb(4,"p",84),c.Ic(5),c.Rb(),c.Sb(6,"p",85),c.Ic(7),c.Rb(),c.Sb(8,"p",85),c.Ic(9),c.Rb(),c.Rb(),c.Sb(10,"div",86),c.Sb(11,"button",87),c.Zb("click",(function(t){c.yc(n);var e=c.dc(2);return t.stopPropagation(),e.openMyProfile(t)})),c.Ic(12),c.Rb(),c.Gc(13,hb,2,2,"button",88),c.Gc(14,bb,2,2,"button",88),c.Rb(),c.Rb(),c.Nb(15,"img",78),c.Rb(),c.Gc(16,vb,8,3,"div",89),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(5),c.Jc(o.userInfo.DisplayName),c.Ab(2),c.Jc(o.userInfo.Email),c.Ab(2),c.Jc(o.userInfo.Tenant),c.Ab(2),c.Bb("aria-label",i("header.settings")),c.Ab(1),c.Kc(" ",i("header.settings")," "),c.Ab(1),c.kc("ngIf",!o.userInfo.isImpersonated),c.Ab(1),c.kc("ngIf",o.userInfo.isImpersonated),c.Ab(1),c.kc("src",o.userInfo.ImagePath,c.Ac)("alt",i("header.profilePictureLabel")),c.Ab(1),c.kc("ngIf",o.profiles&&o.profiles.length>1)}}var Cb=function(t,e,n){return{"keyup.arrowup":t,"keyup.arrowdown":e,"keydown.enter":n}},xb=function(t,e,n,i){return{placeholder:t,maxlength:180,style:e,"aria-label":n,"aria-autocomplete":"list","aria-controls":i,id:"searchbar-filter-input"}};function wb(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Gc(2,Fh,2,2,"button",2),c.Gc(3,zh,5,4,"app-dropdown-menu",3),c.Sb(4,"div",4),c.Gc(5,Vh,2,2,"ng-container",5),c.Gc(6,Zh,1,2,"ng-template",null,6,c.Hc),c.Sb(8,"h1"),c.Ic(9),c.Rb(),c.Rb(),c.Gc(10,$h,3,1,"ng-template",null,7,c.Hc),c.Gc(12,Wh,3,1,"ng-template",null,8,c.Hc),c.Gc(14,Qh,11,19,"div",9),c.Sb(15,"div",10),c.Gc(16,Xh,2,1,"p",11),c.Sb(17,"div",12),c.Sb(18,"cl-input",13,14),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().filter=t}))("valueChange",(function(t){return c.yc(n),c.dc().onFilterUpdate(t)}))("click",(function(t){return c.yc(n),c.dc().onInputFocus(t)})),c.Rb(),c.Gc(20,tb,2,4,"button",15),c.Nb(21,"app-tag-dropdown"),c.Gc(22,rb,2,3,"app-dropdown-menu",16),c.Rb(),c.Rb(),c.Sb(23,"div",17),c.Sb(24,"button",18),c.Zb("click",(function(t){return c.yc(n),c.dc().toggleShowNotifications(t)})),c.Nb(25,"i",19),c.Rb(),c.Gc(26,ab,2,1,"div",20),c.Gc(27,sb,1,2,"app-notifications",21),c.Rb(),c.Gc(28,ub,13,24,"div",9),c.Gc(29,gb,3,4,"div",22),c.Gc(30,yb,17,10,"div",23),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.vc(7),r=c.vc(13),a=c.dc();c.Ab(1),c.lc("ngClass",a.isDynamicThemeActive?"dynamic-header":""),c.kc("ngStyle",a.backgroundStyle),c.Ab(1),c.kc("ngIf",!a.isDynamicThemeActive),c.Ab(1),c.kc("ngIf",a.showLinksMenu),c.Ab(2),c.kc("ngIf",a.settings&&a.settings.tenantSettings.customLogo)("ngIfElse",o),c.Ab(4),c.Jc(a.settings&&a.settings.tenantSettings.customText?a.settings.tenantSettings.customText:"LaunchPad"),c.Ab(5),c.kc("ngIf",a.settings.customUISettings.theme!==a.Themes.Dynamic),c.Ab(2),c.kc("ngIf",a.version&&"PROD"!==a.version),c.Ab(1),c.Bb("aria-expanded",a.resultsVisible)("aria-label",i("header.searchLabel"))("aria-activedescendant",a.resultsVisible&&""!==a.focusedResult?a.focusedResult:null),c.Ab(1),c.kc("value",a.filter)("events",c.pc(29,Cb,a.onArrowPress.bind(a,!1),a.onArrowPress.bind(a,!0),a.onAppLaunch.bind(a,a.filterResults&&void 0!==a.keyedIndex?a.filterResults[a.keyedIndex]:void 0)))("icon","far fa-search")("attributes",c.qc(33,xb,a.isDynamicThemeActive?i("header.searchPlaceholder"):"",a.extraStyles.input,i("header.searchLabel"),a.resultsVisible?"appsSearchResults":null)),c.Ab(2),c.kc("ngIf",""!==a.filter),c.Ab(2),c.kc("ngIf",a.resultsVisible),c.Ab(2),c.Eb("active",a.notificationsVisible),c.kc("clTooltip",r)("clTooltipContext",i("notifications.notifications"))("clTooltipDirection","bottom"),c.Bb("aria-label",i("notifications.notifications")),c.Ab(2),c.kc("ngIf",a.notificationsUnread>0),c.Ab(1),c.kc("ngIf",a.isProfessionalThemeActive),c.Ab(1),c.kc("ngIf",a.isDynamicThemeActive),c.Ab(1),c.kc("ngIf",!a.isDynamicThemeActive),c.Ab(1),c.kc("ngIf",a.showProfileDropdown)}}var Pb=function(){function t(t,e,n,i,o,r,a,s,c,l,p,d,u,g,h,b,f){var m=this;this.layoutService=t,this.appsHelper=e,this.san=n,this.sessionService=i,this.settingsService=o,this.slideoverService=r,this.menuHelper=a,this.nodeApi=s,this.appLibHelper=c,this.settingsHelper=l,this.notificationsHelper=p,this.tagsHelper=d,this.tmsService=u,this.formPostAppHelper=g,this.appsService=h,this.utilsService=b,this.myProfileHelper=f,this.APP_CONFIG=Re.a,this.Themes=Ee.a,this.filter="",this.isEditMode=!1,this.filterResults=[],this.filterResultsMarkup=[],this.focusedResult="",this.showLinksMenu=!1,this.showUserProfiles=!1,this.showProfileDropdown=!1,this.notificationsVisible=!1,this.notifications=[],this.notificationsUnread=0,this.focusedHamburgerItem="",this.backgroundStyle={"background-image":""},this.isDynamicThemeActive=!1,this.isProfessionalThemeActive=!1,this.extraStyles={input:"",clearBtn:""},this.isDrawerVisible=!1,this.firstKeyDown=!0,this.modalOpen=!1,this.slideoverOpen=!1,this.isAupVisible=!1,this.subscriptions=[],localStorage.setItem("impersonationEnded",JSON.stringify(!1)),this.subscriptions[0]=e.appsUpdated.subscribe((function(t){var e=t.reload;m.apps=t.apps,e&&m.clearFilter()})),this.subscriptions[1]=e.editModeChanged.subscribe((function(t){return m.isEditMode=t})),this.subscriptions[2]=this.sessionService.settingsUpdated.subscribe((function(t){m.onSettingsUpdate(t)})),this.subscriptions[3]=this.layoutService.documentClicked.subscribe((function(){return m.onDocumentClick()})),this.subscriptions[4]=this.sessionService.userInfoUpdated.subscribe((function(t){m.onUserInfoUpdate(t)})),this.subscriptions[5]=this.appLibHelper.appLibraryStatusUpdated.subscribe((function(t){return m.appLibraryStatus=t})),this.subscriptions[6]=this.appsHelper.activeFolderChanged.subscribe((function(t){return m.activeFolder=t})),this.subscriptions[7]=p.visibilitySet.subscribe((function(t){m.isAupVisible&&!t||(m.notificationsVisible=t)})),this.subscriptions[8]=p.notificationsUpdated.subscribe((function(t){m.notificationsUnread=ne()(t,(function(t){return!t.read})).length,m.notificationsUnread>0&&!m.notificationsVisible&&m.toggleShowNotifications()})),this.subscriptions[9]=l.dropdownItemsCreated.subscribe((function(t){m.dropdownItems=t})),this.subscriptions[10]=this.tagsHelper.tagFilterUpdated.subscribe((function(t){m.tagFilter=t,m.updateSearchInputStyles(t),m.filterApps()})),this.subscriptions[11]=Object(q.a)(e.folderViewVisibleChanged,e.sessionTimedOut,e.appTwoFactorRequired,e.deleteConfirmationRequired,e.welcomeVisibleChanged,e.folderCreatorVisibleChanged,d.tagModalVisibleChanged,e.unsupporterBrowserShown,e.showWorkerUpdate,e.showForcePasswordRecovery,e.editCustomAppUpdated,e.aupModalVisible,e.appInfoVisible).subscribe((function(t){m.modalOpen=!!t,m.checkAndSetKeyListener()})),this.subscriptions[12]=this.slideoverService.isOpenStateChange.subscribe((function(t){m.slideoverOpen=t,m.checkAndSetKeyListener()})),this.subscriptions[13]=this.notificationsHelper.openModalCount.subscribe((function(t){m.modalCount=t})),this.subscriptions[14]=l.backgroundStyleUpdated.subscribe((function(t){m.isProfessionalThemeActive&&(m.backgroundStyle={"background-image":""})})),this.subscriptions[15]=this.appsHelper.newFolderCreated.subscribe((function(t){t&&m.clearFilter()})),this.subscriptions[16]=this.appsHelper.toggleWidgetsDrawer.subscribe((function(t){m.isDrawerVisible=t})),this.subscriptions[17]=this.appsHelper.aupModalVisible.subscribe((function(t){m.isAupVisible=t})),this.userInfo=i.getUserInfo(),this.subscriptions[18]=this.myProfileHelper.generalSettingsUpdated.subscribe((function(t){t&&t.ImagePath&&m.onUserInfoUpdate(t)})),this.subscriptions[19]=this.myProfileHelper.avatarUpdated.subscribe((function(t){m.updateUserAvatar(t)})),this.linksHandle=a.registerMenu((function(){return m.showLinksMenu=!1})),this.profileHandle=a.registerMenu((function(){return m.showProfileDropdown=!1})),this.resultsHandle=a.registerMenu((function(){return m.resultsVisible=!1})),this.notificationsHandle=a.registerMenu((function(){return m.notificationsHelper.visibilitySet.next(!1)})),this.version=Re.a.version,this.endImpersonation=Ag()(this.endImpersonation,2e3,{leading:!0}),this.checkAndSetKeyListener(),this.updateSearchInputStyles(void 0)}return Object.defineProperty(t.prototype,"avatarUrl",{set:function(t){t&&this.updateUserAvatar(t)},enumerable:!1,configurable:!0}),t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.menuHelper.unregisterMenu(this.linksHandle),this.menuHelper.unregisterMenu(this.profileHandle),this.menuHelper.unregisterMenu(this.resultsHandle),this.menuHelper.unregisterMenu(this.notificationsHandle)},t.prototype.updateSearchInputStyles=function(t){t?(this.extraStyles.input=10*t.name.length+100>180?"padding-right: 180px":"padding-right: "+(10*t.name.length+100)+"px",this.extraStyles.clearBtn=10*t.name.length+85>160?"right: 160px":"right:"+(10*t.name.length+85)+"px"):(this.extraStyles.input="padding-right: 70px",this.extraStyles.clearBtn="")},t.prototype.checkAndSetKeyListener=function(){var t=this;this.slideoverOpen||this.modalOpen||this.subscriptions[20]&&!this.subscriptions[20].closed?this.subscriptions[18]&&(this.slideoverOpen||this.modalOpen)&&this.subscriptions[18].unsubscribe():this.subscriptions[20]=Object(C.a)(document,"keydown",{passive:!0}).subscribe((function(e){var n=e.key;t.firstKeyDown&&e.shiftKey&&"Tab"===n?t.appsHelper.showAccessibilityBar.next(!0):t.firstKeyDown&&!e.shiftKey&&(t.firstKeyDown=!1),"Tab"===n||"Alt"===n||"Enter"===n||"Shift"===n||e.altKey&&"/"===n||" "===n||"Space"===n||"Control"===n||e.shiftKey&&"F10"===n||"ArrowLeft"===n||"ArrowRight"===n||"ArrowUp"===n||"ArrowDown"===n||("Escape"===n?t.clearFilter():t.onKeyDown())}))},t.prototype.onShiftTab=function(){this.appsHelper.showAccessibilityBar.next(!0)},t.prototype.onKeyDown=function(){document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||this.input.inputElement.focus()},t.prototype.onSettingsUpdate=function(t){this.settings=t,this.profiles=t.allowedProfiles,this.isDynamicThemeActive=t.customUISettings.theme===Ee.a.Dynamic,this.isProfessionalThemeActive=t.customUISettings.theme===Ee.a.Professional},t.prototype.getCurrentProfile=function(){var t=this;return this.profiles?Ce()(this.profiles,(function(e){return e.profileId===t.settings.userInfo.ProfileId})):void 0},t.prototype.switchProfile=function(t){this.settingsService.switchProfile(t.profileId).subscribe((function(t){window.location.reload()}))},t.prototype.endImpersonation=function(){var t=this;this.tmsService.endImpersonation().subscribe((function(e){t.sessionService.setGwsToken(e.gwsToken,!1),t.appsService.endImpersonationApps().subscribe((function(t){localStorage.setItem("impersonationEnded",JSON.stringify(!0)),window.location.href=t.redirectUrl}))}))},t.prototype.toggleEditMode=function(){this.isEditMode=!this.isEditMode,this.appsHelper.editModeChanged.next(this.isEditMode)},t.prototype.clearFilter=function(){this.filter="",this.onFilterUpdate()},t.prototype.onFilterUpdate=function(t){this.keyedIndex=void 0,this.appsHelper.filterUpdate.next(this.filter),this.filterApps()},t.prototype.filterApps=function(){var t=this,e=!this.filter||""===this.filter.trim();if(e&&(this.resultsVisible=!1),e&&!this.tagFilter)return this.filterResults=[],void(this.filterResultsMarkup=[]);var n=this.filter.trim().toLowerCase(),i=kg()(this.apps.map((function(e){return t.appsHelper.isFolder(e)?Object(le.e)([e],e.apps):e})));if(e||(i=ne()(i,(function(t){return t.name.toLowerCase().trim().includes(n)||t.appdesc&&t.appdesc.toLowerCase().trim().includes(n)}))),this.tagFilter&&(i=ne()(i,(function(e){return t.tagFilter.apps.includes(e.id)}))),this.isDynamicThemeActive){var o=new RegExp("^[^a-zA-Z].*");i.sort((function(t,e){return o.test(n)||!o.test(t.name.trim().toLocaleLowerCase())||o.test(e.name.trim().toLocaleLowerCase())?o.test(n)||o.test(t.name.trim().toLocaleLowerCase())||!o.test(e.name.trim().toLocaleLowerCase())?t.name.toLowerCase().startsWith(n)&&!e.name.toLowerCase().startsWith(n)?-1:!t.name.toLowerCase().startsWith(n)&&e.name.toLowerCase().startsWith(n)||t.name.toLowerCase()>e.name.toLowerCase()?1:-1:-1:1}))}else i.sort((function(t){return t.name.toLowerCase().trim().includes(n)?-1:1}));var r=new RegExp("("+Mg()(n)+")","gi");this.filterResults=i.length>0?i:[""],this.filterResultsMarkup=i.length>0?i.map((function(e){return t.san.bypassSecurityTrustHtml(e.name.replace(r,'<span class="search-accent">$1</span>'))})):["No Results Found"],this.keyedIndex=0,this.resultsVisible=!e},t.prototype.toggleLinksDropdown=function(t){t.stopPropagation(),t.preventDefault(),this.menuHelper.closeAllOtherMenus(this.linksHandle),this.showLinksMenu=!this.showLinksMenu},t.prototype.toggleProfileDropdown=function(t){t.stopPropagation(),this.menuHelper.closeAllOtherMenus(this.profileHandle),this.showProfileDropdown=!this.showProfileDropdown},t.prototype.toggleShowProfiles=function(t){t.stopPropagation(),this.menuHelper.closeAllOtherMenus(this.profileHandle),this.showUserProfiles=!this.showUserProfiles},t.prototype.toggleShowNotifications=function(t){t instanceof Event&&t.stopPropagation(),this.menuHelper.closeAllOtherMenus(this.notificationsHandle),this.button&&this.button.nativeElement.blur(),this.notificationsHelper.toggleVisibility()},t.prototype.onAppLaunch=function(t){t&&(this.filter="",this.onFilterUpdate(),this.appsHelper.isFolder(t)?this.isDynamicThemeActive?this.appsHelper.selectedFolderChanged.next(t):(this.appsHelper.activeFolderChanged.next(t),this.appsHelper.folderViewVisibleChanged.next(!0)):this.appsHelper.launchApp(t,null,this.formPostAppHelper.showLaunchDisabled(t)))},t.prototype.onArrowPress=function(t,e){e.preventDefault(),this.keyedIndex=void 0!==this.keyedIndex?this.keyedIndex+(t?1:-1):0,this.keyedIndex=this.keyedIndex<0?0:this.keyedIndex>9?9:this.keyedIndex},t.prototype.onInputFocus=function(t){t.stopPropagation(),this.menuHelper.closeAllOtherMenus(this.resultsHandle),this.resultsVisible=""!==this.filter.trim()},t.prototype.onDocumentClick=function(){this.resultsVisible=!1,this.showProfileDropdown=!1,this.showLinksMenu=!1,this.modalCount<=0&&this.notificationsHelper.visibilitySet.next(!1)},t.prototype.setHighContrast=function(t){var e=this;t&&t.element&&t.element.focus(),setTimeout((function(){e.settingsService.setSettings(e.settings).subscribe((function(t){e.sessionService.setSettings(e.settings)}))}),0)},t.prototype.openAppLibrary=function(t){this.slideoverService.appLibrary.opened.next(null==t?void 0:t.target)},t.prototype.openMyProfile=function(t){this.showProfileDropdown=!1,this.slideoverService.myProfile.opened.next({ele:null==t?void 0:t.target})},t.prototype.logout=function(){this.appsHelper.logout(!0)},t.prototype.hamburgerItemFocus=function(t){this.focusedHamburgerItem=this.genId(t)},t.prototype.goToLink=function(t){window.open(t,"_blank")},t.prototype.genId=function(t){return t.trim().replace(/\s/g,"-")+"-hamburgerMenuOpt"},t.prototype.handleImage=function(t){t.target.src=Re.a.coreCDN+"/assets/images/default-app-icon.png"},t.prototype.nav=function(t){if(t.target!==this.input.inputElement){if(t.stopPropagation(),t.preventDefault(),this.focusables.length){var e=this.focusables.toArray();$e.a.keyboardJump(e,t,!1)}}else("ArrowUp"===t.key||"ArrowDown"===t.key)&&this.appSubItems.toArray().length>0&&t.preventDefault()},t.prototype.toggleWidgetsDrawer=function(t){this.appsHelper.toggleWidgetsDrawer.next(!this.isDrawerVisible)},t.prototype.updateUserAvatar=function(t){if(this.userInfo){var e=t.startsWith("http")?t:this.APP_CONFIG.cloudDriveCdn+"/"+t;this.userInfo=Object(le.a)(Object(le.a)({},this.userInfo),{ImagePath:e})}},t.prototype.onUserInfoUpdate=function(t){this.userInfo=Object(le.a)(Object(le.a)({},this.userInfo),t),this.updateUserAvatar("ImagePath"in t?this.userInfo.ImagePath:t.ImagePath)},t.\u0275fac=function(e){return new(e||t)(c.Mb(We.G),c.Mb(Xt.a),c.Mb(Zn.b),c.Mb(ae.a),c.Mb(di.a),c.Mb(xe.a),c.Mb(Ze),c.Mb(Qt.a),c.Mb(we.a),c.Mb(re.a),c.Mb(vi),c.Mb(se.a),c.Mb(pi),c.Mb(Ue),c.Mb(je.a),c.Mb($e.a),c.Mb(Fe))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-header"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(Sh,!0),c.Nc(Ah,!0),c.Nc(Ih,!0),c.Nc(Rh,!0),c.Nc(Th,!0)),2&t&&(c.uc(n=c.ac())&&(e.input=n.first),c.uc(n=c.ac())&&(e.profNotificationButton=n.first),c.uc(n=c.ac())&&(e.button=n.first),c.uc(n=c.ac())&&(e.focusables=n),c.uc(n=c.ac())&&(e.appSubItems=n))},hostBindings:function(t,e){1&t&&c.Zb("keydown.ArrowUp",(function(t){return e.nav(t)}))("keydown.ArrowDown",(function(t){return e.nav(t)}))("keydown.ArrowLeft",(function(t){return e.nav(t)}))("keydown.ArrowRight",(function(t){return e.nav(t)}))},inputs:{avatarUrl:"avatarUrl"},decls:1,vars:0,consts:[[4,"transloco"],[1,"row",3,"ngClass","ngStyle"],["class","menu-button flex-center hamburger","tabindex","0","aria-haspopup","true","role","menu","aria-controls","linksmenu",3,"keydown.shift.Tab","click",4,"ngIf"],["class","links custom-scroll","id","linksmenu","role","menu","aria-label","A menu that provides shortcuts to other ClassLink apps and helpful links","tabindex","0","clKeyboardNav","",3,"clFocusTrap","click",4,"ngIf"],[1,"logo"],[4,"ngIf","ngIfElse"],["defaultLogo",""],["notificationTpl",""],["tooltipTemplate",""],["class","icons flex-center",4,"ngIf"],[1,"search"],[4,"ngIf"],["role","combobox",1,"input-ctnr"],[1,"primary-color",3,"value","events","icon","attributes","valueChange","click"],["input",""],["class","hover-button",3,"tabIndex","style","click",4,"ngIf"],["class","filter-results","role","listbox","id","appsSearchResults",3,"dynamic-style",4,"ngIf"],[1,"notifications"],["tabindex","0",1,"notification-button",3,"clTooltip","clTooltipContext","clTooltipDirection","click"],[1,"far","fa-bell"],["class","notifications-number",4,"ngIf"],["class","show-triangle top-right professional",3,"hide",4,"ngIf"],["class","menu-options flex-center cl-focusable-white","role","button","tabindex","0",3,"keydown.Enter","keydown.space","click",4,"ngIf"],["class","profile-container","clFocusTrap","",3,"click",4,"ngIf"],["tabindex","0","aria-haspopup","true","role","menu","aria-controls","linksmenu",1,"menu-button","flex-center","hamburger",3,"keydown.shift.Tab","click"],[1,"fas","fa-bars"],["id","linksmenu","role","menu","aria-label","A menu that provides shortcuts to other ClassLink apps and helpful links","tabindex","0","clKeyboardNav","",1,"links","custom-scroll",3,"clFocusTrap","click"],["alt","ClassLink Logo",1,"title-img",3,"src"],[4,"ngFor","ngForOf"],["inner",""],["class","dropdown-item flex-start-center","role","menuitem","clItem","",3,"href","target","id","focus","keydown.Enter",4,"ngIf"],["role","button menuitem","tabindex","0","class","dropdown-item flex-start-center","clItem","",3,"id","focus","click","keydown.Enter","keydown.Space",4,"ngIf"],["role","link menuitem","tabindex","0","class","dropdown-item flex-start-center","clItem","",3,"id","focus","click","keydown.Enter",4,"ngIf"],["role","menuitem","clItem","",1,"dropdown-item","flex-start-center",3,"href","target","id","focus","keydown.Enter"],["focusable",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","button menuitem","tabindex","0","clItem","",1,"dropdown-item","flex-start-center",3,"id","focus","click","keydown.Enter","keydown.Space"],["role","link menuitem","tabindex","0","clItem","",1,"dropdown-item","flex-start-center",3,"id","focus","click","keydown.Enter"],[1,"icon-ctnr"],[3,"class",4,"ngIf"],[3,"name",4,"ngIf"],[3,"src","alt",4,"ngIf"],[3,"name"],[3,"src","alt"],["onerror","this.src = 'assets/images/classlink-logo-invert.svg'",3,"src","alt"],[1,"cl-tooltip"],[1,"icons","flex-center"],["class","cl-focusable-white",3,"clTooltip","clTooltipContext","clTooltipDirection","click",4,"ngIf"],["aria-haspopup","menu",1,"cl-focusable-white",3,"clTooltip","clTooltipContext","clTooltipDirection","click"],[1,"far","fa-edit"],["aria-controls","notifications_popup",1,"cl-focusable-white","notification-button",3,"clTooltip","clTooltipContext","clTooltipDirection","click"],["focusable","","notificationButton",""],["class","show-triangle top","id","notifications_popup",3,"hide",4,"ngIf"],[1,"cl-focusable-white",3,"clTooltip","clTooltipContext","clTooltipDirection","click"],[1,"far","fa-plus"],["id","notifications_popup",1,"show-triangle","top"],[1,"notifications-number"],[1,"hover-button",3,"tabIndex","click"],[1,"far","fa-times"],["role","listbox","id","appsSearchResults",1,"filter-results"],["class","dropdown-item flex-start-center cl-focusable","role","option","tabindex","0",3,"active","focus","click","keydown.Enter",4,"ngFor","ngForOf"],["role","option","tabindex","0",1,"dropdown-item","flex-start-center","cl-focusable",3,"focus","click","keydown.Enter"],["appSubItem",""],["img",""],[1,"projection-ctnr",3,"innerHTML"],[1,"fas","fa-folder-open"],["alt","",3,"src","error",4,"ngIf"],["alt","",3,"src","error"],[1,"show-triangle","top-right","professional"],[1,"fas","fa-bell"],[1,"show-triangle","top-right","dynamic"],["aria-haspopup","menu",1,"cl-focusable-white",3,"clTooltip","clTooltipDirection","clTooltipContext","click"],[1,"fas","fa-folder-plus"],["class","cl-focusable-white",3,"active","clTooltip","clTooltipContext","clTooltipDirection","click",4,"ngIf"],[1,"fas","fa-plus-circle"],[1,"fas","fa-cog"],[1,"fa-regular","fa-list-dropdown"],["role","button","tabindex","0",1,"menu-options","flex-center","cl-focusable-white",3,"keydown.Enter","keydown.space","click"],["onerror","this.src = 'assets/images/default-avatar.png'",3,"src","alt"],[1,"fas","fa-caret-down"],["clFocusTrap","",1,"profile-container",3,"click"],[1,"info-sect","flex-start"],[1,"left","flex-start"],[1,"top"],[1,"profile-name"],[1,"profile-detail"],[1,"options","flex-start-center"],[1,"button-text",3,"click"],["class","button-text text-danger",3,"click",4,"ngIf"],["class","profile-selector flex-start-center","role","button","tabindex","0",3,"click","keydown.space","keydown.Enter",4,"ngIf"],[1,"button-text","text-danger",3,"click"],["role","button","tabindex","0",1,"profile-selector","flex-start-center",3,"click","keydown.space","keydown.Enter"],[1,"fal","fa-angle-down"],["class","profiles-list",4,"ngIf"],[1,"profiles-list"],["class","profile column-nowrap flex-start","role","button","tabindex","0",3,"active","click","keydown.Enter","keydown.space",4,"ngFor","ngForOf"],["role","button","tabindex","0",1,"profile","column-nowrap","flex-start",3,"click","keydown.Enter","keydown.space"]],template:function(t,e){1&t&&c.Gc(0,wb,31,38,"ng-container",0)},directives:[Te.c,i.j,i.m,i.l,We.C,Hg,We.Y,ko,We.E,We.y,i.k,We.J,i.p,We.m,kh],styles:['[_nghost-%COMP%]{position:relative;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-ms-flex-align:start;align-items:flex-start;background-color:var(--color-nav);z-index:202;padding:0}[_nghost-%COMP%], [_nghost-%COMP%]   .row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:start;justify-content:flex-start;width:100%}[_nghost-%COMP%]   .row[_ngcontent-%COMP%]{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-align:center;align-items:center;height:50px;-ms-flex:0 0 50px;flex:0 0 50px;min-height:50px;max-height:50px;padding:7px 0}[_nghost-%COMP%]   h1[_ngcontent-%COMP%], [_nghost-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-nav-text)}[_nghost-%COMP%]   .border-right[_ngcontent-%COMP%]{border-right:1px solid hsla(0,0%,100%,.2)}[_nghost-%COMP%]   .icons[_ngcontent-%COMP%], [_nghost-%COMP%]   .logo[_ngcontent-%COMP%]{height:100%;padding:0 15px;position:relative}[_nghost-%COMP%]   svg[_ngcontent-%COMP%]{font-size:18px;color:var(--color-nav-text)}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:auto;margin-right:10px;max-width:40px;max-height:40px}.dynamic-header[_nghost-%COMP%]{max-height:94px;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.menu-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:var(--color-nav-text);height:50px;width:50px;z-index:1001}.menu-button[_ngcontent-%COMP%]:after{width:100%;height:100%;top:0;left:0}.menu-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-nav)}.logo[_ngcontent-%COMP%]{margin-left:50px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:700;font-size:calc(var(--font-modifier) * 18px)}.icons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .icons[_ngcontent-%COMP%] > div[role=button][_ngcontent-%COMP%], .menu-options[_ngcontent-%COMP%]{position:relative;margin:0 5px;padding:0 5px}.icons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:before, .icons[_ngcontent-%COMP%] > div[role=button][_ngcontent-%COMP%]:before, .menu-options[_ngcontent-%COMP%]:before{content:"";position:absolute;opacity:0;border-radius:5px;background-color:var(--color-fade-white);z-index:-1}.icons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:after, .icons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:before, .icons[_ngcontent-%COMP%] > div[role=button][_ngcontent-%COMP%]:after, .icons[_ngcontent-%COMP%] > div[role=button][_ngcontent-%COMP%]:before, .menu-options[_ngcontent-%COMP%]:after, .menu-options[_ngcontent-%COMP%]:before{top:-5px;left:-3px;width:calc(100% + 6px);height:calc(100% + 10px)}.icons[_ngcontent-%COMP%] > button.active[_ngcontent-%COMP%]:before, .icons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover:before, .icons[_ngcontent-%COMP%] > div[role=button].active[_ngcontent-%COMP%]:before, .icons[_ngcontent-%COMP%] > div[role=button][_ngcontent-%COMP%]:hover:before, .menu-options.active[_ngcontent-%COMP%]:before, .menu-options[_ngcontent-%COMP%]:hover:before{opacity:1}app-dropdown-menu.notifications[_ngcontent-%COMP%]{position:absolute;top:43px;left:calc(100% - 77px);width:500px;max-height:500px;padding:0 5px 0 0}app-dropdown-menu.notifications[_ngcontent-%COMP%]:before{left:39px}.search[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;margin-left:auto;-ms-flex-positive:0.5;flex-grow:0.5;height:100%;width:100%;max-width:50%;min-height:36px}.search[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{white-space:nowrap;font-size:calc(var(--font-modifier) * 12px);margin-right:10px}.search[_ngcontent-%COMP%]   .input-ctnr[_ngcontent-%COMP%]{position:relative;-ms-flex:1 1 auto;flex:1 1 auto;height:100%}.search[_ngcontent-%COMP%]   .input-ctnr[_ngcontent-%COMP%]   button.hover-button[_ngcontent-%COMP%]{right:54px}.search[_ngcontent-%COMP%]   .input-ctnr[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]{border-radius:5px;width:100%;top:100%}.search[_ngcontent-%COMP%]   .input-ctnr[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{display:block;color:var(--color-light)}.search[_ngcontent-%COMP%]   .input-ctnr[_ngcontent-%COMP%]   cl-input[_ngcontent-%COMP%]{height:100%}.search[_ngcontent-%COMP%]   .input-ctnr[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;position:absolute;top:11px;right:161px;padding:0;height:15px}.search[_ngcontent-%COMP%]   .input-ctnr[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-white);font-size:15px}.notifications[_ngcontent-%COMP%]{position:relative;display:none;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;margin:0 10px;height:100%}.notifications[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{color:var(--color-dark)}.notifications[_ngcontent-%COMP%]   .notifications-number[_ngcontent-%COMP%]{border:2px solid var(--color-danger);color:var(--color-danger);top:2px;right:-2px;width:20px;height:20px}.menu-options[_ngcontent-%COMP%]{cursor:pointer;margin:0 15px 0 10px;height:36px}.menu-options[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;border:2px solid var(--color-nav-text);background-color:var(--color-white)}.profile-container[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]{position:absolute;top:50px;right:0;-ms-flex-flow:column nowrap;flex-flow:column nowrap;width:400px!important;padding:20px;background-color:var(--color-white);border-radius:5px 0 5px 5px;cursor:default;box-shadow:0 0 5px rgba(0,0,0,.25);z-index:202}.profile-container[_ngcontent-%COMP%]:hover, .profiles-list[_ngcontent-%COMP%]:hover{opacity:1!important}.profile-container[_ngcontent-%COMP%]   p.profile-name[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   p.profile-name[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 16px);font-weight:800;white-space:nowrap;text-overflow:ellipsis;width:250px;overflow:hidden;line-height:normal}.profile-container[_ngcontent-%COMP%]   p.profile-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   p.profile-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-size:calc(var(--font-modifier) * 15px)}.profile-container[_ngcontent-%COMP%]   p.profile-detail[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   p.profile-detail[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px);font-weight:600;white-space:nowrap;text-overflow:ellipsis;width:240px;overflow:hidden;line-height:normal}.profile-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px);font-weight:400;color:var(--color-dark)}.profile-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:15px}.profile-container[_ngcontent-%COMP%]   .info-sect[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .info-sect[_ngcontent-%COMP%]{width:100%;min-height:115px}.profile-container[_ngcontent-%COMP%]   .info-sect[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .info-sect[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{-ms-flex-flow:column nowrap;flex-flow:column nowrap;width:75%}.profile-container[_ngcontent-%COMP%]   .info-sect[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .info-sect[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{margin-bottom:15px}.profile-container[_ngcontent-%COMP%]   .info-sect[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .info-sect[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:5px}.profile-container[_ngcontent-%COMP%]   .info-sect[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .info-sect[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:auto;width:100px;height:100px;border-radius:50%;max-width:none;max-height:none}.profile-container[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]{position:relative;border-top:1px solid var(--color-border-light);width:100%;height:auto;padding-top:20px;cursor:pointer;line-height:normal}.profile-container[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]:after, .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]:after{height:100%;top:8px}.profile-container[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]:hover, .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]:hover{opacity:1}.profile-container[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:auto}.profile-container[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:20px;color:var(--color-dark)}.profile-container[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]{top:61px;right:-20px}.profile-container[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{border-radius:5px;padding:10px}.profile-container[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile.active[_ngcontent-%COMP%], .profile-container[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]:hover, .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile.active[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-dark)}.profile-container[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile.active[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .profile-container[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile.active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile.active[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile.active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-primary)}.profile-container[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:calc(var(--font-modifier) * 14px);margin-bottom:3px}.profile-container[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .profiles-list[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   .profiles-list[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 12px);font-weight:600}app-dropdown-menu.links[_ngcontent-%COMP%]{width:300px;border-radius:0 5px 5px 5px;overflow-y:auto;max-height:100vh}app-dropdown-menu.links[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-dark)}app-dropdown-menu.links[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-height:20px;height:20px}app-dropdown-menu.links[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{margin-top:30px}app-dropdown-menu.links[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   cl-slide-toggle[_ngcontent-%COMP%]{width:auto;height:auto}app-dropdown-menu.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-dark)!important}app-dropdown-menu.filter-results.hidden[_ngcontent-%COMP%]{opacity:0;pointer-events:none}app-dropdown-menu.filter-results[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{display:-ms-flexbox!important;display:flex!important}app-dropdown-menu.filter-results[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], app-dropdown-menu.filter-results[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{-ms-flex:0 0 30px;flex:0 0 30px;width:30px;margin-right:10px}app-dropdown-menu.filter-results[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px;clip-path:url(#squareCircle)}app-dropdown-menu.filter-results[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:.8;font-size:30px;color:var(--color-dark)}app-dropdown-menu.filter-results[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}app-dropdown-menu.filter-results.dynamic-style[_ngcontent-%COMP%]{gap:.4em}app-dropdown-menu.filter-results.dynamic-style[_ngcontent-%COMP%]   div.dropdown-item[_ngcontent-%COMP%]{background-color:var(--color-primary-faded);color:var(--color-dark)!important;padding:8px 15px}app-dropdown-menu.filter-results.dynamic-style[_ngcontent-%COMP%]   div.dropdown-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:1.4em}.logo-svg[_ngcontent-%COMP%]{margin-right:10px}.logo-svg[_ngcontent-%COMP%]   .logo-path[_ngcontent-%COMP%]{fill:var(--color-nav-text)}.cl-material[_ngcontent-%COMP%]   .dynamic-header[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .dropdown-ctnr[_ngcontent-%COMP%]   .display[_ngcontent-%COMP%], .row.dynamic-header[_ngcontent-%COMP%]{background-color:rgba(0,0,0,0)}.row.dynamic-header[_ngcontent-%COMP%]{padding:0 50px 0 20px;min-height:inherit;max-height:inherit;height:auto;background-repeat:no-repeat;background-size:cover;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.row.dynamic-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{padding:0;margin-left:0;margin-right:25px;width:255px;min-width:255px;max-width:255px}.row.dynamic-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{max-width:170px;width:100%;font-weight:600;font-size:calc(var(--font-modifier) * 16px);line-height:calc(var(--font-modifier) * 18px);overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-overflow:ellipsis;white-space:normal;overflow-wrap:break-word}.row.dynamic-header[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{padding:0;margin-left:34px;gap:15px}.row.dynamic-header[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:25px;height:25px;padding:0;margin:0}.row.dynamic-header[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]   .notifications-number[_ngcontent-%COMP%]{background-color:var(--color-danger);color:var(--color-white);border:2px solid var(--color-white);top:-14px;right:-12px;font-size:calc(var(--font-modifier)* 13px);line-height:calc(var(--font-modifier)* 15px);height:calc(var(--font-modifier) * 24px);width:calc(var(--font-modifier) * 24px)}.row.dynamic-header[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1;margin-left:0;max-height:36px}.row.dynamic-header[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .input-ctnr[_ngcontent-%COMP%]{max-height:36px}.row.dynamic-header[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .input-ctnr[_ngcontent-%COMP%]   button.hover-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-dark)}.row.dynamic-header[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .input-ctnr[_ngcontent-%COMP%]   button.hover-button[_ngcontent-%COMP%]:after{border-color:var(--color-primary)}@media screen and (max-width:768px){.row[_ngcontent-%COMP%]{-ms-flex-pack:justify!important;justify-content:space-between!important}.search[_ngcontent-%COMP%]{max-width:30%;margin-left:0}.search[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{max-width:30%;min-width:0;-ms-flex-negative:1;flex-shrink:1;overflow:hidden;text-overflow:ellipsis}.search[_ngcontent-%COMP%]   .input-ctnr[_ngcontent-%COMP%]{max-width:100%}.menu-button[_ngcontent-%COMP%]{position:relative;min-width:50px}.logo[_ngcontent-%COMP%]{margin-left:0;padding:0 3px!important}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px}.icons[_ngcontent-%COMP%]{padding-left:0;max-width:25%}.row.dynamic-header[_ngcontent-%COMP%]{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.row.dynamic-header[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{max-width:inherit}.row.dynamic-header[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .input-ctnr[_ngcontent-%COMP%]   button.hover-button[_ngcontent-%COMP%]{right:inherit;left:calc(100% - 75px);width:20px;height:29px;top:3px}.row.dynamic-header[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .input-ctnr[_ngcontent-%COMP%]   button.hover-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%}.row.dynamic-header[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{max-width:inherit;margin-left:2%;padding:0}}@media screen and (max-width:700px){.logo[_ngcontent-%COMP%]{padding-right:0!important}.logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:none!important}.row.dynamic-header[_ngcontent-%COMP%]{padding:40px 10px 30px}}']}),t}(),Ob=["fileInput"],Mb=["tabpanel"],_b=["palette"],kb=["fontStyle"],Sb=["wallpaper"],Ab=["appIconStyle"],Ib=["addFolderInput"],Rb=["tabitem"],Tb=["focusable"];function Fb(t,e){if(1&t&&(c.Sb(0,"div",12),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=e.$implicit,i=c.dc().$implicit;c.Ab(2),c.Jc(i(n.title))}}var Eb=function(t){return{option:t}};function Db(t,e){if(1&t&&(c.Qb(0),c.Ob(1,6),c.Pb()),2&t){var n=c.dc(3).$implicit;c.Ab(1),c.kc("ngTemplateOutlet",n.dropdownTemplate)("ngTemplateOutletContext",c.nc(2,Eb,n))}}function Lb(t,e){if(1&t&&c.Nb(0,"div",30),2&t){var n=c.dc().$implicit;c.kc("ngStyle",n.container.styles)}}function Nb(t,e){if(1&t&&c.Nb(0,"i",30),2&t){var n=c.dc().$implicit;c.Cb(n.icon),c.kc("ngStyle",n.iconStyles)}}function Hb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",26,17),c.Zb("keydown.Enter",(function(t){c.yc(n);var i=e.$implicit,o=c.dc(4).$implicit;return t.stopPropagation(),i.handler(o,i)}))("keydown.space",(function(t){c.yc(n);var i=e.$implicit,o=c.dc(4).$implicit;return t.stopPropagation(),i.handler(o,i)}))("click",(function(t){c.yc(n);var i=e.$implicit,o=c.dc(4).$implicit;return t.stopPropagation(),i.handler(o,i)})),c.Sb(2,"span",27),c.Gc(3,Lb,1,1,"div",28),c.Gc(4,Nb,1,3,"ng-template",null,29,c.Hc),c.Rb(),c.Ic(6),c.Rb()}if(2&t){var i=e.$implicit,o=c.vc(5),r=c.dc(4).$implicit,a=c.dc(2).$implicit;c.Eb("active",i.isActive(r,i)),c.Ab(2),c.kc("ngClass",i.iconClass),c.Ab(1),c.kc("ngIf",i.container)("ngIfElse",o),c.Ab(3),c.Kc(" ",a(i.title)," ")}}var Gb=function(t){return{last:t}};function Bb(t,e){if(1&t&&(c.Sb(0,"app-dropdown-menu",24),c.Gc(1,Hb,7,6,"div",25),c.Rb()),2&t){var n=c.dc(3),i=n.index,o=n.$implicit,r=c.dc().options,a=c.dc(2);c.kc("ngClass",c.nc(2,Gb,i===a.getAmountDisplayedOptions(r)-1)),c.Ab(1),c.kc("ngForOf",o.dropdownItems)}}function jb(t,e){if(1&t&&(c.Qb(0),c.Gc(1,Db,2,4,"ng-container",22),c.Gc(2,Bb,2,4,"ng-template",null,23,c.Hc),c.Pb()),2&t){var n=c.vc(3),i=c.dc(2).$implicit;c.Ab(1),c.kc("ngIf",i.dropdownTemplate)("ngIfElse",n)}}function Ub(t,e){1&t&&(c.Sb(0,"span"),c.Nb(1,"i",47),c.Rb())}function zb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",46),c.Zb("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(7).onFolderColorChange(t)}))("keydown.Space",(function(){c.yc(n);var t=e.$implicit;return c.dc(7).onFolderColorChange(t)}))("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(7).onFolderColorChange(t)})),c.Gc(1,Ub,2,0,"span",20),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(7);c.Ec("background-color",i),c.Bb("tabindex",o.showColorPicker?0:-1)("aria-label",i),c.Ab(1),c.kc("ngIf",o.folderColor===i&&!o.isCustomColorSelected)}}function Vb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",48),c.Sb(1,"div",49),c.Sb(2,"span",50),c.Zb("clColorPickerChange",(function(t){return c.yc(n),c.dc(7).customColor=t}))("clColorPickerChange",(function(t){return c.yc(n),c.dc(7).onCustomColorChange(t)})),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=c.dc(7);c.Ab(2),c.kc("clColorPicker",i.customColor)("cpSaveClickOutside",!1)("cpWidth","240px")("cpHeight","280px")("cpDialogDisplay","inline")("cpToggle",!0)("cpUseRootViewContainer",!0)}}function Zb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-dropdown-menu",38),c.Sb(1,"div",39),c.Ic(2),c.Rb(),c.Sb(3,"div",40),c.Ic(4),c.Rb(),c.Sb(5,"div",41),c.Gc(6,zb,2,5,"div",42),c.Rb(),c.Sb(7,"div",43),c.Zb("click",(function(){return c.yc(n),c.dc(6).toggleCustomColorPicker()})),c.Sb(8,"span"),c.Ic(9),c.Rb(),c.Nb(10,"i",44),c.Rb(),c.Gc(11,Vb,3,7,"div",45),c.Rb()}if(2&t){var i=c.dc(5).$implicit,o=c.dc();c.Eb("visible",o.showColorPicker),c.Bb("aria-hidden",!o.showColorPicker),c.Ab(2),c.Lc("",i("myColor")," : ",o.folderColor,""),c.Ab(2),c.Jc(i("recommendedColors")),c.Ab(2),c.kc("ngForOf",o.paletteColors)("ngForTrackBy",o.colorTrackBy),c.Ab(3),c.Jc(i("customColor")),c.Ab(1),c.kc("@rotateChevron",o.getChevronState()),c.Ab(1),c.kc("ngIf",o.showCustomColorPicker)}}function $b(t,e){1&t&&c.Nb(0,"i",51)}var Wb=function(t,e){return{type:"text","aria-label":t,required:!0,placeholder:e}};function Jb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",31),c.Sb(1,"button",32),c.Zb("click",(function(t){return c.yc(n),c.dc(5).toggleColorPicker(t)}))("keydown.Enter",(function(t){return c.yc(n),c.dc(5).toggleColorPicker(t)}))("keydown.Space",(function(t){return c.yc(n),c.dc(5).toggleColorPicker(t)})),c.Rb(),c.Gc(2,Zb,12,11,"app-dropdown-menu",33),c.Sb(3,"cl-input",34,35),c.Zb("valueChange",(function(t){return c.yc(n),c.dc(5).folderName=t}))("valueChange",(function(){return c.yc(n),c.dc(5).handleFolderNameChange()})),c.Rb(),c.Sb(5,"span",36),c.Zb("click",(function(){c.yc(n);var t=c.dc(5);return t.isFolderNameValid?t.createFolder():t.return}))("keydown.Enter",(function(){c.yc(n);var t=c.dc(5);return t.isFolderNameValid?t.createFolder():t.return}))("keydown.Space",(function(){c.yc(n);var t=c.dc(5);return t.isFolderNameValid?t.createFolder():t.return})),c.Gc(6,$b,1,0,"i",37),c.Rb(),c.Rb()}if(2&t){var i=c.dc(4).$implicit,o=c.dc();c.kc("@inOutWidthAnimation",void 0),c.Ab(1),c.Ec("background-color",o.folderColor),c.Bb("aria-label",i("selectFolderColor")),c.Ab(1),c.kc("ngIf",o.showColorPicker),c.Ab(1),c.Eb("open",o.isAddFolderInputVisible),c.kc("value",o.folderName)("charLimit",255)("attributes",c.oc(14,Wb,i("newFolder"),i("folderInputPlaceholder"))),c.Ab(2),c.Eb("valid-icon",o.isFolderNameValid),c.kc("tabindex",o.isFolderNameValid?0:-1),c.Ab(1),c.kc("ngIf",o.isAddFolderInputVisible)}}function qb(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",15),c.Sb(1,"button",16,17),c.Zb("focus",(function(){c.yc(n);var t=c.dc().$implicit;return c.dc(3).updateFocus.emit("editbar-"+t.title)}))("keydown.Space",(function(t){c.yc(n);var e=c.dc(),i=e.$implicit;return i.handler(i,e.index,t)}))("keydown.Enter",(function(t){c.yc(n);var e=c.dc(),i=e.$implicit;return i.handler(i,e.index,t)}))("click",(function(t){c.yc(n);var e=c.dc(),i=e.$implicit;return i.handler(i,e.index,t)})),c.Sb(3,"span",18),c.Nb(4,"i"),c.Rb(),c.Sb(5,"p",19),c.Ic(6),c.Rb(),c.Rb(),c.Gc(7,jb,4,2,"ng-container",20),c.Gc(8,Jb,7,17,"div",21),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc(2).$implicit,r=c.vc(8),a=c.dc();c.Eb("new-folder",a.isDynamicTheme&&"newFolder"===i.title),c.Ab(1),c.kc("id","editbar-"+i.title)("tabindex",a.isEditMode?0:-1)("clTooltipContext",i)("clTooltipPositionOffset",a.getOffset())("clTooltip",a.showTitleTooltip()?r:void 0)("clTooltipDirection",a.getDirection()),c.Bb("aria-haspopup","addFolder"!==i.title||"newFolder"!==i.title)("role",a.isEditMode?"menuitem":"none")("aria-hidden",!a.isEditMode)("aria-label",o(i.title))("aria-expanded",i.dropdownItems?!0===a.visibleMenus[i.title]:null),c.Ab(3),c.Cb(i.icon),c.Ab(1),c.kc("id",i.title),c.Ab(1),c.Jc(o(i.title)),c.Ab(1),c.kc("ngIf",(i.dropdownTemplate||i.dropdownItems)&&!0===a.visibleMenus[i.title]),c.Ab(1),c.kc("ngIf",a.isDynamicTheme&&"newFolder"===i.title&&a.isAddFolderInputVisible)}}function Kb(t,e){if(1&t&&(c.Qb(0),c.Gc(1,qb,9,19,"div",14),c.Pb()),2&t){var n=e.$implicit;c.Ab(1),c.kc("ngIf",n.show())}}function Yb(t,e){1&t&&c.Gc(0,Kb,2,1,"ng-container",13),2&t&&c.kc("ngForOf",e.options)}var Qb=function(t){return{options:t}};function Xb(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",5),c.Ob(2,6),c.Rb(),c.Sb(3,"div",7),c.Ob(4,6),c.Rb(),c.Sb(5,"button",8),c.Zb("focus",(function(){return c.yc(n),c.dc().updateFocus.emit("editbar-close")}))("click",(function(){return c.yc(n),c.dc().toggleEditMode()})),c.Nb(6,"i",9),c.Rb(),c.Gc(7,Fb,3,1,"ng-template",null,10,c.Hc),c.Gc(9,Yb,1,1,"ng-template",null,11,c.Hc),c.Pb()}if(2&t){var i=e.$implicit,o=c.vc(10),r=c.dc();c.Ab(2),c.kc("ngTemplateOutlet",o)("ngTemplateOutletContext",c.nc(8,Qb,r.leftOptions)),c.Ab(2),c.kc("ngTemplateOutlet",o)("ngTemplateOutletContext",c.nc(10,Qb,r.rightOptions)),c.Ab(1),c.kc("tabindex",r.isEditMode?0:-1),c.Bb("aria-label",i("close"))("aria-hidden",!r.isEditMode)("role",r.isEditMode?null:"none")}}function tf(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",26,17),c.Zb("keydown.Enter",(function(t){c.yc(n);var i=e.$implicit,o=c.dc(2).option;return t.stopPropagation(),i.handler(o,i)}))("keydown.space",(function(t){c.yc(n);var i=e.$implicit,o=c.dc(2).option;return t.stopPropagation(),i.handler(o,i)}))("click",(function(t){c.yc(n);var i=e.$implicit,o=c.dc(2).option;return t.stopPropagation(),i.handler(o,i)})),c.Sb(2,"span",53),c.Ic(3,"A"),c.Rb(),c.Ic(4),c.Rb()}if(2&t){var i=e.$implicit,o=e.index,r=c.dc().$implicit,a=c.dc().option;c.Eb("active",i.isActive(a,i)),c.Ab(2),c.Eb("text-bg",0===o)("text-shadow",1===o),c.Ab(2),c.Kc(" ",r(i.title)," ")}}function ef(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"app-dropdown-menu",52),c.Gc(2,tf,5,7,"div",25),c.Rb(),c.Pb()),2&t){var n=c.dc().option;c.Ab(2),c.kc("ngForOf",n.dropdownItems)}}function nf(t,e){1&t&&c.Gc(0,ef,3,1,"ng-container",0),2&t&&c.kc("translocoRead","editBar")}function of(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",57,17),c.Zb("keydown.space",(function(){c.yc(n);var t=e.$implicit;return c.dc(2).selectPalette(t)}))("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(2).selectPalette(t)}))("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(2).selectPalette(t)})),c.Rb()}if(2&t){var i=e.$implicit;c.Ec("background-color",i),c.Bb("aria-label",i)}}function rf(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-dropdown-menu",54),c.Zb("click",(function(t){return c.yc(n),t.stopPropagation()})),c.Sb(1,"div",55),c.Gc(2,of,2,3,"div",56),c.Rb(),c.Rb()}if(2&t){var i=e.option;c.Ab(2),c.kc("ngForOf",i.colors)}}function af(t,e){if(1&t){var n=c.Tb();c.Sb(0,"img",71,17),c.Zb("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(4).selectWallpaper("image",t.link)}))("keydown.space",(function(t){c.yc(n);var i=e.$implicit,o=c.dc(4);return t.preventDefault(),o.selectWallpaper("image",i.link)}))("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(4).selectWallpaper("image",t.link)})),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(2).$implicit;c.kc("src",i.display,c.Ac)("alt",o("imageLabels.wallpaper."+i.key))}}function sf(t,e){if(1&t&&(c.Sb(0,"div",68,69),c.Gc(2,af,2,2,"img",70),c.Rb()),2&t){var n=c.dc(3);c.Ab(2),c.kc("ngForOf",n.wallpapers)("ngForTrackBy",n.wallpaperTrackBy)}}function cf(t,e){if(1&t){var n=c.Tb();c.Sb(0,"input",76,77),c.Zb("change",(function(){return c.yc(n),c.dc(4).onImageUpload()})),c.Rb()}}function lf(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",78,17),c.Zb("keydown.space",(function(t){c.yc(n);var e=c.dc(4);return t.preventDefault(),e.clickInput()}))("keydown.Enter",(function(){return c.yc(n),c.dc(4).clickInput()}))("click",(function(){return c.yc(n),c.dc(4).clickInput()})),c.Nb(2,"i",79),c.Rb()}}function pf(t,e){if(1&t){var n=c.Tb();c.Sb(0,"img",80,17),c.Zb("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(4).selectWallpaper("image",t.link)}))("keydown.space",(function(t){c.yc(n);var i=e.$implicit,o=c.dc(4);return t.preventDefault(),o.selectWallpaper("image",i.link)}))("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(4).selectWallpaper("image",t.link)})),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(2).$implicit;c.kc("alt",o("editBar.customWallpaper"))("src",i.display,c.Ac)}}function df(t,e){if(1&t&&(c.Sb(0,"div",72,69),c.Gc(2,cf,2,0,"input",73),c.Gc(3,lf,3,0,"div",74),c.Gc(4,pf,2,2,"img",75),c.Rb()),2&t){var n=c.dc(3);c.Ab(2),c.kc("ngIf",n.settings.userInfo.roleLevel<=1),c.Ab(1),c.kc("ngIf",n.settings.userInfo.roleLevel<=1),c.Ab(1),c.kc("ngForOf",n.customWallpapers)("ngForTrackBy",n.wallpaperTrackBy)}}function uf(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",81,69),c.Sb(2,"span",82),c.Zb("clColorPickerChange",(function(t){return c.yc(n),c.dc(3).wallpaperColor=t}))("clColorPickerChange",(function(){return c.yc(n),c.dc(3).onColorChange()})),c.Rb(),c.Rb()}if(2&t){var i=c.dc(3);c.Ab(2),c.kc("clColorPicker",i.wallpaperColor)("cpSaveClickOutside",!1)("cpWidth","330px")("cpDialogDisplay","inline")("cpToggle",!0)("cpUseRootViewContainer",!0)}}function gf(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"app-dropdown-menu",59,17),c.Zb("click",(function(t){return c.yc(n),t.stopPropagation()})),c.Sb(3,"div",60),c.Sb(4,"button",61,62),c.Zb("keyup",(function(t){return c.yc(n),c.dc(2).nav(t,0)}))("keydown.tab",(function(){return c.yc(n),c.dc(2).focusPanel()}))("keydown.space",(function(){return c.yc(n),c.dc(2).wallpaperTab=0}))("click",(function(){return c.yc(n),c.dc(2).wallpaperTab=0})),c.Ic(6),c.Rb(),c.Sb(7,"button",63,62),c.Zb("keyup",(function(t){return c.yc(n),c.dc(2).nav(t,1)}))("keydown.tab",(function(){return c.yc(n),c.dc(2).focusPanel()}))("keydown.space",(function(){return c.yc(n),c.dc(2).wallpaperTab=1}))("click",(function(){return c.yc(n),c.dc(2).wallpaperTab=1})),c.Ic(9),c.Rb(),c.Sb(10,"button",64,62),c.Zb("keyup",(function(t){return c.yc(n),c.dc(2).nav(t,2)}))("keydown.tab",(function(){return c.yc(n),c.dc(2).focusPanel()}))("keydown.space",(function(){return c.yc(n),c.dc(2).wallpaperTab=2}))("click",(function(){return c.yc(n),c.dc(2).wallpaperTab=2})),c.Ic(12),c.Rb(),c.Rb(),c.Gc(13,sf,3,2,"div",65),c.Gc(14,df,5,4,"div",66),c.Gc(15,uf,3,6,"div",67),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc(2);c.Ab(4),c.Eb("active",0===o.wallpaperTab),c.Bb("aria-selected",0===o.wallpaperTab),c.Ab(2),c.Kc(" ",i("editBar.default")," "),c.Ab(1),c.Eb("active",1===o.wallpaperTab),c.Bb("aria-selected",1===o.wallpaperTab),c.Ab(2),c.Kc(" ",i("editBar.custom")," "),c.Ab(1),c.Eb("active",2===o.wallpaperTab),c.Bb("aria-selected",2===o.wallpaperTab),c.Ab(2),c.Kc(" ",i("editBar.color")," "),c.Ab(1),c.kc("ngIf",0===o.wallpaperTab),c.Ab(1),c.kc("ngIf",1===o.wallpaperTab),c.Ab(1),c.kc("ngIf",2===o.wallpaperTab)}}function hf(t,e){1&t&&c.Gc(0,gf,16,15,"ng-container",58)}function bf(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",85),c.Zb("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).selectAppIconStyle(t.settingsVal)}))("keydown.space",(function(t){c.yc(n);var i=e.$implicit,o=c.dc(3);return t.preventDefault(),o.selectAppIconStyle(i.settingsVal)}))("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).selectAppIconStyle(t.settingsVal)})),c.Nb(1,"cl-checkbox",86),c.Nb(2,"application",87),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(3);c.Bb("aria-label",i.title),c.Ab(1),c.kc("checked",o.isAppStyleSelected(i.settingsVal)),c.Ab(1),c.Eb("dynamic-app",o.isHorizontalAppIcon(i.settingsVal))("newDynamic-app",!o.isHorizontalAppIcon(i.settingsVal)),c.kc("app",o.appIconData(i))("isDynamicTheme",!0)("newDynamicTheme",!o.isHorizontalAppIcon(i.settingsVal))("showButton",!1)("showFlags",!1)}}function ff(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"app-dropdown-menu",83),c.Zb("click",(function(t){return c.yc(n),t.stopPropagation()})),c.Gc(2,bf,3,11,"div",84),c.Rb(),c.Pb()}if(2&t){var i=c.dc().option;c.Ab(2),c.kc("ngForOf",i.dropdownItems)}}function mf(t,e){1&t&&c.Gc(0,ff,3,1,"ng-container",0),2&t&&c.kc("translocoRead","editBar")}var vf=function(){function t(t,e,n,i,o,r,a,s,l,p,d,u,g,h,b){var f=this;this.cdr=t,this.renderer=e,this.appsHelper=n,this.nodeApi=i,this.settingService=o,this.sessionService=r,this.utilsService=a,this.translationHelper=s,this.settingsHelper=l,this.menuHelper=p,this.viewContainerRef=d,this.layoutService=u,this.permissionsService=g,this.favoritesHelper=h,this.appsService=b,this.updateFocus=new c.n,this.ariaHiddenAttr=!0,this.isDynamicTheme=!1,this.activeOptions={},this.visibleMenus={},this.isEditMode=!1,this.isAddFolderInputVisible=!1,this.isFolderNameValid=!1,this.folderName="",this.isFavoritesBarHighlighted=!1,this.darkMode=!1,this.wallpaperTab=0,this.Themes=Ee.a,this.apps=[],this.leftOptions=[{icon:"far fa-folder-plus",title:"addFolder",show:function(){return!f.isDynamicTheme},handler:function(){f.appsHelper.folderCreated.next(void 0),f.appsHelper.folderCreatorVisibleChanged.next(!0)}},{icon:"far fa-folder-plus",title:"newFolder",show:function(){return f.isDynamicTheme},handler:function(){return f.handleNewFolderToggle(!f.isAddFolderInputVisible)}}],this.rightOptions=[{icon:"far fa-star",title:"favorites",show:function(){return f.isDynamicTheme},handler:function(){f.favoritesHelper.toggleFavoritesBarHiding.next(!f.isFavoritesBarHighlighted)}},{icon:"far fa-brush",title:"theme",show:function(){return f.settings.userInfo.canSetTheme},settingsKey:"theme",dropdownItems:[{title:"classic",icon:"far fa-user",settingsVal:1},{title:"primary",icon:"far fa-child",settingsVal:2},{title:"professional",icon:"far fa-user-tie",settingsVal:3}]},{icon:"far fa-paint-roller",title:"appIconStyle",show:function(){return f.isDynamicTheme},settingsKey:"appIconStyle",dropdownItems:[{title:"horizontal",icon:"far fa-rectangle-wide",settingsVal:"horizontal"},{title:"classic",icon:"far fa-square",settingsVal:"classic"}]},{icon:"fa-regular fa-grid",title:"appSize",show:function(){return f.settings&&f.settings.customUISettings.theme!==Ee.a.Primary},settingsKey:"iconSize",dropdownItems:[{title:"small",icon:"far fa-square",settingsVal:"small",iconStyles:{"font-size.px":16}},{title:"default",icon:"far fa-square",settingsVal:"medium",iconStyles:{"font-size.px":20}},{title:"large",icon:"far fa-square",settingsVal:"large",iconStyles:{"font-size.px":24}}]},{icon:"far fa-lightbulb",title:"fontStyle",show:function(){return f.settings&&f.settings.customUISettings.theme===Ee.a.Default},settingsKey:"fontBackgroundTreatment",dropdownItems:[{title:"textBackground",icon:"fas fa-font",settingsVal:"solid-block"},{title:"textShadow",icon:"fas fa-font",settingsVal:"text-shadow"}]},{icon:"far fa-palette",title:"palette",show:function(){return f.settings&&!f.settings.userInfo.usingGroupPalette&&f.settings.customUISettings.theme!==Ee.a.Primary&&!f.isDynamicTheme},colors:["#0054FF","#00D796","#2BA700","#B1AA00","#D78100","#D72700","#D7005A","#D300D7","#7800D7","#5A32FB","#081163","#062638","#082B1F","#24230B","#2C0D06","#434343","#313131","#171717"]},{icon:"far fa-paint-roller",title:"customWallpaper",show:function(){return f.settings&&f.settings.userInfo.canSetWallpaper&&f.settings&&f.settings.customUISettings.theme===Ee.a.Default}},{icon:"far fa-font",title:"fontSize",show:function(){return f.settings&&f.isDynamicTheme},settingsKey:"textSize",dropdownItems:[{title:"small",icon:"far fa-font",settingsVal:"small",iconStyles:{"font-size.px":16}},{title:"default",icon:"far fa-font",settingsVal:"medium",iconStyles:{"font-size.px":20}},{title:"large",icon:"far fa-font",settingsVal:"large",iconStyles:{"font-size.px":24}}]},{icon:"far fa-sun",title:"lightMode",show:function(){return f.settings&&f.isDynamicTheme},settingsKey:"darkTheme",handler:function(){return f.handleDarkModeSelect()}}],this.wallpaperColor="#000000",this.folderColor="#0054FF",this.showColorPicker=!1,this.showCustomColorPicker=!1,this.paletteColors=["#FF5C00","#B52121","#E40101","#D36745","#DC582A","#FF6B00","#B55400","#E5840C","#559B5C","#4A8F51","#148531","#03A52D","#26C06E","#238C7C","#00BFB2","#007A78","#007985","#00525E","#003B49","#009CCC","#57C1EC","#0A4D7F","#4E95CC","#3071AE","#1D4289","#1730B0","#0B1885","#6354A6","#7D1A9E","#5C005C","#D270AD","#E56DB1","#A61E62","#D3273E","#850F13","#DDDDDD"],this.customColor="#0054FF",this.isCustomColorSelected=!1,this.sidenavCollapsed=!1,this.subscriptions=[],this.subscriptions[0]=u.documentClicked.subscribe((function(t){f.closeOptions(),f.closeColorPicker(t)})),this.subscriptions[1]=r.settingsUpdated.subscribe((function(t){var e,n,i;f.settings=t,"color"===t.customUISettings.backgroundType&&(f.wallpaperColor=t.customUISettings.backgroundValue),(null===(e=t.customUISettings)||void 0===e?void 0:e.paletteColor)&&(f.folderColor=null===(n=f.settings.customUISettings)||void 0===n?void 0:n.paletteColor,f.customColor=null===(i=f.settings.customUISettings)||void 0===i?void 0:i.paletteColor),f.isDynamicTheme=t.customUISettings.theme===Ee.a.Dynamic,f.isDynamicTheme&&(f.rightOptions=f.rightOptions.map((function(e){return"darkMode"!==e.title&&"lightMode"!==e.title?e:(f.darkMode=t.customUISettings.darkTheme,Object(le.a)(Object(le.a)({},e),{icon:f.darkMode?"far fa-sun":"far fa-moon",title:f.darkMode?"lightMode":"darkMode"}))})))})),this.subscriptions[2]=n.editModeChanged.subscribe((function(t){var e;f.isEditMode=t,f.ariaHiddenAttr=!t,t&&(null===(e=f.optionList)||void 0===e||e.toArray()[0].nativeElement.focus())})),this.subscriptions[3]=l.sidenavCollapseChanged.subscribe((function(t){return f.sidenavCollapsed=t})),this.subscriptions[4]=r.gwsTokenSet.subscribe((function(){return f.getAllWallpapers()})),this.subscriptions[5]=g.permissionsSub.subscribe((function(t){f.permissions=t,f.setDynamicThemeOption()})),this.subscriptions[6]=h.toggleFavoritesBarHiding.subscribe((function(t){f.isFavoritesBarHighlighted=t,localStorage.setItem("pinnedFavorites",t.toString()),f.rightOptions=f.rightOptions.map((function(t){return"favorites"!==t.title?t:Object(le.a)(Object(le.a)({},t),{icon:f.isFavoritesBarHighlighted?"fas fa-star":"far fa-star"})}))})),this.subscriptions[7]=n.appsUpdated.subscribe((function(t){f.apps=t.apps})),this.subscriptions[8]=n.toggleNewFolderInput.subscribe((function(t){f.handleNewFolderToggle(t)})),this.handles=this.rightOptions.map((function(t){return f.menuHelper.registerMenu((function(){return f.visibleMenus[t.title]=!1}))})),this.attachHandlers(this.rightOptions)}return t.prototype.attachHandlers=function(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if("favorites"!==i.title&&"lightMode"!==i.title&&"darkMode"!==i.title){if(i.handler=this.handleOptionClick.bind(this),i.dropdownItems)for(var o=0,r=i.dropdownItems;o<r.length;o++)(c=r[o]).handler=this.handleItemClick.bind(this),c.isActive=this.isItemActive.bind(this);if(i.options)for(var a=0,s=i.options;a<s.length;a++){var c;(c=s[a]).handler=this.handleItemClick.bind(this),c.isActive=this.isItemActive.bind(this)}}}},t.prototype.ngAfterViewInit=function(){localStorage.getItem("pinnedFavorites")&&this.favoritesHelper.toggleFavoritesBarHiding.next("true"===localStorage.getItem("pinnedFavorites")),this.rightOptions[2].dropdownTemplate=this.appIconStyleRef,this.rightOptions[4].dropdownTemplate=this.fontStyleRef,this.rightOptions[5].dropdownTemplate=this.paletteRef,this.rightOptions[6].dropdownTemplate=this.wallpaperRef,this.backgroundElement=document.querySelector("#background-container"),this.cdr.detectChanges(),this.optionList.length&&this.optionList.toArray()[0].nativeElement.focus()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.wallpaperTimer&&this.wallpaperTimer.unsubscribe()},t.prototype.getAmountDisplayedOptions=function(t){return ne()(t,(function(t){return t.show()})).length},t.prototype.showTitleTooltip=function(){return this.settings&&this.settings.customUISettings.theme===Ee.a.Professional},t.prototype.getDirection=function(){return this.settings&&this.settings.customUISettings.theme===Ee.a.Professional?this.sidenavCollapsed?"right":"top":"bottom"},t.prototype.getOffset=function(){return this.settings&&this.settings.customUISettings.theme===Ee.a.Professional?this.sidenavCollapsed?{top:-5,left:-5}:{top:2.5,left:-2.5}:void 0},t.prototype.getAllWallpapers=function(){var t=this;this.nodeApi.getWallpaperLinks().subscribe((function(e){return t.wallpapers=e})),this.nodeApi.getCustomWallpaperLinks().subscribe((function(e){return t.customWallpapers=e}))},t.prototype.toggleEditMode=function(){this.appsHelper.editModeChanged.next(!this.isEditMode)},t.prototype.handleOptionClick=function(t,e,n){n.stopPropagation(),this.visibleMenus[t.title]=!this.visibleMenus[t.title],this.menuHelper.closeAllOtherMenus(this.handles[e])},t.prototype.handleItemClick=function(t,e){if(this.menuHelper.closeAllMenus(),this.activeOptions[t.title]=e.title,"theme"===t.settingsKey&&this.settings.customUISettings.theme!==e.settingsVal&&this.settingsHelper.themeUpdated.next(e.settingsVal),"theme"!==t.settingsKey||this.settings.customUISettings.theme!==e.settingsVal){if("textSize"===t.settingsKey){var n=void 0;switch(e.settingsVal){case"small":n=-1;break;case"medium":n=0;break;case"large":n=1;break;default:n=0}this.sessionService.setAccessibilityInfo({textSize:n,lightBackground:!0})}this.settings.customUISettings[t.settingsKey]=e.settingsVal,this.setSettings()}},t.prototype.isItemActive=function(t,e){return this.settings&&this.settings.customUISettings[t.settingsKey]===e.settingsVal},t.prototype.closeOptions=function(){for(var t=0,e=Object.keys(this.visibleMenus);t<e.length;t++)this.visibleMenus[e[t]]=!1},t.prototype.selectPalette=function(t){this.settings.customUISettings.paletteColor=t,this.setSettings()},t.prototype.selectWallpaper=function(t,e){this.settings.customUISettings.backgroundType=t,this.settings.customUISettings.backgroundValue=e,this.setSettings()},t.prototype.onColorChange=function(){var t=this;this.renderer.setStyle(this.backgroundElement,"background-color",this.wallpaperColor),this.wallpaperTimer&&this.wallpaperTimer.unsubscribe(),this.wallpaperTimer=Object(T.a)(200).subscribe((function(){return t.selectWallpaper("color",t.wallpaperColor)}))},t.prototype.setSettings=function(){this.sessionService.setSettings(this.settings),this.settingService.setSettings(this.settings).subscribe((function(t){}))},t.prototype.wallpaperTrackBy=function(t,e){return e.link},t.prototype.clickInput=function(){this.fileInput.nativeElement.click()},t.prototype.onImageUpload=function(){var t=this,e=this.settingsHelper.onImageUpload(this.fileInput.nativeElement);e&&e.subscribe((function(e){return t.customWallpapers=e}))},t.prototype.nav=function(t,e){var n,i=this.tabElements.toArray();if("ArrowRight"===t.key)n=e===i.length-1?0:e+1;else{if("ArrowLeft"!==t.key)return;n=0===e?i.length-1:e-1}i[e].nativeElement.tabIndex="-1",i[n].nativeElement.tabIndex="0",i[n].nativeElement.focus()},t.prototype.focusPanel=function(){for(var t=this.tabElements.toArray(),e=0;e<t.length;e++)t[e].nativeElement.tabIndex=e===this.wallpaperTab?0:-1;this.tabPanel.nativeElement.focus()},t.prototype.setDynamicThemeOption=function(){if(this.permissions.tenantPermissions[Ie.a.DynamicTheme]){var t=Object(le.e)(this.rightOptions),e=t.find((function(t){return"theme"===t.title}));e&&(e.dropdownItems=Object(le.e)(e.dropdownItems,[{title:"dynamic",icon:"far fa-graduation-cap",settingsVal:Ee.a.Dynamic,handler:this.handleItemClick.bind(this),isActive:this.isItemActive.bind(this)}]),this.rightOptions=Object(le.e)(t))}},t.prototype.handleFolderNameChange=function(){var t=this;this.isFolderNameValid=this.folderName.trim().length&&"all apps"!==this.folderName.toLocaleLowerCase()&&!this.apps.some((function(e){return e.name.toLocaleLowerCase()===t.folderName.toLocaleLowerCase()}))},t.prototype.createFolder=function(){this.isFolderNameValid&&(this.isFolderNameValid=!1,this.appsHelper.createNewFolder(this.folderName,this.folderColor,this.apps),this.folderName="",this.folderColor="#0054FF",this.showColorPicker=!1,this.isAddFolderInputVisible=!1)},t.prototype.handleNewFolderToggle=function(t){var e=this;this.isDynamicTheme&&(this.isAddFolderInputVisible=t,this.showColorPicker=!1,this.showCustomColorPicker=!1,setTimeout((function(){var t,n;null===(n=null===(t=e.addFolderInput)||void 0===t?void 0:t.inputElement)||void 0===n||n.focus()}),150))},t.prototype.toggleColorPicker=function(t){t.stopPropagation(),this.showColorPicker=!this.showColorPicker,this.showColorPicker||(this.showCustomColorPicker=!1)},t.prototype.closeColorPicker=function(t){var e=document.querySelector(".palette");e&&!e.contains(t.target)&&(this.showColorPicker=!1,this.showCustomColorPicker=!1)},t.prototype.toggleCustomColorPicker=function(){this.showCustomColorPicker=!this.showCustomColorPicker,this.showCustomColorPicker&&(this.showColorPicker=!0)},t.prototype.onFolderColorChange=function(t){this.folderColor=t,this.customColor=t,this.isCustomColorSelected=!1,this.showColorPicker=!1},t.prototype.onCustomColorChange=function(t){this.folderColor=t,this.customColor=t,this.isCustomColorSelected=!0},t.prototype.colorTrackBy=function(t,e){return e},t.prototype.getChevronState=function(){return this.showCustomColorPicker?"up":"down"},t.prototype.handleDarkModeSelect=function(){var t;this.isDynamicTheme&&(null===(t=this.settings)||void 0===t?void 0:t.customUISettings)&&(this.settings.customUISettings.darkTheme=!this.darkMode,this.sessionService.setSettings(this.settings),this.sessionService.settingsUpdated.next(this.settings),this.settingService.setSettings(this.settings).subscribe())},t.prototype.isAppStyleSelected=function(t){return this.settings.customUISettings.appIconStyle?this.settings.customUISettings.appIconStyle===t:"classic"===t},t.prototype.isHorizontalAppIcon=function(t){return"horizontal"===t},t.prototype.appIconData=function(t){return{_id:t.id+t.settingsVal,id:parseInt(t.id,10),name:"App Name",icon:Re.a.coreCDN+"/assets/images/default-app-icon.png",icon2x:Re.a.coreCDN+"/assets/images/default-app-icon.png",appdesc:t.title,is_folder:!1,is_editing:!1,is_appfolder:!1}},t.prototype.selectAppIconStyle=function(t){this.settings.customUISettings.appIconStyle=t,this.setSettings()},t.\u0275fac=function(e){return new(e||t)(c.Mb(c.h),c.Mb(c.E),c.Mb(Xt.a),c.Mb(Qt.a),c.Mb(di.a),c.Mb(ae.a),c.Mb($e.a),c.Mb(Be.a),c.Mb(re.a),c.Mb(Ze),c.Mb(c.P),c.Mb(We.G),c.Mb(Ie.b),c.Mb(pe.a),c.Mb(je.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-edit-bar"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(Ob,!0),c.Nc(Mb,!0),c.Cc(_b,!0,c.L),c.Cc(kb,!0,c.L),c.Cc(Sb,!0,c.L),c.Cc(Ab,!0,c.L),c.Nc(Ib,!0),c.Nc(Rb,!0),c.Nc(Tb,!0,c.l)),2&t&&(c.uc(n=c.ac())&&(e.fileInput=n.first),c.uc(n=c.ac())&&(e.tabPanel=n.first),c.uc(n=c.ac())&&(e.paletteRef=n.first),c.uc(n=c.ac())&&(e.fontStyleRef=n.first),c.uc(n=c.ac())&&(e.wallpaperRef=n.first),c.uc(n=c.ac())&&(e.appIconStyleRef=n.first),c.uc(n=c.ac())&&(e.addFolderInput=n.first),c.uc(n=c.ac())&&(e.tabElements=n),c.uc(n=c.ac())&&(e.optionList=n))},hostVars:3,hostBindings:function(t,e){2&t&&(c.Bb("aria-hidden",e.ariaHiddenAttr),c.Eb("dynamic-edit-bar",e.isDynamicTheme))},outputs:{updateFocus:"updateFocus"},decls:9,vars:1,consts:[[4,"transloco","translocoRead"],["fontStyle",""],["palette",""],["wallpaper",""],["appIconStyle",""],[1,"left-options"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"right-options"],["id","editbar-close",1,"close",3,"tabindex","focus","click"],[1,"far","fa-times"],["title",""],["option",""],[1,"cl-tooltip"],[4,"ngFor","ngForOf"],["class","option-ctnr",3,"new-folder",4,"ngIf"],[1,"option-ctnr"],["clItem","",1,"option","flex-start-center",3,"id","tabindex","clTooltipContext","clTooltipPositionOffset","clTooltip","clTooltipDirection","focus","keydown.Space","keydown.Enter","click"],["focusable",""],[1,"flex-start-center"],[3,"id"],[4,"ngIf"],["class","add-folder-input-ctnr",4,"ngIf"],[4,"ngIf","ngIfElse"],["generic",""],[1,"show-triangle",3,"ngClass"],["class","dropdown-item","role","button","tabindex","0",3,"active","keydown.Enter","keydown.space","click",4,"ngFor","ngForOf"],["role","button","tabindex","0",1,"dropdown-item",3,"keydown.Enter","keydown.space","click"],[1,"icon-ctnr",3,"ngClass"],[3,"ngStyle",4,"ngIf","ngIfElse"],["dropdownIcon",""],[3,"ngStyle"],[1,"add-folder-input-ctnr"],[1,"color-swatch",3,"click","keydown.Enter","keydown.Space"],["class","palette","tabindex","-1","role","menu","clFocusTrap","",3,"visible",4,"ngIf"],[1,"add-folder-input",3,"value","charLimit","attributes","valueChange"],["addFolderInput",""],["role","button",1,"submit-icon",3,"tabindex","click","keydown.Enter","keydown.Space"],["class","far fa-check",4,"ngIf"],["tabindex","-1","role","menu","clFocusTrap","",1,"palette"],[1,"color-picker-header"],[1,"color-picker-label"],[1,"color-ctnr"],["role","button","class","color cl-focusable",3,"background-color","keydown.Enter","keydown.Space","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"custom-color-toggle",3,"click"],[1,"far","fa-chevron-down"],["class","custom-color-picker-container",4,"ngIf"],["role","button",1,"color","cl-focusable",3,"keydown.Enter","keydown.Space","click"],[1,"fa-regular","fa-check"],[1,"custom-color-picker-container"],[1,"custom-color-picker"],[1,"inline-picker",3,"clColorPicker","cpSaveClickOutside","cpWidth","cpHeight","cpDialogDisplay","cpToggle","cpUseRootViewContainer","clColorPickerChange"],[1,"far","fa-check"],[1,"show-triangle","font-style"],[1,"icon-ctnr"],["role","menu",1,"show-triangle","palette",3,"click"],[1,"color-ctnr","flex-start"],["class","color cl-focusable","role","button menuitem","tabindex","0",3,"background-color","keydown.space","keydown.Enter","click",4,"ngFor","ngForOf"],["role","button menuitem","tabindex","0",1,"color","cl-focusable",3,"keydown.space","keydown.Enter","click"],[4,"transloco"],[1,"show-triangle","wallpaper",3,"click"],["role","tablist","aria-labelledby","Custom Wallpaper",1,"tabs","flex-start-center"],["role","tab","tabindex","0","id","defaultTab","aria-controls","defaultPanel",3,"keyup","keydown.tab","keydown.space","click"],["tabitem",""],["role","tab","tabindex","-1","id","customTab","aria-controls","customPanel",3,"keyup","keydown.tab","keydown.space","click"],["role","tab","aria-controls","colorPanel","id","colorTab","tabindex","-1",3,"keyup","keydown.tab","keydown.space","click"],["id","defaultPanel","class","wallpaper flex-start custom-scroll","role","tabpanel","aria-labelledby","defaultTab",4,"ngIf"],["id","customPanel","class","wallpaper flex-start custom-scroll","role","tabpanel","aria-labelledby","customTab",4,"ngIf"],["id","colorPanel","role","tabpanel","aria-labelledby","colorTab",4,"ngIf"],["id","defaultPanel","role","tabpanel","aria-labelledby","defaultTab",1,"wallpaper","flex-start","custom-scroll"],["tabpanel",""],["role","button","tabindex","0",3,"src","alt","keydown.Enter","keydown.space","click",4,"ngFor","ngForOf","ngForTrackBy"],["role","button","tabindex","0",3,"src","alt","keydown.Enter","keydown.space","click"],["id","customPanel","role","tabpanel","aria-labelledby","customTab",1,"wallpaper","flex-start","custom-scroll"],["type","file","accept",".jpg, .jpeg, .png",3,"change",4,"ngIf"],["role","button","tabindex","0","class","upload-placeholder flex-center",3,"keydown.space","keydown.Enter","click",4,"ngIf"],["role","button","tabindex","0",3,"alt","src","keydown.Enter","keydown.space","click",4,"ngFor","ngForOf","ngForTrackBy"],["type","file","accept",".jpg, .jpeg, .png",3,"change"],["fileInput",""],["role","button","tabindex","0",1,"upload-placeholder","flex-center",3,"keydown.space","keydown.Enter","click"],[1,"far","fa-plus"],["role","button","tabindex","0",3,"alt","src","keydown.Enter","keydown.space","click"],["id","colorPanel","role","tabpanel","aria-labelledby","colorTab"],[1,"inline-picker",3,"clColorPicker","cpSaveClickOutside","cpWidth","cpDialogDisplay","cpToggle","cpUseRootViewContainer","clColorPickerChange"],["role","menu","clKeyboardNav","","clFocusTrap","",1,"show-triangle","appIconStyle-menu",3,"click"],["clItem","","class","cl-focusable appIconStyle-ctnr","role","button menuitem","tabindex","0",3,"keydown.Enter","keydown.space","click",4,"ngFor","ngForOf"],["clItem","","role","button menuitem","tabindex","0",1,"cl-focusable","appIconStyle-ctnr",3,"keydown.Enter","keydown.space","click"],[3,"checked"],["role","link","tabindex","-1",1,"cl-app",3,"app","isDynamicTheme","newDynamicTheme","showButton","showFlags"]],template:function(t,e){1&t&&(c.Gc(0,Xb,11,12,"ng-container",0),c.Gc(1,nf,1,1,"ng-template",null,1,c.Hc),c.Gc(3,rf,3,1,"ng-template",null,2,c.Hc),c.Gc(5,hf,1,0,"ng-template",null,3,c.Hc),c.Gc(7,mf,1,1,"ng-template",null,4,c.Hc)),2&t&&c.kc("translocoRead","editBar")},directives:[Te.c,i.p,i.k,i.l,We.J,We.Y,ko,i.j,i.m,We.C,We.y,We.j,We.E,We.g,Rn],styles:['[_nghost-%COMP%]{position:absolute;top:0;left:0;display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:center;align-items:center;width:100%;height:50px;-ms-flex:0 0 50px;flex:0 0 50px;padding:5px 20px;background-color:var(--color-white);transition:transform .2s ease-in-out;pointer-events:none;z-index:201}.move-down[_nghost-%COMP%]{pointer-events:all;-ms-transform:translateY(50px);transform:translateY(50px)}.box-shadow[_nghost-%COMP%]{box-shadow:0 0 20px rgba(0,0,0,.1)}.dynamic-edit-bar[_nghost-%COMP%]{position:absolute;-ms-transform:none;transform:none;border-bottom:2px solid var(--color-border-light);box-shadow:0 0 20px var(--color-shadow);top:100%;left:0;pointer-events:auto}[_nghost-%COMP%] > button.close[_ngcontent-%COMP%]{position:relative;width:30px;height:30px;top:0;left:0;padding:5px;margin-left:8px}.left-options[_ngcontent-%COMP%], .right-options[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:center;align-items:center;height:100%;width:auto}.left-options[_ngcontent-%COMP%]{margin-right:auto;-ms-flex:1;flex:1}.divider[_ngcontent-%COMP%]{margin-left:auto;width:0;height:0}.option-ctnr[_ngcontent-%COMP%]{position:relative;margin-right:10px;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.option-ctnr[_ngcontent-%COMP%]:last-child{margin-right:0}.option-ctnr[_ngcontent-%COMP%]:last-child   app-dropdown-menu[_ngcontent-%COMP%]{left:auto;right:0}.option-ctnr[_ngcontent-%COMP%]:last-child   app-dropdown-menu[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-16px;left:auto;right:0;width:0;height:0;border-left:10px solid rgba(0,0,0,0);border-right:10px solid rgba(0,0,0,0);border-bottom:10px solid var(--color-white)}.option-ctnr[_ngcontent-%COMP%]:last-child   app-dropdown-menu[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-11px;left:13px;width:0;height:0;border-left:11px solid rgba(0,0,0,0);border-right:11px solid rgba(0,0,0,0);z-index:-1}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{padding:5px 10px;font-size:calc(var(--font-modifier) * 12px);font-weight:700;border-radius:5px;color:var(--color-dark)}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-dark);box-shadow:inset 0 0 1px var(--color-medium)}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(var(--font-modifier) * 30px);height:100%}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 20px)}.option-ctnr[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:calc(var(--font-modifier) * 20px)}.option-ctnr[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]{width:auto;top:50px;padding:17px 30px 22px 23px;max-height:none;height:auto;overflow:visible}.option-ctnr[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]:before{left:40px}.option-ctnr[_ngcontent-%COMP%]   app-dropdown-menu.palette[_ngcontent-%COMP%]:before{right:25px}.option-ctnr[_ngcontent-%COMP%]   app-dropdown-menu.wallpaper[_ngcontent-%COMP%]{left:unset;right:0;width:390px;height:300px;padding:20px}.option-ctnr[_ngcontent-%COMP%]   app-dropdown-menu.wallpaper[_ngcontent-%COMP%]:before{left:unset;right:25px}.option-ctnr[_ngcontent-%COMP%]   app-dropdown-menu.last[_ngcontent-%COMP%], .option-ctnr[_ngcontent-%COMP%]   app-dropdown-menu.last[_ngcontent-%COMP%]:before{left:unset;right:20px}.option-ctnr[_ngcontent-%COMP%]   app-dropdown-menu.font-style[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .icon-ctnr[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 22px);width:auto;margin-right:10px;padding:2px 5px}.option-ctnr[_ngcontent-%COMP%]   app-dropdown-menu.appIconStyle-menu[_ngcontent-%COMP%]{display:grid;width:228px;height:auto;gap:0;padding:10px}.option-ctnr[_ngcontent-%COMP%]   app-dropdown-menu.appIconStyle-menu[_ngcontent-%COMP%]   .appIconStyle-ctnr[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;height:100%;width:100%;-ms-flex-align:center;align-items:center;gap:1em;border-bottom:1px solid var(--color-border-dark);padding-top:1em;padding-bottom:1em}.option-ctnr[_ngcontent-%COMP%]   app-dropdown-menu.appIconStyle-menu[_ngcontent-%COMP%]   .appIconStyle-ctnr[_ngcontent-%COMP%]     .checkbox-container{border-radius:100%;border:1px solid var(--color-border-dark);pointer-events:none}.option-ctnr[_ngcontent-%COMP%]   app-dropdown-menu.appIconStyle-menu[_ngcontent-%COMP%]   .appIconStyle-ctnr[_ngcontent-%COMP%]   .cl-app[_ngcontent-%COMP%]{pointer-events:none}.option-ctnr[_ngcontent-%COMP%]   app-dropdown-menu.appIconStyle-menu[_ngcontent-%COMP%]   .appIconStyle-ctnr[_ngcontent-%COMP%]:after{top:2px;height:calc(100% - 2px)}.option-ctnr[_ngcontent-%COMP%]   app-dropdown-menu.appIconStyle-menu[_ngcontent-%COMP%]   .appIconStyle-ctnr[_ngcontent-%COMP%]:last-child{border-bottom:none}.option-ctnr.new-folder[_ngcontent-%COMP%]{width:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.option-ctnr.new-folder[_ngcontent-%COMP%]   button.option[_ngcontent-%COMP%]{margin-right:10px}.add-folder-input-ctnr[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;border-radius:5px;position:relative;gap:24px}.color-swatch-container[_ngcontent-%COMP%]{position:relative;margin-right:5px}.color-swatch[_ngcontent-%COMP%]{width:28px;height:28px;-ms-flex:0 0 28px;flex:0 0 28px;border-radius:4px;cursor:pointer;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.color-swatch[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px var(--color-primary)}cl-input[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1;margin-right:5px}.submit-icon[_ngcontent-%COMP%]{width:28px;height:28px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;opacity:.45;pointer-events:none}.submit-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-success)}.valid-icon[_ngcontent-%COMP%]{pointer-events:all;cursor:pointer;opacity:1}app-dropdown-menu.palette[_ngcontent-%COMP%]{width:318px;border-radius:8px;background-color:var(--color-white);box-shadow:0 4px 6px rgba(0,0,0,.1);-ms-flex-align:center;align-items:center;padding:30px;-ms-flex-pack:center;justify-content:center}app-dropdown-menu.palette[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-16px;left:50%;-ms-transform:translateX(-50%);transform:translateX(-50%);width:0;height:0;border-left:10px solid rgba(0,0,0,0);border-right:10px solid rgba(0,0,0,0);border-bottom:10px solid var(--color-white)}app-dropdown-menu.palette[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 14px);font-weight:400;margin-bottom:26px;-ms-flex-item-align:start;align-self:flex-start}app-dropdown-menu.palette[_ngcontent-%COMP%]   .color-picker-label[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 14px);font-weight:400;margin-bottom:8px;-ms-flex-item-align:start;align-self:start}app-dropdown-menu.palette[_ngcontent-%COMP%]   .color-ctnr[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(9,1fr);gap:4px;-ms-flex-pack:center;justify-content:center}app-dropdown-menu.palette[_ngcontent-%COMP%]   .color-ctnr[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:3px;cursor:pointer;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}app-dropdown-menu.palette[_ngcontent-%COMP%]   .color-ctnr[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]:focus{outline:2px solid var(--color-primary);outline-offset:2px}app-dropdown-menu.palette[_ngcontent-%COMP%]   .color-ctnr[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%]{color:#fff;font-size:calc(var(--font-modifier) * 14px)}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-toggle[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;font-size:calc(var(--font-modifier) * 14px);font-weight:400;cursor:pointer;margin-top:24px;margin-bottom:8px;-ms-flex-item-align:start;align-self:flex-start}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-left:8px;font-weight:400;font-size:calc(var(--font-modifier) * 18px);color:var(--color-medium)}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker-container[_ngcontent-%COMP%]{border:.5px solid var(--color-border-extra-dark);border-radius:10px;padding:10px;margin-top:8px;width:100%;max-height:290px;overflow:hidden;transition:max-height .2s ease}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]   .inline-picker[_ngcontent-%COMP%]{display:block;width:100%}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker{padding:0;width:auto!important;border:none;box-shadow:none;background-color:rgba(0,0,0,0)}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .saturation-lightness{width:100%!important;height:140px;border:1px solid #000;position:relative;overflow:hidden}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .saturation-lightness .cursor{width:16px;height:16px;border-radius:50%;border:3px solid var(--color-dark);box-shadow:0 0 2px rgba(0,0,0,.8);position:absolute;top:0;left:0}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .hue-alpha .left{display:none}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .hue-alpha .right{width:100%}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .hue-alpha .right .alpha, app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .hue-alpha .right .hue{height:18px;border:1px solid #000;border-radius:10px;margin-bottom:10px;position:relative;overflow:hidden}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .hue-alpha .right .hue .cursor{border:3px solid var(--color-dark)}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .hex-text{width:100%;margin-top:10px}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .hex-text .box{width:100%}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .hex-text .box input{width:100%;border:.3px solid var(--color-medium);border-radius:3.25px;padding:5px}app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .cmyk-text, app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .hsla-text, app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .rgba-text, app-dropdown-menu.palette[_ngcontent-%COMP%]   .custom-color-picker[_ngcontent-%COMP%]     .color-picker .type-policy{display:none!important}.color-ctnr[_ngcontent-%COMP%]{-ms-flex-wrap:wrap;flex-wrap:wrap;gap:10px;-ms-flex-pack:justify;justify-content:space-between}.color[_ngcontent-%COMP%], .color-ctnr[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.color[_ngcontent-%COMP%]{cursor:pointer;width:28px;height:28px;border-radius:4px;border:1px solid var(--color-border-light);-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.color[_ngcontent-%COMP%]:focus{outline:2px solid var(--color-primary);outline-offset:2px}.color[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%]{color:var(--color-success);font-size:calc(var(--font-modifier) * 20px)}@media only screen and (max-width:515px){button.option[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:none}}'],data:{animation:[Object(Ke.j)("inOutWidthAnimation",[Object(Ke.i)(":enter",[Object(Ke.h)({width:0}),Object(Ke.e)("0.1s ease-out",Object(Ke.h)({width:100,opacity:1}))]),Object(Ke.i)(":leave",[Object(Ke.h)({width:100,opacity:100}),Object(Ke.e)("0.1s ease-in",Object(Ke.h)({width:0,opacity:0}))])]),Object(Ke.j)("rotateChevron",[Object(Ke.g)("down",Object(Ke.h)({transform:"rotate(0deg)"})),Object(Ke.g)("up",Object(Ke.h)({transform:"rotate(180deg)"})),Object(Ke.i)("down <=> up",Object(Ke.e)("300ms ease-in-out"))])]}}),t}();function yf(t,e){if(1&t&&(c.Qb(0),c.Nb(1,"img",6),c.Pb()),2&t){var n=c.dc().$implicit,i=c.dc();c.Ab(1),c.kc("src",i.APP_CONFIG.fileCdnUrl+"/"+i.settings.tenantSettings.customLogo,c.Ac)("alt",n("logoAlt"))}}function Cf(t,e){if(1&t&&c.Nb(0,"img",7),2&t){var n=c.dc().$implicit;c.kc("src","assets/images/classlink-logo-invert.svg",c.Ac)("alt",n("logoAlt"))}}function xf(t,e){if(1&t&&(c.Qb(0),c.Gc(1,yf,2,2,"ng-container",4),c.Gc(2,Cf,1,2,"ng-template",null,5,c.Hc),c.Sb(4,"h1"),c.Ic(5),c.Rb(),c.Pb()),2&t){var n=c.vc(3),i=c.dc();c.Ab(1),c.kc("ngIf",i.settings&&i.settings.tenantSettings.customLogo)("ngIfElse",n),c.Ab(4),c.Kc(" ",i.settings&&i.settings.tenantSettings.customText?i.settings.tenantSettings.customText:"LaunchPad"," ")}}function wf(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",12),c.Zb("click",(function(t){return c.yc(n),c.dc(2).openAppLibrary(t)}))("keydown.Enter",(function(t){return c.yc(n),c.dc(2).openAppLibrary(t)})),c.Nb(1,"i",13),c.Sb(2,"p"),c.Ic(3),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit;c.Bb("aria-label",i("openAppLibrary")),c.Ab(3),c.Jc(i("addApps"))}}function Pf(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Gc(1,wf,4,2,"div",8),c.Sb(2,"div",9),c.Zb("click",(function(){return c.yc(n),c.dc().toggleEditMode()}))("keydown.Enter",(function(){return c.yc(n),c.dc().toggleEditMode()})),c.Nb(3,"i",10),c.Sb(4,"p"),c.Ic(5),c.Rb(),c.Rb(),c.Sb(6,"app-edit-bar",11),c.Zb("updateFocus",(function(t){return c.yc(n),c.dc().updateDescendant(t)})),c.ec(7,"async"),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(1),c.kc("ngIf",o.appLibraryStatus&&o.appLibraryStatus.appLibraryEnabled),c.Ab(1),c.Eb("active",o.isEditMode),c.Bb("aria-label",i("editMode")),c.Ab(3),c.Jc(i("editMode")),c.Ab(1),c.Eb("move-down",o.isEditMode)("show-overflow",o.delayWaited),c.Bb("aria-activedescendant",c.fc(7,10,o.activeOpt))}}var Of=function(){function t(t,e,n,i,o,r){var a=this;this.sessionService=t,this.appsHelper=e,this.appLibHelper=n,this.settingsService=i,this.settingsHelper=o,this.slideoverService=r,this.collapsedClass=!1,this.APP_CONFIG=Re.a,this.isCollapsed=!1,this.isEditMode=!1,this.delayWaited=!1,this.activeOpt=new y.a((function(t){return t.next(null)})),this.themes=Ee.a,this.subscriptions=[],localStorage.setItem("impersonationEnded",JSON.stringify(!1)),this.subscriptions[0]=t.settingsUpdated.subscribe((function(t){return a.onSettingsUpdate(t)})),this.subscriptions[1]=e.editModeChanged.subscribe((function(t){return a.onEditChange(t)})),this.subscriptions[2]=n.appLibraryStatusUpdated.subscribe((function(t){return a.appLibraryStatus=t})),this.subscriptions[3]=o.dropdownItemsCreated.subscribe((function(t){return a.onDropdownItemsCreated(t)})),this.version=Re.a.version}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onEditChange=function(t){var e=this;this.isEditMode=t,this.delayWaited=!1;var n=Object(T.a)(200).subscribe((function(){e.delayWaited=t,n.unsubscribe()}))},t.prototype.onCollapsedChange=function(t){this.collapsedClass=t,this.settingsHelper.sidenavCollapseChanged.next(t)},t.prototype.onSettingsUpdate=function(t){this.settings=t,this.userInfo=t.userInfo},t.prototype.onDropdownItemsCreated=function(t){this.links=t.map((function(t){return{title:t.title,icon:t.customIcon?void 0:t.icon,route:t.link,handler:t.handler,customIcon:t.icon?void 0:t.customIcon+"_white.svg"}}))},t.prototype.toggleEditMode=function(){this.isEditMode=!this.isEditMode,this.appsHelper.editModeChanged.next(this.isEditMode)},t.prototype.setHighContrast=function(){var t=this;this.settingsService.setSettings(this.settings).subscribe((function(e){t.sessionService.setSettings(t.settings)}))},t.prototype.openAppLibrary=function(t){this.slideoverService.appLibrary.opened.next(null==t?void 0:t.target)},t.prototype.updateDescendant=function(t){this.activeOpt=new y.a((function(e){return e.next(t)})).pipe(Object(te.a)(100))},t.\u0275fac=function(e){return new(e||t)(c.Mb(ae.a),c.Mb(Xt.a),c.Mb(we.a),c.Mb(di.a),c.Mb(re.a),c.Mb(xe.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-sidenav"]],hostVars:2,hostBindings:function(t,e){2&t&&c.Eb("collapsed",e.collapsedClass)},decls:5,vars:4,consts:[[3,"collapsed","routes","collapsedChange"],[1,"logo"],[4,"transloco","translocoRead"],[1,"menu-options","flex-start","column-nowrap"],[4,"ngIf","ngIfElse"],["defaultLogo",""],["onerror","this.src = 'assets/images/classlink-logo-invert.svg'",3,"src","alt"],[3,"src","alt"],["role","button","tabindex","0",3,"click","keydown.Enter",4,"ngIf"],["role","button","tabindex","0",1,"edit-mode",3,"click","keydown.Enter"],[1,"far","fa-edit"],["role","menubar","aria-label","A menu with shortcuts to customizable options",3,"updateFocus"],["role","button","tabindex","0",3,"click","keydown.Enter"],[1,"far","fa-plus-circle"]],template:function(t,e){1&t&&(c.Sb(0,"cl-sidenav",0),c.Zb("collapsedChange",(function(t){return e.isCollapsed=t}))("collapsedChange",(function(t){return e.onCollapsedChange(t)})),c.Sb(1,"div",1),c.Gc(2,xf,6,3,"ng-container",2),c.Rb(),c.Sb(3,"div",3),c.Gc(4,Pf,8,12,"ng-container",2),c.Rb(),c.Rb()),2&t&&(c.kc("collapsed",e.isCollapsed)("routes",e.links),c.Ab(2),c.kc("translocoRead","header"),c.Ab(2),c.kc("translocoRead","header"))},directives:[We.O,Te.c,i.l,vf],pipes:[i.b],styles:['[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]{cursor:auto}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;margin-right:20px}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{max-height:48px;width:150px;font-weight:800;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-overflow:ellipsis;white-space:normal;line-height:normal;word-wrap:break-word}[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]{height:auto;padding:20px 0;margin-bottom:20px;border-bottom:1px solid hsla(0,0%,100%,.2)}[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button][_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:center;align-items:center;position:relative;left:-20px;width:calc(100% + 40px);text-align:left;height:40px;color:var(--color-white);padding:0 20px;opacity:.8}[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button][_ngcontent-%COMP%]   .notifications-number[_ngcontent-%COMP%]{right:unset;left:30px}[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button][_ngcontent-%COMP%]:after{content:"";position:absolute;border:2px solid var(--color-white);width:4px;height:40px;opacity:0;top:0;left:0;border-radius:5px;pointer-events:none;animation:none}[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button].active[_ngcontent-%COMP%]:after, [_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button][_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button][_ngcontent-%COMP%]:focus:after, [_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button][_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button].edit-mode.active[_ngcontent-%COMP%]:after{height:90px}[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button][_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;font-size:20px;margin-right:20px;color:var(--color-white)}[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button][_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px);font-weight:600;color:var(--color-white)}[_nghost-%COMP%]   cl-slide-toggle[_ngcontent-%COMP%]{margin-top:auto}.collapsed[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button][_ngcontent-%COMP%]{-ms-flex-pack:center;justify-content:center}.collapsed[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button].edit-mode.active[_ngcontent-%COMP%]:after{height:266px}.collapsed[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button][_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:none}.collapsed[_nghost-%COMP%]   .menu-options[_ngcontent-%COMP%]   div[role=button][_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin:0}']}),t}(),Mf=n("itXk"),_f=["sidenavLinkContainer"],kf=["myLinkContent"],Sf=["appElement"],Af=["srElement"];function If(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",28),c.Zb("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(4).switchProfile(t)}))("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(4).switchProfile(t)}))("keydown.Space",(function(){c.yc(n);var t=e.$implicit;return c.dc(4).switchProfile(t)})),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit;c.Ab(2),c.Kc("Profile: ",i.profileName,"")}}function Rf(t,e){if(1&t&&(c.Qb(0),c.Gc(1,If,3,1,"div",27),c.Pb()),2&t){var n=c.dc(3);c.Ab(1),c.kc("ngForOf",n.dropdownProfiles)}}var Tf=function(t){return{up:t}};function Ff(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",23),c.Sb(1,"div",24),c.Zb("click",(function(){return c.yc(n),c.dc(2).handleCurrentUserClick()}))("keydown.Enter",(function(){return c.yc(n),c.dc(2).handleCurrentUserClick()}))("keydown.Space",(function(){return c.yc(n),c.dc(2).handleCurrentUserClick()})),c.Sb(2,"p"),c.Ic(3),c.Rb(),c.Sb(4,"div",25),c.Nb(5,"i",26),c.Rb(),c.Rb(),c.Gc(6,Rf,2,1,"ng-container",9),c.Rb()}if(2&t){var i=c.dc(2);c.kc("clFocusTrap",!0),c.Ab(3),c.Kc("Profile: ",i.currentProfile.profileName,""),c.Ab(1),c.kc("ngClass",c.nc(4,Tf,i.showUserProfiles)),c.Ab(2),c.kc("ngIf",i.dropdownProfiles&&i.showUserProfiles)}}var Ef=function(t){return{down:t}};function Df(t,e){if(1&t&&(c.Sb(0,"div",25),c.Nb(1,"i",29),c.Rb()),2&t){var n=c.dc(2);c.kc("ngClass",c.nc(1,Ef,n.showFolders))}}function Lf(t,e){1&t&&(c.Sb(0,"div",38),c.Ic(1,"NEW"),c.Rb())}function Nf(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",35,36),c.Zb("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).handleFolderClick(t)}))("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).handleFolderClick(t)}))("keydown.Space",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).handleFolderClick(t)}))("contextmenu",(function(t){c.yc(n);var i=e.$implicit;return c.dc(3).openContextMenu(i,t)}))("dragenter",(function(t){c.yc(n);var i=e.$implicit;return c.dc(3).handleDragEnter(t,i)}))("drop",(function(t){c.yc(n);var i=e.$implicit;return c.dc(3).handleAppDrop(t,i)})),c.ec(2,"async"),c.ec(3,"async"),c.Nb(4,"i",32),c.Nb(5,"i",33),c.Nb(6,"i",34),c.Sb(7,"p"),c.Ic(8),c.Rb(),c.Gc(9,Lf,2,0,"div",37),c.Rb()}if(2&t){var i=e.$implicit,o=e.index;c.dc(2);var r=c.vc(29),a=c.dc();c.Eb("active",(null==a.selectedFolder?null:a.selectedFolder.id)===i.id)("locked",(null==a.hoveredFolder?null:a.hoveredFolder.id)===i.id&&(i.is_appfolder||c.fc(2,13,a.isDraggingFromLockedFolder)))("add-to-folder",(null==a.hoveredFolder?null:a.hoveredFolder.id)===i.id&&!i.is_appfolder&&!c.fc(3,15,a.isDraggingFromLockedFolder)),c.lc("tabindex",a.showFolders?0:-1),c.kc("clTooltip",a.showTooltipFolder(o)&&r)("clTooltipContext",i.name)("clTooltipDirection",a.isCollapsed?"right":"top")("menuOpen",a.contextMenuOpen),c.Ab(8),c.Jc(i.name),c.Ab(1),c.kc("ngIf",a.shouldShowNewTag(i))}}function Hf(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Gc(1,Nf,10,17,"div",30),c.Sb(2,"div",31),c.Zb("click",(function(){c.yc(n);var t=c.dc(2);return t.handleFolderClick(t.allAppsFolder)}))("keydown.Enter",(function(){c.yc(n);var t=c.dc(2);return t.handleFolderClick(t.allAppsFolder)}))("keydown.Space",(function(){c.yc(n);var t=c.dc(2);return t.handleFolderClick(t.allAppsFolder)}))("contextmenu",(function(t){c.yc(n);var e=c.dc(2);return e.openContextMenu(e.allAppsFolder,t)}))("dragenter",(function(t){return c.yc(n),c.dc(2).handleDragEnter(t,void 0)}))("drop",(function(t){return c.yc(n),c.dc(2).handleAppDrop(t,void 0)})),c.Nb(3,"i",32),c.Nb(4,"i",33),c.Nb(5,"i",34),c.Sb(6,"p"),c.Ic(7),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(1),c.kc("ngForOf",o.folders),c.Ab(1),c.Eb("active",0===(null==o.selectedFolder?null:o.selectedFolder.id))("add-to-folder",0===(null==o.hoveredFolder?null:o.hoveredFolder.id)),c.lc("tabindex",o.showFolders?0:-1),c.kc("menuOpen",o.contextMenuOpen),c.Ab(5),c.Jc(i("sidenav.allApps"))}}function Gf(t,e){if(1&t&&(c.Sb(0,"a",39),c.Nb(1,"i",40),c.Sb(2,"p"),c.Ic(3),c.Rb(),c.Rb()),2&t){var n=c.dc().$implicit,i=c.vc(29),o=c.dc();c.kc("href",o.myFilesLink,c.Ac)("clTooltip",o.isCollapsed&&i)("clTooltipContext",n("sidenav.myFiles"))("clTooltipDirection","right"),c.Ab(3),c.Jc(n("sidenav.myFiles"))}}function Bf(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",41),c.Zb("click",(function(t){return c.yc(n),c.dc(2).handleMyLinksClick(t)}))("keydown.Enter",(function(t){return c.yc(n),c.dc(2).handleMyLinksClick(t)}))("keydown.Space",(function(t){return c.yc(n),c.dc(2).handleMyLinksClick(t)})),c.Nb(1,"i",42),c.Sb(2,"p"),c.Ic(3),c.Rb(),c.Sb(4,"div",43),c.Nb(5,"i",29),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.vc(29),r=c.dc();c.Eb("active",r.showLinks),c.kc("clTooltip",r.isCollapsed&&o)("clTooltipContext",i("sidenav.myLinks"))("clTooltipDirection","right"),c.Ab(3),c.Jc(i("sidenav.myLinks"))}}function jf(t,e){if(1&t&&c.Nb(0,"i"),2&t){var n=c.dc(2).$implicit;c.Db("",n.icon," cl-icon")}}function Uf(t,e){if(1&t&&c.Nb(0,"cl-custom-icon",52),2&t){var n=c.dc(2).$implicit;c.lc("name",n.icon)}}function zf(t,e){if(1&t&&(c.Qb(0),c.Gc(1,jf,1,3,"i",50),c.Gc(2,Uf,1,1,"cl-custom-icon",51),c.Pb()),2&t){var n=c.dc().$implicit,i=c.dc(3);c.Ab(1),c.kc("ngIf",!i.UtilsService.isCustomIcon(n.icon)),c.Ab(1),c.kc("ngIf",i.UtilsService.isCustomIcon(n.icon))}}function Vf(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"span"),c.Nb(2,"img",53),c.Rb(),c.Pb()),2&t){var n=c.dc().$implicit;c.Ab(2),c.kc("src",n.customIcon,c.Ac)}}function Zf(t,e){if(1&t){var n=c.Tb();c.Sb(0,"a",47,48),c.Zb("click",(function(t){c.yc(n);var i=e.$implicit;return c.dc(3).handleLinkClick(t,i.handler)}))("keydown.Enter",(function(t){c.yc(n);var i=e.$implicit;return c.dc(3).handleLinkClick(t,i.handler)}))("keydown.Space",(function(t){c.yc(n);var i=e.$implicit;return c.dc(3).handleLinkClick(t,i.handler)})),c.Gc(2,zf,3,2,"ng-container",9),c.Gc(3,Vf,3,1,"ng-container",9),c.Sb(4,"p",49),c.Ic(5),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.vc(1);c.dc(2);var r=c.vc(29),a=c.dc();c.lc("href",i.route,c.Ac),c.kc("clTooltip",a.showTooltip(o,1)?r:void 0)("clTooltipContext",i.title)("clTooltipDirection","right"),c.Ab(2),c.kc("ngIf",i.icon),c.Ab(1),c.kc("ngIf",i.customIcon),c.Ab(2),c.Jc(i.title)}}function $f(t,e){if(1&t&&(c.Sb(0,"app-dropdown-menu",44,45),c.Gc(2,Zf,6,7,"a",46),c.Rb()),2&t){var n=c.dc(2);c.Eb("up",n.shouldOpenUp),c.Ab(2),c.kc("ngForOf",n.myLinksItems)}}function Wf(t,e){if(1&t&&(c.Sb(0,"div",54),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=c.dc(2);c.Ab(2),c.Jc(n.customSignOutButtonText)}}function Jf(t,e){if(1&t&&(c.Sb(0,"div",54),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=e.$implicit;c.Ab(2),c.Jc(n)}}var qf=function(t){return{collapsed:t}};function Kf(t,e){if(1&t){var n=c.Tb();c.Sb(0,"cl-sidenav",1),c.Zb("collapsedChange",(function(t){return c.yc(n),c.dc().isCollapsed=t}))("collapsedChange",(function(t){return c.yc(n),c.dc().onCollapsedChange(t)}))("submitSignOut",(function(){return c.yc(n),c.dc().handleSubmitSignOut()})),c.Gc(1,Ff,7,6,"div",2),c.Sb(2,"div",3,4),c.Sb(4,"div",5),c.Zb("click",(function(){return c.yc(n),c.dc().handleMyAppsClick()}))("keydown.Enter",(function(){return c.yc(n),c.dc().handleMyAppsClick()}))("keydown.Space",(function(){return c.yc(n),c.dc().handleMyAppsClick()})),c.Nb(5,"cl-custom-icon",6),c.Sb(6,"p"),c.Ic(7),c.Rb(),c.Gc(8,Df,2,3,"div",7),c.Rb(),c.Sb(9,"div",8),c.Zb("cdkDropListDropped",(function(t){return c.yc(n),c.dc().onDropList(t)}))("cdkDropListData",(function(){c.yc(n);var t=c.dc();return t.sidenav-t.folder}))("dragleave",(function(t){return c.yc(n),c.dc().handleDragLeave(t)})),c.Gc(10,Hf,8,8,"ng-container",9),c.Rb(),c.Gc(11,Gf,4,5,"a",10),c.Sb(12,"div",11),c.Gc(13,Bf,6,6,"div",12),c.Gc(14,$f,3,3,"app-dropdown-menu",13),c.Rb(),c.Rb(),c.Sb(15,"div",14),c.Zb("click",(function(){return c.yc(n),c.dc().handleSubmitSignOut()}))("keydown.Enter",(function(){return c.yc(n),c.dc().handleSubmitSignOut()}))("keydown.space",(function(){return c.yc(n),c.dc().handleSubmitSignOut()})),c.Nb(16,"i",15),c.Sb(17,"p"),c.Ic(18),c.Rb(),c.Rb(),c.Sb(19,"div",16),c.Nb(20,"div",17),c.Sb(21,"div",18),c.Sb(22,"p",19),c.Ic(23),c.Rb(),c.Sb(24,"p",20),c.Ic(25),c.Rb(),c.Rb(),c.Rb(),c.Gc(26,Wf,3,1,"ng-template",null,21,c.Hc),c.Gc(28,Jf,3,1,"ng-template",null,22,c.Hc),c.Rb()}if(2&t){var i=e.$implicit,o=c.vc(27),r=c.vc(29),a=c.dc();c.kc("collapsed",a.isCollapsed)("showUserInfoCard",!0)("user",a.user)("showIconLinks",null==a.socialMedia?null:a.socialMedia.length)("iconLinks",a.socialMedia)("environment","dev"===a.APP_CONFIG.environment?"beta":a.APP_CONFIG.environment)("enableCustomSignOut",!0)("customSignOutButtonText",a.customSignOutButtonText)("gwsToken",a.sessionService.getGwsToken()),c.Ab(1),c.kc("ngIf",a.currentProfile&&(null==a.dropdownProfiles?null:a.dropdownProfiles.length)),c.Ab(1),c.Eb("spacing",!a.socialMedia||!a.socialMedia.length),c.kc("ngStyle",a.scrollbarPadding),c.Ab(2),c.Eb("active",a.showFolders),c.kc("clTooltip",a.isCollapsed&&r)("clTooltipContext",i("sidenav.myApps"))("clTooltipDirection","right"),c.Ab(3),c.Jc(i("sidenav.myApps")),c.Ab(1),c.kc("ngIf",!a.isCollapsed),c.Ab(1),c.kc("ngClass",c.nc(30,qf,!a.showFolders)),c.Ab(1),c.kc("ngIf",!a.isCollapsed&&a.folders),c.Ab(1),c.kc("ngIf",a.myFilesLink),c.Ab(2),c.kc("ngIf",a.myLinksItems),c.Ab(1),c.kc("ngIf",a.showLinks),c.Ab(1),c.kc("clTooltip",a.isCollapsed?o:void 0)("clTooltipDirection","right"),c.Ab(3),c.Jc(a.customSignOutButtonText),c.Ab(5),c.Jc(i("sidenav.poweredBy")),c.Ab(2),c.Jc(i("sidenav.classLink"))}}var Yf=function(){function t(t,e,n,i,o,r,a,s,l,p,d,u,g,h){var b=this;this.nodeApi=t,this.sessionService=e,this.appsHelper=n,this.settingsService=i,this.settingsHelper=o,this.layoutService=r,this.menuHelper=a,this.tmsService=s,this.appsService=l,this.UtilsService=p,this.contextMenuHelper=d,this.translocoService=u,this.dynamicAppsDragHelperService=g,this.myProfileHelperService=h,this.collapsedClass=!0,this.submitSignOut=new c.n,this.isCollapsed=!0,this.showProfileDropdown=!1,this.showUserProfiles=!1,this.showFolders=!1,this.showLinks=!1,this.dropdownProfiles=[],this.folders=[],this.foldersTooltipFlagList=[],this.srTooltipFlagList=[],this.themes=Ee.a,this.APP_CONFIG=Re.a,this.scrollbarWidth=0,this.scrollbarPadding={},this.subscriptions=[],localStorage.setItem("impersonationEnded",JSON.stringify(!1)),this.subscriptions[0]=this.layoutService.documentClicked.subscribe((function(){return b.onDocumentClick()})),this.subscriptions[1]=this.appsHelper.selectedFolderChanged.subscribe((function(t){b.selectedFolder=null===t?null:t})),this.subscriptions[2]=this.appsHelper.newFolderCreated.subscribe((function(t){b.folders.unshift(t)})),this.subscriptions[3]=this.appsHelper.folderRemoved.subscribe((function(t){var e=b.folders.findIndex((function(e){return e.id===t.id}));e>=0&&b.folders.splice(e,1)})),this.subscriptions[4]=this.appsHelper.appsUpdated.subscribe((function(t){var e=t.apps;b.apps=e,b.setAppFolders(e)})),this.subscriptions[5]=this.sessionService.userInfoUpdated.subscribe((function(t){b.onUserInfoUpdate(t)})),this.subscriptions[6]=this.myProfileHelperService.generalSettingsUpdated.subscribe((function(t){t&&t.ImagePath&&b.onUserInfoUpdate(Object(le.a)(Object(le.a)({},b.userInfo),t))})),this.subscriptions[7]=this.myProfileHelperService.avatarUpdated.subscribe((function(t){b.updateUserAvatar(t)})),this.isDraggingFromLockedFolder=this.dynamicAppsDragHelperService.isDraggingFromLockedFolder(),Object(Mf.a)([e.settingsUpdated,o.dropdownItemsCreated]).subscribe((function(t){var e=t[1];b.onSettingsUpdate(t[0]),b.classLinkLinks=e,b.setMyLinks()})),this.myLinksHandle=a.registerMenu((function(){b.showLinks&&(b.showLinks=!1)})),this.profileDropdownHandle=a.registerMenu((function(){return b.showProfileDropdown=!1})),this.endImpersonation=Object(qa.debounce)(this.endImpersonation,2e3,{leading:!0}),this.scrollbarWidth=this.settingsHelper.getScrollBarWidth()}return t.prototype.onResize=function(){this.setScrollbarPadding()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.menuHelper.unregisterMenu(this.profileDropdownHandle),this.menuHelper.unregisterMenu(this.myLinksHandle)},t.prototype.ngAfterViewInit=function(){var t=this;this.subscriptions[9]=this.folderElements.changes.pipe(Object(te.a)(100)).subscribe((function(e){t.generateFolderTooltipFlags(e)})),this.subscriptions[10]=this.srElements.changes.pipe(Object(te.a)(100)).subscribe((function(e){t.generateSRTooltipFlags(e)})),this.subscriptions[11]=this.contextMenuHelper.changeMenuOptions.subscribe((function(e){t.contextMenuOptions=e})),this.onCollapsedChange(!0)},t.prototype.generateFolderTooltipFlags=function(t){this.foldersTooltipFlagList=t.map((function(t){var e=t.nativeElement.children[3];return!!e&&e.offsetWidth<e.scrollWidth}))},t.prototype.generateSRTooltipFlags=function(t){this.srTooltipFlagList=t.map((function(t){var e=t.nativeElement.children[1];return!!e&&e.offsetWidth<e.scrollWidth}))},t.prototype.setScrollbarPadding=function(){var t,e,n,i;this.scrollbarPadding=this.isCollapsed&&this.scrollbarWidth&&(null===(e=null===(t=this.sidenavLinkContainer)||void 0===t?void 0:t.nativeElement)||void 0===e?void 0:e.scrollHeight)>(null===(i=null===(n=this.sidenavLinkContainer)||void 0===n?void 0:n.nativeElement)||void 0===i?void 0:i.clientHeight)?{"padding-left":this.scrollbarWidth+"px"}:{}},t.prototype.onDocumentClick=function(){this.showProfileDropdown=!1,this.showUserProfiles=!1,this.menuHelper.closeAllMenus()},t.prototype.getProfiles=function(){this.userInfo&&this.profiles&&(this.setCurrentProfile(),this.setDropdownProfiles())},t.prototype.onCollapsedChange=function(t){this.collapsedClass=t,this.settingsHelper.sidenavCollapseChanged.next(t),t&&(this.showFolders=!1),this.setScrollbarPadding()},t.prototype.onSettingsUpdate=function(t){var e=this;this.settings=t,this.socialMedia=t.socialMedia.map((function(t){return{title:t.company+" icon",icon:e.UtilsService.getSocialMediaIconClass(t.company),route:e.UtilsService.getSocialMediaURL(t.company,t.path)}})),this.profiles=t.allowedProfiles,this.getProfiles()},t.prototype.onUserInfoUpdate=function(t){"ImagePath"in t?(this.userInfo=t,this.customSignOutButtonText=this.translocoService.translate(this.userInfo.isImpersonated?"sidenav.endImpersonation":"sidenav.signOut"),this.user={profileName:this.userInfo.Profile,imagePath:this.userInfo.ImagePath,tenantName:this.userInfo.Tenant,displayName:this.userInfo.DisplayName,email:this.userInfo.Email,buildingName:this.userInfo.Building,roleLevel:this.userInfo.roleLevel},this.updateUserAvatar(this.userInfo.ImagePath)):this.updateUserAvatar(t.ImagePath),this.getProfiles(),this.folderElements&&this.folderElements.length>0&&this.generateFolderTooltipFlags(this.folderElements),this.srElements&&this.srElements.length>0&&this.generateSRTooltipFlags(this.srElements)},t.prototype.handleSubmitSignOut=function(){this.userInfo.isImpersonated?this.endImpersonation():this.logout(),this.submitSignOut.emit()},t.prototype.logout=function(){this.appsHelper.logout(!0)},t.prototype.handleLinkClick=function(t,e){e&&(t.preventDefault(),e())},t.prototype.endImpersonation=function(){var t=this;this.tmsService.endImpersonation().subscribe((function(e){t.sessionService.setGwsToken(e.gwsToken,!1),t.appsService.endImpersonationApps().subscribe((function(t){localStorage.setItem("impersonationEnded",JSON.stringify(!0)),window.location.href=t.redirectUrl}))}))},t.prototype.expandSidenav=function(){this.isCollapsed=!1,this.onCollapsedChange(!1)},t.prototype.toggleShowProfiles=function(t){t.stopPropagation(),this.showUserProfiles=!this.showUserProfiles},t.prototype.setCurrentProfile=function(){var t=this;this.currentProfile=this.profiles.find((function(e){return e.profileId===t.userInfo.ProfileId}))},t.prototype.setDropdownProfiles=function(){var t=this;this.dropdownProfiles=this.profiles.filter((function(e){return e.profileId!==t.userInfo.ProfileId}))},t.prototype.setAppFolders=function(t){var e,n,i=this;this.folders=t.filter((function(t){return i.appsHelper.isFolder(t)})),localStorage.getItem("newFoldersList")&&JSON.parse(localStorage.getItem("newFoldersList")).forEach((function(t){var e=i.folders.findIndex((function(e){return e.id===t.id}));e>=0&&(i.folders[e].creationDate=new Date(Date.parse(t.creationDate)))}));var o={_id:"all_apps_folder",id:0,appfolder_id:0,name:"All Apps",is_folder:!0,is_appfolder:!1,color:null===(n=null===(e=this.settings)||void 0===e?void 0:e.customUISettings)||void 0===n?void 0:n.paletteColor,apps:t.filter((function(t){return!i.appsHelper.isFolder(t)})),order:null,encid:null};this.allAppsFolder=o},t.prototype.switchProfile=function(t){this.settingsService.switchProfile(t.profileId).subscribe((function(t){window.location.reload()}))},t.prototype.handleCurrentUserClick=function(){this.showUserProfiles=!this.showUserProfiles},t.prototype.handleMyAppsClick=function(){this.isCollapsed?(this.expandSidenav(),this.showFolders=!0):this.showFolders=!this.showFolders},t.prototype.handleFolderClick=function(t){var e;t&&this.appsHelper.selectedFolderChanged.next((null===(e=this.selectedFolder)||void 0===e?void 0:e.id)===t.id?null:t)},t.prototype.showTooltipFolder=function(t){return this.foldersTooltipFlagList.length===this.folders.length&&this.foldersTooltipFlagList[t]},t.prototype.showTooltipSR=function(t){return!(!this.settings||!this.settings.staticResources||this.srTooltipFlagList.length!==this.settings.staticResources.length)&&this.srTooltipFlagList[t]},t.prototype.showTooltip=function(t,e){var n=t.children[e];return!!n&&n.offsetWidth<n.scrollWidth},t.prototype.isScrollBarVisible=function(t){return t.scrollHeight>t.clientHeight},t.prototype.onDropList=function(t){if(t.isPointerOverContainer&&t.previousIndex!=t.currentIndex){var e=this.folders[t.previousIndex],n=this.folders[t.currentIndex],i=this.apps.indexOf(e),o=this.apps.indexOf(n);n.is_editing=!1,e.is_editing=!1,this.apps.splice(i,1),this.apps.splice(o,0,e),Pt(this.folders,t.previousIndex,t.currentIndex),this.appsHelper.appsUpdated.next({apps:this.apps,reload:!1}),this.appsHelper.selectedFolderChanged.next(null),this.nodeApi.orderApps(this.apps).subscribe()}},t.prototype.openContextMenu=function(t,e){var n,i;if(e.preventDefault(),e.stopPropagation(),this.UtilsService.storeElement(),"contextmenu"===e.type||"click"===e.type)i=e.clientY,n=e.clientX;else{var o=this.getPos(e);i=o.offsetTop,n=o.offsetLeft}this.contextMenuOptions&&this.contextMenuOptions.visible||this.menuHelper.closeAllMenus(),this.contextMenuHelper.changeMenuOptions.next({visible:!0,coordinates:{"top.px":i,"left.px":n},location:ce.Sidenav,app:t})},t.prototype.getPos=function(t){var e=t.currentTarget.closest(".myapps-folder").getBoundingClientRect();return{offsetTop:Math.round(e.y),offsetLeft:Math.round(e.x)}},t.prototype.shouldShowNewTag=function(t){return this.appsHelper.shouldShowNewTag(t)},t.prototype.setMyLinks=function(){for(var t,e=[],n=0,i=this.classLinkLinks;n<i.length;n++){var o=i[n];"My Files"===o.title?this.myFilesLink=o.link:e.push({title:o.title,icon:o.customIcon?void 0:o.icon,route:o.handler?void 0:o.link,handler:o.handler,customIcon:o.icon?void 0:o.customIcon+"_white.svg"})}for(var r=0,a=null===(t=this.settings)||void 0===t?void 0:t.staticResources;r<a.length;r++){var s=a[r];e.push({title:s.name,icon:s.icon,route:s.url})}this.myLinksItems=e},t.prototype.handleMyLinksClick=function(t){t.stopPropagation(),this.adjustMyLinksPosition(t),this.showLinks=!this.showLinks},t.prototype.adjustMyLinksPosition=function(t){var e=window.innerHeight,n=t.target.getBoundingClientRect();this.shouldOpenUp=e-n.bottom<300},t.prototype.handleDragEnter=function(t,e){var n;this.hoveredFolder&&(null===(n=this.hoveredFolder)||void 0===n?void 0:n.id)===(null==e?void 0:e.id)||(null!=e&&(this.hoveredFolder=e),e||(this.hoveredFolder=this.allAppsFolder))},t.prototype.handleDragLeave=function(t){var e,n;(null===(n=null===(e=null==t?void 0:t.relatedTarget)||void 0===e?void 0:e.classList)||void 0===n?void 0:n.contains("myapps-folder"))||(this.hoveredFolder=void 0)},t.prototype.handleAppDrop=function(t,e){e||(e=this.allAppsFolder),this.hoveredFolder=void 0,this.dynamicAppsDragHelperService.handleAppDrop(t,e)},t.prototype.updateUserAvatar=function(t){if(this.user){var e=t.startsWith("http")?t:Re.a.cloudDriveCdn+"/"+t;this.user=Object(le.a)(Object(le.a)({},this.user),{imagePath:e})}},t.\u0275fac=function(e){return new(e||t)(c.Mb(Qt.a),c.Mb(ae.a),c.Mb(Xt.a),c.Mb(di.a),c.Mb(re.a),c.Mb(We.G),c.Mb(Ze),c.Mb(pi),c.Mb(je.a),c.Mb($e.a),c.Mb(Ve),c.Mb(Te.f),c.Mb(on),c.Mb(Fe))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-dynamic-sidenav"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(_f,!0),c.Nc(kf,!0),c.Nc(Sf,!0),c.Nc(Af,!0)),2&t&&(c.uc(n=c.ac())&&(e.sidenavLinkContainer=n.first),c.uc(n=c.ac())&&(e.myLinkContent=n.first),c.uc(n=c.ac())&&(e.folderElements=n),c.uc(n=c.ac())&&(e.srElements=n))},hostVars:2,hostBindings:function(t,e){1&t&&c.Zb("resize",(function(){return e.onResize()}),!1,c.xc),2&t&&c.Eb("collapsed",e.collapsedClass)},inputs:{enableCustomSignOut:"enableCustomSignOut",customSignOutButtonText:"customSignOutButtonText"},outputs:{submitSignOut:"submitSignOut"},decls:1,vars:0,consts:[[3,"collapsed","showUserInfoCard","user","showIconLinks","iconLinks","environment","enableCustomSignOut","customSignOutButtonText","gwsToken","collapsedChange","submitSignOut",4,"transloco"],[3,"collapsed","showUserInfoCard","user","showIconLinks","iconLinks","environment","enableCustomSignOut","customSignOutButtonText","gwsToken","collapsedChange","submitSignOut"],["class","profiles-subcontent",3,"clFocusTrap",4,"ngIf"],[1,"menu-options","links-container","custom-scroll",3,"ngStyle"],["sidenavLinkContainer",""],["role","button","tabindex","0",1,"my-apps-container","cl-focusable","link",3,"clTooltip","clTooltipContext","clTooltipDirection","click","keydown.Enter","keydown.Space"],["name","cls fa-myapps",1,"cl-icon","link-icon"],["class","dropdown-icon",3,"ngClass",4,"ngIf"],["cdkDropList","","id","myapps-folders-container",1,"myapps-folders-container","custom-scroll",3,"ngClass","cdkDropListDropped","cdkDropListData","dragleave"],[4,"ngIf"],["class","link","target","_blank","rel","noopener",3,"href","clTooltip","clTooltipContext","clTooltipDirection",4,"ngIf"],[1,"my-links"],["role","button","class","link","tabindex","0",3,"active","clTooltip","clTooltipContext","clTooltipDirection","click","keydown.Enter","keydown.Space",4,"ngIf"],["class","my-links-container custom-scroll",3,"up",4,"ngIf"],["tabindex","0",1,"links-signout","menu-options",3,"clTooltip","clTooltipDirection","click","keydown.Enter","keydown.space"],[1,"far","fa-sign-out"],[1,"menu-options","classlink-logo"],[1,"logo-icon"],[1,"logo-text"],[1,"text-powered"],[1,"text-brand"],["signoutTooltipRef",""],["linkTooltip",""],[1,"profiles-subcontent",3,"clFocusTrap"],["role","button","tabindex","0",1,"profile","current-profile",3,"click","keydown.Enter","keydown.Space"],[1,"dropdown-icon",3,"ngClass"],[1,"fas","fa-chevron-down"],["class","profile","role","button","tabindex","0",3,"click","keydown.Enter","keydown.Space",4,"ngFor","ngForOf"],["role","button","tabindex","0",1,"profile",3,"click","keydown.Enter","keydown.Space"],[1,"fas","fa-chevron-right"],["class","myapps-folder","cdkDrag","","ondragover","event.preventDefault()",3,"active","locked","add-to-folder","clTooltip","clTooltipContext","clTooltipDirection","tabindex","menuOpen","click","keydown.Enter","keydown.Space","contextmenu","dragenter","drop",4,"ngFor","ngForOf"],["ondragover","event.preventDefault()",1,"myapps-folder","all-apps",3,"tabindex","menuOpen","click","keydown.Enter","keydown.Space","contextmenu","dragenter","drop"],["tabindex","-1",1,"fas","fa-grip-vertical","drag-icon"],["tabindex","-1",1,"fas","fa-lock","lock-icon"],[1,"far","fa-folder","folder-icon"],["cdkDrag","","ondragover","event.preventDefault()",1,"myapps-folder",3,"clTooltip","clTooltipContext","clTooltipDirection","tabindex","menuOpen","click","keydown.Enter","keydown.Space","contextmenu","dragenter","drop"],["appElement",""],["class","new-tag",4,"ngIf"],[1,"new-tag"],["target","_blank","rel","noopener",1,"link",3,"href","clTooltip","clTooltipContext","clTooltipDirection"],[1,"fas","fa-folder-open","link-icon"],["role","button","tabindex","0",1,"link",3,"clTooltip","clTooltipContext","clTooltipDirection","click","keydown.Enter","keydown.Space"],[1,"fa-regular","fa-link","link-icon"],[1,"dropdown-icon"],[1,"my-links-container","custom-scroll"],["myLinkContent",""],["target","_blank","rel","noopener","tabindex","0",3,"href","clTooltip","clTooltipContext","clTooltipDirection","click","keydown.Enter","keydown.Space",4,"ngFor","ngForOf"],["target","_blank","rel","noopener","tabindex","0",3,"href","clTooltip","clTooltipContext","clTooltipDirection","click","keydown.Enter","keydown.Space"],["myLink",""],[1,"ellipsis"],[3,"class",4,"ngIf"],["class","cl-icon",3,"name",4,"ngIf"],[1,"cl-icon",3,"name"],[3,"src"],[1,"cl-tooltip"]],template:function(t,e){1&t&&c.Gc(0,Kf,30,32,"cl-sidenav",0)},directives:[Te.c,We.O,i.l,i.m,We.Y,We.m,Bt,i.j,We.y,i.k,Vt,ko],pipes:[i.b],styles:['[_nghost-%COMP%]{z-index:299}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]{margin-bottom:30px;cursor:auto}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;margin-right:20px}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{max-height:48px;color:var(--color-primary);font-weight:600;font-size:calc(var(--font-modifier) * 16px);overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-overflow:ellipsis;white-space:normal;overflow-wrap:break-word;line-height:normal}[_nghost-%COMP%]   .collapse-btn[_ngcontent-%COMP%]{background-color:var(--color-bg-light);height:33px;width:33px;top:25px;right:-15px}[_nghost-%COMP%]   .collapse-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-height:25px;min-width:25px;border-radius:50%;background-color:var(--color-primary);display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}[_nghost-%COMP%]   .collapse-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:20px;margin-right:3px;margin-bottom:2px;color:var(--color-bg-light)}[_nghost-%COMP%]   .collapse-btn[aria-label="expand navigation"][_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:23px;margin-left:4px}[_nghost-%COMP%]   .profiles-subcontent[_ngcontent-%COMP%]{width:calc(100% + 40px);position:relative;left:-20px;margin-top:15px}[_nghost-%COMP%]   .profiles-subcontent[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-line-pack:center;align-content:center;padding:10px 20px;cursor:pointer}[_nghost-%COMP%]   .profiles-subcontent[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]:hover{background-color:var(--color-primary-faded)}[_nghost-%COMP%]   .profiles-subcontent[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]:after{width:100%;height:100%;top:0;left:0;border:2px solid var(--color-primary)}[_nghost-%COMP%]   .profiles-subcontent[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]:focus:after{opacity:1;animation:pulse 2s infinite}[_nghost-%COMP%]   .profiles-subcontent[_ngcontent-%COMP%]   .current-profile[_ngcontent-%COMP%]{-ms-flex-pack:justify;justify-content:space-between}[_nghost-%COMP%]   .profiles-subcontent[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Open Sans;font-size:13px;font-weight:600}[_nghost-%COMP%]   .profiles-subcontent[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{transition:transform .3s ease}[_nghost-%COMP%]   .profiles-subcontent[_ngcontent-%COMP%]   .dropdown-icon.up[_ngcontent-%COMP%]{-ms-transform:rotate(180deg);transform:rotate(180deg)}[_nghost-%COMP%]   .profiles-subcontent[_ngcontent-%COMP%]:before{content:"";position:absolute;border-top:1px solid var(--color-border-dark);width:90%;left:20px}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:start;justify-content:flex-start;height:100%;width:100%;overflow:visible;padding-top:0}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   a.link[_ngcontent-%COMP%]{opacity:1;font-size:calc(var(--font-modifier) * 14px)}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;height:49px;width:95%;padding:20px 25px;position:relative;left:0}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Poppins;font-size:calc(var(--font-modifier) * 14px);font-weight:600;line-height:normal;margin-left:10px}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:0}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-primary)}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{margin-left:auto;transition:transform .3s ease}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   .dropdown-icon.down[_ngcontent-%COMP%]{-ms-transform:rotate(-90deg);transform:rotate(-90deg)}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   .dropdown-icon.left[_ngcontent-%COMP%]{-ms-transform:rotate(180deg);transform:rotate(180deg)}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .link.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{border-radius:15px;background-color:var(--color-primary-faded)!important}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:focus:after{width:100%;height:100%;top:0;left:0;border-color:var(--color-primary)}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .my-links-container[_ngcontent-%COMP%]{background-color:var(--color-bg-light);left:100%;border-radius:5px;box-shadow:0 0 20px 0 rgba(0,0,0,.25098039215686274);width:300px;max-height:300px;overflow-y:auto;overflow-x:hidden;padding:10px 0}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .my-links-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;left:0;padding:0 26px;display:-ms-flexbox;display:flex;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:center;align-items:center;gap:10px}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .my-links-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .cl-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .my-links-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:0;width:14px!important;height:14px!important}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .my-links-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Poppins;font-size:calc(var(--font-modifier) * 14px);font-weight:500;line-height:normal;width:100%}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .my-links-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .my-links-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-medium)}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .my-links-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--color-border-dark)}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .my-links-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%], [_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .my-links-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{color:var(--color-medium)}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .my-links-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus:after{left:0;top:0}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .my-links-container.up[_ngcontent-%COMP%]{bottom:0;top:unset}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]{width:100%;min-height:49px;max-height:200px;overflow-y:auto;scrollbar-width:thin;background-color:rgba(0,0,0,0);transition:max-height .3s ease-in-out}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder[_ngcontent-%COMP%]{position:relative;height:49px;padding:0 15px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;gap:10px;background-color:#f7f7f7;cursor:pointer}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 14px);width:80%;line-height:normal;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-weight:400}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 16px)}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-medium)}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder[_ngcontent-%COMP%]   .lock-icon[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder[_ngcontent-%COMP%]   .new-tag[_ngcontent-%COMP%]{background-color:#008ad7;color:var(--color-white);font-family:var(--font-family-title);font-size:calc(var(--font-modifier) * 12px);line-height:calc(var(--font-modifier) * 18px);font-weight:900;border-radius:5px;padding:2px 5px;letter-spacing:1px;margin-right:5px;box-shadow:0 0 32px -8px var(--font-shadow-color)}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;width:100%;height:100%;border:2px solid var(--color-primary);border-radius:5px;opacity:0}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder[_ngcontent-%COMP%]:focus:after{animation:pulse 2s infinite;opacity:1}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%], [_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{color:var(--color-dark)}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder[_ngcontent-%COMP%]:hover   .drag-icon[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder.target-folder.locked[_ngcontent-%COMP%]{cursor:no-drop}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder.target-folder.locked[_ngcontent-%COMP%]   .lock-icon[_ngcontent-%COMP%]{display:block;width:16px}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder.target-folder.locked[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder.target-folder.locked[_ngcontent-%COMP%]   .folder-icon[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder.target-folder.locked[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder.target-folder.locked[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-light)}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder.target-folder[_ngcontent-%COMP%]:not(.locked){background-color:var(--color-primary-faded);box-shadow:0 0 29px -10px var(--color-primary-50)}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder.target-folder[_ngcontent-%COMP%]:not(.locked):after{opacity:1;border:2px dashed var(--color-primary)}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder.locked[_ngcontent-%COMP%]{cursor:no-drop}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder.locked[_ngcontent-%COMP%]   .lock-icon[_ngcontent-%COMP%]{display:block;width:17px}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder.locked[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder.locked[_ngcontent-%COMP%]   .folder-icon[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder.locked[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder.locked[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-light)}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder.locked[_ngcontent-%COMP%]:after{opacity:1;border:2px dashed var(--color-light)}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder.add-to-folder[_ngcontent-%COMP%]{background-color:var(--color-primary-faded);box-shadow:0 0 29px -10px var(--color-primary-50)}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]   .myapps-folder.add-to-folder[_ngcontent-%COMP%]:after{opacity:1;border:2px dashed var(--color-primary)}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folder.active[_ngcontent-%COMP%]{background-color:var(--color-primary-faded)!important}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folder.active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folder.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-primary)}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container.collapsed[_ngcontent-%COMP%]{min-height:0;max-height:0}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folder.all-apps[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:var(--color-primary-faded)}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-primary)}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{height:100%;width:100%;border:2px solid var(--color-primary);margin:0}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus:after{opacity:1;animation:pulse 2s infinite}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .cl-icon[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 16px)}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]{padding-left:15px}[_nghost-%COMP%]   .my-links[_ngcontent-%COMP%]{position:relative;width:100%;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}[_nghost-%COMP%]   .links-container.spacing[_ngcontent-%COMP%]{margin-top:30px}[_nghost-%COMP%]   .links-signout[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:start;justify-content:flex-start;gap:8px;margin-left:20px;padding:0;cursor:pointer}[_nghost-%COMP%]   .links-signout[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:15px;height:15px}[_nghost-%COMP%]   .links-signout[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Poppins;font-size:calc(var(--font-modifier) * 14px);font-weight:600}[_nghost-%COMP%]   .links-signout[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   .links-signout[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-primary)}[_nghost-%COMP%]   .links-signout[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%], [_nghost-%COMP%]   .links-signout[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{color:var(--color-primary-50)}[_nghost-%COMP%]   .classlink-logo[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;padding-bottom:20px;-ms-flex-pack:start;justify-content:flex-start;margin-left:15px}[_nghost-%COMP%]   .classlink-logo[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{height:35px;width:35px;background-color:var(--color-primary-50);mask:url(/assets/icons/launchpad.svg) no-repeat center/contain;-webkit-mask:url(/assets/icons/launchpad.svg) no-repeat center/contain}[_nghost-%COMP%]   .classlink-logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{margin-left:10px}[_nghost-%COMP%]   .classlink-logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   .text-powered[_ngcontent-%COMP%]{font-family:Poppins;font-style:italic;font-size:12px;font-weight:300;color:var(--color-primary-50)}[_nghost-%COMP%]   .classlink-logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   .text-brand[_ngcontent-%COMP%]{font-family:Poppins;font-size:21px;font-weight:600;color:var(--color-primary-50)}[_nghost-%COMP%]   .ellipsis[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.collapsed[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:0}.collapsed[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]{gap:24px;-ms-flex-align:center;align-items:center;margin-top:10px}.collapsed[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .cl-icon[_ngcontent-%COMP%]{margin-right:0}.collapsed[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{width:30px;height:30px;-ms-flex-pack:center;justify-content:center}.collapsed[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   .link-icon[_ngcontent-%COMP%]:first-child, .collapsed[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   .link-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px!important;height:20px!important}.collapsed[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%], .collapsed[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .myapps-folders-container[_ngcontent-%COMP%]{display:none}.collapsed[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .my-apps-container[_ngcontent-%COMP%]{padding:0;margin:0;-ms-flex-pack:center;justify-content:center;height:30px;width:30px}.collapsed[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .my-apps-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:none}.collapsed[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .my-apps-container[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{margin-left:10px}.collapsed[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .my-apps-container[_ngcontent-%COMP%]:hover{margin-left:-1px}.collapsed[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;padding:0}.collapsed[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .dashed-divider[_ngcontent-%COMP%]{width:80%}.collapsed[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .my-links-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-ms-flex-pack:start;justify-content:flex-start}.collapsed[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .my-links-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .collapsed[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   .my-links-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;opacity:1;width:auto}.collapsed[_nghost-%COMP%]   .links-container.spacing[_ngcontent-%COMP%]{margin-top:30px}.collapsed[_nghost-%COMP%]   .links-signout[_ngcontent-%COMP%]{margin:0 0 22px;-ms-flex-pack:center;justify-content:center}.collapsed[_nghost-%COMP%]   .links-signout[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.collapsed[_nghost-%COMP%]   .classlink-logo[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:baseline;align-items:baseline;margin-left:0}.collapsed[_nghost-%COMP%]   .classlink-logo[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{-ms-flex-order:2;order:2;margin:12px auto 0;min-height:35px;min-width:35px}.collapsed[_nghost-%COMP%]   .classlink-logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{-ms-flex-order:1;order:1;position:relative;width:calc(100% + 40px);left:-20px;text-align:center;margin-left:0}.collapsed[_nghost-%COMP%]   .classlink-logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:block;opacity:1;width:auto}.collapsed[_nghost-%COMP%]   .classlink-logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   .text-powered[_ngcontent-%COMP%]{font-size:9px}.collapsed[_nghost-%COMP%]   .classlink-logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   .text-brand[_ngcontent-%COMP%]{font-size:16px}']}),t}();function Qf(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",25,11),c.Zb("click",(function(t){c.yc(n);var e=c.dc().$implicit;return c.dc(2).openAppLibrary(t,e)}))("keydown.Enter",(function(){c.yc(n);var t=c.dc().$implicit;return c.dc(2).openAppLibrary(t)})),c.Nb(2,"i",26),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc().$implicit,r=c.vc(4),a=c.dc();c.kc("clTooltip",r)("clTooltipDirection","bottom")("@fadeInOut",a.closedFolders.includes(i.id)?"out":"in"),c.Bb("data-folder-id",i.id)("aria-label",o("openAppLibrary"))}}function Xf(t,e){if(1&t&&(c.Sb(0,"span"),c.Nb(1,"i",27),c.Rb()),2&t){var n=c.dc().$implicit,i=c.dc(2);c.kc("@fadeInOut",n.is_appfolder&&!i.closedFolders.includes(n.id)?"in":"out")}}function tm(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",28,11),c.Zb("click",(function(t){return c.yc(n),c.dc(3).toggleFolderIsCollapsed(t)}))("keydown.Enter",(function(t){return c.yc(n),c.dc(3).toggleFolderIsCollapsed(t)})),c.Nb(2,"i",29),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.vc(16),r=c.dc().$implicit,a=c.dc();c.kc("clTooltip",o)("clTooltipDirection","left")("@rotateChevron",a.closedFolders.includes(i.id)?"right":"down"),c.Bb("aria-label",a.closedFolders.includes(i.id)?r("openCollapsedFolder"):r("collapseFolder"))("data-folder-id",i.id)("data-folder-name",i.name)}}function em(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",30,11),c.Zb("click",(function(){return c.yc(n),c.dc(3).handleCloseClick()}))("keydown.Enter",(function(){return c.yc(n),c.dc(3).handleCloseClick()}))("keydown.Space",(function(){return c.yc(n),c.dc(3).handleCloseClick()})),c.Nb(2,"i",31),c.Ic(3),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc().$implicit;c.Bb("aria-label",o("deselectFolder"))("data-folder-id",i.id)("data-folder-name",i.name),c.Ab(3),c.Kc(" ",o("back")," ")}}function nm(t,e){if(1&t&&(c.Sb(0,"div",35),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=c.dc().$implicit;c.Ab(2),c.Jc(n.name)}}var im=function(){return{top:30}};function om(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"application",32,33),c.Zb("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).attemptOpen(t)}))("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).attemptOpen(t)}))("keydown.Space",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).attemptOpen(t)}))("contextmenu",(function(t){c.yc(n);var i=e.$implicit;return c.dc(3).openContextMenu(i,t)}))("dragstart",(function(t){c.yc(n);var i=e.$implicit,o=c.vc(2);return c.dc(3).handleDragStart(t,i,o)}))("dragend",(function(t){return c.yc(n),c.dc(3).handleDragEnd(t)})),c.Rb(),c.Gc(3,nm,3,1,"ng-template",null,34,c.Hc),c.Pb()}if(2&t){var i=e.$implicit,o=c.vc(4),r=c.dc().$implicit,a=c.dc(2);c.Ab(1),c.Eb("dynamic-app",a.isAccesibilityIconsActive)("newDynamic-app",!a.isAccesibilityIconsActive),c.lc("tabindex",a.closedFolders.includes(r.id)?"-1":" 0"),c.kc("isHidden",a.closedFolders.includes(r.id))("app",i)("clTooltip",a.isAccesibilityIconsActive&&(a.appsHelper.shouldShowTooltip(i)||"small"===a.iconSize)?o:void 0)("clTooltipContext",i)("clTooltipPositionOffset",c.mc(18,im))("clTooltipShow",!0)("menuOpen",a.contextMenuOpen)("showButton",!1)("showFlags",!1)("isDynamicTheme",(null==a.settings||null==a.settings.customUISettings?null:a.settings.customUISettings.theme)===a.Themes.Dynamic)("newDynamicTheme",!a.isAccesibilityIconsActive),c.Bb("aria-label",i.name)("aria-describedby",i.id+"_favorited "+i.id+"_autolaunch "+i.id+"_locked "+i.id+"_twofactor")}}function rm(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",36),c.Sb(2,"div",37),c.Sb(3,"div",38),c.Nb(4,"i",39),c.Sb(5,"p"),c.Ic(6," Add a new app from the library by clicking "),c.Sb(7,"a",40),c.Zb("click",(function(t){c.yc(n);var e=c.dc().$implicit;return c.dc(2).openAppLibrary(t,e)}))("keydown.Enter",(function(t){return c.yc(n),c.dc(3).openAppLibrary(t)})),c.Ic(8," here "),c.Rb(),c.Ic(9," or by dragging from folders below "),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.dc().$implicit;c.Ab(7),c.Bb("data-folder-id",i.id)}}function am(t,e){if(1&t&&(c.Sb(0,"div",35),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=c.dc().$implicit,i=c.dc().$implicit,o=c.dc();c.Ab(2),c.Kc(" ",o.closedFolders.includes(n.id)?i("openCollapsedFolder"):i("collapseFolder")," ")}}function sm(t,e){if(1&t&&(c.Sb(0,"div",35),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=c.dc(2).$implicit;c.Ab(2),c.Kc(" ",n("expandFolder")," ")}}function cm(t,e){1&t&&(c.Sb(0,"p"),c.Ic(1," Folder is locked so application cannot be added "),c.Rb())}function lm(t,e){1&t&&(c.Sb(0,"p"),c.Ic(1," Applications from a locked folder can't be moved from their folder "),c.Rb())}function pm(t,e){if(1&t&&(c.Sb(0,"div",35),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=c.dc(2).$implicit;c.Ab(2),c.Kc(" ",n("deselectFolder")," ")}}var dm=function(t){return{"expanded-header":t}},um=function(){return{border:0}};function gm(t,e){if(1&t){var n=c.Tb();c.Sb(0,"section",7,8),c.Zb("contextmenu",(function(t){c.yc(n);var i=e.$implicit;return c.dc(2).noAppContextOpen(t,i)}))("dragenter",(function(t){c.yc(n);var i=e.$implicit;return c.dc(2).handleDragEnter(t,i)}))("drop",(function(t){c.yc(n);var i=e.$implicit;return c.dc(2).handleAppDrop(t,i)}))("dragover",(function(t){c.yc(n);var i=e.$implicit;return c.dc(2).handleDragOver(t,i)})),c.Sb(2,"div",9),c.Sb(3,"div",10,11),c.Zb("click",(function(t){c.yc(n);var i=e.$implicit,o=c.dc(2);return(null==o.originalFolders[o.selectedFolderIndex]?null:o.originalFolders[o.selectedFolderIndex].id)!==i.id?o.toggleFolderIsCollapsed(t):null}))("keydown.Enter",(function(t){c.yc(n);var i=e.$implicit,o=c.dc(2);return(null==o.originalFolders[o.selectedFolderIndex]?null:o.originalFolders[o.selectedFolderIndex].id)!==i.id?o.toggleFolderIsCollapsed(t):null})),c.Sb(5,"p",12),c.Ic(6),c.Rb(),c.Rb(),c.Gc(7,Qf,3,5,"button",13),c.Gc(8,Xf,2,1,"span",14),c.Gc(9,tm,3,6,"button",15),c.Nb(10,"div",16),c.Gc(11,em,4,4,"button",17),c.Rb(),c.Sb(12,"div",18),c.Gc(13,om,5,19,"ng-container",19),c.Rb(),c.Gc(14,rm,10,1,"ng-container",14),c.Gc(15,am,3,1,"ng-template",null,20,c.Hc),c.Gc(17,sm,3,1,"ng-template",null,21,c.Hc),c.Sb(19,"div",22),c.Nb(20,"i",23),c.Gc(21,cm,2,0,"p",14),c.Gc(22,lm,2,0,"p",14),c.Rb(),c.Gc(23,pm,3,1,"ng-template",null,24,c.Hc),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(2);c.Ec("--folder-color",o.getFolderColor(i))("--folder-hover-bg",o.getFolderHoverBackground(i)),c.Eb("collapsed",null===o.selectedFolderIndex&&o.closedFolders.includes(i.id)&&!o.selectedFolderIndex&&(null==o.originalFolders[o.selectedFolderIndex]?null:o.originalFolders[o.selectedFolderIndex].id)!==i.id)("locked",(null==o.dragOverFolder?null:o.dragOverFolder.id)===i.id&&(o.isDraggingFromLockedFolder&&(null==o.dragSourceFolder?null:o.dragSourceFolder.id)!==(null==o.dragOverFolder?null:o.dragOverFolder.id)||!o.isDraggingFromLockedFolder&&(null==i?null:i.is_appfolder)))("full-screen",o.originalFolders[o.selectedFolderIndex]&&o.originalFolders[o.selectedFolderIndex].id===i.id)("new-folder",i.is_editing&&0===i.apps.length&&!o.selectedFolderIndex)("selected",i.is_editing&&0===i.apps.length)("hover-effect",i.is_editing&&0===i.apps.length||!i.is_appfolder&&(null==o.dragOverFolder?null:o.dragOverFolder.id)===i.id),c.lc("id",i.id+"_"+i.name),c.Bb("data-id",i.id),c.Ab(2),c.kc("ngClass",c.nc(42,dm,(null==o.originalFolders[o.selectedFolderIndex]?null:o.originalFolders[o.selectedFolderIndex].id)===i.id)),c.Ab(1),c.Bb("aria-label",i.name)("data-folder-id",i.id)("data-folder-name",i.name),c.Ab(2),c.kc("ngClass",c.nc(44,dm,(null==o.originalFolders[o.selectedFolderIndex]?null:o.originalFolders[o.selectedFolderIndex].id)===i.id)),c.Ab(1),c.Kc(" ",i.name," "),c.Ab(1),c.kc("ngIf",!i.is_appfolder),c.Ab(1),c.kc("ngIf",i.is_appfolder),c.Ab(1),c.kc("ngIf",null===o.selectedFolderIndex),c.Ab(1),c.kc("ngStyle",c.mc(46,um))("@fadeInOut","in"),c.Ab(1),c.kc("ngIf",o.originalFolders[o.selectedFolderIndex]),c.Ab(1),c.Cb("apps-container "+o.iconSize),c.Eb("empty",!i.apps.length)("new-grid",!o.isAccesibilityIconsActive),c.kc("clGrid",i.apps.length>0),c.Ab(1),c.kc("ngForOf",i.apps)("ngForTrackBy",o.appsHelper.dynamicTrackByFn),c.Ab(1),c.kc("ngIf",i.is_editing&&0===i.apps.length&&null===o.selectedFolderIndex&&!o.closedFolders.includes(i.id)),c.Ab(7),c.kc("ngIf",!o.isDraggingFromLockedFolder),c.Ab(1),c.kc("ngIf",o.isDraggingFromLockedFolder)}}function hm(t,e){if(1&t&&(c.Sb(0,"div",35),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=c.dc().$implicit;c.Ab(2),c.Jc(n("openAppLibrary"))}}function bm(t,e){if(1&t&&(c.Sb(0,"div",35),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=c.dc().$implicit;c.Ab(2),c.Jc(n("openAppFilter"))}}function fm(t,e){if(1&t&&(c.Sb(0,"div",35),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=c.dc().$implicit;c.Ab(2),c.Jc(n("pinFolder"))}}function mm(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",1,2),c.Zb("dragleave",(function(t){return c.yc(n),c.dc().handleDragLeave(t)})),c.Gc(2,gm,25,47,"section",3),c.Gc(3,hm,3,1,"ng-template",null,4,c.Hc),c.Gc(5,bm,3,1,"ng-template",null,5,c.Hc),c.Gc(7,fm,3,1,"ng-template",null,6,c.Hc),c.Rb()}if(2&t){var i=c.dc();c.Ab(2),c.kc("ngForOf",i.folders)("ngForTrackBy",i.appsHelper.dynamicTrackByFn)}}var vm=function(){function t(t,e,n,i,o,r,a,s,c,l,p,d,u,g){var h=this;this.eleRef=t,this.formPostAppHelper=e,this.menuHelper=n,this.contextMenuHelper=i,this.slideoverService=o,this.tagsHelper=r,this.appsHelper=a,this.favoritesHelper=s,this.sessionService=c,this.appLibHelper=l,this.utilsService=p,this.zone=d,this.changeDetectorRef=u,this.dynamicAppsDragHelperService=g,this.isAccesibilityIconsActive=!1,this.selectedFolderIndex=null,this.originalFolders=[],this.folders=[],this.pinnedFolders=[],this.closedFolders=[],this.contextMenuOpen=!1,this.subscriptions=[],this.alreadyScrolledTop=!0,this.newFolderJustCreated=!1,this.dragOverFolder=void 0,this.lastHighlightedElement=null,this.Themes=Ee.a,this.subscriptions[0]=this.sessionService.settingsUpdated.subscribe((function(t){h.onSettingsUpdate(t)})),this.subscriptions[1]=this.appsHelper.filterUpdate.pipe(Object(te.a)(200)).subscribe((function(t){return h.onFilterUpdate(t.trim(),h.tagFilter)})),this.subscriptions[2]=r.tagFilterUpdated.subscribe((function(t){return h.onFilterUpdate(h.appFilter,t)})),this.subscriptions[3]=this.appsHelper.appsUpdated.subscribe((function(t){var e=t.apps,n=t.reload;h.zone.run((function(){h.apps=e,h.newFolderJustCreated||h.generateFolders(e,n)}))})),this.subscriptions[4]=this.appsHelper.selectedFolderChanged.subscribe((function(t){if(h.originalFolders.length>1&&h.originalFolders[1]&&"all_apps_folder"===h.originalFolders[1]._id){h.originalFolders[0].is_editing=!1;var e=h.originalFolders.splice(1,1);h.originalFolders.push(e[0])}if(null===t)h.folders=Object(le.e)(h.originalFolders),h.selectedFolderIndex=null;else{var n=h.originalFolders.findIndex((function(e){return e.id===t.id}));n>=0?(h.folders=[h.originalFolders[n]],h.selectedFolderIndex=n):(h.folders=Object(le.e)(h.originalFolders),h.selectedFolderIndex=null)}(h.appFilter&&""!==h.appFilter||h.tagFilter)&&h.onFilterUpdate(h.appFilter,h.tagFilter)})),this.subscriptions[5]=i.changeMenuOptions.subscribe((function(t){return h.contextMenuOpen=t.visible})),this.subscriptions[6]=this.appsHelper.newFolderCreated.subscribe((function(t){h.newFolderJustCreated=!0,h.originalFolders.length>0&&h.originalFolders[0].is_editing&&(h.originalFolders[0].is_editing=!1);var e,n=h.originalFolders.findIndex((function(t){return"all_apps_folder"===t._id}));n>=0&&(e=h.originalFolders.splice(n,1)[0]),h.originalFolders.unshift(t),h.originalFolders.splice(1,0,e||(e={_id:"all_apps_folder",id:0,appfolder_id:0,name:"All Apps",is_folder:!0,is_appfolder:!1,color:h.settings.customUISettings.paletteColor,apps:[],order:null,encid:null})),h.folders=Object(le.e)(h.originalFolders),null!==h.selectedFolderIndex&&h.appsHelper.selectedFolderChanged.next(null),h.scrollToNewFolder(),h.newFolderJustCreated=!1})),this.subscriptions[7]=this.appsHelper.folderRemoved.subscribe((function(t){var e,n;if(t){var i=h.originalFolders.findIndex((function(e){return e.id===t.id}));if(i>=0){var o=h.originalFolders.splice(i,1)[0],r=h.originalFolders.findIndex((function(t){return"all_apps_folder"===t._id}));if(r>=0)if(1===r&&h.originalFolders.length>2||0===r&&h.originalFolders.length>1){var a=h.originalFolders.splice(r,1)[0];(e=a.apps).push.apply(e,o.apps),h.originalFolders.push(a),h.originalFolders.length>0&&h.originalFolders[0].is_editing&&(h.originalFolders[0].is_editing=!1)}else(n=h.originalFolders[r].apps).push.apply(n,t.apps);h.folders=h.originalFolders}null!==h.selectedFolderIndex&&h.appsHelper.selectedFolderChanged.next(null)}})),this.subscriptions[8]=this.dynamicAppsDragHelperService.isDraggingFromLockedFolder().subscribe((function(t){h.isDraggingFromLockedFolder=t})),this.subscriptions[9]=this.dynamicAppsDragHelperService.sourceFolder().subscribe((function(t){h.dragSourceFolder=t}))}return t.prototype.ngAfterViewChecked=function(){!this.alreadyScrolledTop&&this.folders.length>0&&this.folders[0].is_editing&&this.folders[0].apps.length<=1&&this.scrollToNewFolder()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.dragTimer&&this.dragTimer.unsubscribe()},t.prototype.scrollToNewFolder=function(){var t=this;setTimeout((function(){window.scrollTo({top:0,behavior:"smooth"}),t.alreadyScrolledTop=!0}),100)},t.prototype.noAppContextOpen=function(t,e){t.preventDefault(),t.stopPropagation(),this.contextMenuOpen||this.menuHelper.closeAllMenus();var n={visible:!1,coordinates:{"top.px":t.clientY,"left.px":t.clientX},location:ce.App,app:Object(le.a)(Object(le.a)({},e),{is_appfolder:0===e.id||e.is_appfolder})};this.contextMenuHelper.changeMenuOptions.next(n),this.contextMenuHelper.changeMenuOptions.next(Object(le.a)(Object(le.a)({},n),{visible:!0}))},t.prototype.prepareStr=function(t){return t.toLowerCase().trim()},t.prototype.getPos=function(t){var e=t.currentTarget.closest(".dashboard-app").getBoundingClientRect();return{offsetTop:Math.round(e.y),offsetLeft:Math.round(e.x)}},t.prototype.onSettingsUpdate=function(t){this.settings=t,this.profiles=t.allowedProfiles,this.iconSize=t.customUISettings.iconSize},t.prototype.generateFolders=function(t,e){var n=this;if(!this.newFolderJustCreated){this.originalFolders=[];var i={_id:"all_apps_folder",id:0,appfolder_id:0,name:"All Apps",is_folder:!0,is_appfolder:!1,color:this.settings.customUISettings.paletteColor,apps:[],order:null,encid:null};t.forEach((function(t){if(n.appsHelper.isFolder(t)){var e=Object(le.a)({},t);n.originalFolders.push(e)}else i.apps.push(t)})),this.originalFolders.push(i),e&&(this.folders=Object(le.e)(this.originalFolders))}},t.prototype.onFilterUpdate=function(t,e){var n=this;if(this.appFilter=t,this.tagFilter=e,this.appFilter&&""!==this.appFilter||this.tagFilter){var i=this.appFilter?this.prepareStr(t):void 0,o=function(t){return n.tagFilter?i?e.apps.includes(t.id)&&(n.prepareStr(t.name).includes(i)||t.appdesc&&n.prepareStr(t.appdesc).includes(i)):e.apps.includes(t.id):i&&(n.prepareStr(t.name).includes(i)||t.appdesc&&n.prepareStr(t.appdesc).includes(i))},r=[],a=function(t){var e=Object(le.a)({},t);e.apps=ne()(e.apps,(function(t){return o(t)})),(e.apps.length>0||o(t)||null!==n.selectedFolderIndex&&n.originalFolders[n.selectedFolderIndex].id===t.id)&&r.push(e)};null!==this.selectedFolderIndex?this.folders.forEach((function(t){return a(t)})):this.originalFolders.forEach((function(t){return a(t)})),this.folders=r}else this.folders=null===this.selectedFolderIndex?this.originalFolders:this.originalFolders.filter((function(t){return t.id===n.originalFolders[n.selectedFolderIndex].id}))},t.prototype.attemptOpen=function(t,e){e&&(e.preventDefault(),e.stopPropagation()),this.contextMenuOpen||this.appsHelper.launchApp(t,null,this.formPostAppHelper.showLaunchDisabled(t))},t.prototype.openContextMenu=function(t,e){var n,i;if(e.preventDefault(),e.stopPropagation(),this.utilsService.storeElement(),"contextmenu"===e.type||"click"===e.type)i=e.clientY,n=e.clientX;else{var o=this.getPos(e);i=o.offsetTop,n=o.offsetLeft}this.contextMenuOpen||this.menuHelper.closeAllMenus(),this.contextMenuHelper.changeMenuOptions.next({visible:!0,coordinates:{"top.px":i,"left.px":n},location:ce.App,app:t})},t.prototype.pinFolderInPlace=function(t){var e=parseInt(t.currentTarget.getAttribute("data-folder-id"),10);e&&(this.pinnedFolders.includes(e)?Ka.a.remove(this.pinnedFolders,(function(t){return t===e})):this.pinnedFolders.push(e))},t.prototype.openAppLibrary=function(t,e){this.slideoverService.appLibrary.opened.next(t),e.id?this.appsHelper.addAppsToFolder.next(e.id):this.appLibHelper.isAllAppsSelected.next(!0)},t.prototype.openAppFilter=function(t){},t.prototype.toggleFolderIsCollapsed=function(t){var e=parseInt(t.currentTarget.getAttribute("data-folder-id"),10);if(void 0!==e&&!Number.isNaN(e)){var n=this.closedFolders.indexOf(e);n>-1?this.closedFolders.splice(n,1):(this.closedFolders.push(e),t.currentTarget.blur())}},t.prototype.handleCloseClick=function(){this.appsHelper.selectedFolderChanged.next(null)},t.prototype.handleFolderClick=function(t){this.appsHelper.selectedFolderChanged.next(this.selectedFolderIndex&&this.originalFolders[this.selectedFolderIndex].id===t.id?null:t)},t.prototype.handleAppDrop=function(t,e){var n=this;this.dragOverFolder=void 0,e||(e=this.originalFolders.find((function(t){return"all_apps_folder"===t._id}))),this.dynamicAppsDragHelperService.handleAppDrop(t,e),setTimeout((function(){n.resetElementPosition(n.lastHighlightedElement),n.lastHighlightedElement=void 0,n.changeDetectorRef.detectChanges()}),200)},t.prototype.handleDragEnter=function(t,e){var n;(null===(n=this.dragOverFolder)||void 0===n?void 0:n.id)!==e.id&&(this.dragOverFolder=e,this.changeDetectorRef.detectChanges())},t.prototype.handleDragLeave=function(t){var e;this.isInAppContainer(null===(e=t.relatedTarget)||void 0===e?void 0:e.classList)||(this.dragOverFolder=void 0)},t.prototype.isInAppContainer=function(t){return!!t&&["cl-clip-img-ctnr","add-app-btn","flags-ctnr","newInfoTooltip","folder-container"].some((function(e){return t.contains(e)}))},t.prototype.handleDragStart=function(t,e,n){this.dynamicAppsDragHelperService.setIsDragging(e),this.draggedAppElement=n},t.prototype.handleDragOver=function(t,e){var n;t.preventDefault();var i=this.dynamicAppsDragHelperService.getClosestAppElement(t.clientX,t.clientY);this.lastHighlightedElement&&this.lastHighlightedElement!==i&&this.resetElementPosition(this.lastHighlightedElement),this.isDraggingFromLockedFolder&&(null===(n=this.dragSourceFolder)||void 0===n?void 0:n.id)!==e.id||!this.isDraggingFromLockedFolder&&(null==e?void 0:e.is_appfolder)||i&&(this.adjustElementPosition(i,t.clientX),this.lastHighlightedElement=i)},t.prototype.adjustElementPosition=function(t,e){var n=t.getBoundingClientRect();e<n.left+n.width/2?(this.movePreviousElementLeft(t),this.moveCurrentElementRight(t)):(this.moveNextElementRight(t),this.moveCurrentElementLeft(t))},t.prototype.movePreviousElementLeft=function(t){var e=t.previousElementSibling;e&&(e.style.transform="translateX(-20px)")},t.prototype.moveCurrentElementRight=function(t){t.style.transform="translateX(20px)"},t.prototype.moveNextElementRight=function(t){var e=t.nextElementSibling;e&&(e.style.transform="translateX(20px)")},t.prototype.moveCurrentElementLeft=function(t){t.style.transform="translateX(-20px)"},t.prototype.resetElementPosition=function(t){var e;if(t){var n=t.parentElement;(null==n?void 0:n.children)&&(null!==(e=Array.from(n.children))&&void 0!==e?e:[]).forEach((function(t){(null==t?void 0:t.style)&&(t.style.transition="transform 0.3s ease",t.style.transform="")}))}},t.prototype.handleDragEnd=function(t){var e,n,i,o;this.dynamicAppsDragHelperService.setIsDragging(void 0),null===(o=null===(i=null===(n=null===(e=this.draggedAppElement)||void 0===e?void 0:e.application)||void 0===n?void 0:n.nativeElement)||void 0===i?void 0:i.parentElement)||void 0===o||o.blur(),this.draggedAppElement=void 0},t.prototype.getFolderColor=function(t){return t.color||this.settings.customUISettings.paletteColor},t.prototype.getFolderHoverBackground=function(t){var e=this.getFolderColor(t);return this.adjustColorOpacity(e,.1)},t.prototype.adjustColorOpacity=function(t,e){var n,i,o,r;if(t.startsWith("#")){var a=t.replace("#","");i=parseInt(a.substr(0,2),16),o=parseInt(a.substr(2,2),16),r=parseInt(a.substr(4,2),16)}else{if(!t.startsWith("rgb"))return console.warn("Unsupported color format:",t),"rgba(0, 0, 0, "+e+")";i=(n=t.match(/\d+/g).map(Number))[0],o=n[1],r=n[2]}return"rgba("+i+", "+o+", "+r+", "+e+")"},t.\u0275fac=function(e){return new(e||t)(c.Mb(c.l),c.Mb(Ue),c.Mb(Ze),c.Mb(Ve),c.Mb(xe.a),c.Mb(se.a),c.Mb(Xt.a),c.Mb(pe.a),c.Mb(ae.a),c.Mb(we.a),c.Mb($e.a),c.Mb(c.z),c.Mb(c.h),c.Mb(on))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-dynamic-apps-container"]],inputs:{isAccesibilityIconsActive:["highAccessibleIcons","isAccesibilityIconsActive"]},decls:1,vars:1,consts:[["class","folders-container",3,"dragleave",4,"transloco","translocoRead"],[1,"folders-container",3,"dragleave"],["folderContainer",""],["class","folder-container","ondragover","event.preventDefault()",3,"id","--folder-color","--folder-hover-bg","collapsed","locked","full-screen","new-folder","selected","hover-effect","contextmenu","dragenter","drop","dragover",4,"ngFor","ngForOf","ngForTrackBy"],["libTpl",""],["filterTpl",""],["pinTpl",""],["ondragover","event.preventDefault()",1,"folder-container",3,"id","contextmenu","dragenter","drop","dragover"],["dropZone",""],[1,"folder-header",3,"ngClass"],[1,"name","cl-focusable",3,"click","keydown.Enter"],["focusable",""],[3,"ngClass"],["class","cl-focusable add-app-btn",3,"clTooltip","clTooltipDirection","click","keydown.Enter",4,"ngIf"],[4,"ngIf"],["class","cl-focusable collapse-folder-btn",3,"clTooltip","clTooltipDirection","click","keydown.Enter",4,"ngIf"],[1,"horizontal-rule",3,"ngStyle"],["class","cl-focusable",3,"click","keydown.Enter","keydown.Space",4,"ngIf"],["tabindex","0","clKeyboardNav","",3,"clGrid"],[4,"ngFor","ngForOf","ngForTrackBy"],["collapseTpl",""],["expandTpl",""],[1,"locked-alert"],[1,"far","fa-folder-minus"],["deselectTpl",""],[1,"cl-focusable","add-app-btn",3,"clTooltip","clTooltipDirection","click","keydown.Enter"],[1,"far","fa-plus-circle"],[1,"far","fa-lock","folder-lock-icon"],[1,"cl-focusable","collapse-folder-btn",3,"clTooltip","clTooltipDirection","click","keydown.Enter"],[1,"far","fa-chevron-down"],[1,"cl-focusable",3,"click","keydown.Enter","keydown.Space"],[1,"far","fa-undo"],["clLastFocused","","clItem","","role","link",1,"cl-focusable","cl-app","dashboard-app",3,"tabindex","isHidden","app","clTooltip","clTooltipContext","clTooltipPositionOffset","clTooltipShow","menuOpen","showButton","showFlags","isDynamicTheme","newDynamicTheme","click","keydown.Enter","keydown.Space","contextmenu","dragstart","dragend"],["application",""],["tooltipRef",""],[1,"cl-tooltip"],[1,"empty-folder-message"],[1,"dnd-message"],[1,"row"],[1,"fa-regular","fa-grid-2-plus"],[1,"cl-focusable",3,"click","keydown.Enter"]],template:function(t,e){1&t&&c.Gc(0,mm,9,2,"div",0),2&t&&c.kc("translocoRead","apps")},directives:[Te.c,i.k,i.j,i.l,i.m,We.E,We.Y,Rn,We.F,We.J],styles:['@keyframes collapse{0%{opacity:1;transform:scaleY(1);transform-origin:top}50%{opacity:0;transform:scaleY(.5);transform-origin:top}75%{opacity:0;transform:scaleY(0);transform-origin:top}to{opacity:0;transform:scaleY(0);transform-origin:top;height:0}}@keyframes openFolder{0%{opacity:0;transform:scaleY(0);transform-origin:top;height:auto}50%{opacity:.25;transform:scaleY(1);transform-origin:top;height:100%}75%{opacity:.5;transform:scaleY(1);transform-origin:top;height:-moz-fit-content;height:fit-content}to{opacity:1;transform:scaleY(1);transform-origin:top;height:-moz-fit-content;height:fit-content}}[_nghost-%COMP%]   .folders-container[_ngcontent-%COMP%]{height:100%;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch;-ms-flex-pack:start;padding:30px;-ms-flex:0 0 calc(100% - 110px);flex:0 0 calc(100% - 110px);overflow-y:auto;scrollbar-width:thin;gap:10px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .folders-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;justify-content:flex-start;position:relative}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:start;padding:20px;transition:background .3s ease,box-shadow .3s ease,border-color .3s ease;border-radius:16px;border:2px solid var(--folder-color,var(--color-primary))}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:start;justify-content:flex-start;gap:0;width:100%;-ms-flex-positive:1;flex-grow:1;padding:0;height:auto;z-index:2;position:relative}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]   .name.cl-focusable[_ngcontent-%COMP%]{max-width:90%}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;font-family:Open Sans;font-size:1rem;font-style:normal;font-weight:600;line-height:normal;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;margin-right:6px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]   .horizontal-rule[_ngcontent-%COMP%]{border-radius:0;border:none;border-bottom:1px solid rgba(0,0,0,.2);height:0;box-sizing:border-box;-ms-flex-positive:1;flex-grow:1;margin:0 5px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]   button.pin[_ngcontent-%COMP%]{padding-top:1.5px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]   button.filter-apps-btn[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:end;align-items:flex-end}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]   button.filter-apps-btn[_ngcontent-%COMP%]   .fa-caret-down[_ngcontent-%COMP%]{margin-bottom:-2px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{width:calc(100% + 4px);height:calc(100% + 8px);top:-4.5px;left:-2px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]   .folder-lock-icon[_ngcontent-%COMP%]{margin-left:6px;margin-right:6px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]   .far.fa-chevron-up[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]   .cl-focusable.collapse-folder-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:5px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]   .collapsed[_ngcontent-%COMP%]   .empty-folder-message[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .expanded-header[_ngcontent-%COMP%]{background-color:rgba(0,0,0,0)}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   div.name.cl-focusable[_ngcontent-%COMP%]   p.expanded-header[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 18px);color:var(--color-primary)}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:repeat(auto-fit,minmax(170px,200px));grid-template-rows:repeat(auto-fit,60px);padding:1em 0 0;gap:28px;animation:openFolder .1s ease-in-out 1 forwards;z-index:3}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.small[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(140px,160px));grid-template-rows:repeat(auto-fit,48px)}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.small[_ngcontent-%COMP%]   .dynamic-app[_ngcontent-%COMP%]{height:48px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.small[_ngcontent-%COMP%]   .dynamic-app[_ngcontent-%COMP%]  .cl-clip-img-ctnr{width:47px;height:46px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.small[_ngcontent-%COMP%]   .dynamic-app[_ngcontent-%COMP%]  .cl-clip-img-ctnr .img-border{border-radius:9px;border:none}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.small[_ngcontent-%COMP%]   .dynamic-app[_ngcontent-%COMP%]  .cl-clip-img-ctnr .img-border img{width:44px!important;height:44px!important}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.small[_ngcontent-%COMP%]   .dynamic-app[_ngcontent-%COMP%]  .name p{text-wrap:nowrap}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.large[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(250px,275px));grid-template-rows:repeat(auto-fit,78px)}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.large[_ngcontent-%COMP%]   .dynamic-app[_ngcontent-%COMP%]{height:78px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.large[_ngcontent-%COMP%]   .dynamic-app[_ngcontent-%COMP%]  .cl-clip-img-ctnr{width:76px;height:76px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.large[_ngcontent-%COMP%]   .dynamic-app[_ngcontent-%COMP%]  .cl-clip-img-ctnr .img-border{border-radius:9px;border:none}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.large[_ngcontent-%COMP%]   .dynamic-app[_ngcontent-%COMP%]  .cl-clip-img-ctnr .img-border img{width:74px!important;height:74px!important}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.large[_ngcontent-%COMP%]   .dynamic-app[_ngcontent-%COMP%]  .name .name-n-btn-ctnr button.dots-btn{font-size:18px;line-height:18px;padding-top:3.5px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.new-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,62px);grid-template-rows:repeat(auto-fit,minmax(82px,calc(var(--font-modifier) * 16.5px + 88px)));gap:48px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.new-grid.small[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,50px);grid-template-rows:repeat(auto-fit,minmax(72px,calc(var(--font-modifier) * 16.5px + 78px)));gap:38px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.new-grid.small[_ngcontent-%COMP%]   .newDynamic-app[_ngcontent-%COMP%]{height:100%;width:50px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.new-grid.small[_ngcontent-%COMP%]   .newDynamic-app[_ngcontent-%COMP%]  .cl-clip-img-ctnr{width:46px;height:46px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.new-grid.small[_ngcontent-%COMP%]   .newDynamic-app[_ngcontent-%COMP%]  .cl-clip-img-ctnr .img-border{border-radius:9px;border:none;width:50px;height:50px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.new-grid.small[_ngcontent-%COMP%]   .newDynamic-app[_ngcontent-%COMP%]  .cl-clip-img-ctnr .img-border img{width:46px;height:46px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.new-grid.small[_ngcontent-%COMP%]   .newDynamic-app[_ngcontent-%COMP%]  .name{height:100%;min-height:calc(13.5px);max-height:calc(2 * 13.5px + 4px)}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.new-grid.small[_ngcontent-%COMP%]   .newDynamic-app[_ngcontent-%COMP%]  .name .name-n-btn-ctnr{height:100%;min-height:13.5px;max-height:calc(2 * 13.5px + 4px)}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.new-grid.small[_ngcontent-%COMP%]   .newDynamic-app[_ngcontent-%COMP%]  .name .name-n-btn-ctnr p{max-height:calc(2 * 13.5px);line-height:13.5px;font-size:11px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.new-grid.small[_ngcontent-%COMP%]   .newDynamic-app[_ngcontent-%COMP%]  .newInfoTooltip button p, [_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.new-grid.small[_ngcontent-%COMP%]   .newDynamic-app[_ngcontent-%COMP%]  .newInfoTooltip p{font-size:11px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.new-grid.small[_ngcontent-%COMP%]   .newDynamic-app[_ngcontent-%COMP%]  .newInfoTooltip .flags-ctnr{min-height:10px;max-height:10px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.new-grid.small[_ngcontent-%COMP%]   .newDynamic-app[_ngcontent-%COMP%]  .newInfoTooltip .flags-ctnr span, [_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.new-grid.small[_ngcontent-%COMP%]   .newDynamic-app[_ngcontent-%COMP%]  .newInfoTooltip .flags-ctnr span svg{width:10px;height:10px;font-size:10px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.new-grid.large[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,120px);grid-template-rows:repeat(auto-fit,141px)}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .apps-container.empty[_ngcontent-%COMP%]{min-height:60px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .empty-folder-message[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;transition:opacity .3s ease-in-out}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .empty-folder-message[_ngcontent-%COMP%]   .dnd-message[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:0;display:grid;place-items:center;z-index:4}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .empty-folder-message[_ngcontent-%COMP%]   .dnd-message[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;font-family:Open Sans,Arial,sans-serif;color:#008ad7;font-weight:400;font-size:calc(var(--font-modifier) * 22px);gap:.75em;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;padding-bottom:20px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .empty-folder-message[_ngcontent-%COMP%]   .dnd-message[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;font-size:calc(var(--font-modifier) * 22px);line-height:calc(var(--font-modifier) * 30px)}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .empty-folder-message[_ngcontent-%COMP%]   .dnd-message[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#008ad7;font-weight:700;cursor:pointer;z-index:1000;position:relative}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]:last-child{margin-bottom:85px}[_nghost-%COMP%]   .folder-container.collapsed[_ngcontent-%COMP%]   .apps-container[_ngcontent-%COMP%]{animation:collapse .1s ease-in-out 1 forwards}[_nghost-%COMP%]   .folder-container.collapsed.target-folder[_ngcontent-%COMP%]{padding-bottom:80px}[_nghost-%COMP%]   .folder-container.collapsed[_ngcontent-%COMP%]   .apps-container.empty[_ngcontent-%COMP%]{min-height:0}[_nghost-%COMP%]   .folder-container.locked[_ngcontent-%COMP%]{transition:background .3s ease,box-shadow .3s ease,padding .3s ease,border-color .3s ease}[_nghost-%COMP%]   .folder-container.locked[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]   .horizontal-rule[_ngcontent-%COMP%]{margin:0 5px 0 11px}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .locked-alert[_ngcontent-%COMP%]{background-color:var(--color-primary);display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;gap:.5em;height:auto;width:100%;padding:.6em 0;position:absolute;bottom:0;left:0;border:none;border-bottom:2px solid var(--color-primary);border-radius:0;border-bottom-left-radius:16px;border-bottom-right-radius:16px;z-index:110;transition:opacity .3s ease,visibility .3s ease;opacity:0;visibility:hidden}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .locked-alert[_ngcontent-%COMP%], [_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .locked-alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-white);font-size:calc(var(--font-modifier) * 14px);line-height:calc(var(--font-modifier) * 16px)}[_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]   .locked-alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Open Sans,Arial,sans-serif;font-weight:500}[_nghost-%COMP%]   .folder-container.locked[_ngcontent-%COMP%]{position:relative;background:hsla(0,0%,85.1%,.2);box-shadow:0 4px 11.9px 4px rgba(0,0,0,.15);border-radius:16px;padding-bottom:25px;transition:background .3s ease,box-shadow .3s ease,padding .3s ease}[_nghost-%COMP%]   .folder-container.locked[_ngcontent-%COMP%]   .locked-alert[_ngcontent-%COMP%]{opacity:1;visibility:visible}[_nghost-%COMP%]   .folder-container.locked[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;top:0;left:0;background:hsla(0,0%,100%,.2);backdrop-filter:blur(2px);-webkit-backdrop-filter:blur(2px);border-radius:16px;opacity:1;z-index:100;transition:opacity .3s ease}[_nghost-%COMP%]   .folder-container.full-screen[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .folder-container.full-screen[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]{-ms-flex-positive:inherit;flex-grow:inherit}[_nghost-%COMP%]   .folder-container.full-screen[_ngcontent-%COMP%]   .apps-container[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1}[_nghost-%COMP%]   .folder-container.hover-effect[_ngcontent-%COMP%]:not(.locked), [_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]:focus-within:not(.full-screen):not(.locked), [_nghost-%COMP%]   .folder-container[_ngcontent-%COMP%]:hover:not(.full-screen):not(.target-folder.locked){background-color:var(--folder-hover-bg,rgba(var(--folder-color-rgb,0,0,0),.1));box-shadow:0 4px 11.9px 4px rgba(0,0,0,.15);border-radius:1rem;border:2px solid var(--Color-Marketing-primaryBlue,#0a4d7f);padding-bottom:20px}[_nghost-%COMP%]   .folder-container.collapsed[_ngcontent-%COMP%]:focus-within, [_nghost-%COMP%]   .folder-container.collapsed[_ngcontent-%COMP%]:hover{background:none;box-shadow:none}[_nghost-%COMP%]   .folder-container.collapsed[_ngcontent-%COMP%]   .empty-folder-message[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   .dashboard-app[_ngcontent-%COMP%]{transition:transform .3s,opacity .3s;opacity:1}[_nghost-%COMP%]   .moving[_ngcontent-%COMP%]{opacity:.5}[_nghost-%COMP%]   .fade-in[_ngcontent-%COMP%]{animation:fadeIn .3s forwards}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}'],data:{animation:[Object(Ke.j)("fadeInOut",[Object(Ke.g)("in",Object(Ke.h)({opacity:1,display:"block"})),Object(Ke.g)("out",Object(Ke.h)({opacity:0,display:"none"})),Object(Ke.i)("in <=> out",Object(Ke.e)("300ms ease-in-out"))]),Object(Ke.j)("rotateChevron",[Object(Ke.g)("down",Object(Ke.h)({transform:"rotate(0deg)",opacity:1})),Object(Ke.g)("right",Object(Ke.h)({transform:"rotate(-90deg)",opacity:1})),Object(Ke.i)("right <=> down",Object(Ke.e)("300ms ease-in-out"))])]}}),t}(),ym=function(){function t(){this.isVisible$=new de.a(!1),this.isVisible=this.isVisible$.asObservable()}return t.prototype.open=function(){this.isVisible$.next(!0)},t.prototype.close=function(){this.isVisible$.next(!1)},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}();function Cm(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"button",1),c.Zb("click",(function(){return c.yc(n),c.dc().openDynamicWidgetLibrary()})),c.Nb(2,"i",2),c.Ic(3),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit;c.Ab(3),c.Kc(" ",i("addWidget")," ")}}var xm=function(){function t(t,e){var n=this;this.appsHelper=t,this.dynamicWidgetLibraryService=e,this.isVisible=!1,this.subscriptions=[],this.subscriptions[0]=t.toggleWidgetsDrawer.subscribe((function(t){n.isVisible=t}))}return t.prototype.ngOnInit=function(){},t.prototype.openDynamicWidgetLibrary=function(){this.dynamicWidgetLibraryService.open()},t.\u0275fac=function(e){return new(e||t)(c.Mb(Xt.a),c.Mb(ym))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-dynamic-widgets-drawer"]],hostVars:2,hostBindings:function(t,e){2&t&&c.Eb("visible",e.isVisible)},decls:1,vars:1,consts:[[4,"transloco","translocoRead"],[1,"add-widget-button",3,"click"],[1,"far","fa-plus"]],template:function(t,e){1&t&&c.Gc(0,Cm,4,1,"ng-container",0),2&t&&c.kc("translocoRead","widgetDrawer")},directives:[Te.c],styles:["[_nghost-%COMP%]{width:0;height:100%;display:grid;background-color:hsla(0,0%,85.1%,.12549019607843137);border:none;opacity:0;transition:all .1s ease-in-out;-ms-flex-negative:1;flex-shrink:1}.visible[_nghost-%COMP%]{width:374px;opacity:1;grid-template-columns:1fr}"]}),t}();function wm(t,e){1&t&&c.Nb(0,"span",11)}function Pm(t,e){1&t&&c.Nb(0,"span",11)}function Om(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",3),c.Sb(2,"h2",4),c.Ic(3),c.Rb(),c.Sb(4,"div",5),c.Sb(5,"ul",6),c.Sb(6,"li",7),c.Zb("click",(function(){return c.yc(n),c.dc(2).setActiveTab("all")})),c.Sb(7,"span",8),c.Ic(8),c.Gc(9,wm,1,0,"span",9),c.Rb(),c.Rb(),c.Sb(10,"li",7),c.Zb("click",(function(){return c.yc(n),c.dc(2).setActiveTab("my")})),c.Sb(11,"span",8),c.Ic(12),c.Gc(13,Pm,1,0,"span",9),c.Rb(),c.Rb(),c.Rb(),c.Nb(14,"hr"),c.Rb(),c.Sb(15,"div",10),c.Sb(16,"p"),c.Ic(17),c.Rb(),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(3),c.Jc(i("widgetLibrary")),c.Ab(3),c.Eb("active","all"===o.activeTab),c.Ab(2),c.Kc(" ",i("allWidgets")," "),c.Ab(1),c.kc("ngIf","all"===o.activeTab),c.Ab(1),c.Eb("active","my"===o.activeTab),c.Ab(2),c.Kc(" ",i("myWidgets")," "),c.Ab(1),c.kc("ngIf","my"===o.activeTab),c.Ab(4),c.Jc(i("noContent"))}}function Mm(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"cl-slideover",1),c.Zb("visibleChange",(function(t){return c.yc(n),c.dc().onVisibleChange(t)})),c.Gc(2,Om,18,10,"ng-container",2),c.Rb(),c.Pb()}if(2&t){var i=c.dc();c.Ab(1),c.kc("visible",i.isVisible)("width",i.slideoverWidth),c.Ab(1),c.kc("ngIf",i.isVisible)}}var _m=function(){function t(t,e){this.widgetLibraryService=t,this.layoutService=e,this.isVisible=!1,this.activeTab="all",this.slideoverWidth="50%",this.subscriptions=[]}return t.prototype.ngOnInit=function(){var t=this;this.subscriptions.push(this.widgetLibraryService.isVisible.subscribe((function(e){t.isVisible=e}))),this.subscriptions.push(this.layoutService.windowResized.subscribe((function(){t.updateSlideoverWidth()}))),this.updateSlideoverWidth()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.setActiveTab=function(t){this.activeTab=t},t.prototype.onVisibleChange=function(t){t||this.widgetLibraryService.close()},t.prototype.updateSlideoverWidth=function(){var t=window.innerWidth;this.slideoverWidth=t<600?"100%":t<900?"75%":t<1500?"65%":"50%"},t.\u0275fac=function(e){return new(e||t)(c.Mb(ym),c.Mb(We.G))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-dynamic-widget-library"]],decls:1,vars:1,consts:[[4,"transloco","translocoRead"],[3,"visible","width","visibleChange"],[4,"ngIf"],[1,"dynamic-widget-library-content"],[1,"dynamic-widget-library-header"],[1,"tabs-container"],[1,"tabs"],[3,"click"],[1,"tab-text"],["class","tab-indicator",4,"ngIf"],[1,"tab-content"],[1,"tab-indicator"]],template:function(t,e){1&t&&c.Gc(0,Mm,3,3,"ng-container",0),2&t&&c.kc("translocoRead","widgetLibrary")},directives:[Te.c,We.S,i.l],styles:['.dynamic-widget-library-content[_ngcontent-%COMP%]{padding:42px}.dynamic-widget-library-content[_ngcontent-%COMP%]   .dynamic-widget-library-header[_ngcontent-%COMP%]{font-family:Open Sans,Arial,sans-serif;font-weight:800;font-size:calc(var(--font-modifier) * 18px)}.tabs-container[_ngcontent-%COMP%]{margin:0 -42px;padding:0 20px;position:relative}.tabs[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;gap:40px;list-style:none;padding:0 20px;margin-bottom:0}.tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 0;cursor:pointer;font-family:Open Sans,sans-serif;font-size:13px;font-weight:700;color:var(--color-light);position:relative}.tabs[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{color:var(--color-dark)}.tabs[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:50%;-ms-transform:translateX(-50%);transform:translateX(-50%);width:100%;height:4px;background-color:var(--color-dark);border-radius:2px;z-index:1;padding:0}.tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child.active:after{width:17px}hr[_ngcontent-%COMP%]{margin:0 -20px;border:none;height:1px;background-color:var(--color-border,#e0e0e0)}.tab-content[_ngcontent-%COMP%]{margin-top:20px}']}),t}(),km=n("BgKl"),Sm=function(t){function e(e,n,i,o,r,a,s,c,l,p,d){var u=t.call(this,e,n,i,o,r,a,s,c)||this;return u.favoritesHelper=p,u.favoritesService=d,u.currentPage=0,u.scrollX.enabled=!0,u.scrollY.enabled=!1,u.CONTAINER_PROPS={rect:{top:0,left:0,bottom:0,right:0},totalWidth:window.innerWidth},u.APP_PROPS={width:80,height:80,marginY:0,marginX:0},u.thresholds=[50,50],u.subscriptions[1]=o.windowResized.subscribe((function(){u.setBoundaries()})),u.subscriptions[2]=p.favoritesPaged.subscribe((function(t){return u.currentPage=t})),u}return Object(le.c)(e,t),e.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},e.prototype.setDragInformation=function(t,e){this.favorites=t,this.pages=e,this.dragSource&&this.dragSource.ele||(this.originPage=this.currentPage)},e.prototype.setElements=function(e){t.prototype.setElements.call(this,e),this.setBoundaries()},e.prototype.setWatch=function(){this.watchEvents=this.isDragging},e.prototype.setBoundaries=function(){var t=this;this.containerElement&&this.targets&&this.targets[0]&&Object(T.a)(0).subscribe((function(){var e=t.targets[0].element.getBoundingClientRect(),n=t.targets.slice(-1)[0].element.getBoundingClientRect();t.CONTAINER_PROPS.totalWidth=n.right-e.left,t.CONTAINER_PROPS.rect.top=e.top,t.CONTAINER_PROPS.rect.bottom=e.bottom,t.CONTAINER_PROPS.rect.left=e.left,t.CONTAINER_PROPS.rect.right=n.right}))},e.prototype.getTargetIndex=function(t,e){return this.containerElement?this.getColumn(t):(console.warn("No container found for drag-and-drop"),-1)},e.prototype.getPercentOffset=function(t){var e=this.getItemFullWidth(),n=this.getColumn(t);return(t-this.CONTAINER_PROPS.rect.left-e*n)/e*100},e.prototype.isOutOfBounds=function(t,e){return t<this.CONTAINER_PROPS.rect.left||e<this.CONTAINER_PROPS.rect.top||t>this.CONTAINER_PROPS.rect.right||e>this.CONTAINER_PROPS.rect.bottom},e.prototype.createFolder=function(){},e.prototype.addToFolder=function(){},e.prototype.checkScrollX=function(t,e){var n=this.currentPage;t&&e>=window.innerWidth-80&&this.currentPage<this.pages.length-1?n=this.currentPage+1:!t&&e<=80&&this.currentPage>0&&(n=this.currentPage-1),n!==this.currentPage&&(this.currentPage=n,this.favoritesHelper.favoritesPaged.next(n))},e.prototype.reorderApi=function(t,e){for(var n=this,i=0,o=0,r=0;r<this.originPage;r++)i+=this.pages[r].length;for(r=0;r<this.currentPage;r++)o+=this.pages[r].length;o+=e,this.favorites.splice(i+=t,1),this.favorites.splice(o,0,this.dragSource.app);var a=this.favorites.map((function(t){return t.id}));this.favoritesService.setFavorites(a).subscribe((function(t){n.favoritesHelper.favoritesUpdated.next(n.favorites)}))},e.prototype.convertIndexToCoordinates=function(t){var e=Math.floor(t%10),n=this.getItemFullWidth();return{x:this.CONTAINER_PROPS.rect.left+e*n,y:this.CONTAINER_PROPS.rect.top}},e.prototype.getInverseTranslation=function(t,e,n){var i=e?t:t+1,o=e?t+1:t;i=n?i-1:i,o=n?o-1:o;var r=Math.floor(i/10),a=i%10,s=Math.floor(o/10);return"translate3d("+(a-o%10)*(this.APP_PROPS.width+2*this.APP_PROPS.marginX)+"px, "+(r-s)*(this.APP_PROPS.height+2*this.APP_PROPS.marginY)+"px, 0)"},e.\u0275fac=function(t){return new(t||e)(c.Wb(Xt.a),c.Wb(re.a),c.Wb(Qt.a),c.Wb(We.G),c.Wb(c.z),c.Wb(ae.a),c.Wb(Be.a),c.Wb(c.F),c.Wb(je.a),c.Wb(pe.a),c.Wb(km.a))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(Je),Am=function(t){return{name:t}};function Im(t,e){if(1&t){var n=c.Tb();c.Sb(0,"img",5),c.Zb("error",(function(t){return c.yc(n),c.dc(2).handleImage(t)})),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.kc("src",o.useHighRes?o.favorite.app.icon2x:o.favorite.app.icon,c.Ac)("alt",i("altText",c.nc(2,Am,o.favorite.app.name)))}}function Rm(t,e){if(1&t&&c.Nb(0,"i"),2&t){var n=c.dc(3);c.Cb(n.dropdownItem.icon)}}function Tm(t,e){if(1&t&&c.Nb(0,"cl-custom-icon",10),2&t){var n=c.dc(3);c.lc("name",n.dropdownItem.icon)}}function Fm(t,e){if(1&t&&c.Nb(0,"img",11),2&t){var n=c.dc(2).$implicit,i=c.dc();c.kc("src",i.dropdownItem.customIcon+"_white.svg",c.Ac)("alt",n("altText",c.nc(2,Am,i.dropdownItem.title)))}}var Em=function(t){return{"background-color":t}};function Dm(t,e){if(1&t&&(c.Sb(0,"div",6),c.Gc(1,Rm,1,2,"i",7),c.Gc(2,Tm,1,1,"cl-custom-icon",8),c.Gc(3,Fm,1,4,"img",9),c.Rb()),2&t){var n=c.dc(2);c.kc("ngStyle",c.nc(4,Em,n.dropdownItem.color)),c.Ab(1),c.kc("ngIf",n.dropdownItem.icon&&!n.isClassLinkIcon(n.dropdownItem.icon)),c.Ab(1),c.kc("ngIf",n.dropdownItem.icon&&n.isClassLinkIcon(n.dropdownItem.icon)),c.Ab(1),c.kc("ngIf",n.dropdownItem.customIcon)}}function Lm(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Zb("dragstart",(function(t){return c.yc(n),c.dc().onDragStart(t)})),c.Sb(2,"div",2),c.Gc(3,Im,1,4,"img",3),c.Gc(4,Dm,4,6,"div",4),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.dc();c.Ab(3),c.kc("ngIf",i.favorite),c.Ab(1),c.kc("ngIf",i.dropdownItem)}}var Nm=function(){function t(t){var e=this;this.useHighRes=!1,this.subscriptions=[],this.subscriptions[0]=t.settingsUpdated.subscribe((function(t){return e.useHighRes=t.customUISettings.theme===Ee.a.Primary||t.customUISettings.iconSize===tn.a.Large}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onDragStart=function(t){t.preventDefault()},t.prototype.handleImage=function(t){t.target.src=Re.a.coreCDN+"/assets/images/default-app-icon.png"},t.prototype.isClassLinkIcon=function(t){return t.startsWith("cls")},t.\u0275fac=function(e){return new(e||t)(c.Mb(ae.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["favorite"]],inputs:{favorite:"favorite",dropdownItem:"dropdownItem"},decls:1,vars:1,consts:[[4,"transloco","translocoRead"],[1,"cl-clip-img-ctnr",3,"dragstart"],[1,"img-border"],[3,"src","alt","error",4,"ngIf"],["class","item-app",3,"ngStyle",4,"ngIf"],[3,"src","alt","error"],[1,"item-app",3,"ngStyle"],[3,"class",4,"ngIf"],[3,"name",4,"ngIf"],[3,"src","alt",4,"ngIf"],[3,"name"],[3,"src","alt"]],template:function(t,e){1&t&&c.Gc(0,Lm,5,2,"ng-container",0),2&t&&c.kc("translocoRead","apps")},directives:[Te.c,i.l,i.m,We.m],styles:[""]}),t}(),Hm=["draggable"],Gm=["focusable"],Bm=function(t){return{$implicit:t}};function jm(t,e){if(1&t&&c.Ob(0,11),2&t){var n=e.$implicit;c.dc();var i=c.vc(9),o=c.vc(11);c.kc("ngTemplateOutlet",n.isDivider?i:o)("ngTemplateOutletContext",c.nc(2,Bm,n))}}function Um(t,e){if(1&t&&c.Ob(0,11),2&t){var n=e.$implicit;c.dc();var i=c.vc(13);c.kc("ngTemplateOutlet",i)("ngTemplateOutletContext",c.nc(2,Bm,n))}}function zm(t,e){1&t&&c.Nb(0,"div",12)}var Vm=function(){return{top:15}};function Zm(t,e){if(1&t){var n=c.Tb();c.Sb(0,"favorite",13,1),c.Zb("navigate",(function(t){return c.yc(n),c.dc().nav(t)}))("click",(function(){c.yc(n);var t=e.$implicit,i=c.dc();return t.link?i.goToLink(t):t.handler()}))("keydown.Enter",(function(){c.yc(n);var t=e.$implicit,i=c.dc();return t.link?i.goToLink(t):t.handler()}))("keydown.Space",(function(){c.yc(n);var t=e.$implicit,i=c.dc();return t.link||t.icon.includes("backpack")?i.return:t.handler()})),c.Rb()}if(2&t){var i=e.$implicit;c.dc();var o=c.vc(15);c.kc("customNavigation",!0)("dropdownItem",i)("clTooltip",o)("clTooltipContext",i)("clTooltipPositionOffset",c.mc(7,Vm)),c.Bb("role",i.link||"My Classes"===i.title?"link":"button")("aria-label",i.title)}}function $m(t,e){if(1&t){var n=c.Tb();c.Sb(0,"favorite",14,15),c.Zb("navigate",(function(t){return c.yc(n),c.dc().nav(t)}))("contextmenu",(function(t){c.yc(n);var i=e.$implicit;return c.dc().openContextMenu(i,t)}))("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc().launchApp(t.app)}))("click",(function(){c.yc(n);var t=e.$implicit;return c.dc().launchApp(t.app)})),c.Rb()}if(2&t){var i=e.$implicit;c.dc();var o=c.vc(15);c.kc("customNavigation",!0)("favorite",i)("clTooltip",o)("clTooltipPositionOffset",c.mc(7,Vm))("clTooltipContext",i),c.Bb("aria-label",i.app.name)("id",i.id)}}function Wm(t,e){if(1&t&&(c.Sb(0,"div",16),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=e.$implicit;c.Ab(2),c.Jc(n.app?n.app.name:n.title)}}var Jm=function(t){return{hide:t}},qm=function(){function t(t,e,n,i,o,r,a,s,c,l,p,d){var u=this;this.appsHelper=t,this.favoritesService=e,this.sessionService=n,this.favoritesHelper=i,this.settingsHelper=o,this.contextMenuHelper=r,this.layoutService=a,this.favoriteDragHelper=s,this.ele=c,this.cdr=l,this.menuHelper=p,this.formPostAppHelper=d,this.dropdownItems=[],this.favorites=[],this.displayPages=[{links:[],favorites:[]}],this.currentPage=0,this.sidenavCollapsed=!1,this.subscriptions=[],this.subscriptions[0]=this.appsHelper.appsUpdated.subscribe((function(t){u.apps=t.apps})),this.subscriptions[1]=this.appsHelper.editModeChanged.pipe(Object(te.a)(200)).subscribe((function(t){return u.isEditMode=t})),this.subscriptions[2]=this.favoritesHelper.favoritesUpdated.subscribe((function(t){u.favorites=t,u.setFavoritesPages()})),this.subscriptions[3]=this.sessionService.settingsUpdated.subscribe((function(t){u.settings=t,u.setFavoritesPages()})),this.subscriptions[4]=this.settingsHelper.dropdownItemsCreated.subscribe((function(t){u.dropdownItems=t.length>0&&"Support Docs"===t.slice(-1)[0].title?t.slice(0,-1):t,u.setFavoritesPages()})),this.subscriptions[5]=this.layoutService.windowResized.subscribe((function(){return u.setFavoritesPages()})),this.subscriptions[6]=this.settingsHelper.sidenavCollapseChanged.subscribe((function(t){u.sidenavCollapsed=t,u.setFavoritesPages()})),this.subscriptions[7]=this.favoritesHelper.favoritesPaged.subscribe((function(t){u.currentPage=t,u.cdr.detectChanges()}))}return t.prototype.ngAfterViewInit=function(){var t=this;Object(T.a)(0).subscribe((function(){return t.favoriteDragHelper.setAppsContainer(t.ele.nativeElement)})),this.updateDragHelper(this.draggables.toArray(),this.displayPages[this.currentPage].favorites),this.subscriptions[8]=this.draggables.changes.subscribe((function(e){t.updateDragHelper(e.toArray(),t.displayPages[t.currentPage].favorites)}))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.noAppContextOpen=function(t){this.openContextMenu(void 0,t)},t.prototype.openContextMenu=function(t,e){e.preventDefault(),e.stopPropagation(),this.menuHelper.closeAllMenus(),this.contextMenuHelper.changeMenuOptions.next({visible:!0,coordinates:{"top.px":e.clientY,"left.px":e.clientX},location:ce.Favorite,app:t})},t.prototype.updateDragHelper=function(t,e){if(e&&0!==e.length){var n=e.map((function(e){return{element:Ce()(t,(function(t){return+t.nativeElement.id===e.id})),app:e}}));this.favoriteDragHelper.setElements(n),this.favoriteDragHelper.setDOMReferences(e);var i=this.displayPages.map((function(t){return t.favorites}));this.favoriteDragHelper.setDragInformation(this.favorites,i)}},t.prototype.setFavoritesPages=function(){var t,e;this.displayPages=[{links:[],favorites:[]}];for(var n=0,i=0,o=0;o<1/0;o++){this.displayPages[o]={links:[],favorites:[]};var r=this.getMaxItemsOnPage(o);if(n<this.dropdownItems.length&&(n=(t=this.getPages(this.dropdownItems,n,r,0!==this.favorites.length))[0],r=t[1],this.displayPages[o].links=t[2]),r>0&&(i=(e=this.getPages(this.favorites,i,r,!1))[0],r=e[1],this.displayPages[o].favorites=e[2]),i>=this.favorites.length)break}(this.currentPage<0||this.currentPage>this.displayPages.length-1)&&(this.currentPage=0,this.favoritesHelper.favoritesPaged.next(this.currentPage))},t.prototype.getPages=function(t,e,n,i){var o=e+n,r=n>t.length?t.length:n-e,a=t.slice(e,o);return e=o,(n-=r)>0&&i&&(a.push({isDivider:!0}),n-=1),[e,n,a]},t.prototype.pageFavorites=function(t){this.currentPage=this.currentPage+t,this.favoritesHelper.favoritesPaged.next(this.currentPage)},t.prototype.getMaxItemsOnPage=function(t){var e=window.innerWidth;this.settings&&this.settings.customUISettings.theme===Ee.a.Professional&&(e-=this.sidenavCollapsed?100:250);var n=0===t?61:0,i=Math.floor((e-n-80)/80)+(n>0?1:0);return i>=1?i:1},t.prototype.launchApp=function(t){this.appsHelper.launchApp(t,null,this.formPostAppHelper.showLaunchDisabled(t))},t.prototype.goToLink=function(t){window.open(t.link,"_blank","noopener")},t.prototype.nav=function(t){if(t.stopPropagation(),t.preventDefault(),this.focusables.length){var e=this.focusables.toArray();$e.a.keyboardJump(e,t,!1)}},t.\u0275fac=function(e){return new(e||t)(c.Mb(Xt.a),c.Mb(km.a),c.Mb(ae.a),c.Mb(pe.a),c.Mb(re.a),c.Mb(Ve),c.Mb(We.G),c.Mb(Sm),c.Mb(c.l),c.Mb(c.h),c.Mb(Ze),c.Mb(Ue))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-favorites-bar"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(Hm,!0,c.l),c.Nc(Gm,!0,c.l)),2&t&&(c.uc(n=c.ac())&&(e.draggables=n),c.uc(n=c.ac())&&(e.focusables=n))},hostBindings:function(t,e){1&t&&c.Zb("contextmenu",(function(t){return e.noAppContextOpen(t)}))},decls:16,vars:15,consts:[["clItem","","aria-label","reveal more favorited apps",1,"arrow","left",3,"customNavigation","ngClass","tabIndex","navigate","keydown.Enter","keydown.Space","click"],["focusable",""],[1,"fas","fa-angle-left"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf","ngForTrackBy"],["clItem","","aria-label","reveal more favorited apps",1,"arrow","right",3,"customNavigation","ngClass","tabIndex","navigate","keydown.Enter","keydown.Space","click"],[1,"fas","fa-angle-right"],["dividerTpl",""],["linkTpl",""],["favoriteTpl",""],["tooltipRef",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"divider"],["clItem","","tabindex","0",1,"cl-app","favorite","cl-focusable",3,"customNavigation","dropdownItem","clTooltip","clTooltipContext","clTooltipPositionOffset","navigate","click","keydown.Enter","keydown.Space"],["clItem","","role","link","tabindex","0",1,"cl-app","favorite","cl-focusable",3,"customNavigation","favorite","clTooltip","clTooltipPositionOffset","clTooltipContext","navigate","contextmenu","keydown.Enter","click"],["draggable","","focusable",""],[1,"cl-tooltip"]],template:function(t,e){1&t&&(c.Sb(0,"button",0,1),c.Zb("navigate",(function(t){return e.nav(t)}))("keydown.Enter",(function(){return e.pageFavorites(-1)}))("keydown.Space",(function(){return e.pageFavorites(-1)}))("click",(function(){return e.pageFavorites(-1)})),c.Nb(2,"i",2),c.Rb(),c.Gc(3,jm,1,4,"ng-container",3),c.Gc(4,Um,1,4,"ng-container",4),c.Sb(5,"button",5,1),c.Zb("navigate",(function(t){return e.nav(t)}))("keydown.Enter",(function(){return e.pageFavorites(1)}))("keydown.Space",(function(){return e.pageFavorites(1)}))("click",(function(){return e.pageFavorites(1)})),c.Nb(7,"i",6),c.Rb(),c.Gc(8,zm,1,0,"ng-template",null,7,c.Hc),c.Gc(10,Zm,2,8,"ng-template",null,8,c.Hc),c.Gc(12,$m,3,8,"ng-template",null,9,c.Hc),c.Gc(14,Wm,3,1,"ng-template",null,10,c.Hc)),2&t&&(c.kc("customNavigation",!0)("ngClass",c.nc(11,Jm,0===e.currentPage))("tabIndex",0===e.currentPage?-1:0),c.Bb("aria-hidden",0===e.currentPage),c.Ab(3),c.kc("ngForOf",null==e.displayPages[e.currentPage]?null:e.displayPages[e.currentPage].links),c.Ab(1),c.kc("ngForOf",null==e.displayPages[e.currentPage]?null:e.displayPages[e.currentPage].favorites)("ngForTrackBy",e.appsHelper.appTrackByFn),c.Ab(1),c.kc("customNavigation",!0)("ngClass",c.nc(13,Jm,e.currentPage>=e.displayPages.length-1))("tabIndex",e.currentPage>=e.displayPages.length-1?-1:0),c.Bb("aria-hidden",e.currentPage>=e.displayPages.length-1))},directives:[We.J,i.j,i.k,i.p,Nm,We.Y],styles:['[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;position:relative;top:-25px;height:80px;-ms-flex:0 0 80px;flex:0 0 80px;width:100%;z-index:200}[_nghost-%COMP%]:after{content:"";position:absolute;z-index:-1;top:25px;height:60px;width:100%;background-color:hsla(0,0%,100%,.2)}.move-down[_nghost-%COMP%]{-ms-transform:translateY(50px);transform:translateY(50px)}.arrow[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;height:40px;width:40px}.arrow.left[_ngcontent-%COMP%]{margin-right:auto}.arrow.right[_ngcontent-%COMP%]{margin-left:auto}.arrow[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:20px;color:var(--color-white);filter:drop-shadow(2px 4px 6px black)}.arrow.hide[_ngcontent-%COMP%]{opacity:0;pointer-events:none}.divider[_ngcontent-%COMP%]{height:20px;width:1px;min-width:1px;-ms-flex:0 0 1px;flex:0 0 1px;background-color:hsla(0,0%,100%,.2);margin:0 10px}']}),t}(),Km=["favoritesContainer"],Ym=["draggable"],Qm=function(t){return{$implicit:t}};function Xm(t,e){if(1&t&&c.Ob(0,17),2&t){var n=e.$implicit;c.dc(2);var i=c.vc(19);c.kc("ngTemplateOutlet",i)("ngTemplateOutletContext",c.nc(2,Qm,n))}}var tv=function(t){return{"width.px":t}};function ev(t,e){if(1&t&&(c.Sb(0,"div",15),c.Gc(1,Xm,1,4,"ng-container",16),c.Rb()),2&t){var n=c.dc(2);c.kc("ngStyle",c.nc(2,tv,"calc( 100% - "+n.sidenavWidth+")")),c.Ab(1),c.kc("ngForOf",n.favorites)}}function nv(t,e){1&t&&c.Nb(0,"div",18)}function iv(t,e){if(1&t&&c.Ob(0,17),2&t){var n=e.$implicit;c.dc(2);var i=c.vc(19);c.kc("ngTemplateOutlet",i)("ngTemplateOutletContext",c.nc(2,Qm,n))}}function ov(t,e){if(1&t&&(c.Sb(0,"div",19),c.Gc(1,iv,1,4,"ng-container",16),c.Rb()),2&t){var n=c.dc(2);c.Eb("centered",!n.favorites||0===n.favorites.length),c.Ab(1),c.kc("ngForOf",n.recentlyUsed)}}function rv(t,e){if(1&t&&(c.Sb(0,"div",20),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=e.$implicit;c.Ab(2),c.Jc(n.app?n.app.name:n.title)}}var av=function(){return{top:15}};function sv(t,e){if(1&t){var n=c.Tb();c.Sb(0,"favorite",21,22),c.Zb("navigate",(function(t){return c.yc(n),c.dc(2).nav(t)}))("contextmenu",(function(t){c.yc(n);var i=e.$implicit;return c.dc(2).openContextMenu(i.app,t)}))("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(2).launchApp(t.app)}))("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(2).launchApp(t.app)})),c.Rb()}if(2&t){var i=e.$implicit;c.dc();var o=c.vc(17);c.kc("customNavigation",!0)("favorite",i)("clTooltip",o)("clTooltipPositionOffset",c.mc(7,av))("clTooltipContext",i),c.Bb("aria-label",i.app?i.app.name:i.title)("id",i.id)}}function cv(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Nb(1,"div",1),c.Sb(2,"div",2),c.Zb("contextmenu",(function(t){return c.yc(n),c.dc().openContextMenu(void 0,t)})),c.Sb(3,"button",3,4),c.Zb("click",(function(){return c.yc(n),c.dc().handleLeftScrollClick()})),c.ec(5,"async"),c.Nb(6,"i",5),c.Rb(),c.Sb(7,"div",6,7),c.Gc(9,ev,2,4,"div",8),c.Gc(10,nv,1,0,"div",9),c.Gc(11,ov,2,3,"div",10),c.Rb(),c.Sb(12,"button",11,4),c.Zb("click",(function(){return c.yc(n),c.dc().handleRightScrollClick()})),c.ec(14,"async"),c.Nb(15,"i",12),c.Rb(),c.Rb(),c.Gc(16,rv,3,1,"ng-template",null,13,c.Hc),c.Gc(18,sv,3,8,"ng-template",null,14,c.Hc),c.Pb()}if(2&t){var i=c.dc();c.Ab(1),c.Eb("close",!i.isOpen),c.Ab(1),c.Eb("close",!i.isOpen),c.Ab(1),c.Eb("hide",c.fc(5,11,!i.isScrollable)),c.Ab(6),c.kc("ngIf",i.favorites&&i.favorites.length>0),c.Ab(1),c.kc("ngIf",i.favorites&&i.favorites.length>0&&i.recentlyUsed&&i.recentlyUsed.length>0),c.Ab(1),c.kc("ngIf",i.recentlyUsed&&i.recentlyUsed.length>0),c.Ab(1),c.Eb("hide",c.fc(14,13,!i.isScrollable))}}var lv=function(){function t(t,e,n,i,o,r,a){var s=this;this.appsHelper=t,this.favoritesHelper=e,this.formPostAppHelper=n,this.menuHelper=i,this.contextMenuHelper=o,this.settingsHelper=r,this.cdr=a,this.isOpen=!1,this.isHideEffectOff=!1,this.mouseOnBar=!1,this.closingFavoritesBar=!1,this.subscriptions=[],this.isContextMenuVisible=!1,this.isScrollable=new y.a(this.setIsScrollable),this.sidenavWidth=this.settingsHelper.getSidenavWidth(),this.subscriptions[0]=this.favoritesHelper.favoritesUpdated.subscribe((function(t){s.favorites=Object(le.e)(t)})),this.subscriptions[1]=this.contextMenuHelper.changeMenuOptions.subscribe((function(t){s.isContextMenuVisible=t.visible,t.visible||s.mouseOnBar||s.closeFavoritesBar()})),this.subscriptions[2]=this.favoritesHelper.toggleFavoritesBarHiding.subscribe((function(t){s.isHideEffectOff=t,s.isOpen=t})),this.subscriptions[3]=this.settingsHelper.sidenavCollapseChanged.subscribe((function(t){s.sidenavWidth=t?100:275})),this.subscriptions[4]=this.favoritesHelper.recentlyAppsUpdated.subscribe((function(t){s.recentlyUsed=t}))}return t.prototype.ngAfterViewInit=function(){var t=this;this.subscriptions[5]=this.appItems.changes.subscribe((function(e){t.isScrollable=new y.a(t.setIsScrollable)}))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onResize=function(t){this.isScrollable=new y.a(this.setIsScrollable)},t.prototype.noAppContextOpen=function(t){this.openContextMenu(void 0,t)},t.prototype.openFavoritesBar=function(t){var e,n,i;"focus"!==t.type&&(this.mouseOnBar=!0),!["path","svg"].includes(null===(e=t.relatedTarget)||void 0===e?void 0:e.localName)&&(null===(i=null===(n=t.relatedTarget)||void 0===n?void 0:n.className)||void 0===i?void 0:i.includes("cl-ui-mask"))||(this.isOpen=!0)},t.prototype.closeFavoritesBar=function(){var t=this;this.mouseOnBar=!1,this.isHideEffectOff||this.isContextMenuVisible||Object(T.a)(1e3).subscribe((function(){t.closingFavoritesBar=!1,t.mouseOnBar||(t.isOpen=!1)}))},t.prototype.openContextMenu=function(t,e){e.preventDefault(),e.stopPropagation(),this.menuHelper.closeAllMenus(),t&&t._id.startsWith("RecentlyUsed")||this.contextMenuHelper.changeMenuOptions.next({visible:!0,coordinates:{"top.px":e.clientY,"left.px":e.clientX},location:ce.Favorite,app:t})},t.prototype.launchApp=function(t){this.appsHelper.launchApp(t,null,this.formPostAppHelper.showLaunchDisabled(t))},t.prototype.trackFn=function(t,e){return this.appsHelper.appTrackByFn(t,e)},t.prototype.handleLeftScrollClick=function(){this.favoritesContainer.nativeElement.scrollTo({left:this.favoritesContainer.nativeElement.scrollLeft-160,behavior:"smooth"})},t.prototype.handleRightScrollClick=function(){this.favoritesContainer.nativeElement.scrollTo({left:this.favoritesContainer.nativeElement.scrollLeft+160,behavior:"smooth"})},t.prototype.setIsScrollable=function(t){var e;t.next((null===(e=this.favoritesContainer)||void 0===e?void 0:e.nativeElement)&&this.favoritesContainer.nativeElement.scrollWidth-8>this.favoritesContainer.nativeElement.offsetWidth)},t.\u0275fac=function(e){return new(e||t)(c.Mb(Xt.a),c.Mb(pe.a),c.Mb(Ue),c.Mb(Ze),c.Mb(Ve),c.Mb(re.a),c.Mb(c.h))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-dynamic-favorites-bar"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(Km,!0),c.Nc(Ym,!0)),2&t&&(c.uc(n=c.ac())&&(e.favoritesContainer=n.first),c.uc(n=c.ac())&&(e.appItems=n))},hostBindings:function(t,e){1&t&&c.Zb("resize",(function(t){return e.onResize(t)}),!1,c.xc)("contextmenu",(function(t){return e.noAppContextOpen(t)}))("focus",(function(t){return e.openFavoritesBar(t)}))("mouseenter",(function(t){return e.openFavoritesBar(t)}))("mouseleave",(function(){return e.closeFavoritesBar()}))},decls:1,vars:1,consts:[[4,"ngIf"],[1,"favorites-bar-opaque"],[1,"favorites-bar",3,"contextmenu"],["clItem","","aria-label","scroll favorite bar to the left","tabIndex","0",1,"arrow","left",3,"click"],["focusable",""],[1,"fas","fa-angle-left"],[1,"bar-container"],["favoritesContainer",""],["class","favorites-apps-ctnr clFocusTrap cl-focusable","tabindex","0",3,"ngStyle",4,"ngIf"],["class","divider",4,"ngIf"],["class","recently-used-ctnr clFocusTrap cl-focusable","tabindex","0",3,"centered",4,"ngIf"],["clItem","","aria-label","scroll favorite bar to the right","tabIndex","0",1,"arrow","right",3,"click"],[1,"fas","fa-angle-right"],["tooltipRef",""],["itemTpl",""],["tabindex","0",1,"favorites-apps-ctnr","clFocusTrap","cl-focusable",3,"ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"divider"],["tabindex","0",1,"recently-used-ctnr","clFocusTrap","cl-focusable"],[1,"cl-tooltip","favorites-bar-tooltip"],["clItem","","role","link","tabindex","0",1,"cl-app","favorite","cl-focusable",3,"customNavigation","favorite","clTooltip","clTooltipPositionOffset","clTooltipContext","navigate","contextmenu","keydown.Enter","click"],["draggable","","focusable",""]],template:function(t,e){1&t&&c.Gc(0,cv,20,15,"ng-container",0),2&t&&c.kc("ngIf",e.favorites&&e.favorites.length>0||e.recentlyUsed&&e.recentlyUsed.length>0)},directives:[i.l,We.J,i.m,i.k,i.p,Nm,We.Y],pipes:[i.b],styles:["[_nghost-%COMP%]{padding:0;z-index:301}[_nghost-%COMP%], [_nghost-%COMP%]   .favorites-bar-opaque[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}[_nghost-%COMP%]   .favorites-bar-opaque[_ngcontent-%COMP%]{height:55px;background-color:hsla(0,0%,100%,.5019607843137255);transition:height .3s ease}[_nghost-%COMP%]   .favorites-bar-opaque.close[_ngcontent-%COMP%]{height:0}[_nghost-%COMP%]   .bar-container[_ngcontent-%COMP%]{height:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;overflow-y:visible;overflow-x:scroll;scrollbar-width:none;width:100%}[_nghost-%COMP%]   .favorites-bar[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;max-width:90%;height:80px;display:-ms-flexbox;display:flex;-ms-flex-align:end;align-items:flex-end;-ms-flex-pack:center;justify-content:center;margin:5px auto;border-radius:15px;gap:0;opacity:1;transition:height .3s ease}[_nghost-%COMP%]   .favorites-bar[_ngcontent-%COMP%]   .favorite[_ngcontent-%COMP%]{height:80px;width:80px}[_nghost-%COMP%]   .favorites-bar[_ngcontent-%COMP%]   .favorite[_ngcontent-%COMP%]:hover{background-color:var(--color-primary-faded);border-radius:16px;opacity:1!important}[_nghost-%COMP%]   .favorites-bar[_ngcontent-%COMP%]   .favorite[_ngcontent-%COMP%]  .cl-clip-img-ctnr .img-border{padding:2px}[_nghost-%COMP%]   .favorites-bar[_ngcontent-%COMP%]   .favorite[_ngcontent-%COMP%]  .cl-clip-img-ctnr:before{box-shadow:none}[_nghost-%COMP%]   .favorites-bar[_ngcontent-%COMP%]   .favorite[_ngcontent-%COMP%]:focus:after{left:0;top:0;height:100%;width:100%;background-color:var(--color-primary-faded);transition:none}[_nghost-%COMP%]   .favorites-bar[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{height:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-item-align:center;align-self:center;-ms-flex-pack:center;justify-content:center;opacity:1;transition:opcaity .3s ease}[_nghost-%COMP%]   .favorites-bar[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:20px;width:20px}[_nghost-%COMP%]   .favorites-bar[_ngcontent-%COMP%]   .arrow.hide[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .favorites-bar[_ngcontent-%COMP%]   .favorites-apps-ctnr[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%]   .favorites-bar[_ngcontent-%COMP%]   .favorites-apps-ctnr[_ngcontent-%COMP%], [_nghost-%COMP%]   .favorites-bar[_ngcontent-%COMP%]   .recently-used-ctnr[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;gap:0}[_nghost-%COMP%]   .favorites-bar[_ngcontent-%COMP%]   .favorites-apps-ctnr[_ngcontent-%COMP%]{-ms-flex-pack:end;justify-content:flex-end;margin-right:28px}[_nghost-%COMP%]   .favorites-bar[_ngcontent-%COMP%]   .recently-used-ctnr[_ngcontent-%COMP%]{-ms-flex-pack:start;justify-content:flex-start;margin-left:28px}[_nghost-%COMP%]   .favorites-bar[_ngcontent-%COMP%]   .recently-used-ctnr.centered[_ngcontent-%COMP%]{margin-left:0;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}[_nghost-%COMP%]   .favorites-bar[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:80%;min-height:80%;max-height:80%;background-color:var(--color-primary-faded);width:2px;min-width:2px;max-width:2px;z-index:100}[_nghost-%COMP%]   .favorites-bar.close[_ngcontent-%COMP%]{height:0}[_nghost-%COMP%]   .favorites-bar.close[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{opacity:0}"]}),t}();function pv(t,e){1&t&&c.Nb(0,"div",7)}function dv(t,e){if(1&t&&(c.Sb(0,"span",8),c.cc(),c.Sb(1,"svg",9),c.Nb(2,"path",10),c.Rb(),c.Rb()),2&t){var n=c.dc();c.Ab(1),c.kc("title","Single Sign On")("id",n.app.name+"_sso")}}function uv(t,e){if(1&t&&(c.Sb(0,"span",13),c.cc(),c.Sb(1,"svg",14),c.Nb(2,"path",15),c.Rb(),c.Rb()),2&t){var n=c.dc(2);c.Ab(1),c.kc("title","Locked")("id",n.app.name+"_locked")}}function gv(t,e){if(1&t&&(c.Sb(0,"div",11),c.Gc(1,uv,3,2,"span",12),c.Rb()),2&t){var n=c.dc();c.Ab(1),c.kc("ngIf",n.appLibHelper.showLock(n.app))}}function hv(t,e){if(1&t&&(c.Sb(0,"div",16),c.Sb(1,"p",17),c.Ic(2),c.ec(3,"title"),c.Rb(),c.Rb()),2&t){var n=c.dc();c.Ab(1),c.kc("id",n.app.name),c.Ab(1),c.Jc(c.gc(3,2,n.app.name,22))}}var bv=["*"],fv=function(){function t(t){this.appLibHelper=t,this.isAssigned=!1,this.hideName=!1}return t.prototype.handleImage=function(t){t.target.src=Re.a.coreCDN+"/assets/images/default-app-icon.png"},t.\u0275fac=function(e){return new(e||t)(c.Mb(we.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-library-app"]],inputs:{app:"app",isAssigned:"isAssigned",hideName:"hideName"},ngContentSelectors:bv,decls:8,vars:5,consts:[["clLastFocused","",1,"cl-clip-img-ctnr","cl-focusable"],["class","img-border assigned",4,"ngIf"],[1,"img-border"],["class","key",4,"ngIf"],["alt","",3,"src","error"],["class","flags",4,"ngIf"],["class","name",4,"ngIf"],[1,"img-border","assigned"],[1,"key"],["role","img","aria-label","Single Sign On App","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",3,"title","id"],["d","M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"],[1,"flags"],["class","locked",4,"ngIf"],[1,"locked"],["role","img","aria-label","Locked App","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",3,"title","id"],["d","M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"],[1,"name"],[3,"id"]],template:function(t,e){1&t&&(c.jc(),c.Sb(0,"div",0),c.Gc(1,pv,1,0,"div",1),c.Sb(2,"div",2),c.Gc(3,dv,3,2,"span",3),c.Sb(4,"img",4),c.Zb("error",(function(t){return e.handleImage(t)})),c.Rb(),c.Rb(),c.Gc(5,gv,2,1,"div",5),c.Rb(),c.Gc(6,hv,4,5,"div",6),c.ic(7)),2&t&&(c.Ab(1),c.kc("ngIf",e.appLibHelper.isAppAssigned(e.app)),c.Ab(2),c.kc("ngIf",e.appLibHelper.showKey(e.app)),c.Ab(1),c.kc("src",e.app.icon,c.Ac),c.Ab(1),c.kc("ngIf",e.appLibHelper.showFlags(e.app)),c.Ab(1),c.kc("ngIf",!e.hideName))},directives:[We.F,i.l],pipes:[rn.a],styles:["div.name[_ngcontent-%COMP%]{margin-top:5px!important;height:auto!important}div.name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{min-height:42px;height:auto}"]}),t}(),mv=["appContainer"],vv=["scrollToTopBtn"],yv=["appLibApp"],Cv=["category"];function xv(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",20,21),c.Zb("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(2).onCategorySelect(t)}))("keydown.Space",(function(){c.yc(n);var t=e.$implicit;return c.dc(2).onCategorySelect(t)}))("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(2).onCategorySelect(t)})),c.Sb(3,"span"),c.Nb(4,"i"),c.Rb(),c.Sb(5,"p"),c.Ic(6),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc(2);c.Ab(1),c.Eb("active",o.activeCategory&&o.activeCategory.id===i.id&&o.activeCategory.name===i.name),c.Ab(3),c.Cb("far fa-"+i.icon),c.Ab(2),c.Jc(i.name)}}function wv(t,e){if(1&t&&(c.Sb(0,"span"),c.Nb(1,"i"),c.Rb()),2&t){var n=c.dc(3);c.Ab(1),c.Cb("far fa-"+n.activeCategory.icon)}}function Pv(t,e){1&t&&c.Nb(0,"span")}function Ov(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",22),c.Gc(1,wv,2,2,"span",15),c.Gc(2,Pv,1,0,"span",15),c.Ic(3),c.Sb(4,"button",23),c.Zb("click",(function(){return c.yc(n),c.dc(2).onCategorySelect(void 0)}))("keydown.space",(function(){return c.yc(n),c.dc(2).onCategorySelect(void 0)})),c.Nb(5,"i",24),c.Rb(),c.Rb()}if(2&t){var i=c.dc(2);c.Ab(1),c.kc("ngIf",!i.hideIcon),c.Ab(1),c.kc("ngIf",i.hideIcon),c.Ab(1),c.Kc(" ",i.activeCategory.name," "),c.Ab(1),c.Bb("aria-label","remove "+i.activeCategory.name+" filter")}}function Mv(t,e){1&t&&(c.Qb(0),c.Nb(1,"cl-progress-spinner",32),c.Pb())}function _v(t,e){if(1&t&&(c.Qb(0),c.Ic(1),c.Pb()),2&t){var n=c.dc(3).$implicit;c.Ab(1),c.Kc(" ",n("common.add")," ")}}function kv(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"button",31),c.Zb("click",(function(t){c.yc(n);var e=c.dc().$implicit,i=c.dc(2);return t.stopPropagation(),i.appLibHelper.addApp(e)}))("keydown.space",(function(t){c.yc(n);var e=c.dc().$implicit,i=c.dc(2);return t.stopPropagation(),i.appLibHelper.addApp(e)}))("keydown.enter",(function(t){c.yc(n);var e=c.dc().$implicit,i=c.dc(2);return t.stopPropagation(),i.appLibHelper.addApp(e)})),c.Gc(2,Mv,2,0,"ng-container",15),c.Gc(3,_v,2,1,"ng-container",15),c.Rb(),c.Pb()}if(2&t){var i=c.dc().$implicit,o=c.dc(2);c.Ab(1),c.Eb("disabled",!o.appLibHelper.canAppBeChanged(i)||o.appLibHelper.actionPending[i.id]),c.kc("tabIndex",o.appLibHelper.canAppBeChanged(i)?0:-1)("disabled",!o.appLibHelper.canAppBeChanged(i)||o.appLibHelper.actionPending[i.id]),c.Ab(1),c.kc("ngIf",o.appLibHelper.actionPending[i.id]),c.Ab(1),c.kc("ngIf",!o.appLibHelper.actionPending[i.id])}}function Sv(t,e){1&t&&(c.Qb(0),c.Nb(1,"cl-progress-spinner",34),c.Pb())}function Av(t,e){if(1&t&&(c.Qb(0),c.Ic(1),c.Pb()),2&t){var n=c.dc(3).$implicit;c.Ab(1),c.Kc(" ",n("common.remove")," ")}}function Iv(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",33),c.Zb("click",(function(t){c.yc(n);var e=c.dc().$implicit,i=c.dc(2);return t.stopPropagation(),i.appLibHelper.removeApp(e)}))("keydown.space",(function(t){c.yc(n);var e=c.dc().$implicit,i=c.dc(2);return t.stopPropagation(),i.appLibHelper.removeApp(e)}))("keydown.enter",(function(t){c.yc(n);var e=c.dc().$implicit,i=c.dc(2);return t.stopPropagation(),i.appLibHelper.removeApp(e)})),c.Gc(1,Sv,2,0,"ng-container",15),c.Gc(2,Av,2,1,"ng-container",15),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc(2);c.Eb("disabled",!o.appLibHelper.canAppBeChanged(i)||o.appLibHelper.actionPending[i.id]),c.kc("tabIndex",o.appLibHelper.canAppBeChanged(i)?0:-1)("disabled",!o.appLibHelper.canAppBeChanged(i)||o.appLibHelper.actionPending[i.id]),c.Ab(1),c.kc("ngIf",o.appLibHelper.actionPending[i.id]),c.Ab(1),c.kc("ngIf",!o.appLibHelper.actionPending[i.id])}}function Rv(t,e){if(1&t&&(c.Sb(0,"div",35),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=c.dc().$implicit;c.Ab(2),c.Jc(n.name)}}var Tv=function(){return{top:10}};function Fv(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",25),c.Sb(1,"app-library-app",26,27),c.Zb("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(2).selectApp(t)}))("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(2).selectApp(t)}))("keydown.space",(function(){c.yc(n);var t=e.$implicit;return c.dc(2).selectApp(t)})),c.Rb(),c.Gc(3,kv,4,6,"ng-container",28),c.Gc(4,Iv,3,6,"ng-template",null,29,c.Hc),c.Gc(6,Rv,3,1,"ng-template",null,30,c.Hc),c.Rb()}if(2&t){var i=e.$implicit,o=c.vc(5),r=c.vc(7),a=c.dc(2);c.Ab(1),c.Eb("assigned",a.appLibHelper.isAppAssigned(i)),c.kc("app",i)("clTooltip",a.appLibHelper.shouldShowTooltip(i)?r:void 0)("clTooltipPositionOffset",c.mc(9,Tv)),c.Bb("aria-labelledby",i.name)("aria-describedby",a.getDescriptorIds(i)),c.Ab(2),c.kc("ngIf",!a.appLibHelper.isAppAssigned(i))("ngIfElse",o)}}var Ev=function(t){return{value:t}};function Dv(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",38),c.Zb("click",(function(){return c.yc(n),c.dc(3).loadMore()}))("keydown.space",(function(){return c.yc(n),c.dc(3).loadMore()})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.dc();c.kc("disabled",o.loadingApps),c.Ab(1),c.Kc(" ",i("appLibrary.seeMore",c.nc(2,Ev,o.totalLibSize>o.currentCollectionApps.length+o.tableFilters.limit?50:o.totalLibSize-o.currentCollectionApps.length))," ")}}var Lv=function(t,e){return{current:t,total:e}};function Nv(t,e){if(1&t&&(c.Sb(0,"div",36),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Gc(3,Dv,2,4,"button",37),c.Rb()),2&t){var n=c.dc().$implicit,i=c.dc();c.Ab(2),c.Jc(n("appLibrary.currentlyViewing",c.oc(2,Lv,i.totalLibSize<=i.currentCollectionApps.length?i.totalLibSize:i.tableFilters.offset+i.tableFilters.limit,i.totalLibSize))),c.Ab(1),c.kc("ngIf",i.canLoad)}}function Hv(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"h3"),c.Ic(2),c.Rb(),c.Pb()),2&t){var n=c.dc().$implicit;c.Ab(2),c.Jc(n("appLibrary.mainDisplay.noApps"))}}function Gv(t,e){1&t&&(c.Sb(0,"div",39),c.Nb(1,"cl-progress-spinner",40),c.Rb()),2&t&&(c.Ab(1),c.kc("strokeWidth",2))}function Bv(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Zb("keydown.space",(function(t){return c.yc(n),t.preventDefault()})),c.Sb(3,"h3"),c.Ic(4),c.Rb(),c.Sb(5,"p",3),c.Ic(6),c.Rb(),c.Sb(7,"div",4),c.Zb("click",(function(){return c.yc(n),c.dc().skipToApps()}))("keydown.Enter",(function(){return c.yc(n),c.dc().skipToApps()})),c.Sb(8,"p"),c.Ic(9),c.Rb(),c.Rb(),c.Gc(10,xv,7,5,"ng-container",5),c.Rb(),c.Sb(11,"div",6,7),c.Zb("scroll",(function(t){return c.yc(n),c.dc().onContainerScroll(t)}))("keydown.space",(function(t){return c.yc(n),t.preventDefault()})),c.Sb(13,"div",8),c.Sb(14,"h3",9),c.Ic(15),c.Rb(),c.Gc(16,Ov,6,4,"div",10),c.Rb(),c.Sb(17,"div",11),c.Sb(18,"div",12),c.Zb("click",(function(){return c.yc(n),c.dc().skipToCats()}))("keydown.enter",(function(){return c.yc(n),c.dc().skipToCats()})),c.Sb(19,"p"),c.Ic(20),c.Rb(),c.Rb(),c.Rb(),c.Gc(21,Fv,8,10,"div",13),c.Gc(22,Nv,4,5,"div",14),c.Gc(23,Hv,3,1,"ng-container",15),c.Gc(24,Gv,2,1,"div",16),c.Rb(),c.Rb(),c.Sb(25,"div",17,18),c.Zb("click",(function(){return c.yc(n),c.dc().scrollToTop()})),c.Nb(27,"i",19),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(4),c.Jc(i("appLibrary.categories.appCategories")),c.Ab(2),c.Jc(i("appLibrary.categories.categoriesDescription")),c.Ab(3),c.Jc(i("appLibrary.categories.skipLink")),c.Ab(1),c.kc("ngForOf",o.categories),c.Ab(1),c.kc("scrollWindow",!1)("clGrid",!0),c.Bb("aria-labelledby",o.activeCollection.Name+"_tab"),c.Ab(4),c.Jc(o.activeCollection.Name),c.Ab(1),c.kc("ngIf",o.activeCategory),c.Ab(4),c.Jc(i("appLibrary.skipLink")),c.Ab(1),c.kc("ngForOf",o.currentCollectionApps),c.Ab(1),c.kc("ngIf",o.currentCollectionApps&&o.currentCollectionApps.length),c.Ab(1),c.kc("ngIf",o.currentCollectionApps&&0===o.currentCollectionApps.length),c.Ab(1),c.kc("ngIf",o.loadingApps)}}var jv=function(){function t(t,e,n,i,o,r){var a=this;this.settingsHelper=t,this.slideoverService=e,this.nodeApi=n,this.appsService=i,this.layoutService=o,this.appLibHelper=r,this.appSelected=new c.n,this.visible=!1,this.loadingApps=!0,this.pushItems=!1,this.activeCollection={Id:-1,Name:"All Apps",TenantWide:!0},this.tableFilters=new Lp({limit:50,offset:0,term:""}),this.hideIcon=!1,this.canLoad=!1,this.showScrollBtn=!1,this.PADDING=25,this.subscriptions=[],this.subscriptions[0]=this.layoutService.windowResized.subscribe((function(t){return a.setAppSize()})),this.subscriptions[1]=this.appLibHelper.collectionUpdated.subscribe((function(t){return a.setActiveCollection(t)})),this.subscriptions[2]=this.appLibHelper.filterUpdated.pipe(Object(te.a)(250)).subscribe((function(t){return a.onSearch(t)})),this.subscriptions[3]=this.appLibHelper.suggestionClicked.subscribe((function(t){return a.onSuggestionClick(t)})),this.subscriptions[4]=this.slideoverService.appLibrary.opened.subscribe((function(t){return setTimeout((function(){return a.setAppSize()}),0)})),this.mutationObserver=new MutationObserver((function(){return a.setAppSize()}))}return t.prototype.ngOnInit=function(){this.getApps()},t.prototype.ngAfterViewInit=function(){var t=this;Object(T.a)(0).subscribe((function(){return t.mutationObserver.observe(t.appContainer.nativeElement,{childList:!0})}))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getApps=function(){this.loadingApps=!0,this.activeCollection&&-1!==this.activeCollection.Id&&this.activeCategory?this.getAppsByCategoryAndCollection():this.activeCollection&&-1!==this.activeCollection.Id&&!this.activeCategory?this.getAppsByCollection():!this.activeCollection||-1===this.activeCollection.Id&&this.activeCategory?this.getAppsByCategory():this.getGeneralApps()},t.prototype.getGeneralApps=function(){var t=this;this.appsService.getAppsForProfile(this.tableFilters).subscribe((function(e){return t.handleAppResponse(e)}))},t.prototype.getAppsByCollection=function(){var t=this;this.appsService.getAppsByCollection(this.activeCollection.Id,this.tableFilters).subscribe((function(e){return t.handleAppResponse(e)}))},t.prototype.getAppsByCategory=function(){var t=this;this.appsService.getAppsByCategory(this.activeCategory,this.tableFilters,this.educationId).subscribe((function(e){return t.handleAppResponse(e)}))},t.prototype.getAppsByCategoryAndCollection=function(){var t=this;this.appsService.getAppsByCategoryAndCollection(this.activeCollection,this.activeCategory,this.tableFilters,this.educationId).subscribe((function(e){return t.handleAppResponse(e)}))},t.prototype.setAppSize=function(){if(this.appContainer){var t=this.appContainer.nativeElement.getBoundingClientRect(),e=t.width?t.width:t.right-t.left,n=this.settingsHelper.getScrollBarWidth();this.settingsHelper.updateAppMarginRule(".app-lib-margin",e-n-2*this.PADDING,143,5)}},t.prototype.handleAppResponse=function(t){var e;this.totalLibSize=t.totalRows;var n=t.apps;this.pushItems?(e=this.currentCollectionApps).push.apply(e,n):this.currentCollectionApps=n,this.canLoad=this.currentCollectionApps.length<this.totalLibSize,this.loadingApps=!1},t.prototype.onPageScrolled=function(){this.pushItems=!0,this.tableFilters.offset+=50,this.getApps()},t.prototype.loadMore=function(){this.pushItems=!0,this.tableFilters.offset+=50,this.getApps(),$e.a.focusOnStoredElement(2)},t.prototype.onCategorySelect=function(t){var e=this;this.appContainer&&(this.appContainer.nativeElement.scrollTop=0),this.hideIcon=!0,this.activeCategory=t,this.pushItems=!1,this.tableFilters.offset=0,this.tableFilters.term="",this.appLibHelper.filterUpdated.next(""),this.getApps(),setTimeout((function(){return e.hideIcon=!1}),0)},t.prototype.setActiveCollection=function(t){this.activeCollection&&t&&this.activeCollection.Id===t.Id||(this.activeCollection=t,this.appContainer&&(this.appContainer.nativeElement.scrollTop=0),this.activeCategory=void 0,this.tableFilters.offset=0,this.tableFilters.limit=50,this.tableFilters.term="",this.appLibHelper.filterUpdated.next(""),this.pushItems=!1,this.getApps())},t.prototype.onSearch=function(t){this.pushItems=!1,this.canLoad=!1,this.tableFilters.offset=0,this.tableFilters.term=t,this.appContainer&&(this.appContainer.nativeElement.scrollTop=0),this.getApps()},t.prototype.onSuggestionClick=function(t){this.pushItems=!1,this.tableFilters.offset=0,this.tableFilters.term=t.ApplicationName,this.getApps()},t.prototype.selectApp=function(t){this.appSelected.emit(t)},t.prototype.skipToApps=function(){this.appLibApps.toArray()[0].nativeElement.focus()},t.prototype.skipToCats=function(){this.categoryElements.toArray()[0].nativeElement.focus()},t.prototype.getDescriptorIds=function(t){var e=this.appLibHelper.showLock(t)?t.name+"_locked":"",n=this.appLibHelper.showKey(t)?t.name+"_key":"";return""!==e&&""!==n?e+" "+n:e+n},t.prototype.onContainerScroll=function(t){this.appContainer.nativeElement.scrollTop/(this.appContainer.nativeElement.scrollHeight-this.appContainer.nativeElement.clientHeight)>.4?this.scrollToTopBtn.nativeElement.classList.add("show-btn"):this.scrollToTopBtn.nativeElement.classList.remove("show-btn")},t.prototype.scrollToTop=function(){this.appContainer.nativeElement.scrollTop=0},t.\u0275fac=function(e){return new(e||t)(c.Mb(re.a),c.Mb(xe.a),c.Mb(Qt.a),c.Mb(Tc.a),c.Mb(We.G),c.Mb(we.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-main-display"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(mv,!0),c.Nc(vv,!0),c.Nc(yv,!0,c.l),c.Nc(Cv,!0,c.l)),2&t&&(c.uc(n=c.ac())&&(e.appContainer=n.first),c.uc(n=c.ac())&&(e.scrollToTopBtn=n.first),c.uc(n=c.ac())&&(e.appLibApps=n),c.uc(n=c.ac())&&(e.categoryElements=n))},inputs:{categories:"categories",educationId:"educationId"},outputs:{appSelected:"appSelected"},decls:1,vars:0,consts:[[4,"transloco"],[1,"main-content","flex-start"],["clKeyboardNav","",1,"categories","flex-start","custom-scroll",3,"keydown.space"],["id","catDescription",1,"cat-description"],["clItem","","role","link","tabindex","0",1,"skip-link",3,"click","keydown.Enter"],[4,"ngFor","ngForOf"],["clKeyboardNav","","tabindex","0","role","tabpanel","id","appLibPanel",1,"scrollable-content","flex-start","custom-scroll",3,"scrollWindow","clGrid","scroll","keydown.space"],["appContainer",""],[1,"active-category-ctnr"],["id","collectionName"],["class","flex-start-center",4,"ngIf"],[1,"skip-link-wrapper"],["role","link","tabindex","0",1,"skip-link",3,"click","keydown.enter"],["class","cl-app-wrapper",4,"ngFor","ngForOf"],["class","load-more",4,"ngIf"],[4,"ngIf"],["class","spinner-ctnr flex-center",4,"ngIf"],["role","button",1,"back-to-top-btn","flex-center",3,"click"],["scrollToTopBtn",""],[1,"fas","fa-arrow-up"],["clItem","","aria-describedby","catDescription","role","button","tabindex","0",1,"category","flex-start-center",3,"keydown.Enter","keydown.Space","click"],["category",""],[1,"flex-start-center"],[1,"close-cat","focusable-white","focusable-small",3,"click","keydown.space"],[1,"far","fa-times"],[1,"cl-app-wrapper"],["clLastFocused","","clItem","","tabindex","0","role","link",1,"cl-focusable","cl-app","app-library","app-lib-margin","focusable",3,"app","clTooltip","clTooltipPositionOffset","click","keydown.Enter","keydown.space"],["appLibApp",""],[4,"ngIf","ngIfElse"],["removeButton",""],["tooltip",""],["clLastFocused","",1,"flex-center","button",3,"tabIndex","disabled","click","keydown.space","keydown.enter"],["strokeColor","var(--color-primary)"],["clLastFocused","",1,"flex-center","remove","button",3,"tabIndex","disabled","click","keydown.space","keydown.enter"],["strokeColor","var(--color-danger)"],[1,"cl-tooltip"],[1,"load-more"],["clLastFocused","","class","button button-primary",3,"disabled","click","keydown.space",4,"ngIf"],["clLastFocused","",1,"button","button-primary",3,"disabled","click","keydown.space"],[1,"spinner-ctnr","flex-center"],[3,"strokeWidth"]],template:function(t,e){1&t&&c.Gc(0,Bv,28,14,"ng-container",0)},directives:[Te.c,We.E,We.J,i.k,i.l,fv,We.F,We.Y,We.M],styles:['[_nghost-%COMP%]{position:relative;display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;height:calc(100% - 100px)}.main-content[_ngcontent-%COMP%]{-ms-flex-flow:row nowrap;flex-flow:row nowrap;background-color:#fff;width:100%;height:100%}.main-content[_ngcontent-%COMP%]   .skip-link[_ngcontent-%COMP%]{opacity:0;height:0;border:2px solid var(--color-primary);border-radius:5px;transition:all .2s linear;cursor:pointer}.main-content[_ngcontent-%COMP%]   .skip-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-primary);font-size:calc(var(--font-modifier) * 12px);font-weight:600}.main-content[_ngcontent-%COMP%]   .skip-link[_ngcontent-%COMP%]:focus{opacity:1;margin:10px 0;height:auto;padding:10px 20px}.main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{width:250px;height:100%;-ms-flex-flow:column nowrap;flex-flow:column nowrap;padding:20px 10px 20px 35px;border-right:1px solid #ddd;overflow:auto;-ms-flex:0 0 250px;flex:0 0 250px;min-height:100%}.main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]::-webkit-scrollbar{min-width:6px!important;max-width:6px!important}.main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#e6e6e6!important;border-radius:1px!important}.main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .cat-description[_ngcontent-%COMP%]{color:var(--color-medium);margin:10px 0}.main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{height:40px;-ms-flex:0 0 40px;flex:0 0 40px;cursor:pointer;position:relative}.main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category.active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{color:var(--color-primary)!important}.main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category.active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700}.main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category.active[_ngcontent-%COMP%]:before{content:"";position:absolute;width:4px;height:100%;left:-35px;top:0;background-color:var(--color-primary);border-radius:2px}.main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#333;margin-right:5px;font-size:16px;width:20px}.main-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600;font-size:12px;word-break:break-all;word-break:break-word}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]{-ms-flex:0 0 calc(100% - 250px);flex:0 0 calc(100% - 250px);-ms-flex-preferred-size:calc(100% - 250px);flex-basis:calc(100% - 250px);width:calc(100% - 250px);-ms-flex-flow:row wrap;flex-flow:row wrap;height:100%;padding:20px;-ms-flex-line-pack:start;align-content:flex-start;background-color:#fcfcfc}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar{min-width:10px!important;max-width:10px!important}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ddd!important;border-radius:1px!important}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .skip-link-wrapper[_ngcontent-%COMP%]{width:100%;padding-left:30px}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .skip-link-wrapper[_ngcontent-%COMP%]   .skip-link[_ngcontent-%COMP%]{width:-moz-max-content;width:max-content}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:.8;margin:20px 30px}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .active-category-ctnr[_ngcontent-%COMP%]{width:100%;height:50px;max-height:50px;padding:0 15px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .active-category-ctnr[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-size:18px;font-weight:800;margin-right:30px;margin-left:15px;color:var(--color-dark);opacity:1}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .active-category-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:var(--color-primary);padding:10px;font-size:13px;font-weight:600;color:#fff;border-radius:5px;width:auto}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .active-category-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:14px;margin-right:10px}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .active-category-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px;color:#fff}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .cl-app-wrapper[_ngcontent-%COMP%]   .cl-app[_ngcontent-%COMP%]{-ms-flex-pack:center;justify-content:center}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .cl-app-wrapper[_ngcontent-%COMP%]   .cl-app.app-library[_ngcontent-%COMP%]{height:125px;margin-bottom:10px}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .cl-app-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:5px;padding:5px;margin:10px auto 40px;width:80px;height:30px;font-weight:700;color:var(--color-primary);background-color:#fff;border:2px solid var(--color-primary);font-size:calc(var(--font-modifier) * 13px);transition:background-color .1s ease-in-out;min-width:unset}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .cl-app-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   cl-progress-spinner[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .cl-app-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e0f4ff}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .cl-app-wrapper[_ngcontent-%COMP%]   button.remove[_ngcontent-%COMP%]{color:#da3939;border-color:#da3939}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .cl-app-wrapper[_ngcontent-%COMP%]   button.remove[_ngcontent-%COMP%]:hover{background-color:#fff1f1}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .spinner-ctnr[_ngcontent-%COMP%]{width:100%;margin-top:20px}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]{width:100%;padding:30px 0 60px}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.main-content[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:20px auto 0}.back-to-top-btn[_ngcontent-%COMP%]{background-color:var(--color-primary);border-radius:50%;height:40px;width:40px;position:fixed;right:30px;bottom:30px;box-shadow:0 0 20px var(--color-shadow);-ms-transform:translateY(100px);transform:translateY(100px);transition:all .5s ease;opacity:0}.back-to-top-btn.show-btn[_ngcontent-%COMP%]{opacity:1;-ms-transform:translateY(0);transform:translateY(0)}.back-to-top-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-white);font-size:16px}']}),t}(),Uv=n("k8Y/"),zv=n.n(Uv),Vv=["tabsContainer"],Zv=["tabitem"];function $v(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",20),c.Sb(2,"div",21),c.Sb(3,"div"),c.Sb(4,"h4"),c.Ic(5),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Pb()),2&t){var n=c.dc(2).$implicit;c.Ab(5),c.Jc(n("common.noResults"))}}var Wv=function(t){return{name:t}};function Jv(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",22),c.Zb("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onSuggestionClick(t)}))("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onSuggestionClick(t)})),c.Sb(1,"img",23),c.Zb("error",(function(t){return c.yc(n),c.dc(3).handleImage(t)})),c.Rb(),c.Sb(2,"div",21),c.Sb(3,"div",24),c.Sb(4,"p",25),c.Ic(5),c.Sb(6,"span"),c.Nb(7,"i"),c.Ic(8),c.Rb(),c.Rb(),c.Rb(),c.Sb(9,"p",25),c.Ic(10),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(2).$implicit;c.Ab(1),c.kc("src",i.defaulturl,c.Ac)("alt",o("apps.altText",c.nc(7,Wv,i.ApplicationName))),c.Ab(4),c.Kc("",i.ApplicationName," "),c.Ab(2),c.Cb("far fa-"+i.CategoryIcon),c.Ab(1),c.Kc(" ",i.CategoryName," "),c.Ab(2),c.Jc(i.AppDescription)}}function qv(t,e){if(1&t&&(c.Sb(0,"div",17),c.Gc(1,$v,6,1,"ng-container",18),c.Gc(2,Jv,11,9,"div",19),c.Rb()),2&t){var n=c.dc(2);c.Ab(1),c.kc("ngIf",0===n.suggestedApps.length),c.Ab(1),c.kc("ngForOf",n.suggestedApps)}}function Kv(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",26),c.Zb("click",(function(){c.yc(n);var t=c.dc(2);return t.searchVal="",t.onSearch()})),c.Nb(1,"i",10),c.Rb()}if(2&t){var i=c.dc(2);c.Eb("disabled",0!==i.currentView)}}function Yv(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",27),c.Zb("click",(function(){return c.yc(n),c.dc(2).onAddApp()})),c.Nb(1,"i",28),c.Ic(2),c.Rb()}if(2&t){var i=c.dc().$implicit;c.Bb("aria-label",i("appLibrary.addApp.addApp")),c.Ab(2),c.Jc(i("appLibrary.addApp.addApp"))}}function Qv(t,e){1&t&&(c.Sb(0,"span"),c.Nb(1,"i",31),c.Rb())}function Xv(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",29,30),c.Zb("navigate",(function(t){c.yc(n);var i=e.index;return c.dc(2).nav(t,i)}))("keydown.Enter",(function(){c.yc(n);var t=e.$implicit,i=e.index;return c.dc(2).setActiveCollection(t,i)}))("keydown.tab",(function(t){return c.yc(n),c.dc(2).redirectFocus(t)}))("click",(function(){c.yc(n);var t=e.$implicit,i=e.index;return c.dc(2).setActiveCollection(t,i)})),c.Gc(2,Qv,2,0,"span",18),c.Ic(3),c.Rb()}if(2&t){var i=e.$implicit,o=e.index,r=c.dc(2);c.Eb("active",r.activeTab===o)("disabled",0!==r.currentView),c.kc("id",i.Name+"_tab")("tabindex",0===r.currentView&&r.activeTab===o?0:-1)("disabled",0!==r.currentView)("customNavigation",!0),c.Bb("aria-selected",r.activeTab==o),c.Ab(2),c.kc("ngIf",0!==o),c.Ab(1),c.Kc("",i.Name," ")}}function ty(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",32),c.Zb("click",(function(t){return c.yc(n),c.dc(2).toggleOverflowDrop(t)})),c.Nb(1,"i",33),c.Rb()}}function ey(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",34),c.Zb("click",(function(){c.yc(n);var t=e.$implicit,i=e.index,o=c.dc(2);return o.setActiveCollection(t,o.collections.length+i)})),c.Nb(1,"i",35),c.Ic(2),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(2);c.Eb("active",o.activeCollection.Id===i.Id),c.Ab(2),c.Kc(" ",i.Name," ")}}var ny=function(t,e){return{type:"text","aria-label":t,tabindex:e}},iy=function(t){return{"keydown.enter":t}};function oy(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"h2",2),c.Zb("click",(function(){c.yc(n);var t=c.dc();return 0!==t.currentView?t.goToMainMenu():""}))("keydown.Enter",(function(){c.yc(n);var t=c.dc();return 0!==t.currentView?t.goToMainMenu():""})),c.Nb(3,"i",3),c.Ic(4),c.Rb(),c.Sb(5,"div",4),c.Sb(6,"cl-input",5),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().searchVal=t}))("valueChange",(function(){return c.yc(n),c.dc().onSearch()})),c.Rb(),c.Gc(7,qv,3,2,"div",6),c.Gc(8,Kv,2,2,"button",7),c.Rb(),c.Gc(9,Yv,3,2,"button",8),c.Sb(10,"button",9),c.Zb("click",(function(){return c.yc(n),c.dc().closed.emit(!0)})),c.Nb(11,"i",10),c.Rb(),c.Rb(),c.Sb(12,"div",11,12),c.Gc(14,Xv,4,11,"button",13),c.Gc(15,ty,2,0,"button",14),c.Sb(16,"app-dropdown-menu",15),c.Gc(17,ey,3,3,"div",16),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(2),c.Ec("cursor",0!==o.currentView?"pointer":""),c.Eb("focusable-white",0!==o.currentView&&o.collections.length>1),c.kc("tabindex",0!==o.currentView?0:-1),c.Bb("role",0!==o.currentView&&o.collections.length>1?"button":null),c.Ab(2),c.Kc(" ",i("appLibrary.libraryHeader.appLibrary")," "),c.Ab(2),c.kc("attributes",c.oc(20,ny,i("appLibrary.libraryHeader.inputLabel"),0===o.currentView?0:-1))("disabled",0!==o.currentView)("events",c.nc(23,iy,o.onSearchEnter.bind(o)))("icon","far fa-search")("value",o.searchVal),c.Ab(1),c.kc("ngIf",o.collections.length>0&&o.showSuggestionsDrop),c.Ab(1),c.kc("ngIf",o.searchVal.length>0),c.Ab(1),c.kc("ngIf",o.appLibraryStatus&&o.appLibraryStatus.canAddLibraryApp),c.Ab(5),c.kc("ngForOf",o.collections),c.Ab(1),c.kc("ngIf",o.overflowTabs.length>0),c.Ab(1),c.Eb("hidden",!o.showOverflowDrop),c.Ab(1),c.kc("ngForOf",o.overflowTabs)}}var ry=function(){function t(t,e,n,i){var o=this;this.appLibHelper=t,this.appsService=e,this.translocoService=i,this.collections=[],this.closed=new c.n,this.focusMoved=new c.n,this.showSuggestionsDrop=!1,this.showOverflowDrop=!1,this.searchVal="",this.activeTab=0,this.currentView=0,this.overflowTabs=[],this.suggestedApps=[],this.searchFilters=new Lp({limit:10,offset:0,term:""}),this.defaultCollection={Id:-1,Name:"All Apps",TenantWide:!0},this.subscriptions=[],this.subscriptions[0]=n.documentClicked.subscribe((function(t){return o.onDocClick()})),this.subscriptions[1]=t.appLibraryStatusUpdated.subscribe((function(t){o.appLibraryStatus=t,o.updateCollections(),Object(T.a)(0).subscribe((function(){return o.checkTabSize()}))})),this.subscriptions[2]=t.currentViewUpdated.subscribe((function(t){return o.currentView=t})),this.subscriptions[3]=t.filterUpdated.subscribe((function(t){return o.searchVal=t})),i.selectTranslate("appLibrary.libraryHeader.allApps").subscribe((function(t){return o.defaultCollection.Name=t}))}return t.prototype.ngOnChanges=function(t){var e=this;t.collections&&!t.collections.firstChange&&(this.updateCollections(),Object(T.a)(0).subscribe((function(){return e.checkTabSize()})))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.filterTimer&&this.filterTimer.unsubscribe()},t.prototype.updateCollections=function(){this.appLibraryStatus&&(!this.appLibraryStatus.globalAppLibraryEnabled||this.collections[0]&&-1===this.collections[0].Id?!this.appLibraryStatus.globalAppLibraryEnabled&&this.collections[0]&&-1===this.collections[0].Id&&this.collections.splice(0,1):this.collections=Object(le.e)([this.defaultCollection],this.collections),0!==this.collections.length?(this.appLibHelper.currentViewUpdated.next(0),this.setActiveCollection(this.collections[0],0)):this.appLibHelper.currentViewUpdated.next(1))},t.prototype.checkTabSize=function(){if(this.tabsContainer){var t=this.tabsContainer.nativeElement,e=t.getBoundingClientRect();this.initialSize=this.initialSize&&this.initialSize>0&&this.initialSize<window.innerWidth?this.initialSize:e.right-35;for(var n=[],i=0;i<t.children.length;i++)n.push(t.children[i].getBoundingClientRect());var o=-1;for(i=n.length-1;i>=0&&n[i].right>this.initialSize;i--)o=i;-1!==o&&(this.overflowTabs=this.collections.splice(o,this.collections.length-o))}},t.prototype.getSuggestions=function(){this.activeCollection&&-1!==this.activeCollection.Id?this.getSearchTermAppsForCollection():this.getSearchTermApps()},t.prototype.getSearchTermApps=function(){var t=this;this.appsService.getSearchTermApps(this.searchFilters.term).subscribe((function(e){t.suggestedApps=e,t.showSuggestionsDrop=!0}))},t.prototype.getSearchTermAppsForCollection=function(){var t=this;this.appsService.getSearchTermAppsForCollection(this.activeCollection.Id,this.searchFilters.term).subscribe((function(e){t.suggestedApps=e,t.showSuggestionsDrop=!0}))},t.prototype.toggleOverflowDrop=function(t){this.showOverflowDrop=!this.showOverflowDrop,t.stopPropagation()},t.prototype.goToMainMenu=function(){0!=this.collections.length&&this.appLibHelper.currentViewUpdated.next(0)},t.prototype.onSearch=function(){var t=this;this.filterTimer&&this.filterTimer.unsubscribe(),this.searchFilters.term=this.searchVal,""!==this.searchVal.trim()?this.filterTimer=Object(T.a)(250).subscribe((function(){return t.getSuggestions()})):this.showSuggestionsDrop=!1,this.appLibHelper.filterUpdated.next(this.searchVal)},t.prototype.onAddApp=function(){this.appLibHelper.currentViewUpdated.next(1)},t.prototype.onSuggestionClick=function(t){this.searchVal=t.ApplicationName,this.appLibHelper.suggestionClicked.next(t),this.showSuggestionsDrop=!1},t.prototype.onSearchEnter=function(){this.showSuggestionsDrop=!1},t.prototype.setActiveCollection=function(t,e){this.activeTab=e,this.activeCollection=t,this.appLibHelper.collectionUpdated.next(this.activeCollection)},t.prototype.onDocClick=function(){this.showSuggestionsDrop=!1,this.showOverflowDrop=!1},t.prototype.redirectFocus=function(){for(var t=this.tabElements.toArray(),e=0;e<t.length;e++)t[e].nativeElement.tabIndex=e===this.activeTab?0:-1;this.focusMoved.emit()},t.prototype.nav=function(t,e){var n,i=this.tabElements.toArray();"ArrowRight"===t.key&&(n=e===i.length-1?0:e+1),"ArrowLeft"===t.key&&(n=0===e?i.length-1:e-1),i[e].nativeElement.tabIndex="-1",i[n].nativeElement.tabIndex="0",i[n].nativeElement.focus()},t.prototype.handleImage=function(t){t.target.src=Re.a.coreCDN+"/assets/images/default-app-icon.png"},t.\u0275fac=function(e){return new(e||t)(c.Mb(we.a),c.Mb(Tc.a),c.Mb(We.G),c.Mb(Te.f))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-library-header"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(Vv,!0),c.Nc(Zv,!0,c.l)),2&t&&(c.uc(n=c.ac())&&(e.tabsContainer=n.first),c.uc(n=c.ac())&&(e.tabElements=n))},inputs:{collections:"collections"},outputs:{closed:"closed",focusMoved:"focusMoved"},features:[c.yb],decls:1,vars:0,consts:[[4,"transloco"],[1,"top-line","flex-start-center"],["id","appLibTitle",1,"flex-center","focusable-white",3,"tabindex","click","keydown.Enter"],[1,"fas","fa-rocket"],[1,"app-lib-input-ctnr"],[1,"app-search",3,"attributes","disabled","events","icon","value","valueChange"],["class","dropdown flex-start custom-scroll",4,"ngIf"],["class","clear",3,"disabled","click",4,"ngIf"],["class","flex-center focusable-white focusable-small",3,"click",4,"ngIf"],["aria-label","close app library modal",1,"close","close-white",3,"click"],[1,"far","fa-times"],["role","tablist","clKeyboardNav","","aria-labelledby","collectionName",1,"tabs-ctnr","flex-start-end"],["tabsContainer",""],["class","tab","role","tab","clItem","","aria-controls","appLibPanel",3,"id","active","tabindex","disabled","customNavigation","navigate","keydown.Enter","keydown.tab","click",4,"ngFor","ngForOf"],["class","overflow flex-center",3,"click",4,"ngIf"],[1,"custom-scroll"],["class","dropdown-item","role","button","tabindex","0",3,"active","click",4,"ngFor","ngForOf"],[1,"dropdown","flex-start","custom-scroll"],[4,"ngIf"],["class","suggestion flex-start-center","role","button","tabindex","0",3,"click","keydown.Enter",4,"ngFor","ngForOf"],[1,"suggestion","flex-start-center"],[1,"text-ctnr","flex-start"],["role","button","tabindex","0",1,"suggestion","flex-start-center",3,"click","keydown.Enter"],[3,"src","alt","error"],[1,"flex-start-center"],[1,"app-description"],[1,"clear",3,"click"],[1,"flex-center","focusable-white","focusable-small",3,"click"],[1,"fas","fa-plus"],["role","tab","clItem","","aria-controls","appLibPanel",1,"tab",3,"id","tabindex","disabled","customNavigation","navigate","keydown.Enter","keydown.tab","click"],["tabitem",""],[1,"far","fa-folder"],[1,"overflow","flex-center",3,"click"],[1,"far","fa-ellipsis-h"],["role","button","tabindex","0",1,"dropdown-item",3,"click"],[1,"fas","fa-folder"]],template:function(t,e){1&t&&c.Gc(0,oy,18,25,"ng-container",0)},directives:[Te.c,We.C,i.l,We.E,i.k,ko,We.J],styles:['[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:start;align-items:flex-start;width:100%;background-color:var(--color-primary);height:100px;-ms-flex:0 0 100px;flex:0 0 100px;z-index:100}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]{padding:7px 35px;width:100%;height:50px;-ms-flex:0 0 50px;flex:0 0 50px}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;margin-right:30px;font-weight:700;color:#fff}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:22px;margin-right:10px}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]{position:relative;-ms-flex-positive:1;flex-grow:1;height:36px;margin-left:auto}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   cl-input[_ngcontent-%COMP%]{height:36px}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:8px;right:10px;padding:0}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{color:var(--color-primary);margin-left:0;font-size:20px}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:100%;background-color:#fff;padding:20px;box-shadow:0 15px 30px 0 rgba(0,0,0,.15);border-radius:5px;z-index:2;max-height:500px}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]{width:100%;-ms-flex:0 0 60px;flex:0 0 60px;height:60px;padding:10px;border-radius:5px;cursor:pointer}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .app-description[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;width:95%}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .app-description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-primary)}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]:hover{background-color:#ddf0fe}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:15px}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%]{-ms-flex-flow:column nowrap;flex-flow:column nowrap;width:90%}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:5px}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-size:13px;font-weight:600;letter-spacing:0}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin:0 5px 0 10px}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-primary)}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{color:var(--color-dark)}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   P[_ngcontent-%COMP%]:last-of-type{white-space:nowrap}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%]   .flex-start-center[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:not(.close){background-color:var(--color-primary);border:2px solid var(--color-white);color:#fff;padding:10px 20px;height:36px;margin-left:10px;margin-right:10px;border-radius:5px;font-weight:600;font-size:13px}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:not(.close):hover{opacity:.8}[_nghost-%COMP%]   .top-line[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:not(.close)   svg[_ngcontent-%COMP%]{margin-right:10px;font-size:14px;color:#fff}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]{position:relative;padding:0 35px 15px;width:100%;height:50px;-ms-flex:0 0 50px;flex:0 0 50px;border-bottom:0}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{position:relative;height:18px;font-size:13px;font-weight:600;margin-right:20px;color:#fff;-ms-flex:0 0 auto;flex:0 0 auto;opacity:.8;padding:0}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:after{border-color:var(--color-white)}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]:before{content:"";position:absolute;top:30px;left:0;height:5px;width:100%;border-radius:3px;background-color:#fff;box-shadow:0 0 5px rgba(0,0,0,.3)}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:5px}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   .overflow[_ngcontent-%COMP%]{margin-left:auto;margin-right:10px;padding:0 10px;background-color:#55b5fc;color:#fff;height:20px;border-radius:5px}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]{max-height:200px;width:auto;top:50px;right:30px;left:unset;max-width:500px}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   app-dropdown-menu.hidden[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:16px;margin-right:10px}[_nghost-%COMP%]   .tabs-ctnr[_ngcontent-%COMP%]   app-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.active[_ngcontent-%COMP%]{color:var(--color-primary)}']}),t}();function ay(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",8),c.Sb(1,"cl-checkbox",9),c.Zb("checkedChange",(function(t){return c.yc(n),c.dc(2).input.sso=t}))("checkedChange",(function(){return c.yc(n),c.dc(2).onCheckChange()})),c.Rb(),c.Sb(2,"p",10),c.Ic(3),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(1),c.kc("checked",o.input.sso),c.Ab(2),c.Jc(i("appLibrary.addApp.newAppDetails.requestSSO"))}}function sy(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"button",15),c.Zb("click",(function(t){c.yc(n);var e=c.dc(3);return t.stopPropagation(),e.appLibHelper.addApp(e.suggestedApp)})),c.Ic(2),c.Rb(),c.Pb()}if(2&t){var i=c.dc(2).$implicit,o=c.dc();c.Ab(1),c.Eb("disabled",!o.appLibHelper.canAppBeChanged(o.suggestedApp)),c.Ab(1),c.Jc(i("common.add"))}}function cy(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",16),c.Zb("click",(function(t){c.yc(n);var e=c.dc(3);return t.stopPropagation(),e.appLibHelper.removeApp(e.suggestedApp)})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.dc();c.Eb("disabled",!o.appLibHelper.canAppBeChanged(o.suggestedApp)),c.Ab(1),c.Jc(i("common.remove"))}}function ly(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",11),c.Sb(1,"h2"),c.Ic(2),c.Rb(),c.Sb(3,"app-library-app",12),c.Zb("click",(function(){return c.yc(n),c.dc(2).onSuggestionClick()})),c.Gc(4,sy,3,3,"ng-container",13),c.Gc(5,cy,2,3,"ng-template",null,14,c.Hc),c.Rb(),c.Rb()}if(2&t){var i=c.vc(6),o=c.dc().$implicit,r=c.dc();c.Ab(2),c.Jc(o("appLibrary.addApp.newAppDetails.suggestionText")),c.Ab(1),c.Eb("assigned",r.appLibHelper.isAppAssigned(r.suggestedApp)),c.kc("app",r.suggestedApp),c.Ab(1),c.kc("ngIf",!r.appLibHelper.isAppAssigned(r.suggestedApp))("ngIfElse",i)}}var py=function(t){return{type:"text","aria-label":t,required:!0}},dy=function(t,e){return{focus:t,keydown:e}};function uy(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"h3"),c.Ic(3),c.Rb(),c.Sb(4,"cl-input",2),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().input.name=t}))("valueChange",(function(){return c.yc(n),c.dc().getSuggestions()})),c.Rb(),c.Sb(5,"cl-input",2),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().input.url=t})),c.Rb(),c.Gc(6,ay,4,2,"div",3),c.Gc(7,ly,7,6,"div",4),c.Rb(),c.Sb(8,"div",5),c.Sb(9,"button",6),c.Zb("click",(function(){return c.yc(n),c.dc().goBack()})),c.Ic(10),c.Rb(),c.Sb(11,"button",7),c.Zb("click",(function(){return c.yc(n),c.dc().validateName()})),c.Ic(12),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(3),c.Jc(i("appLibrary.addApp.newAppDetails.addApp")),c.Ab(1),c.kc("value",o.input.name)("label",i("apps.appName"))("attributes",c.nc(17,py,i("apps.appName")))("events",c.oc(19,dy,o.onInputFocus.bind(o,"name"),o.onKeydown.bind(o,"name")))("inputValidator",o.nameValidator.bind(o)),c.Ab(1),c.kc("value",o.input.url)("label",i("apps.appUrl"))("attributes",c.nc(22,py,i("apps.appUrl")))("events",c.oc(24,dy,o.onInputFocus.bind(o,"url"),o.onKeydown.bind(o,"url")))("inputValidator",o.urlValidator.bind(o)),c.Ab(1),c.kc("ngIf",o.userInfo&&"Student"!=o.userInfo.Role&&!o.permissions.tenantPermissions.appLibraryRequestSso),c.Ab(1),c.kc("ngIf",o.suggestedApp),c.Ab(3),c.Jc(i("common.goBack")),c.Ab(1),c.kc("tabindex",o.areAppDetailsValid()?0:-1)("disabled",!o.areAppDetailsValid()),c.Ab(1),c.Jc(i("appLibrary.addApp.selectIcon"))}}var gy=function(){function t(t,e,n,i,o,r){var a=this;this.appLibService=t,this.appsHelper=e,this.appLibHelper=n,this.translationHelper=i,this.sessionService=o,this.permissionsService=r,this.appSelected=new c.n,this.pageChange=new c.n,this.inputUpdated=new c.n,this.closed=new c.n,this.focused={name:!1,url:!1},this.typed={name:!1,url:!1},this.input={name:"",url:"",sso:!1},this.subscriptions=[],this.subscriptions[0]=e.appsUpdated.subscribe((function(t){return a.apps=e.flattenApps(t.apps)})),this.subscriptions[1]=n.appLibraryStatusUpdated.subscribe((function(t){return a.appLibraryStatus=t})),this.userInfo=o.getUserInfo(),this.subscriptions[2]=this.permissionsService.permissionsSub.subscribe((function(t){a.permissions=t}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getSuggestions=function(){var t=this;""!==this.input.name.trim()?this.appLibService.getAddAppSuggestions(this.input.name).subscribe((function(e){t.suggestedApp=e})):this.suggestedApp=void 0},t.prototype.nameValidator=function(){var t=this;return!this.focused.name||!this.typed.name||""!==this.input.name.trim()&&!Ce()(this.apps,(function(e){return e.name.trim().toLowerCase()===t.input.name.trim().toLowerCase()}))},t.prototype.urlValidator=function(){return!this.focused.url||!this.typed.url||$e.a.isValidUrl(this.input.url)},t.prototype.areAppDetailsValid=function(){return""!==this.input.name.trim()&&$e.a.isValidUrl(this.input.url)},t.prototype.onInputFocus=function(t){this.focused[t]=!0},t.prototype.onKeydown=function(t){this.typed[t]=!0,this.inputUpdated.emit(this.input)},t.prototype.onCheckChange=function(){this.inputUpdated.emit(this.input)},t.prototype.onSuggestionClick=function(){this.appSelected.emit(this.suggestedApp)},t.prototype.goBack=function(){this.appLibraryStatus.globalAppLibraryEnabled?this.appLibHelper.currentViewUpdated.next(0):this.closed.emit(!0)},t.prototype.validateName=function(){var t=this;Ce()(this.apps,(function(e){return e.name.trim().toLowerCase()===t.input.name.trim().toLowerCase()}))?this.translationHelper.translateAndAddGrowl({severity:"error",summary:"appLibrary.addApp.newAppDetails.cantUseName",detail:"appLibrary.addApp.newAppDetails.nameExists"}):this.pageChange.emit(1)},t.\u0275fac=function(e){return new(e||t)(c.Mb(Tc.a),c.Mb(Xt.a),c.Mb(we.a),c.Mb(Be.a),c.Mb(ae.a),c.Mb(Ie.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-new-app-details"]],outputs:{appSelected:"appSelected",pageChange:"pageChange",inputUpdated:"inputUpdated",closed:"closed"},decls:1,vars:0,consts:[[4,"transloco"],[1,"custom-scroll","flex-start","column-nowrap"],[3,"value","label","attributes","events","inputValidator","valueChange"],["class","flex-start-center",4,"ngIf"],["class","column-nowrap flex-start",4,"ngIf"],[1,"buttons"],[1,"button","button-default",3,"click"],[1,"button","button-primary",3,"tabindex","disabled","click"],[1,"flex-start-center"],[3,"checked","checkedChange"],[1,"sso-label"],[1,"column-nowrap","flex-start"],[1,"cl-app","app-library",3,"app","click"],[4,"ngIf","ngIfElse"],["removeButton",""],[1,"flex-center",3,"click"],[1,"flex-center","remove",3,"click"]],template:function(t,e){1&t&&c.Gc(0,uy,13,27,"ng-container",0)},directives:[Te.c,We.C,i.l,We.g,fv],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;width:100%;height:100%}h3[_ngcontent-%COMP%]{font-weight:700;font-size:calc(var(--font-modifier) * 18px)}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-bottom:20px}h2[_ngcontent-%COMP%]{font-weight:800;font-size:18px}p.sso-label[_ngcontent-%COMP%]{font-weight:600;font-size:13px}cl-input[_ngcontent-%COMP%]{-ms-flex:0 0 62px;flex:0 0 62px;height:62px;margin-bottom:20px;width:50%}cl-checkbox[_ngcontent-%COMP%]{margin-right:10px}.custom-scroll[_ngcontent-%COMP%]{padding:35px}.flex-start-center[_ngcontent-%COMP%]{margin-bottom:20px}.button[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 1px 1px var(--color-medium)}"]}),t}(),hy=["iconContainer"],by=["focusable"];function fy(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",18),c.Sb(2,"div",19),c.Sb(3,"div",20),c.Sb(4,"h4"),c.Ic(5),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Pb()),2&t){var n=c.dc(2).$implicit;c.Ab(5),c.Jc(n("common.noResults"))}}function my(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",21,22),c.Zb("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onSelectIcon(t)}))("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onSelectIcon(t)}))("keydown.Space",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onSelectIcon(t)}))("navigate",(function(t){return c.yc(n),c.dc(3).nav(t)}))("focus",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).itemFocus(t)})),c.Sb(2,"img",23),c.Zb("error",(function(t){return c.yc(n),c.dc(3).handleImage(t)})),c.Rb(),c.Sb(3,"div",19),c.Sb(4,"div",20),c.Sb(5,"h4"),c.Ic(6),c.Rb(),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(3);c.kc("id",i.name+"_opt")("customNavigation",!0),c.Bb("aria-selected",!!o.selectedIcon&&o.selectedIcon.id===i.id),c.Ab(2),c.kc("src",i.defaulturl,c.Ac),c.Ab(4),c.Jc(i.name)}}function vy(t,e){if(1&t&&(c.Sb(0,"div",15),c.Gc(1,fy,6,1,"ng-container",16),c.Gc(2,my,7,5,"div",17),c.Rb()),2&t){var n=c.dc(2);c.Ab(1),c.kc("ngIf",0===n.iconSearchResults.length),c.Ab(1),c.kc("ngForOf",n.iconSearchResults)}}function yy(t,e){if(1&t&&(c.Sb(0,"div",24),c.Sb(1,"label",25),c.Ic(2,"Selected Icon"),c.Rb(),c.Nb(3,"icon",26),c.Rb()),2&t){var n=c.dc(2);c.Ab(1),c.kc("for",n.selectedIcon.name),c.Ab(2),c.kc("icon",n.selectedIcon)("selected",!0)}}function Cy(t,e){if(1&t){var n=c.Tb();c.Sb(0,"icon",27,22),c.Zb("click",(function(t){c.yc(n);var i=e.$implicit;return c.dc(2).onSelectIcon(i,t)}))("keydown.Space",(function(t){c.yc(n);var i=e.$implicit;return c.dc(2).onSelectIcon(i,t)}))("keydown.Enter",(function(t){c.yc(n);var i=e.$implicit;return c.dc(2).onSelectIcon(i,t)}))("navigate",(function(t){return c.yc(n),c.dc(2).nav(t)})),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(2);c.Eb("assigned",o.selectedIcon&&o.selectedIcon.id===i.id),c.kc("id",i.name)("icon",i)("selected",o.selectedIcon&&o.selectedIcon.id===i.id)("customNavigation",!0)}}function xy(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",28),c.Zb("click",(function(){return c.yc(n),c.dc(2).loadMore()})),c.Ic(1,"Load More"),c.Rb()}}var wy=function(t){return{"icon-selected":t}},Py=function(t,e){return{type:"text","aria-label":t,"aria-controls":"selectIconListbox","aria-autocomplete":"list","aria-activedescendant":e}};function Oy(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"h3",2),c.Ic(3),c.Rb(),c.Sb(4,"div",3),c.Sb(5,"cl-input",4),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().iconSearch=t}))("valueChange",(function(){return c.yc(n),c.dc().onSearchValueChange()}))("keydown.arrowdown",(function(t){return c.yc(n),c.dc().inputNav(t)})),c.Rb(),c.Gc(6,vy,3,2,"div",5),c.Rb(),c.Gc(7,yy,4,3,"div",6),c.Rb(),c.Sb(8,"div",7,8),c.Zb("scrolled",(function(){return c.yc(n),c.dc().enableLoad()})),c.Gc(10,Cy,2,6,"icon",9),c.Sb(11,"div",10),c.Gc(12,xy,2,0,"button",11),c.Rb(),c.Rb(),c.Sb(13,"div",12),c.Sb(14,"button",13),c.Zb("click",(function(){return c.yc(n),c.dc().goBack()})),c.Ic(15),c.Rb(),c.Sb(16,"button",14),c.Zb("click",(function(){return c.yc(n),c.dc().submitApp()})),c.Ic(17),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(1),c.kc("ngClass",c.nc(17,wy,!!o.selectedIcon)),c.Ab(2),c.Jc(i("appLibrary.addApp.iconSelect.selectIcon")),c.Ab(1),c.Bb("aria-labelledby","iconSearchLabel")("aria-expanded",o.showResultsDrop),c.Ab(1),c.kc("value",o.iconSearch)("attributes",c.oc(19,Py,i("appLibrary.addApp.iconSelect.searchIcons"),!!o.focusedIcon&&o.focusedIcon.name+"_opt"))("icon","far fa-search"),c.Ab(1),c.kc("ngIf",o.showResultsDrop),c.Ab(1),c.kc("ngIf",o.selectedIcon),c.Ab(1),c.kc("scrollWindow",!1),c.Ab(2),c.kc("ngForOf",o.icons)("ngForTrackBy",o.iconTrackBy),c.Ab(2),c.kc("ngIf",o.canLoad),c.Ab(3),c.Jc(i("common.goBack")),c.Ab(1),c.kc("tabindex",void 0===o.selectedIcon?-1:0)("disabled",void 0===o.selectedIcon),c.Ab(1),c.Jc(i("appLibrary.addApp.addApp"))}}var My=function(){function t(t,e,n,i){var o=this;this.appLibService=t,this.appLibHelper=e,this.settingsHelper=n,this.layoutService=i,this.inputUpdated=new c.n,this.pageChange=new c.n,this.appSubmitted=new c.n,this.showResultsDrop=!1,this.pushItems=!1,this.iconFilters=new Lp({rows:100,page:1}),this.iconSearch="",this.canLoad=!1,this.subscriptions=[],this.subscriptions[0]=i.windowResized.subscribe((function(t){return o.setIconSize()})),this.subscriptions[1]=i.documentClicked.subscribe((function(t){return o.onDocumentClick()}))}return t.prototype.ngOnInit=function(){this.getIcons()},t.prototype.ngAfterViewInit=function(){var t=this;Object(T.a)(0).subscribe((function(){return t.setIconSize()}))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getIcons=function(){var t=this;this.appLibService.getIcons(this.iconFilters).subscribe((function(e){var n;t.pushItems?(n=t.icons).push.apply(n,e):t.icons=e}))},t.prototype.onPageScrolled=function(){this.pushItems=!0,this.iconFilters.page+=1,this.getIcons()},t.prototype.onSearchValueChange=function(){var t=this;this.subscriptions[2]&&this.subscriptions[2].unsubscribe(),this.subscriptions[2]=Object(T.a)(500).subscribe((function(){return t.onIconSearch()}))},t.prototype.onIconSearch=function(){var t=this;this.appLibService.searchIcons(this.iconSearch).subscribe((function(e){t.showResultsDrop=!0,t.iconSearchResults=e.slice(0,10)}))},t.prototype.onSelectIcon=function(t){this.selectedIcon=t,this.showResultsDrop=!1,this.inputUpdated.emit(this.selectedIcon)},t.prototype.onDocumentClick=function(){this.showResultsDrop=!1,this.focusedIcon=null},t.prototype.goBack=function(){this.pageChange.emit(0)},t.prototype.setIconSize=function(){if(this.iconContainer){var t=this.iconContainer.nativeElement.getBoundingClientRect(),e=t.width?t.width:t.right-t.left,n=this.settingsHelper.getScrollBarWidth();this.settingsHelper.updateAppMarginRule(".app-lib-full-margin",e-n-70,143,5)}},t.prototype.iconTrackBy=function(t){return t.id},t.prototype.submitApp=function(){this.appSubmitted.emit(!0)},t.prototype.nav=function(t){if(t.stopPropagation(),t.preventDefault(),this.iconList.length){var e=this.iconList.toArray();$e.a.keyboardJump(e,t,!0)}},t.prototype.inputNav=function(t){this.focusedIcon=this.selectedIcon?this.selectedIcon:this.iconSearchResults[0],this.iconList.length&&this.iconList.toArray()[0].nativeElement.focus()},t.prototype.itemFocus=function(t){this.focusedIcon=t},t.prototype.loadMore=function(){this.pushItems=!0,this.iconFilters.page+=1,this.getIcons(),$e.a.focusOnStoredElement()},t.prototype.enableLoad=function(){this.canLoad=!(this.iconList.length<this.iconFilters.offset+this.iconFilters.limit)},t.prototype.handleImage=function(t){t.target.src=Re.a.coreCDN+"/assets/images/default-app-icon.png"},t.\u0275fac=function(e){return new(e||t)(c.Mb(Tc.a),c.Mb(we.a),c.Mb(re.a),c.Mb(We.G))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-icon-select"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(hy,!0),c.Nc(by,!0,c.l)),2&t&&(c.uc(n=c.ac())&&(e.iconContainer=n.first),c.uc(n=c.ac())&&(e.iconList=n))},outputs:{inputUpdated:"inputUpdated",pageChange:"pageChange",appSubmitted:"appSubmitted"},decls:1,vars:0,consts:[[4,"transloco"],[1,"top","flex-start-center",3,"ngClass"],["id","iconSearchLabel"],["role","combobox",1,"app-lib-input-ctnr"],[3,"value","attributes","icon","valueChange","keydown.arrowdown"],["class","dropdown flex-start custom-scroll","id","selectIconListbox","role","listbox",4,"ngIf"],["class","selected-icon",4,"ngIf"],["infiniteScroll","",1,"icons","row-wrap","flex-start","custom-scroll",3,"scrollWindow","scrolled"],["iconContainer",""],["clLastFocused","","class","cl-app app-library app-lib-full-margin focusable-small cl-focusable","tabindex","0","role","button","clItem","",3,"id","icon","selected","assigned","customNavigation","click","keydown.Space","keydown.Enter","navigate",4,"ngFor","ngForOf","ngForTrackBy"],[1,"load-more"],["class","button button-primary",3,"click",4,"ngIf"],[1,"buttons"],[1,"button","button-default",3,"click"],[1,"button","button-secondary",3,"tabindex","disabled","click"],["id","selectIconListbox","role","listbox",1,"dropdown","flex-start","custom-scroll"],[4,"ngIf"],["tabindex","0","class","suggestion flex-start-center","role","option button","clItem","",3,"id","customNavigation","click","keydown.Enter","keydown.Space","navigate","focus",4,"ngFor","ngForOf"],[1,"suggestion","flex-start-center"],[1,"text-ctnr","flex-start"],[1,"flex-start"],["tabindex","0","role","option button","clItem","",1,"suggestion","flex-start-center",3,"id","customNavigation","click","keydown.Enter","keydown.Space","navigate","focus"],["focusable",""],["alt","",3,"src","error"],[1,"selected-icon"],[3,"for"],[1,"cl-app","app-library","app-lib-full-margin",3,"icon","selected"],["clLastFocused","","tabindex","0","role","button","clItem","",1,"cl-app","app-library","app-lib-full-margin","focusable-small","cl-focusable",3,"id","icon","selected","customNavigation","click","keydown.Space","keydown.Enter","navigate"],[1,"button","button-primary",3,"click"]],template:function(t,e){1&t&&c.Gc(0,Oy,18,22,"ng-container",0)},directives:[Te.c,i.j,We.C,i.l,Np.a,i.k,We.J,Bp,We.F],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-ms-flex-pack:justify;justify-content:space-between;width:100%;height:100%}.custom-scroll[_ngcontent-%COMP%], .top[_ngcontent-%COMP%]{padding:0 35px}.top[_ngcontent-%COMP%]{width:100%;padding:35px;max-height:calc(100% - 200px);border-bottom:1px solid var(--color-border-dark)}.top.icon-selected[_ngcontent-%COMP%]{max-height:calc(100% - 100px)}.top[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:calc(var(--font-modifier) * 18px)}.top[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]{width:50%;-ms-flex-positive:0;flex-grow:0;margin-left:20px}.top[_ngcontent-%COMP%]   .selected-icon[_ngcontent-%COMP%]{height:-moz-min-content;height:min-content;text-align:center}.top[_ngcontent-%COMP%]   .selected-icon[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--color-primary)}.top[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{pointer-events:none;margin-bottom:0!important}icon.cl-app.app-library[_ngcontent-%COMP%]{height:125px;margin-top:5px;margin-bottom:20px}.icons[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.load-more[_ngcontent-%COMP%]{width:100%;padding:30px 0}.load-more[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 auto}.icon-preview-add-app[_ngcontent-%COMP%]{border:1px solid red}.button[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 1px 1px var(--color-medium)}.buttons[_ngcontent-%COMP%]{margin-top:0!important;-ms-flex:0 0 60px!important;flex:0 0 60px!important;height:60px!important}@media screen and (max-height:440px){[_nghost-%COMP%]{overflow-y:auto;overflow-x:hidden;display:block}.top[_ngcontent-%COMP%]{padding:10px 20px;max-height:170px!important}}"]}),t}(),_y=function(t){return{required:!0,type:"text","aria-label":t}},ky=function(t,e){return{focus:t,keydown:e}},Sy=function(t){return{type:"text","aria-label":t}};function Ay(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"h1"),c.Ic(2),c.Rb(),c.Sb(3,"button",1),c.Zb("click",(function(){return c.yc(n),c.dc().pageChange.emit(1)})),c.Ic(4),c.Rb(),c.Sb(5,"cl-input",2),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().input.name=t})),c.Rb(),c.Sb(6,"label"),c.Ic(7),c.Sb(8,"span"),c.Ic(9,"*"),c.Rb(),c.Rb(),c.Sb(10,"textarea",3),c.Zb("ngModelChange",(function(t){return c.yc(n),c.dc().input.description=t}))("focus",(function(){return c.yc(n),c.dc().onInputFocus("description")}))("keydown",(function(){return c.yc(n),c.dc().onKeydown("description")})),c.Rb(),c.Sb(11,"cl-input",2),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().input.url=t})),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(2),c.Jc(i("appLibrary.addApp.requestIcon.request")),c.Ab(2),c.Jc(i("appLibrary.addApp.requestIcon.existing")),c.Ab(1),c.kc("value",o.input.name)("label",i("appLibrary.addApp.requestIcon.nameLabel"))("attributes",c.nc(17,_y,i("appLibrary.addApp.requestIcon.nameLabel")))("events",c.oc(19,ky,o.onInputFocus.bind(o,"name"),o.onKeydown.bind(o,"name")))("inputValidator",o.nameValidator.bind(o)),c.Ab(2),c.Jc(i("appLibrary.addApp.requestIcon.descriptionLabel")),c.Ab(3),c.Eb("invalid",!o.descriptionValidator()),c.kc("ngModel",o.input.description),c.Bb("aria-label",i("appLibrary.addApp.requestIcon.descriptionLabel")),c.Ab(1),c.kc("value",o.input.url)("label",i("apps.appUrl"))("attributes",c.nc(22,Sy,i("apps.appUrl")))("events",c.oc(24,ky,o.onInputFocus.bind(o,"url"),o.onKeydown.bind(o,"url")))("inputValidator",o.urlValidator.bind(o))}}var Iy=function(){function t(){this.inputUpdated=new c.n,this.pageChange=new c.n,this.focused={name:!1,description:!1,url:!1},this.typed={name:!1,description:!1,url:!1},this.input={name:"",description:"",url:""}}return t.prototype.nameValidator=function(){return!this.focused.name||!this.typed.name||""!==this.input.name.trim()},t.prototype.descriptionValidator=function(){return!this.focused.description||!this.typed.description||""!==this.input.description.trim()},t.prototype.urlValidator=function(){return""===this.input.url||!this.focused.url||!this.typed.url||$e.a.isValidUrl(this.input.url)},t.prototype.onInputFocus=function(t){this.focused[t]=!0},t.prototype.onKeydown=function(t){this.typed[t]=!0,this.inputUpdated.emit(this.input)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["app-request-icon"]],outputs:{inputUpdated:"inputUpdated",pageChange:"pageChange"},decls:1,vars:0,consts:[[4,"transloco"],[3,"click"],[3,"value","label","attributes","events","inputValidator","valueChange"],["required","",3,"ngModel","ngModelChange","focus","keydown"]],template:function(t,e){1&t&&c.Gc(0,Ay,12,27,"ng-container",0)},directives:[Te.c,We.C,xi.a,xi.o,xi.j,xi.m],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:start;align-items:flex-start;width:100%;height:100%}h1[_ngcontent-%COMP%]{font-weight:700;font-size:calc(var(--font-modifier) * 18px);margin-bottom:5px}button[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;position:relative;color:var(--color-primary);font-weight:800;font-size:calc(var(--font-modifier) * 13px);padding:0;text-transform:uppercase;margin-bottom:30px}.button[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 1px 1px var(--color-medium)}cl-input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:50%;margin-bottom:20px}cl-input[_ngcontent-%COMP%]{height:62px;-ms-flex:0 0 62px;flex:0 0 62px}textarea[_ngcontent-%COMP%]{background-color:#fff}textarea.invalid[_ngcontent-%COMP%]{background-color:#fff0f0;color:var(--color-danger);border-color:var(--color-danger)}label[_ngcontent-%COMP%]{margin-bottom:5px}label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{position:relative;font-size:calc(var(--font-modifier) * 14px);color:var(--color-warning);font-weight:600;margin-left:4px;top:3px}"]}),t}();function Ry(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-new-app-details",3),c.Zb("inputUpdated",(function(t){return c.yc(n),c.dc().appDetails=t}))("pageChange",(function(t){return c.yc(n),c.dc().changePage(t)}))("closed",(function(t){return c.yc(n),c.dc().closeSlideover(t)})),c.Rb()}}function Ty(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-icon-select",4),c.Zb("inputUpdated",(function(t){return c.yc(n),c.dc().selectedIcon=t}))("appSubmitted",(function(){return c.yc(n),c.dc().submitApp()}))("pageChange",(function(t){return c.yc(n),c.dc().changePage(t)})),c.Rb()}}function Fy(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-request-icon",5),c.Zb("inputUpdated",(function(t){return c.yc(n),c.dc().customIconRequest=t}))("pageChange",(function(t){return c.yc(n),c.dc().changePage(t)})),c.Rb()}}var Ey=function(){function t(t,e,n,i){this.appLibraryService=t,this.appsHelper=e,this.translationHelper=n,this.appsService=i,this.appSubmitted=new c.n,this.closed=new c.n,this.appDetails={name:"",url:"",sso:!1},this.selectedIcon=void 0,this.customIconRequest={name:"",description:"",url:""},this.currentPage=0,this.requestedNewIcon=!1,this.subscriptions=[]}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.changePage=function(t){this.currentPage=t},t.prototype.closeSlideover=function(t){this.closed.emit(t)},t.prototype.submitApp=function(){var t=this,e=Object(le.a)(Object(le.a)({},this.appDetails),{icon:this.selectedIcon.defaulturl,requestedNewIcon:this.requestedNewIcon,iconName:this.customIconRequest.name,iconDescription:this.customIconRequest.description,iconUrl:this.customIconRequest.url});this.appLibraryService.submitAppRequest(e).subscribe((function(e){if("reach_allowed_limit"===e.response)return t.translationHelper.translateAndAddGrowl({severity:"error",summary:"appLibrary.addApp.cantAdd",detail:"appLibrary.addApp.cantAddDetail"}),void t.appSubmitted.emit(!0);t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"common.app",verb:"common.added"}),t.appSubmitted.emit(!0),Object(T.a)(100).subscribe((function(){t.appsService.getMyApps().pipe(Object(ze.a)()).subscribe((function(e){t.appsHelper.appsUpdated.next({apps:e,reload:!0})}))}))}))},t.\u0275fac=function(e){return new(e||t)(c.Mb(Tc.a),c.Mb(Xt.a),c.Mb(Be.a),c.Mb(je.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-add-app"]],outputs:{appSubmitted:"appSubmitted",closed:"closed"},decls:3,vars:3,consts:[[3,"inputUpdated","pageChange","closed",4,"ngIf"],[3,"inputUpdated","appSubmitted","pageChange",4,"ngIf"],[3,"inputUpdated","pageChange",4,"ngIf"],[3,"inputUpdated","pageChange","closed"],[3,"inputUpdated","appSubmitted","pageChange"],[3,"inputUpdated","pageChange"]],template:function(t,e){1&t&&(c.Gc(0,Ry,1,0,"app-new-app-details",0),c.Gc(1,Ty,1,0,"app-icon-select",1),c.Gc(2,Fy,1,0,"app-request-icon",2)),2&t&&(c.kc("ngIf",0===e.currentPage),c.Ab(1),c.kc("ngIf",1===e.currentPage),c.Ab(1),c.kc("ngIf",2===e.currentPage))},directives:[i.l,gy,My,Iy],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;height:calc(100% - 100px);padding:0}"]}),t}();function Dy(t,e){1&t&&(c.Qb(0),c.Nb(1,"cl-progress-spinner",16),c.Pb())}function Ly(t,e){if(1&t&&(c.Qb(0),c.Ic(1),c.Pb()),2&t){var n=c.dc(2).$implicit;c.Ab(1),c.Kc(" ",n("common.remove")," ")}}function Ny(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"button",15),c.Zb("click",(function(){c.yc(n);var t=c.dc(3);return t.appLibHelper.removeApp(t.app)})),c.Gc(2,Dy,2,0,"ng-container",0),c.Gc(3,Ly,2,1,"ng-container",0),c.Rb(),c.Pb()}if(2&t){var i=c.dc(3);c.Ab(1),c.Eb("disabled",!i.appLibHelper.canAppBeChanged(i.app)||i.appLibHelper.actionPending[i.app.id]),c.kc("disabled",!i.appLibHelper.canAppBeChanged(i.app)||i.appLibHelper.actionPending[i.app.id]),c.Ab(1),c.kc("ngIf",i.appLibHelper.actionPending[i.app.id]),c.Ab(1),c.kc("ngIf",!i.appLibHelper.actionPending[i.app.id])}}function Hy(t,e){1&t&&(c.Qb(0),c.Nb(1,"cl-progress-spinner",18),c.Pb())}function Gy(t,e){if(1&t&&(c.Qb(0),c.Ic(1),c.Pb()),2&t){var n=c.dc(2).$implicit;c.Ab(1),c.Kc(" ",n("common.add")," ")}}function By(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"button",17),c.Zb("click",(function(){c.yc(n);var t=c.dc(3);return t.appLibHelper.addApp(t.app)})),c.Gc(2,Hy,2,0,"ng-container",0),c.Gc(3,Gy,2,1,"ng-container",0),c.Rb(),c.Pb()}if(2&t){var i=c.dc(3);c.Ab(1),c.Eb("disabled",!i.appLibHelper.canAppBeChanged(i.app)||i.appLibHelper.actionPending[i.app.id]),c.kc("disabled",!i.appLibHelper.canAppBeChanged(i.app)||i.appLibHelper.actionPending[i.app.id]),c.Ab(1),c.kc("ngIf",i.appLibHelper.actionPending[i.app.id]),c.Ab(1),c.kc("ngIf",!i.appLibHelper.actionPending[i.app.id])}}function jy(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",2),c.Sb(2,"div",3),c.Sb(3,"p",4),c.Zb("click",(function(){return c.yc(n),c.dc(2).goBack()}))("enter",(function(){return c.yc(n),c.dc(2).goBack()})),c.Ic(4),c.Rb(),c.Sb(5,"span"),c.Nb(6,"i",5),c.Rb(),c.Sb(7,"p"),c.Ic(8),c.Rb(),c.Rb(),c.Sb(9,"div",6),c.Nb(10,"app-library-app",7),c.Sb(11,"div",8),c.Sb(12,"h3",9),c.Ic(13),c.Rb(),c.Sb(14,"h3",10),c.Ic(15),c.Rb(),c.Gc(16,Ny,4,5,"ng-container",0),c.Gc(17,By,4,5,"ng-container",0),c.Rb(),c.Rb(),c.Rb(),c.Sb(18,"div",11),c.Sb(19,"h4"),c.Ic(20),c.Rb(),c.Sb(21,"p"),c.Ic(22),c.Rb(),c.Sb(23,"div",12),c.Nb(24,"i"),c.Sb(25,"p"),c.Ic(26),c.Rb(),c.Rb(),c.Rb(),c.Sb(27,"div",13),c.Sb(28,"p",14),c.Ic(29),c.Rb(),c.Sb(30,"p"),c.Ic(31),c.Rb(),c.Sb(32,"p",14),c.Ic(33),c.Rb(),c.Sb(34,"p"),c.Ic(35),c.Rb(),c.Sb(36,"p",14),c.Ic(37),c.Rb(),c.Sb(38,"p"),c.Ic(39),c.Rb(),c.Sb(40,"p",14),c.Ic(41),c.Rb(),c.Sb(42,"p"),c.Ic(43),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc(2);c.Ab(4),c.Kc(" ",o.activeCollection.Name," "),c.Ab(4),c.Jc(o.app.name),c.Ab(2),c.Eb("assigned",o.appLibHelper.isAppAssigned(o.app)),c.kc("app",o.app)("hideName",!0),c.Ab(3),c.Jc(o.app.name),c.Ab(2),c.Jc(o.app.url),c.Ab(1),c.kc("ngIf",o.hasApp),c.Ab(1),c.kc("ngIf",!o.hasApp),c.Ab(3),c.Jc(i("common.description")),c.Ab(1),c.Eb("empty",!o.app.description),c.Ab(1),c.Jc(o.app.description?o.app.description:i("appLibrary.appDetails.noDescription")),c.Ab(2),c.Cb("far fa-"+o.app.categoryicon),c.Ab(2),c.Jc(o.app.categoryname),c.Ab(3),c.Jc(i("appLibrary.appDetails.type")),c.Ab(1),c.Eb("empty",!o.app.type_name),c.Ab(1),c.Jc(o.app.type_name?o.app.type_name:i("appLibrary.appDetails.noType")),c.Ab(2),c.Jc(i("appLibrary.appDetails.privacy")),c.Ab(1),c.Eb("empty",!o.app.privacyurl),c.Ab(1),c.Jc(o.app.privacyurl?o.app.privacyurl:i("appLibrary.appDetails.noPrivacy")),c.Ab(2),c.Jc(i("appLibrary.appDetails.terms")),c.Ab(1),c.Eb("empty",!o.app.termsofserviceurl),c.Ab(1),c.Jc(o.app.termsofserviceurl?o.app.termsofserviceurl:i("appLibrary.appDetails.noTerms")),c.Ab(2),c.Jc(i("appLibrary.appDetails.dataSharing")),c.Ab(1),c.Eb("empty",!o.app.datasharingurl),c.Ab(1),c.Jc(o.app.datasharingurl?o.app.datasharingurl:i("appLibrary.appDetails.noDataSharing"))}}function Uy(t,e){1&t&&(c.Qb(0),c.Gc(1,jy,44,33,"ng-container",1),c.Pb())}var zy=function(){function t(t,e){var n=this;this.appsHelper=t,this.appLibHelper=e,this.hasApp=!1,this.subscriptions=[],this.subscriptions[0]=this.appLibHelper.collectionUpdated.subscribe((function(t){return n.activeCollection=t})),this.subscriptions[1]=this.appsHelper.appsUpdated.subscribe((function(t){n.allUserApps=t.apps,n.onAppsChange()}))}return t.prototype.ngOnChanges=function(t){t.app&&this.onAppsChange()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onAppsChange=function(){var t=this;this.app&&(this.hasApp=Boolean(Ce()(this.allUserApps,(function(e){return e.id===t.app.id}))))},t.prototype.goBack=function(){this.appLibHelper.currentViewUpdated.next(0)},t.\u0275fac=function(e){return new(e||t)(c.Mb(Xt.a),c.Mb(we.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-app-details"]],inputs:{app:"app"},features:[c.yb],decls:1,vars:1,consts:[[4,"ngIf"],[4,"transloco"],[1,"main-content","flex-start","column-nowrap","border-bottom"],[1,"breadcrumbs","flex-start"],["role","link","tabindex","0",1,"focusable-small",3,"click","enter"],[1,"far","fa-angle-right"],[1,"img-details","flex-start"],[1,"cl-app","app-library","large",3,"app","hideName"],[1,"sub-details","flex-start","column-nowrap"],[1,"name"],[1,"url"],[1,"description","border-bottom"],[1,"border","flex-start-center"],[1,"details"],[1,"detail-label"],[1,"flex-center","remove",3,"disabled","click"],["strokeColor","var(--color-danger)"],[1,"flex-center",3,"disabled","click"],["strokeColor","var(--color-primary)"]],template:function(t,e){1&t&&c.Gc(0,Uy,2,0,"ng-container",0),2&t&&c.kc("ngIf",e.app)},directives:[i.l,Te.c,fv,We.M],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:start;align-items:flex-start;width:100%;height:calc(100% - 120px);overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{padding:30px 225px;width:100%}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:800;font-size:13px;margin-bottom:5px}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;margin-bottom:20px}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   p.empty[_ngcontent-%COMP%]{color:#888}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]{padding:30px 35px}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]{margin-bottom:30px}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]   p[role=link][_ngcontent-%COMP%]{font-weight:600;font-size:13px;margin-right:8px;color:var(--color-primary);cursor:pointer}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], [_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-size:13px;margin-right:8px}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], [_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], [_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]   button.primary[_ngcontent-%COMP%], [_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]   p.primary[_ngcontent-%COMP%], [_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]   span.primary[_ngcontent-%COMP%]{color:var(--color-primary)}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .sub-details[_ngcontent-%COMP%]{padding:5px}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .sub-details[_ngcontent-%COMP%]   h3.name[_ngcontent-%COMP%]{font-weight:800;font-size:26px;margin-bottom:10px}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .sub-details[_ngcontent-%COMP%]   h3.url[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:600;font-size:14px;margin-bottom:30px}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .sub-details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:5px;padding:5px;margin-top:8px;width:80px;height:30px;font-weight:700;color:var(--color-primary);background-color:#fff;border:2px solid var(--color-primary);font-size:13px;transition:background-color .1s ease-in-out}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .sub-details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   cl-progress-spinner[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .sub-details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e0f4ff}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .sub-details[_ngcontent-%COMP%]   button.remove[_ngcontent-%COMP%]{color:#da3939;border-color:#da3939}[_nghost-%COMP%] > div.main-content[_ngcontent-%COMP%]   .sub-details[_ngcontent-%COMP%]   button.remove[_ngcontent-%COMP%]:hover{background-color:#fff1f1}.description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .details[_ngcontent-%COMP%]   p.detail-label[_ngcontent-%COMP%]{font-weight:800;font-size:13px;margin-bottom:5px}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #e6e6e6}.italic[_ngcontent-%COMP%]{font-style:italic}.border[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;border:2px solid #333;border-radius:20px;font-weight:700;font-size:13px;margin-top:20px;padding:7px 20px}.border[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:10px}@media screen and (max-width:786px){.description[_ngcontent-%COMP%], .details[_ngcontent-%COMP%]{padding:30px 35px!important}}"]}),t}();function Vy(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-library-header",3),c.Zb("closed",(function(){c.yc(n);var t=c.dc();return t.visible=!1,t.onVisibleChange()}))("focusMoved",(function(){return c.yc(n),c.dc().focusMainDisplay()})),c.Rb()}if(2&t){var i=c.dc();c.kc("collections",i.collections)}}function Zy(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-main-display",7),c.Zb("appSelected",(function(t){return c.yc(n),c.dc(2).onAppSelected(t)})),c.Rb()}if(2&t){var i=c.dc(2);c.kc("categories",i.categories)("educationId",i.educationId)}}function $y(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-add-app",8),c.Zb("appSubmitted",(function(){return c.yc(n),c.dc(2).onAppAdded()}))("closed",(function(){c.yc(n);var t=c.dc(2);return t.visible=!1,t.onVisibleChange()})),c.Rb()}}function Wy(t,e){if(1&t&&c.Nb(0,"app-app-details",9),2&t){var n=c.dc(2);c.kc("app",n.selectedApp)}}function Jy(t,e){if(1&t&&(c.Qb(0),c.Gc(1,Zy,1,2,"app-main-display",4),c.Gc(2,$y,1,0,"app-add-app",5),c.Gc(3,Wy,1,1,"app-app-details",6),c.Pb()),2&t){var n=c.dc();c.Ab(1),c.kc("ngIf",0===n.currentView),c.Ab(1),c.kc("ngIf",1===n.currentView),c.Ab(1),c.kc("ngIf",2===n.currentView)}}var qy=function(){function t(t,e,n,i,o,r){var a=this;this.slideoverService=t,this.appsService=e,this.ele=n,this.appLibHelper=i,this.translocoService=o,this.appsHelper=r,this.currentView=0,this.visible=!1,this.collections=[],this.categories=[],this.delayWaited=!1,this.filterVal="",this.subscriptions=[],this.subscriptions[0]=this.slideoverService.appLibrary.opened.subscribe((function(t){return a.initSlideover(t)})),this.subscriptions[1]=this.appLibHelper.currentViewUpdated.subscribe((function(t){return a.currentView=t})),this.subscriptions[2]=this.appLibHelper.filterUpdated.subscribe((function(t){return a.filterVal=t})),this.appLibHelper.collectionUpdated.next({Name:"All Apps",Id:-1,TenantWide:!0})}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onVisibleChange=function(){this.visible||(this.slideoverService.appLibrary.closed.next(!0),this.appsHelper.addAppsToFolder.next(null),this.delayWaited=!1,this.currentView=0)},t.prototype.initSlideover=function(t){var e=this;this.visible=!0,this.getCategories(),this.returnEle=t,Object(T.a)(330).subscribe((function(){e.delayWaited=!0,document.querySelector("cl-slideover.app-library input").focus()}))},t.prototype.onEscape=function(){this.visible&&(""!==this.filterVal?this.appLibHelper.filterUpdated.next(""):this.visible=!1)},t.prototype.getCategories=function(){var t=this;this.appsService.getDashboard().subscribe((function(e){t.collections=e.enterprisecategories?e.enterprisecategories:[];var n=e.categorylist.categories.map((function(e){return e.name=t.translocoService.translate("appLibrary.categories."+e.name),e.isSubject=!1,e})),i=e.categorylist.subjects.map((function(e){return e.name=t.translocoService.translate("appLibrary.categories."+e.name),e.isSubject=!0,e}));t.categories=zv()(Object(le.e)(n,i),(function(t){return t.name})),t.educationId=e.categorylist.education_id}))},t.prototype.onAppSelected=function(t){this.selectedApp=t,this.appLibHelper.currentViewUpdated.next(2)},t.prototype.onAppAdded=function(){this.visible=!1,this.onVisibleChange()},t.prototype.focusMainDisplay=function(){this.mainDisplay.appContainer.nativeElement.focus()},t.\u0275fac=function(e){return new(e||t)(c.Mb(xe.a),c.Mb(Tc.a),c.Mb(c.l),c.Mb(we.a),c.Mb(Te.f),c.Mb(Xt.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-library"]],viewQuery:function(t,e){var n;1&t&&c.Nc(jv,!0),2&t&&c.uc(n=c.ac())&&(e.mainDisplay=n.first)},hostBindings:function(t,e){1&t&&c.Zb("keydown.escape",(function(){return e.onEscape()}),!1,c.wc)},decls:3,vars:7,consts:[["aria-labelledby","appLibTitle",1,"app-library",3,"visible","initElement","width","showCloseIcon","clFocusTrap","visibleChange"],[3,"collections","closed","focusMoved",4,"ngIf"],[4,"ngIf"],[3,"collections","closed","focusMoved"],[3,"categories","educationId","appSelected",4,"ngIf"],[3,"appSubmitted","closed",4,"ngIf"],["class","custom-scroll",3,"app",4,"ngIf"],[3,"categories","educationId","appSelected"],[3,"appSubmitted","closed"],[1,"custom-scroll",3,"app"]],template:function(t,e){1&t&&(c.Sb(0,"cl-slideover",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(){return e.onVisibleChange()})),c.Gc(1,Vy,1,1,"app-library-header",1),c.Gc(2,Jy,4,3,"ng-container",2),c.Rb()),2&t&&(c.kc("visible",e.visible)("initElement",e.returnEle)("width","90%")("showCloseIcon",!1)("clFocusTrap",e.visible),c.Ab(1),c.kc("ngIf",e.visible),c.Ab(1),c.kc("ngIf",e.delayWaited))},directives:[We.S,We.y,i.l,ry,jv,Ey,zy],styles:["cl-slideover.app-library .cl-slideover{--color-primary:#0054ff;overflow:hidden}cl-slideover.app-library .cl-slideover button.close{top:5px;right:5px;padding:8px}cl-slideover.app-library .cl-slideover div.app-lib-input-ctnr cl-input.app-search .input-ctnr input{border:0;padding-right:125px;opacity:.93;transition:opacity .2s linear}cl-slideover.app-library .cl-slideover div.app-lib-input-ctnr cl-input.app-search .input-ctnr input:focus{opacity:1;border:1px solid var(--color-border-dark);box-shadow:0 0 10px rgba(0,0,0,.21)}cl-slideover.app-library .cl-slideover div.app-lib-input-ctnr cl-input.app-search .input-ctnr>span.icon>svg{color:var(--color-primary)!important}cl-slideover.app-library .cl-slideover .buttons{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-align:center;align-items:center;border-top:1px solid var(--color-border-dark);height:80px;width:100%;-ms-flex:0 0 80px;flex:0 0 80px;position:relative;padding:0 35px;margin-top:auto}cl-slideover.app-library .cl-slideover .buttons .button-default{margin-right:auto}.cl-app.app-library{height:175px;width:143px;margin-top:10px;margin-bottom:40px}.cl-app.app-library:focus,.cl-app.app-library:focus-within,.cl-app.app-library:hover{background-color:rgba(0,0,0,0)}.cl-app.app-library:focus-within button,.cl-app.app-library:focus button,.cl-app.app-library:hover button{opacity:1}.cl-app.app-library:focus:after{z-index:1}.cl-app.app-library.assigned .cl-clip-img-ctnr:before{box-shadow:0 0 20px #008ad7}.cl-app.app-library.assigned .flags{left:calc(100% - 4px)}.cl-app.app-library.large{width:160px;height:160px;margin:0 30px 0 0}.cl-app.app-library.large .cl-clip-img-ctnr{width:100%;height:100%}.cl-app.app-library.large .cl-clip-img-ctnr:before{border-radius:50px}.cl-app.app-library.large .cl-clip-img-ctnr.assigned:before{box-shadow:0 0 30px rgba(0,0,0,.3)}.cl-app.app-library.large .cl-clip-img-ctnr .img-border.assigned{top:-3px;left:-3px}.cl-app.app-library.large .cl-clip-img-ctnr .img-border img{width:144px;height:144px}.cl-app.app-library.large .cl-clip-img-ctnr .key{right:-40px;top:-6px;height:59px;width:124px}.cl-app.app-library.large .cl-clip-img-ctnr .key svg{width:20px;-ms-transform:translate(-2px,-5px) rotate(-135deg);transform:translate(-2px,-5px) rotate(-135deg)}.cl-app.app-library button{border-radius:5px;padding:5px;margin-top:8px;width:80px;height:30px;font-weight:700;color:var(--color-primary);background-color:#fff;border:2px solid var(--color-primary);font-size:calc(var(--font-modifier) * 13px);transition:background-color .1s ease-in-out;min-width:unset}.cl-app.app-library button:hover{background-color:#e0f4ff}.cl-app.app-library button.remove{color:#da3939;border-color:#da3939}.cl-app.app-library button.remove:hover{background-color:#fff1f1}.cl-app.app-library .cl-clip-img-ctnr{margin-bottom:0;width:75px;height:75px}.cl-app.app-library .cl-clip-img-ctnr .img-border img{width:72px;height:72px}.cl-app.app-library .cl-clip-img-ctnr .img-border.assigned{position:absolute;width:calc(100% + 6px);height:calc(100% + 6px);top:-3px;left:-3px;background-color:var(--color-primary);clip-path:url(#squareCircle)}.cl-app.app-library .cl-clip-img-ctnr:before{box-shadow:0 0 20px rgba(0,0,0,.2);width:calc(100% - 20px);height:calc(100% - 20px);top:10px;left:10px}.cl-app.app-library .cl-clip-img-ctnr:hover:before{box-shadow:0 0 30px rgba(0,0,0,.5)}.cl-app.app-library .name{background-color:rgba(0,0,0,0);-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:center;justify-content:center;overflow:hidden;padding:0;margin-top:5px;height:42px;-ms-flex:0 0 42px;flex:0 0 42px}.cl-app.app-library .name>p{color:#333;font-size:calc(var(--font-modifier) * 14px);font-weight:600;line-height:14px;letter-spacing:0;height:42px;overflow:hidden;text-overflow:ellipsis;white-space:pre-line;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}icon.cl-app.app-library .name{margin-top:0}.app-lib-input-ctnr{position:relative;-ms-flex-positive:1;flex-grow:1;height:40px;margin-left:auto}.app-lib-input-ctnr cl-input{height:40px}.app-lib-input-ctnr button{position:absolute;top:15px;right:10px;height:20px;color:#0096ea;font-size:calc(var(--font-modifier) * 13px);font-weight:600}.app-lib-input-ctnr button>svg{margin-left:10px}.app-lib-input-ctnr .dropdown{position:absolute;top:100%;left:0;width:100%;background-color:#fff;padding:20px!important;box-shadow:0 15px 30px 0 rgba(0,0,0,.15);border-radius:5px;z-index:300;max-height:500px;-ms-flex-flow:column nowrap;flex-flow:column nowrap}.app-lib-input-ctnr .dropdown .suggestion{width:100%;height:60px;padding:10px;border-radius:5px;cursor:pointer}.app-lib-input-ctnr .dropdown .suggestion.active,.app-lib-input-ctnr .dropdown .suggestion:focus,.app-lib-input-ctnr .dropdown .suggestion:hover{background-color:#ddf0fe}.app-lib-input-ctnr .dropdown .suggestion img{width:40px;height:40px;border-radius:50%;margin-right:15px}.app-lib-input-ctnr .dropdown .suggestion .text-ctnr{-ms-flex-flow:column nowrap;flex-flow:column nowrap}.app-lib-input-ctnr .dropdown .suggestion .text-ctnr>div{margin-bottom:5px}.app-lib-input-ctnr .dropdown .suggestion .text-ctnr>div>*{font-size:calc(var(--font-modifier) * 13px);font-weight:600;letter-spacing:0}.app-lib-input-ctnr .dropdown .suggestion .text-ctnr>div svg{margin:0 5px 0 10px}.app-lib-input-ctnr .dropdown .suggestion .text-ctnr>div p,.app-lib-input-ctnr .dropdown .suggestion .text-ctnr>div svg{color:#0096ea}.app-lib-input-ctnr .dropdown .suggestion .text-ctnr p{font-size:calc(var(--font-modifier) * 12px)}"],encapsulation:2}),t}(),Ky=function(){function t(){this.isDragging=new m.a,this.draggedApp=new m.a}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}();function Yy(t,e){if(1&t&&(c.cc(),c.Sb(0,"svg",10),c.Nb(1,"path",11),c.Rb()),2&t){var n=c.dc(2);c.kc("title","Locked")("id",n.app.name+"_locked")}}function Qy(t,e){if(1&t&&(c.cc(),c.Sb(0,"svg",12),c.Nb(1,"path",13),c.Rb()),2&t){var n=c.dc(2);c.kc("title","Single Sign On")("id",n.app.name+"_sso")}}function Xy(t,e){if(1&t&&(c.Sb(0,"div",7),c.Gc(1,Yy,2,2,"svg",8),c.Gc(2,Qy,2,2,"svg",9),c.Rb()),2&t){var n=c.dc();c.Ab(1),c.kc("ngIf",n.appLibHelper.showLock(n.app)),c.Ab(1),c.kc("ngIf",n.appLibHelper.showKey(n.app))}}function tC(t,e){1&t&&(c.Sb(0,"div",14),c.Nb(1,"i",15),c.Rb())}function eC(t,e){if(1&t&&(c.Sb(0,"div",16),c.Sb(1,"p"),c.Ic(2),c.ec(3,"title"),c.Rb(),c.Rb()),2&t){var n=e.$implicit;c.Ab(2),c.Jc(c.gc(3,1,n.description,200))}}var nC=function(){function t(t,e){this.appLibHelper=t,this.dragHelper=e,this.showTooltip=!1}return t.prototype.handleImage=function(t){t.target.src=Re.a.coreCDN+"/assets/images/default-app-icon.png"},t.prototype.handleDragStart=function(t){this.candDrag&&this.appLibHelper.canAppBeChanged(this.app)?(t.dataTransfer.effectAllowed="move",this.dragHelper.isDragging.next(!0),this.dragHelper.draggedApp.next(this.app)):t.preventDefault()},t.prototype.handleDragEnd=function(){this.dragHelper.isDragging.next(!1)},t.\u0275fac=function(e){return new(e||t)(c.Mb(we.a),c.Mb(Ky))},t.\u0275cmp=c.Gb({type:t,selectors:[["dynamic-library-app-squircle"]],inputs:{app:"app",showFlags:"showFlags",candDrag:"candDrag",showTooltip:"showTooltip"},decls:9,vars:5,consts:[[1,"app-image",3,"clTooltip","clTooltipContext","dragstart","dragend"],["clLastFocused","",1,"cl-clip-img-ctnr","cl-focusable"],[1,"img-border"],["alt","",3,"src","error"],["class","app-flags",4,"ngIf"],["class","folder",4,"ngIf"],["tooltip",""],[1,"app-flags"],["class","lock-icon","role","img","aria-label","Locked App","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",3,"title","id",4,"ngIf"],["role","img","aria-label","Single Sign On App","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512","class","key-icon",3,"title","id",4,"ngIf"],["role","img","aria-label","Locked App","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",1,"lock-icon",3,"title","id"],["d","M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"],["role","img","aria-label","Single Sign On App","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"key-icon",3,"title","id"],["d","M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"],[1,"folder"],[1,"fa-solid","fa-folder-open"],[1,"cl-tooltip"]],template:function(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",0),c.Zb("dragstart",(function(t){return e.handleDragStart(t)}))("dragend",(function(){return e.handleDragEnd()})),c.Sb(2,"div",1),c.Sb(3,"div",2),c.Sb(4,"img",3),c.Zb("error",(function(t){return e.handleImage(t)})),c.Rb(),c.Gc(5,Xy,3,2,"div",4),c.Rb(),c.Gc(6,tC,2,0,"div",5),c.Rb(),c.Rb(),c.Gc(7,eC,4,4,"ng-template",null,6,c.Hc),c.Pb()),2&t){var n=c.vc(8);c.Ab(1),c.kc("clTooltip",e.showTooltip&&e.app.description&&n)("clTooltipContext",e.app),c.Ab(3),c.kc("src",e.app.icon.trim(),c.Ac),c.Ab(1),c.kc("ngIf",e.showFlags&&(e.appLibHelper.showLock(e.app)||e.appLibHelper.showKey(e.app))),c.Ab(1),c.kc("ngIf",e.showFlags&&e.appLibHelper.isAppAssigned(e.app))}},directives:[We.Y,We.F,i.l],pipes:[rn.a],styles:["[_nghost-%COMP%]   .app-image[_ngcontent-%COMP%]   .cl-clip-img-ctnr[_ngcontent-%COMP%]:before{box-shadow:none}[_nghost-%COMP%]   .app-image[_ngcontent-%COMP%]   .cl-clip-img-ctnr[_ngcontent-%COMP%]   .img-border[_ngcontent-%COMP%]{background-color:rgba(0,0,0,0)}[_nghost-%COMP%]   .app-image[_ngcontent-%COMP%]   .cl-clip-img-ctnr[_ngcontent-%COMP%]   .folder[_ngcontent-%COMP%]{position:absolute;top:0;right:0;z-index:1;color:var(--color-bg-light);background-color:var(--color-primary);width:20px;height:20px;border-radius:50%;display:-ms-flexbox;display:flex}[_nghost-%COMP%]   .app-image[_ngcontent-%COMP%]   .cl-clip-img-ctnr[_ngcontent-%COMP%]   .folder[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin:auto;width:14px;height:14px}[_nghost-%COMP%]   .app-flags[_ngcontent-%COMP%]{position:absolute;bottom:0;background-color:hsla(0,0%,100%,.8);padding:5px 10px;border-radius:15px;opacity:0;transition:all .1s ease-in-out;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;gap:4px;width:80%;-ms-flex-pack:center;justify-content:center}[_nghost-%COMP%]   .app-flags[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}[_nghost-%COMP%]   .app-flags[_ngcontent-%COMP%]   .rocket-icon[_ngcontent-%COMP%]{fill:#029f2e}[_nghost-%COMP%]   .app-flags[_ngcontent-%COMP%]   .lock-icon[_ngcontent-%COMP%]{fill:#ef892a}[_nghost-%COMP%]   .app-flags[_ngcontent-%COMP%]   .key-icon[_ngcontent-%COMP%]{fill:#008ad7}[_nghost-%COMP%]   .app-image[_ngcontent-%COMP%]:hover   .app-flags[_ngcontent-%COMP%]{opacity:1}"]}),t}();function iC(t,e){if(1&t&&(c.Nb(0,"dynamic-library-app-squircle",8),c.Sb(1,"div",9,10),c.Sb(3,"p",11),c.Ic(4),c.Rb(),c.Rb()),2&t){var n=e.row,i=c.vc(2);c.dc();var o=c.vc(8),r=c.dc();c.kc("app",n)("showFlags",!0)("candDrag",!0)("showTooltip",!0),c.Ab(1),c.kc("clTooltip",r.showTooltip(i)?o:void 0)("clTooltipContext",n[r.Fields.Name]),c.Ab(3),c.Jc(n[r.Fields.Name])}}function oC(t,e){if(1&t&&(c.Sb(0,"div",9,12),c.Sb(2,"p",13),c.Ic(3),c.Rb(),c.Rb()),2&t){var n=e.row,i=c.vc(1);c.dc();var o=c.vc(8),r=c.dc();c.kc("clTooltip",r.showTooltip(i)?o:void 0)("clTooltipContext",n.description),c.Ab(3),c.Jc(n[r.Fields.Category])}}function rC(t,e){if(1&t&&(c.Sb(0,"div",9,14),c.Sb(2,"p",13),c.Ic(3),c.Rb(),c.Rb()),2&t){var n=e.row,i=c.vc(1);c.dc();var o=c.vc(8),r=c.dc();c.kc("clTooltip",r.showTooltip(i)?o:void 0)("clTooltipContext",n[r.Fields.Type]),c.Ab(3),c.Jc(n[r.Fields.Type])}}function aC(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",15,16),c.Zb("click",(function(t){c.yc(n);var i=e.row;return c.dc(2).handleFolderClick(t,i)})),c.Sb(2,"p",13),c.Ic(3),c.Rb(),c.Rb()}if(2&t){var i=e.row,o=c.vc(1);c.dc();var r=c.vc(8),a=c.dc();c.Eb("locked",a.isFolderLocked(i)),c.kc("clTooltip",a.showTooltip(o)?r:void 0)("clTooltipContext",i[a.Fields.Location]),c.Ab(3),c.Jc(i[a.Fields.Location])}}function sC(t,e){if(1&t&&(c.Qb(0),c.Nb(1,"cl-progress-spinner",21),c.Pb()),2&t){var n=c.dc(2).row,i=c.dc(2);c.Ab(1),c.kc("strokeColor","add"===n[i.Fields.Action]?"var(--color-primary)":"var(--color-danger)")}}function cC(t,e){if(1&t&&(c.Qb(0),c.Ic(1),c.Pb()),2&t){var n=c.dc(2).row,i=c.dc().$implicit,o=c.dc();c.Ab(1),c.Kc(" ",i("add"===n[o.Fields.Action]?"common.add":"common.remove")," ")}}function lC(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",18),c.Sb(1,"button",19),c.Zb("click",(function(t){c.yc(n);var e=c.dc().row;return c.dc(2).handleActionClick(t,e)})),c.Gc(2,sC,2,1,"ng-container",20),c.Gc(3,cC,2,1,"ng-container",20),c.Rb(),c.Rb()}if(2&t){var i=c.dc().row,o=c.dc(2);c.Ab(1),c.Eb("remove","remove"===i[o.Fields.Action])("disabled",!o.appLibHelper.canAppBeChanged(i)||o.appLibHelper.actionPending[i.id]),c.kc("disabled",!o.appLibHelper.canAppBeChanged(i)||o.appLibHelper.actionPending[i.id]),c.Ab(1),c.kc("ngIf",o.appLibHelper.actionPending[i.id]),c.Ab(1),c.kc("ngIf",!o.appLibHelper.actionPending[i.id])}}function pC(t,e){if(1&t&&c.Gc(0,lC,4,7,"div",17),2&t){var n=e.row,i=c.dc(2);c.kc("ngIf",n[i.Fields.Action])}}function dC(t,e){if(1&t&&(c.Sb(0,"div",22),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=e.$implicit;c.Ab(2),c.Jc(n)}}var uC=function(t){return[t]};function gC(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"cl-data-table",1),c.Zb("rowClicked",(function(t){return c.yc(n),c.dc().handleRowClick(t)})),c.Gc(2,iC,5,7,"ng-template",2),c.Gc(3,oC,4,3,"ng-template",3),c.Gc(4,rC,4,3,"ng-template",4),c.Gc(5,aC,4,5,"ng-template",5),c.Gc(6,pC,1,1,"ng-template",6),c.Gc(7,dC,3,1,"ng-template",null,7,c.Hc),c.Rb(),c.Pb()}if(2&t){var i=c.dc();c.Ab(1),c.kc("data",i.data)("showPaginator",!1)("dataFields",i.fields)("clickableRows",!0)("pageSizes",c.nc(5,uC,i.apps.length))}}var hC=function(t){return t.Name="applicationName",t.Category="category",t.Type="type",t.Location="location",t.Action="action",t}({}),bC=function(){function t(t,e){var n=this;this.appsHelper=t,this.appLibHelper=e,this.currentApps=[],this.newApps=[],this.Fields=hC,this.isAllAppsSelected=!1,this.fields=[{header:"Application Name",fieldName:hC.Name,template:{name:"name-col"},columnWidth:30},{header:"Category",fieldName:hC.Category,template:{name:"category-col"},columnWidth:20},{header:"Type",fieldName:hC.Type,template:{name:"type-col"},columnWidth:15},{header:"App Location",fieldName:hC.Location,template:{name:"location-col"},columnWidth:20},{header:"Action",fieldName:hC.Action,template:{name:"action-col"},columnWidth:15}],this.data=[],this.subscriptions=[],this.subscriptions[0]=t.appsUpdated.subscribe((function(t){n.currentApps=t.apps,n.getTableData()})),this.subscriptions[1]=t.addAppsToFolder.subscribe((function(t){n.activeFolder=t,n.getTableData()})),this.subscriptions[2]=e.isAllAppsSelected.subscribe((function(t){return n.isAllAppsSelected=t})),this.subscriptions[3]=e.activeCategory.subscribe((function(t){return n.activeCategory=t})),this.subscriptions[4]=e.addedApps.subscribe((function(t){return n.newApps=t}))}return t.prototype.ngOnChanges=function(t){this.getTableData()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getTableData=function(){var t,e=this;this.data=(null!==(t=this.apps)&&void 0!==t?t:[]).map((function(t){var n;return Object(le.a)(Object(le.a)({},t),((n={})[hC.Name]=t.name,n[hC.Category]=t.categoryname,n[hC.Type]=t.type_name,n[hC.Location]=e.getAppLocation(t),n[hC.Action]=e.getAppState(t),n))})),this.updateTableFields()},t.prototype.updateTableFields=function(){this.activeCategory||this.fields[1].fieldName===hC.Category||this.fields.splice(1,0,{header:"Category",fieldName:hC.Category}),this.activeCategory&&this.fields[1].fieldName===hC.Category&&(this.fields=this.fields.filter((function(t){return t.fieldName!==hC.Category})))},t.prototype.getAppState=function(t){return this.activeFolder||this.isAllAppsSelected?this.appLibHelper.isAppAssigned(t)&&this.isAppInCurrentFolder(t)?"remove":"add":this.appLibHelper.isAppAssigned(t)?"remove":void 0},t.prototype.isAppInCurrentFolder=function(t){var e,n=this;return this.activeFolder?null===(e=this.currentApps.find((function(t){return n.appsHelper.isFolder(t)&&t.id===n.activeFolder})).apps)||void 0===e?void 0:e.some((function(e){return e.id===t.id})):!!this.isAllAppsSelected&&this.apps.some((function(e){return e.id===t.id}))},t.prototype.getAppLocation=function(t){for(var e,n=0,i=this.currentApps;n<i.length;n++){var o=i[n];if(this.appsHelper.isFolder(o)){if(null===(e=o.apps)||void 0===e?void 0:e.some((function(e){return e.id===t.id})))return o.name}else if(o.id===t.id)return"All Apps"}},t.prototype.getAppFolder=function(t){var e=this;return this.currentApps.find((function(n){if(e.appsHelper.isFolder(n)){for(var i=0,o=n.apps;i<o.length;i++)if(o[i].id===t.id)return n}else if(n.id===t.id)return!1}))},t.prototype.handleActionClick=function(t,e){t.stopPropagation(),this.appLibHelper.isAppAssigned(e)?this.activeFolder||this.isAllAppsSelected?this.isAppInCurrentFolder(e)?(this.appLibHelper.removeApp(e),this.appLibHelper.addedApps.next(this.newApps.filter((function(t){return t!==e.id})))):this.appLibHelper.moveToFolder(e,this.activeFolder):(this.appLibHelper.removeApp(e),this.appLibHelper.addedApps.next(this.newApps.filter((function(t){return t!==e.id})))):(this.appLibHelper.addApp(e),this.appLibHelper.addedApps.next(Object(le.e)(this.newApps,[e.id])))},t.prototype.isFolderLocked=function(t){var e=this.getAppFolder(t);return!!e&&this.appsHelper.showFolderLock(e)},t.prototype.handleImage=function(t){t.target.src=Re.a.coreCDN+"/assets/images/default-app-icon.png"},t.prototype.showTooltip=function(t){var e=t.children[0];return!!e&&e.offsetHeight<e.scrollHeight},t.prototype.handleRowClick=function(t){this.appLibHelper.activeApp.next(this.apps[t.index])},t.prototype.handleFolderClick=function(t,e){t.stopPropagation();var n=this.getAppFolder(e);n?this.appsHelper.addAppsToFolder.next(n.id):this.appLibHelper.isAllAppsSelected.next(!0)},t.\u0275fac=function(e){return new(e||t)(c.Mb(Xt.a),c.Mb(we.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["dynamic-library-list-view"]],inputs:{apps:"apps"},features:[c.yb],decls:1,vars:0,consts:[[4,"transloco"],[1,"dynamic-list-view-table",3,"data","showPaginator","dataFields","clickableRows","pageSizes","rowClicked"],["clTemplate","name-col"],["clTemplate","category-col"],["clTemplate","type-col"],["clTemplate","location-col"],["clTemplate","action-col"],["tooltip",""],[1,"list-view-app-icon",3,"app","showFlags","candDrag","showTooltip"],[1,"flex-start","column-nowrap","text-overflow",3,"clTooltip","clTooltipContext"],["name",""],[1,"app-name","text-overflow"],["category",""],[1,"text-overflow"],["type",""],[1,"flex-start","column-nowrap","app-location","text-overflow",3,"clTooltip","clTooltipContext","click"],["location",""],["class","flex-start column-nowrap",4,"ngIf"],[1,"flex-start","column-nowrap"],[1,"app-action-button",3,"disabled","click"],[4,"ngIf"],[3,"strokeColor"],[1,"cl-tooltip"]],template:function(t,e){1&t&&c.Gc(0,gC,9,7,"ng-container",0)},directives:[Te.c,We.p,We.f,nC,We.Y,i.l,We.M],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;height:100%;width:100%;overflow-y:auto}[_nghost-%COMP%]   .dynamic-list-view-table[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]{margin-left:20px}[_nghost-%COMP%]   .dynamic-list-view-table[_ngcontent-%COMP%]   .text-overflow[_ngcontent-%COMP%]{max-height:40px;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-overflow:ellipsis;white-space:normal;word-break:break-all}[_nghost-%COMP%]   .dynamic-list-view-table[_ngcontent-%COMP%]   .app-location[_ngcontent-%COMP%]{color:var(--color-primary,#118af3)}[_nghost-%COMP%]   .dynamic-list-view-table[_ngcontent-%COMP%]   .app-location[_ngcontent-%COMP%]:hover{text-decoration:underline}[_nghost-%COMP%]   .dynamic-list-view-table[_ngcontent-%COMP%]   .app-location.locked[_ngcontent-%COMP%]{color:#272727;pointer-events:none;cursor:not-allowed}[_nghost-%COMP%]   .dynamic-list-view-table[_ngcontent-%COMP%]   .app-action-button[_ngcontent-%COMP%]{color:var(--color-primary);border:2px solid var(--color-primary);border-radius:5px;padding:5px 10px;font-family:Open Sans;font-size:calc(var(--font-modifier) * 12px);font-weight:700;height:30px;width:80px}[_nghost-%COMP%]   .dynamic-list-view-table[_ngcontent-%COMP%]   .app-action-button[_ngcontent-%COMP%]   cl-progress-spinner[_ngcontent-%COMP%]{width:20px;height:20px;position:absolute;top:calc(50% - 10px);left:calc(50% - 10px);margin:auto}[_nghost-%COMP%]   .dynamic-list-view-table[_ngcontent-%COMP%]   .app-action-button.remove[_ngcontent-%COMP%]{color:var(--color-danger);border-color:var(--color-danger)}"]}),t}();function fC(t,e){1&t&&(c.Sb(0,"div"),c.Nb(1,"i",4),c.Rb())}function mC(t,e){1&t&&(c.Sb(0,"div"),c.Nb(1,"cl-progress-spinner",5),c.Rb()),2&t&&(c.Ab(1),c.kc("strokeColor","var(--color-primary)"))}function vC(t,e){if(1&t&&(c.Gc(0,fC,2,0,"div",3),c.Gc(1,mC,2,1,"div",3),c.Sb(2,"p"),c.Ic(3,"Add"),c.Rb()),2&t){var n=c.dc();c.kc("ngIf",!n.isLoading),c.Ab(1),c.kc("ngIf",n.isLoading)}}function yC(t,e){if(1&t&&(c.Nb(0,"i",6),c.Sb(1,"p",7),c.Ic(2),c.Rb()),2&t){var n=e.item;c.Ab(2),c.Jc(n.label)}}var CC=function(){function t(t){var e=this;this.appsHelper=t,this.class="",this.isLoading=!1,this.isDisabled=!1,this.onFolderSelection=new c.n,this.folders=[],this.appsOptions=[],this.allAppsFolder={_id:"all_apps_folder",id:0,appfolder_id:0,name:"All Apps",is_folder:!0,is_appfolder:!1,apps:[],order:null,encid:null},this.subscriptions=[],this.subscriptions[0]=t.appsUpdated.subscribe((function(t){e.folders=e.appsHelper.getAllUnlockedFolders(t.apps),e.setAppsOptions()}))}return t.prototype.setAppsOptions=function(){this.appsOptions=this.folders.map((function(t){return{label:t.name,value:t.id}})),this.appsOptions.push({label:this.allAppsFolder.name,value:this.allAppsFolder.id})},t.prototype.handleSelection=function(t){var e=this.folders.find((function(e){return e.id===t}))||this.allAppsFolder;this.onFolderSelection.emit(e)},t.\u0275fac=function(e){return new(e||t)(c.Mb(Xt.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-add-to-folder-button"]],inputs:{class:"class",isLoading:"isLoading",isDisabled:"isDisabled"},outputs:{onFolderSelection:"onFolderSelection"},decls:4,vars:6,consts:[[1,"add-to-folder-button",3,"ngClass","options","showSearch","showRemove","selectionChange"],["clTemplate","selectedItem"],["clTemplate","item"],[4,"ngIf"],[1,"fas","fa-folder-open"],[3,"strokeColor"],[1,"fal","fa-folder-open"],[1,"folder-name"]],template:function(t,e){1&t&&(c.Qb(0),c.Sb(1,"cl-dropdown",0),c.Zb("selectionChange",(function(t){return e.handleSelection(t)})),c.Gc(2,vC,4,2,"ng-template",1),c.Gc(3,yC,3,1,"ng-template",2),c.Rb(),c.Pb()),2&t&&(c.Ab(1),c.Eb("disabled",e.isDisabled),c.kc("ngClass",e.class)("options",e.appsOptions)("showSearch",!0)("showRemove",!1))},directives:[We.t,i.j,We.f,i.l,We.M],styles:["[_nghost-%COMP%]   .disabled[_ngcontent-%COMP%]{pointer-events:none!important;opacity:.5!important;transition:all .2s ease-in-out!important;-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;cursor:default!important}"]}),t}();function xC(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-add-to-folder-button",8),c.Zb("onFolderSelection",(function(t){return c.yc(n),c.dc(3).addAppToFolder(t)})),c.Rb()}if(2&t){var i=c.dc(3);c.Cb("add-app-to-folder-button-suggestion"),c.kc("isLoading",i.appLibHelper.actionPending[i.app.id])}}function wC(t,e){1&t&&(c.Qb(0),c.Nb(1,"cl-progress-spinner",12),c.Pb()),2&t&&(c.Ab(1),c.kc("strokeColor","var(--color-primary)"))}function PC(t,e){if(1&t&&(c.Qb(0),c.Ic(1),c.Pb()),2&t){var n=c.dc(4).$implicit;c.Ab(1),c.Kc(" ",n("common.add")," ")}}function OC(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",10),c.Zb("click",(function(t){c.yc(n);var e=c.dc(4);return t.stopPropagation(),e.handleAppClick(e.app)})),c.Gc(1,wC,2,1,"ng-container",11),c.Gc(2,PC,2,1,"ng-container",11),c.Rb()}if(2&t){var i=c.dc(4);c.Eb("disabled",!i.appLibHelper.canAppBeChanged(i.app)||i.appLibHelper.actionPending[i.app.id]),c.Ab(1),c.kc("ngIf",i.appLibHelper.actionPending[i.app.id]),c.Ab(1),c.kc("ngIf",!i.appLibHelper.actionPending[i.app.id])}}function MC(t,e){if(1&t&&c.Gc(0,OC,3,4,"button",9),2&t){var n=c.dc(3);c.kc("ngIf",n.activeFolder||n.isAllAppsSelected)}}function _C(t,e){if(1&t&&(c.Qb(0),c.Gc(1,xC,1,3,"app-add-to-folder-button",6),c.Gc(2,MC,1,1,"ng-template",null,7,c.Hc),c.Pb()),2&t){var n=c.vc(3),i=c.dc(2);c.Ab(1),c.kc("ngIf",i.showAddToFolder)("ngIfElse",n)}}function kC(t,e){1&t&&(c.Qb(0),c.Nb(1,"cl-progress-spinner",12),c.Pb()),2&t&&(c.Ab(1),c.kc("strokeColor","var(--color-danger)"))}function SC(t,e){if(1&t&&(c.Qb(0),c.Ic(1),c.Pb()),2&t){var n=c.dc(2).$implicit;c.Ab(1),c.Kc(" ",n("common.remove")," ")}}function AC(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",13),c.Zb("click",(function(t){c.yc(n);var e=c.dc(2);return t.stopPropagation(),e.handleAppClick(e.app)})),c.Gc(1,kC,2,1,"ng-container",11),c.Gc(2,SC,2,1,"ng-container",11),c.Rb()}if(2&t){var i=c.dc(2);c.Eb("disabled",!i.appLibHelper.canAppBeChanged(i.app)||i.appLibHelper.actionPending[i.app.id]),c.Ab(1),c.kc("ngIf",i.appLibHelper.actionPending[i.app.id]),c.Ab(1),c.kc("ngIf",!i.appLibHelper.actionPending[i.app.id])}}function IC(t,e){if(1&t&&(c.Qb(0),c.Nb(1,"dynamic-library-app-squircle",1),c.Sb(2,"div",2),c.Sb(3,"p"),c.Ic(4),c.Rb(),c.Rb(),c.Sb(5,"div",3),c.Gc(6,_C,4,2,"ng-container",4),c.Gc(7,AC,3,4,"ng-template",null,5,c.Hc),c.Rb(),c.Pb()),2&t){var n=c.vc(8),i=c.dc();c.Ab(1),c.kc("app",i.app)("showFlags",!0)("candDrag",!0),c.Ab(3),c.Jc(i.app.name),c.Ab(2),c.kc("ngIf",i.isAddApp())("ngIfElse",n)}}var RC=function(){function t(t,e,n){var i=this;this.appHelper=t,this.appLibHelper=e,this.dragHelper=n,this.isDragging=!1,this.newApps=[],this.subscriptions=[],this.subscriptions[0]=n.isDragging.subscribe((function(t){i.isDragging=t})),this.subscriptions[1]=e.addedApps.subscribe((function(t){i.newApps=t})),this.subscriptions[2]=e.isAllAppsSelected.subscribe((function(t){i.isAllAppsSelected=t}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.handleImage=function(t){t.target.src=Re.a.coreCDN+"/assets/images/default-app-icon.png"},t.prototype.handleAppClick=function(t){var e;this.appLibHelper.isAppAssigned(t)?!this.activeFolder&&!this.isAllAppsSelected||this.isAppInCurrentFolder(t)?(this.appLibHelper.removeApp(t),this.appLibHelper.addedApps.next(this.newApps.filter((function(e){return e!==t.id})))):this.isAllAppsSelected?this.appLibHelper.removeFromFolder(t,null===(e=this.appLibHelper.getAppFolder(t))||void 0===e?void 0:e.id):this.appLibHelper.moveToFolder(t,this.activeFolder):(this.appLibHelper.addApp(t),this.appLibHelper.addedApps.next(Object(le.e)(this.newApps,[t.id])))},t.prototype.isAddApp=function(){return this.activeFolder||this.isAllAppsSelected?!(this.appLibHelper.isAppAssigned(this.app)&&this.isAppInCurrentFolder(this.app)):!this.appLibHelper.isAppAssigned(this.app)},t.prototype.isAppInCurrentFolder=function(t){var e,n=this;return this.isAllAppsSelected?this.apps.some((function(e){return!n.appHelper.isFolder(e)&&e.id===t.id})):this.activeFolder?null===(e=this.apps.find((function(t){return n.appHelper.isFolder(t)&&t.id===n.activeFolder})).apps)||void 0===e?void 0:e.some((function(e){return e.id===t.id})):void 0},t.prototype.addAppToFolder=function(t){this.appLibHelper.addApp(this.app,t.id)},t.prototype.showActionButtons=function(){return this.appLibHelper.isAppAssigned(this.app)||this.activeFolder||this.isAllAppsSelected||this.showAddToFolder},t.\u0275fac=function(e){return new(e||t)(c.Mb(Xt.a),c.Mb(we.a),c.Mb(Ky))},t.\u0275cmp=c.Gb({type:t,selectors:[["dynamic-app-library-app"]],inputs:{app:"app",apps:"apps",activeFolder:"activeFolder",showAddToFolder:"showAddToFolder"},decls:1,vars:0,consts:[[4,"transloco"],[3,"app","showFlags","candDrag"],[1,"app-name"],[1,"app-action"],[4,"ngIf","ngIfElse"],["removeButton",""],[3,"isLoading","class","onFolderSelection",4,"ngIf","ngIfElse"],["addButton",""],[3,"isLoading","onFolderSelection"],["class","app-action-button",3,"disabled","click",4,"ngIf"],[1,"app-action-button",3,"click"],[4,"ngIf"],[3,"strokeColor"],[1,"app-action-button","remove",3,"click"]],template:function(t,e){1&t&&c.Gc(0,IC,9,6,"ng-container",0)},directives:[Te.c,nC,i.l,CC,We.M],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:start;justify-content:flex-start}[_nghost-%COMP%]   .app-image[_ngcontent-%COMP%]   .cl-clip-img-ctnr[_ngcontent-%COMP%]:before{box-shadow:none}[_nghost-%COMP%]   .app-image[_ngcontent-%COMP%]   .cl-clip-img-ctnr[_ngcontent-%COMP%]   .img-border[_ngcontent-%COMP%]{background-color:rgba(0,0,0,0)}[_nghost-%COMP%]   .app-image[_ngcontent-%COMP%]   .folder[_ngcontent-%COMP%]{position:absolute;top:0;right:0;z-index:1;color:var(--color-bg-light);background-color:var(--color-primary);width:20px;height:20px;border-radius:50%;display:-ms-flexbox;display:flex}[_nghost-%COMP%]   .app-image[_ngcontent-%COMP%]   .folder[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin:auto;width:14px;height:14px}[_nghost-%COMP%]   .app-name[_ngcontent-%COMP%]{width:100%;height:34px;margin-top:8px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}[_nghost-%COMP%]   .app-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;font-family:Open Sans;font-size:calc(var(--font-modifier) * 14px);font-weight:600;text-align:center;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-overflow:ellipsis;white-space:normal;word-break:break-all;padding:0 2px}[_nghost-%COMP%]   .app-action[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .app-action[_ngcontent-%COMP%]   .app-action-button.remove[_ngcontent-%COMP%]{color:var(--color-danger);border-color:var(--color-danger)}[_nghost-%COMP%]   .app-action[_ngcontent-%COMP%]   cl-progress-spinner[_ngcontent-%COMP%]{width:20px;height:20px;position:absolute;top:calc(50% - 10px);left:calc(50% - 10px);margin:auto}"]}),t}(),TC=["appContainer"],FC=["applicationsContainer"],EC=["scrollToTopBtn"],DC=function(){return{top:15}};function LC(t,e){if(1&t){var n=c.Tb();c.Sb(0,"dynamic-app-library-app",14),c.Zb("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).selectApp(t)}))("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).selectApp(t)}))("keydown.space",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).selectApp(t)})),c.Rb()}if(2&t){var i=e.$implicit;c.dc(2);var o=c.vc(7),r=c.dc();c.Eb("hidden",r.showListView)("assigned",r.appLibHelper.isAppAssigned(i)),c.kc("app",i)("apps",r.apps)("activeFolder",r.activeFolder)("clTooltip",o)("clTooltipPositionOffset",c.mc(12,DC))("clTooltipContext",i),c.Bb("aria-labelledby",i.name)("aria-describedby",r.getDescriptorIds(i))}}var NC=function(t){return{value:t}};function HC(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",15),c.Zb("click",(function(){return c.yc(n),c.dc(3).loadMore()}))("keydown.space",(function(){return c.yc(n),c.dc(3).loadMore()})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc(2).$implicit,o=c.dc();c.kc("disabled",o.isLoading),c.Ab(1),c.Kc(" ",i("appLibrary.seeMore",c.nc(2,NC,o.totalApps-o.currentCollectionApps.length>50?50:o.totalApps-o.currentCollectionApps.length))," ")}}var GC=function(t,e){return{current:t,total:e}};function BC(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",6,7),c.Sb(3,"div",8,9),c.Zb("scroll",(function(t){return c.yc(n),c.dc(2).onContainerScroll(t)})),c.Nb(5,"dynamic-library-list-view",10),c.Gc(6,LC,1,13,"dynamic-app-library-app",11),c.Rb(),c.Sb(7,"div",12),c.Sb(8,"p"),c.Ic(9),c.Rb(),c.Gc(10,HC,2,4,"button",13),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(3),c.Eb("appplications-container-grid",!o.showListView),c.Ab(2),c.Eb("hidden",!o.showListView),c.kc("apps",o.currentCollectionApps),c.Ab(1),c.kc("ngForOf",o.currentCollectionApps),c.Ab(3),c.Kc(" ",i("appLibrary.currentlyViewing",c.oc(8,GC,o.currentCollectionApps.length,o.totalApps))," "),c.Ab(1),c.kc("ngIf",o.canLoad)}}function jC(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"h3",16),c.Ic(2),c.Rb(),c.Pb()),2&t){var n=c.dc().$implicit;c.Ab(2),c.Jc(n("appLibrary.mainDisplay.noApps"))}}function UC(t,e){if(1&t&&(c.Sb(0,"div",17),c.Sb(1,"p"),c.Ic(2),c.ec(3,"title"),c.Rb(),c.Rb()),2&t){var n=e.$implicit,i=c.dc(2);c.Ab(2),c.Kc(" ",i.appLibHelper.shouldShowTooltip(n)||!n.description.length>0?n.name:c.gc(3,1,n.description,200)," ")}}function zC(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Gc(1,BC,11,11,"ng-container",1),c.Gc(2,jC,3,1,"ng-container",1),c.Sb(3,"div",2,3),c.Zb("click",(function(){return c.yc(n),c.dc().scrollToTop()})),c.Nb(5,"i",4),c.Rb(),c.Gc(6,UC,4,4,"ng-template",null,5,c.Hc),c.Pb()}if(2&t){var i=c.dc();c.Ab(1),c.kc("ngIf",i.currentCollectionApps&&i.currentCollectionApps.length),c.Ab(1),c.kc("ngIf",i.currentCollectionApps&&0===i.currentCollectionApps.length)}}var VC=function(){function t(t,e,n){var i=this;this.appHelper=t,this.appLibHelper=e,this.dragService=n,this.loadMoreApps=new c.n,this.apps=[],this.visible=!1,this.isDragging=!1,this.activeCollection={Id:-1,Name:"All Apps",TenantWide:!0},this.showListView=!1,this.hideIcon=!1,this.canLoad=!1,this.loadingApps=!0,this.currentScroll=0,this.showScrollBtn=!1,this.subscriptions=[],this.subscriptions[0]=e.apps.subscribe((function(t){var e=t.totalApps;i.currentCollectionApps=t.apps,i.totalApps=e,i.canLoad=i.currentCollectionApps.length<i.totalApps,i.loadingApps&&i.currentScroll&&setTimeout((function(){i.applicationsContainer.nativeElement.scrollTop=i.currentScroll}),5)})),this.subscriptions[1]=n.isDragging.subscribe((function(t){i.isDragging=t})),this.subscriptions[2]=t.appsUpdated.subscribe((function(t){i.apps=t.apps})),this.subscriptions[3]=e.showListView.subscribe((function(t){i.showListView=t})),this.subscriptions[4]=t.addAppsToFolder.subscribe((function(t){i.activeFolder=t}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.loadMore=function(){this.loadingApps=!0,this.showListView&&(this.currentScroll=this.applicationsContainer.nativeElement.scrollTop),this.loadMoreApps.emit(!0)},t.prototype.selectApp=function(t){this.appLibHelper.activeApp.next(t)},t.prototype.getDescriptorIds=function(t){var e=this.appLibHelper.showLock(t)?t.name+"_locked":"",n=this.appLibHelper.showKey(t)?t.name+"_key":"";return""!==e&&""!==n?e+" "+n:e+n},t.prototype.onContainerScroll=function(t){this.appContainer.nativeElement.scrollTop/(this.appContainer.nativeElement.scrollHeight-this.appContainer.nativeElement.clientHeight)>.4?this.scrollToTopBtn.nativeElement.classList.add("show-btn"):this.scrollToTopBtn.nativeElement.classList.remove("show-btn")},t.prototype.scrollToTop=function(){this.appContainer.nativeElement.scrollTo({top:0,behavior:"smooth"})},t.\u0275fac=function(e){return new(e||t)(c.Mb(Xt.a),c.Mb(we.a),c.Mb(Ky))},t.\u0275cmp=c.Gb({type:t,selectors:[["dynamic-app-main-display"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(TC,!0),c.Nc(FC,!0),c.Nc(EC,!0)),2&t&&(c.uc(n=c.ac())&&(e.appContainer=n.first),c.uc(n=c.ac())&&(e.applicationsContainer=n.first),c.uc(n=c.ac())&&(e.scrollToTopBtn=n.first))},inputs:{isLoading:"isLoading"},outputs:{loadMoreApps:"loadMoreApps"},decls:1,vars:0,consts:[[4,"transloco"],[4,"ngIf"],["role","button",1,"back-to-top-btn","flex-center",3,"click"],["scrollToTopBtn",""],[1,"fas","fa-arrow-up"],["tooltipDescription",""],[1,"applications","custom-scroll"],["applicationsContainer",""],[1,"applications-container",3,"scroll"],["appContainer",""],[3,"apps"],["class","cl-focusable cl-app app-library app-lib-margin focusable","role","link","tabindex","0","clLastFocused","","clItem","",3,"hidden","app","apps","activeFolder","assigned","clTooltip","clTooltipPositionOffset","clTooltipContext","click","keydown.Enter","keydown.space",4,"ngFor","ngForOf"],[1,"load-more"],["clLastFocused","","class","button button-primary",3,"disabled","click","keydown.space",4,"ngIf"],["role","link","tabindex","0","clLastFocused","","clItem","",1,"cl-focusable","cl-app","app-library","app-lib-margin","focusable",3,"app","apps","activeFolder","clTooltip","clTooltipPositionOffset","clTooltipContext","click","keydown.Enter","keydown.space"],["clLastFocused","",1,"button","button-primary",3,"disabled","click","keydown.space"],[1,"no-content"],[1,"cl-tooltip"]],template:function(t,e){1&t&&c.Gc(0,zC,8,2,"ng-container",0)},directives:[Te.c,i.l,bC,i.k,RC,We.F,We.J,We.Y],pipes:[rn.a],styles:["[_nghost-%COMP%]{height:100%;overflow-y:hidden}[_nghost-%COMP%]   .applications[_ngcontent-%COMP%]{height:100%;width:100%;padding-bottom:100px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;justify-items:center;overflow-x:hidden}[_nghost-%COMP%]   .applications[_ngcontent-%COMP%]   .applications-container[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .applications[_ngcontent-%COMP%]   .appplications-container-grid[_ngcontent-%COMP%]{padding-top:32px;display:grid;grid-template-columns:repeat(auto-fill,143px);-ms-flex-pack:center;justify-content:center;gap:10px}[_nghost-%COMP%]   .applications[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .load-more[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column;justify-items:center;gap:20px;margin-top:50px}.no-content[_ngcontent-%COMP%], [_nghost-%COMP%]   .load-more[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.no-content[_ngcontent-%COMP%]{height:200px;-ms-flex-pack:center;justify-content:center}.back-to-top-btn[_ngcontent-%COMP%]{background-color:var(--color-primary);border-radius:50%;height:40px;width:40px;position:fixed;right:30px;bottom:30px;box-shadow:0 0 20px var(--color-shadow);-ms-transform:translateY(100px);transform:translateY(100px);transition:all .5s ease;opacity:0}.back-to-top-btn.show-btn[_ngcontent-%COMP%]{opacity:1;-ms-transform:translateY(0);transform:translateY(0)}.back-to-top-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-white);font-size:16px}"]}),t}();function ZC(t,e){1&t&&c.Nb(0,"div",2)}function $C(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",11,12),c.Zb("drop",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).handleDrop(t)}))("dragenter",(function(t){c.yc(n);var i=e.$implicit,o=e.index;return c.dc(3).handleDragEnter(t,i,o)})),c.Sb(2,"span"),c.Nb(3,"i",13),c.Rb(),c.Sb(4,"p"),c.Ic(5),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(3);c.Eb("selected",(null==o.draggedOverFolder?null:o.draggedOverFolder.id)===i.id),c.Ab(5),c.Jc(i.name)}}function WC(t,e){if(1&t&&(c.Sb(0,"div",9),c.Gc(1,$C,6,3,"div",10),c.ec(2,"async"),c.Rb()),2&t){var n=c.dc(2);c.Ab(1),c.kc("ngForOf",c.fc(2,1,n.folders))}}function JC(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",15),c.Zb("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).handleCategorySelect(t)}))("keydown.Space",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).handleCategorySelect(t)}))("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).handleCategorySelect(t)})),c.Sb(1,"span"),c.Nb(2,"i"),c.Rb(),c.Sb(3,"p"),c.Ic(4),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(3);c.Eb("active",o.activeCategory&&o.activeCategory.id===i.id&&o.activeCategory.name===i.name),c.Ab(2),c.Cb("far fa-"+i.icon),c.Ab(2),c.Jc(i.name)}}function qC(t,e){if(1&t&&(c.Sb(0,"div",9),c.Gc(1,JC,5,5,"div",14),c.Rb()),2&t){var n=c.dc(2);c.Ab(1),c.kc("ngForOf",n.categories)}}function KC(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",3),c.Zb("keydown.space",(function(t){return c.yc(n),t.preventDefault()})),c.Sb(1,"div",4),c.Sb(2,"div",5),c.Nb(3,"div",6),c.Sb(4,"h1"),c.Ic(5),c.Rb(),c.Rb(),c.Sb(6,"h3"),c.Ic(7),c.Rb(),c.Rb(),c.Sb(8,"p",7),c.Ic(9),c.Rb(),c.Gc(10,WC,3,3,"div",8),c.Gc(11,qC,2,1,"div",8),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(5),c.Jc(i("appLibrary.libraryHeader.appLibrary")),c.Ab(2),c.Kc(" ",i(o.isDragging?"appLibrary.folders.appFolders":"appLibrary.categories.appCategories")," "),c.Ab(2),c.Kc(" ",i(o.isDragging?"appLibrary.folders.foldersDescription":"appLibrary.categories.categoriesDescription")," "),c.Ab(1),c.kc("ngIf",o.isDragging),c.Ab(1),c.kc("ngIf",!o.isDragging)}}var YC=function(){function t(t,e,n){var i=this;this.appLibraryHelperService=t,this.dragService=e,this.appsHelper=n,this.newApps=[],this.allAppsFolder={_id:"all_apps_folder",id:0,appfolder_id:0,name:"All Apps",is_folder:!0,is_appfolder:!1,apps:[],order:null,encid:null},this.subscriptions=[],this.subscriptions[0]=t.activeCategory.subscribe((function(t){return i.activeCategory=t})),this.subscriptions[1]=e.isDragging.subscribe((function(t){return i.isDragging=t})),this.subscriptions[2]=e.draggedApp.subscribe((function(t){return i.draggedApp=t})),this.subscriptions[4]=t.addedApps.subscribe((function(t){return i.newApps=t})),this.folders=n.appsUpdated.pipe(Object(K.a)((function(t){return Object(le.e)(n.getAllUnlockedFolders(t.apps),[i.allAppsFolder])})))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.handleCategorySelect=function(t){var e;(null===(e=this.activeCategory)||void 0===e?void 0:e.id)===t.id&&(t=void 0),this.appLibraryHelperService.activeCategory.next(t),this.appLibraryHelperService.activeApp.next(void 0)},t.prototype.handleDrop=function(t){var e,n,i=this;if(this.appsHelper.addAppsToFolder.next(t.id),0===t.id)this.appLibraryHelperService.isAllAppsSelected.next(!0);else if(this.appLibraryHelperService.isAllAppsSelected.next(!1),null===(e=t.apps)||void 0===e?void 0:e.find((function(t){return t.id===i.draggedApp.id})))return;this.appLibraryHelperService.isAppAssigned(this.draggedApp)?t.id?this.appLibraryHelperService.moveToFolder(this.draggedApp,t.id):this.appLibraryHelperService.removeFromFolder(this.draggedApp,null===(n=this.appLibraryHelperService.getAppFolder(this.draggedApp))||void 0===n?void 0:n.id):(this.appLibraryHelperService.addApp(this.draggedApp),this.appLibraryHelperService.addedApps.next(Object(le.e)(this.newApps,[this.draggedApp.id]))),this.dragService.isDragging.next(!1)},t.prototype.handleDragEnter=function(t,e){var n;t.preventDefault(),(null===(n=this.draggedOverFolder)||void 0===n?void 0:n.id)!==e.id&&(this.draggedOverFolder=e)},t.\u0275fac=function(e){return new(e||t)(c.Mb(we.a),c.Mb(Ky),c.Mb(Xt.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["dynamic-app-sidenav"]],inputs:{categories:"categories",currentView:"currentView"},decls:2,vars:1,consts:[["class","overlay",4,"ngIf"],["class","categories flex-start","clKeyboardNav","",3,"keydown.space",4,"transloco"],[1,"overlay"],["clKeyboardNav","",1,"categories","flex-start",3,"keydown.space"],[1,"categories-header"],[1,"header"],[1,"logo-icon"],["id","catDescription",1,"cat-description"],["class","container custom-scroll",4,"ngIf"],[1,"container","custom-scroll"],["clItem","","aria-describedby","folder","class","category flex-start-center","ondragover","event.preventDefault()",3,"selected","drop","dragenter",4,"ngFor","ngForOf"],["clItem","","aria-describedby","folder","ondragover","event.preventDefault()",1,"category","flex-start-center",3,"drop","dragenter"],["folder",""],[1,"fa-light","fa-folder-open"],["clItem","","aria-describedby","catDescription","class","category flex-start-center","role","button","tabindex","0",3,"active","keydown.Enter","keydown.Space","click",4,"ngFor","ngForOf"],["clItem","","aria-describedby","catDescription","role","button","tabindex","0",1,"category","flex-start-center",3,"keydown.Enter","keydown.Space","click"]],template:function(t,e){1&t&&(c.Gc(0,ZC,1,0,"div",0),c.Gc(1,KC,12,5,"div",1)),2&t&&c.kc("ngIf",1===e.currentView)},directives:[i.l,Te.c,We.E,i.k,We.J],pipes:[i.b],styles:['[_nghost-%COMP%]   .categories[_ngcontent-%COMP%]{width:250px;height:100%;-ms-flex-flow:column nowrap;flex-flow:column nowrap;border-right:1px solid #ddd;overflow:auto;-ms-flex:0 0 250px;flex:0 0 250px;min-height:100%;padding:30px 18px 30px 0;overflow-x:hidden}[_nghost-%COMP%]   .categories[_ngcontent-%COMP%]   .categories-header[_ngcontent-%COMP%]{padding:0 25px}[_nghost-%COMP%]   .categories[_ngcontent-%COMP%]   .categories-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;gap:8px;margin-bottom:28px}[_nghost-%COMP%]   .categories[_ngcontent-%COMP%]   .categories-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{height:35px;width:35px;background-color:var(--color-primary);mask:url(/assets/icons/launchpad.svg) no-repeat center/contain;-webkit-mask:url(/assets/icons/launchpad.svg) no-repeat center/contain}[_nghost-%COMP%]   .categories[_ngcontent-%COMP%]   .categories-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Poppins;font-size:calc(var(--font-modifier) * 20px);font-weight:600;color:var(--color-primary)}[_nghost-%COMP%]   .categories[_ngcontent-%COMP%]   .categories-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Open Sans;font-size:calc(var(--font-modifier) * 18px);font-weight:800;color:#333;margin-left:15px;margin-bottom:30px}[_nghost-%COMP%]   .categories[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;-ms-flex-flow:column nowrap;flex-flow:column nowrap;overflow:auto;overflow-x:hidden;padding:5px 5px 10px 10px;margin-top:10px}[_nghost-%COMP%]   .categories[_ngcontent-%COMP%]::-webkit-scrollbar{min-width:6px!important;max-width:6px!important}[_nghost-%COMP%]   .categories[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#e6e6e6!important;border-radius:1px!important}[_nghost-%COMP%]   .categories[_ngcontent-%COMP%]   .cat-description[_ngcontent-%COMP%]{color:var(--color-medium);margin:10px 0;padding:0 25px;font-size:calc(var(--font-modifier) * 14px)}[_nghost-%COMP%]   .categories[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{height:45px;width:100%;padding:5px 0 5px 15px;-ms-flex:0 0 40px;flex:0 0 40px;cursor:pointer;position:relative}[_nghost-%COMP%]   .categories[_ngcontent-%COMP%]   .category.active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   .categories[_ngcontent-%COMP%]   .category.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], [_nghost-%COMP%]   .categories[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%], [_nghost-%COMP%]   .categories[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{color:var(--color-primary)!important}[_nghost-%COMP%]   .categories[_ngcontent-%COMP%]   .category.active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   .categories[_ngcontent-%COMP%]   .category.active[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;left:-2px;background:rgba(98,126,234,.09019607843137255);border-radius:15px;overflow:visible}[_nghost-%COMP%]   .categories[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]:focus:after{width:calc(100% + 13px)}[_nghost-%COMP%]   .categories[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}[_nghost-%COMP%]   .categories[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-medium);margin-right:5px;font-size:16px;width:20px}[_nghost-%COMP%]   .categories[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Poppins;font-size:calc(var(--font-modifier) * 14px);font-weight:500;color:var(--color-medium);max-height:45px;overflow:hidden;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;text-overflow:ellipsis;white-space:normal;line-height:normal}[_nghost-%COMP%]   .categories[_ngcontent-%COMP%]   .category.selected[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   .categories[_ngcontent-%COMP%]   .category.selected[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-primary)!important}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0);z-index:1000}']}),t}(),QC=["inputContainer"];function XC(t,e){1&t&&(c.Sb(0,"span"),c.Ic(1," >"),c.Rb())}function tx(t,e){if(1&t){var n=c.Tb();c.Sb(0,"p",9),c.Zb("click",(function(){return c.yc(n),c.dc(3).handleCategoryRemove()})),c.Ic(1),c.Rb()}if(2&t){var i=c.dc(3);c.Eb("empty-category",!i.activeCategory),c.Ab(1),c.Kc(" ",i.activeCategory.name," ")}}function ex(t,e){1&t&&(c.Sb(0,"span"),c.Ic(1," >"),c.Rb())}function nx(t,e){if(1&t&&(c.Sb(0,"h3"),c.Ic(1),c.Rb()),2&t){var n=c.dc(3);c.Ab(1),c.Jc(n.activeCategory.name)}}function ix(t,e){1&t&&(c.Sb(0,"h3"),c.Ic(1,"App Detail"),c.Rb())}function ox(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",7),c.Sb(1,"div",8),c.Sb(2,"p",9),c.Zb("click",(function(){return c.yc(n),c.dc(2).handleCollectionSelect()})),c.Ic(3),c.Rb(),c.Gc(4,XC,2,0,"span",10),c.Gc(5,tx,2,3,"p",11),c.Gc(6,ex,2,0,"span",10),c.Rb(),c.Gc(7,nx,2,1,"h3",10),c.Gc(8,ix,2,0,"h3",10),c.Rb()}if(2&t){var i=c.dc(2);c.Ab(2),c.Eb("empty-category",!i.activeCategory&&!i.activeApp),c.Ab(1),c.Kc(" ",i.activeCollection.Name," "),c.Ab(1),c.kc("ngIf",i.activeApp),c.Ab(1),c.kc("ngIf",i.activeApp&&i.activeCategory),c.Ab(1),c.kc("ngIf",i.activeCategory),c.Ab(1),c.kc("ngIf",i.activeCategory&&!i.activeApp),c.Ab(1),c.kc("ngIf",i.activeApp)}}function rx(t,e){if(1&t&&(c.Sb(0,"div",7),c.Sb(1,"h3"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=c.dc().$implicit;c.Ab(2),c.Jc(n("appLibrary.addApp.customApp"))}}function ax(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",16),c.Zb("click",(function(){return c.yc(n),c.dc(3).handleToggleClick()}))("keydown.Enter",(function(){return c.yc(n),c.dc(3).handleToggleClick()}))("keydown.Space",(function(){return c.yc(n),c.dc(3).handleToggleClick()})),c.Nb(1,"i",17),c.Rb()}}var sx=function(t){return{type:"text","aria-label":t}},cx=function(t){return{"keydown.enter":t}};function lx(t,e){if(1&t){var n=c.Tb();c.Sb(0,"cl-input",19,20),c.Zb("valueChange",(function(t){return c.yc(n),c.dc(4).searchVal=t}))("valueChange",(function(){return c.yc(n),c.dc(4).handleSearch()}))("click",(function(t){return c.yc(n),t.stopPropagation()})),c.Rb()}if(2&t){var i=c.dc(3).$implicit,o=c.dc();c.kc("attributes",c.nc(4,sx,i("appLibrary.libraryHeader.inputLabel")))("events",c.nc(6,cx,o.handleSearchEnter.bind(o)))("icon","far fa-search")("value",o.searchVal)}}function px(t,e){if(1&t&&(c.Qb(0),c.Gc(1,lx,2,8,"cl-input",18),c.Pb()),2&t){var n=c.dc(3);c.Ab(1),c.kc("ngIf",n.toggleInput)}}function dx(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",23),c.Sb(2,"div",24),c.Sb(3,"div"),c.Sb(4,"h4"),c.Ic(5),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Pb()),2&t){var n=c.dc(3).$implicit;c.Ab(5),c.Jc(n("common.noResults"))}}var ux=function(t){return{name:t}};function gx(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",25),c.Zb("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(4).handleSuggestionClick(t)}))("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(4).handleSuggestionClick(t)})),c.Sb(1,"img",26),c.Zb("error",(function(t){return c.yc(n),c.dc(4).handleImage(t)})),c.Rb(),c.Sb(2,"div",24),c.Sb(3,"div"),c.Sb(4,"p",27),c.Ic(5),c.Sb(6,"span"),c.Nb(7,"i"),c.Ic(8),c.Rb(),c.Rb(),c.Rb(),c.Sb(9,"p",27),c.Ic(10),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(3).$implicit;c.Ab(1),c.kc("src",i.defaulturl,c.Ac)("alt",o("apps.altText",c.nc(7,ux,i.ApplicationName))),c.Ab(4),c.Kc(" ",i.ApplicationName," "),c.Ab(2),c.Cb("far fa-"+i.CategoryIcon),c.Ab(1),c.Kc(" ",i.CategoryName," "),c.Ab(2),c.Jc(i.AppDescription)}}function hx(t,e){if(1&t&&(c.Sb(0,"div",21),c.Gc(1,dx,6,1,"ng-container",10),c.Gc(2,gx,11,9,"div",22),c.Rb()),2&t){var n=c.dc(3);c.Ab(1),c.kc("ngIf",0===n.suggestedApps.length),c.Ab(1),c.kc("ngForOf",n.suggestedApps)}}function bx(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",28),c.Zb("click",(function(){c.yc(n);var t=c.dc(3);return t.searchVal="",t.handleSearch()})),c.Nb(1,"i",6),c.Rb()}}function fx(t,e){if(1&t&&(c.Sb(0,"div",12),c.Gc(1,ax,2,0,"div",13),c.Gc(2,px,2,1,"ng-container",10),c.Gc(3,hx,3,2,"div",14),c.Gc(4,bx,2,0,"button",15),c.Rb()),2&t){var n=c.dc(2);c.Ab(1),c.kc("ngIf",!n.toggleInput),c.Ab(1),c.kc("ngIf",n.toggleInput),c.Ab(1),c.kc("ngIf",n.showSuggestionsDrop),c.Ab(1),c.kc("ngIf",n.searchVal.length>0)}}function mx(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",29),c.Zb("click",(function(){return c.yc(n),c.dc(2).handleAddApp()})),c.Nb(1,"i",30),c.Rb()}if(2&t){var i=c.dc().$implicit;c.Bb("aria-label",i("appLibrary.addApp.addApp"))}}function vx(t,e){if(1&t){var n=c.Tb();c.Sb(0,"cl-button-toggle",31),c.Zb("toggledChange",(function(){return c.yc(n),c.dc(2).handleToggleChange()})),c.Rb()}if(2&t){var i=c.dc(2);c.kc("toggled",i.showListView)("icons",i.toggleIcons)}}function yx(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Gc(1,ox,9,8,"div",1),c.Gc(2,rx,3,1,"div",1),c.Gc(3,fx,5,4,"div",2),c.Gc(4,mx,2,1,"button",3),c.Gc(5,vx,1,2,"cl-button-toggle",4),c.Sb(6,"button",5),c.Zb("click",(function(){return c.yc(n),c.dc().closed.emit(!0)})),c.Nb(7,"i",6),c.Rb(),c.Pb()}if(2&t){var i=c.dc();c.Ab(1),c.kc("ngIf",i.activeCollection&&0===i.currentView),c.Ab(1),c.kc("ngIf",1===i.currentView),c.Ab(1),c.kc("ngIf",!i.activeApp&&1!==i.currentView),c.Ab(1),c.kc("ngIf",i.appLibraryStatus&&i.appLibraryStatus.canAddLibraryApp&&1!==i.currentView&&!i.activeApp),c.Ab(1),c.kc("ngIf",!i.activeApp&&1!==i.currentView),c.Ab(1),c.Eb("right",i.activeApp)}}var Cx=function(){function t(t,e,n){var i=this;this.appLibHelper=t,this.appsService=e,this.layoutService=n,this.suggestedApps=[],this.closed=new c.n,this.onSearch=new c.n,this.toggleInput=!1,this.showSuggestionsDrop=!1,this.showListView=!1,this.searchVal="",this.toggleIcons=["fas fa-th-large","fas fa-list"],this.subscriptions=[],this.subscriptions[0]=n.documentClicked.subscribe((function(t){return i.handleDocClick()})),this.subscriptions[1]=t.filterUpdated.subscribe((function(t){return i.searchVal=t})),this.subscriptions[2]=t.activeCategory.subscribe((function(t){return i.activeCategory=t})),this.subscriptions[3]=t.activeCollection.subscribe((function(t){return i.activeCollection=t})),this.subscriptions[4]=t.appLibraryStatusUpdated.subscribe((function(t){return i.appLibraryStatus=t})),this.subscriptions[5]=t.activeApp.subscribe((function(t){return i.activeApp=t})),this.subscriptions[6]=t.showListView.subscribe((function(t){return i.showListView=t})),this.subscriptions[7]=n.documentClicked.subscribe((function(t){var e;if(!i.searchVal&&i.toggleInput){var n=t.target;n.classList.contains("search-icon")||n.classList.contains("fa-search")||(null===(e=n.parentElement)||void 0===e?void 0:e.classList.contains("fa-search"))||(i.toggleInput=!1)}}))}return t.prototype.ngOnChanges=function(t){t.suggestedApps&&(this.showSuggestionsDrop=t.suggestedApps.currentValue.length>0)},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.filterTimer&&this.filterTimer.unsubscribe()},t.prototype.handleToggleClick=function(){this.toggleInput=!this.toggleInput},t.prototype.handleInputFocus=function(){var t;this.toggleInput&&(null===(t=this.inputContainer.inputElement)||void 0===t||t.focus())},t.prototype.handleSearch=function(){var t=this;this.filterTimer&&this.filterTimer.unsubscribe(),this.filterTimer=Object(T.a)(250).subscribe((function(){t.onSearch.emit(t.searchVal)}))},t.prototype.handleSearchEnter=function(){this.showSuggestionsDrop=!1},t.prototype.handleSuggestionClick=function(t){this.searchVal=t.ApplicationName,this.appLibHelper.suggestionClicked.next(t),this.showSuggestionsDrop=!1},t.prototype.handleAddApp=function(){this.appLibHelper.currentViewUpdated.next(1)},t.prototype.handleDocClick=function(){this.showSuggestionsDrop=!1},t.prototype.handleImage=function(t){t.target.src=Re.a.coreCDN+"/assets/images/default-app-icon.png"},t.prototype.handleCategoryRemove=function(){this.activeApp?this.appLibHelper.activeApp.next(void 0):this.appLibHelper.activeCategory.next(void 0)},t.prototype.handleCollectionSelect=function(){this.appLibHelper.activeCategory.next(void 0),this.activeApp&&this.appLibHelper.activeApp.next(void 0)},t.prototype.handleToggleChange=function(){this.appLibHelper.showListView.next(!this.showListView)},t.prototype.isInDoubleSlideover=function(){return this.context&&this.context.isDoubleSlideover},t.\u0275fac=function(e){return new(e||t)(c.Mb(we.a),c.Mb(Tc.a),c.Mb(We.G))},t.\u0275cmp=c.Gb({type:t,selectors:[["dynamic-app-library-header"]],viewQuery:function(t,e){var n;1&t&&c.Nc(QC,!0),2&t&&c.uc(n=c.ac())&&(e.inputContainer=n.first)},inputs:{suggestedApps:"suggestedApps",context:"context",currentView:"currentView"},outputs:{closed:"closed",onSearch:"onSearch"},features:[c.yb],decls:1,vars:0,consts:[[4,"transloco"],["class","breadcrumb-container",4,"ngIf"],["class","app-lib-input-ctnr",4,"ngIf"],["class","cl-focusable focusable-small add-icon",3,"click",4,"ngIf"],["class","app-lib-view-toggle",3,"toggled","icons","toggledChange",4,"ngIf"],["aria-label","close app library modal",1,"close-white",3,"click"],[1,"far","fa-times"],[1,"breadcrumb-container"],[1,"collection"],[3,"click"],[4,"ngIf"],[3,"empty-category","click",4,"ngIf"],[1,"app-lib-input-ctnr"],["class","search-icon cl-focusable","id","app-library-input-search","tabindex","0",3,"click","keydown.Enter","keydown.Space",4,"ngIf"],["class","dropdown custom-scroll",4,"ngIf"],["class","clear",3,"click",4,"ngIf"],["id","app-library-input-search","tabindex","0",1,"search-icon","cl-focusable",3,"click","keydown.Enter","keydown.Space"],[1,"far","fa-search"],["class","app-search","tabindex","0",3,"attributes","events","icon","value","valueChange","click",4,"ngIf"],["tabindex","0",1,"app-search",3,"attributes","events","icon","value","valueChange","click"],["inputContainer",""],[1,"dropdown","custom-scroll"],["class","suggestion","role","button","tabindex","0",3,"click","keydown.Enter",4,"ngFor","ngForOf"],[1,"suggestion"],[1,"text-ctnr"],["role","button","tabindex","0",1,"suggestion",3,"click","keydown.Enter"],[3,"src","alt","error"],[1,"app-description"],[1,"clear",3,"click"],[1,"cl-focusable","focusable-small","add-icon",3,"click"],[1,"fa-regular","fa-grid-2-plus"],[1,"app-lib-view-toggle",3,"toggled","icons","toggledChange"]],template:function(t,e){1&t&&c.Gc(0,yx,8,7,"ng-container",0)},directives:[Te.c,i.l,We.C,i.k,We.d],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;width:100%;min-height:80px;border-bottom:1px solid #ddd;z-index:100}[_nghost-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]{height:65%;margin-left:50px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}[_nghost-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]   .collection[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;gap:15px}[_nghost-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]   .collection[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Poppins;font-size:calc(var(--font-modifier) * 16px);font-weight:600;color:var(--color-primary,#118af3);cursor:pointer}[_nghost-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]   .collection[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Font Awesome 5 Pro;font-size:calc(var(--font-modifier) * 13px);font-weight:900;color:#333}[_nghost-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]   .collection[_ngcontent-%COMP%]   .empty-category[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 24px);color:#333;pointer-events:none}[_nghost-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Poppins;font-size:calc(var(--font-modifier) * 26px);font-weight:600;color:#333;margin-top:5px;line-height:39px}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]{position:relative;-ms-flex-positive:1;flex-grow:1;height:36px;-ms-flex-pack:end;justify-content:flex-end}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%], [_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{height:40px;width:40px;-ms-flex-pack:center;justify-content:center;cursor:pointer;padding:5px;border-radius:5px}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]:hover{background-color:var(--color-border-dark)}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{color:var(--color-primary)}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   cl-input[_ngcontent-%COMP%]{width:325px;height:36px;border:2px solid #ddd;border-radius:9px}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   cl-input[_ngcontent-%COMP%]   .app-search[_ngcontent-%COMP%]   .input-ctnr[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-radius:5px!important}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:8px;right:10px;padding:0}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{color:var(--color-primary);margin-left:0;font-size:20px}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:100%;background-color:#fff;padding:20px;box-shadow:0 15px 30px 0 rgba(0,0,0,.15);border-radius:5px;z-index:2;max-height:500px}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;width:100%;height:60px;padding:10px;border-radius:5px;cursor:pointer}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .app-description[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;width:95%}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .app-description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-primary)}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]:hover{background-color:#ddf0fe}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:15px}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%]{-ms-flex-flow:column nowrap;flex-flow:column nowrap;width:90%}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:5px}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-size:13px;font-weight:600;letter-spacing:0}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin:0 5px 0 10px}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-primary)}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{color:var(--color-dark)}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   P[_ngcontent-%COMP%]:last-of-type{white-space:nowrap}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}[_nghost-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]   .text-ctnr[_ngcontent-%COMP%]   .flex-start-center[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}[_nghost-%COMP%]   .app-lib-view-toggle[_ngcontent-%COMP%]{margin-left:10px;margin-right:8px;height:40px}[_nghost-%COMP%]   .add-icon[_ngcontent-%COMP%]{padding:6px;border:2px solid #ddd;border-radius:5px;margin-left:9px}[_nghost-%COMP%]   .add-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#333}[_nghost-%COMP%]   .close-white[_ngcontent-%COMP%]{height:40px;margin-left:15px;margin-right:10px}[_nghost-%COMP%]   .close-white.right[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%] > button[_ngcontent-%COMP%]:not(.close):hover{opacity:.8}.dynamic-app-library-header-icons[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;justify-items:flex-end}"]}),t}(),xx=["inputContainer"],wx=["folderContainer"];function Px(t,e){if(1&t){var n=c.Tb();c.Sb(0,"cl-dropdown",12),c.Zb("selectionChange",(function(t){return c.yc(n),c.dc(2).selectedFolder=t}))("selectionChange",(function(t){return c.yc(n),c.dc(2).handleFolderChange(t)})),c.Rb()}if(2&t){var i=c.dc(2);c.kc("selection",i.selectedFolder)("options",i.folderOptions)("showRemove",!1)("showSearch",!0)}}function Ox(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",13),c.Zb("click",(function(){return c.yc(n),c.dc(2).handleShowSearch()}))("keydown.Enter",(function(){return c.yc(n),c.dc(2).handleShowSearch()}))("keydown.Space",(function(){return c.yc(n),c.dc(2).handleShowSearch()})),c.Nb(1,"i",14),c.Rb()}}function Mx(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"cl-input",15,16),c.Zb("valueChange",(function(t){return c.yc(n),c.dc(2).searchValue=t}))("valueChange",(function(){return c.yc(n),c.dc(2).handleSearch()}))("click",(function(t){return c.yc(n),t.stopPropagation()})),c.Rb(),c.Pb()}if(2&t){var i=c.dc(2);c.Ab(1),c.kc("icon","far fa-search")("value",i.searchValue)}}function _x(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",17),c.Zb("click",(function(){return c.yc(n),c.dc(2).handleFolderDropdown()})),c.Nb(1,"i",18),c.Rb()}if(2&t){var i=c.dc(2);c.Eb("collapsed",i.isFolderCollapsed)}}function kx(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",29),c.Zb("click",(function(){c.yc(n);var t=c.dc().$implicit;return c.dc(3).handleAppRemove(t)})),c.Nb(1,"i",30),c.Rb()}}function Sx(t,e){1&t&&(c.Sb(0,"div",31),c.Ic(1,"NEW"),c.Rb())}var Ax=function(t){return{hovered:t}};function Ix(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",22),c.Zb("dragenter",(function(t){c.yc(n);var i=e.$implicit;return c.dc(3).handleDragEnter(t,i)}))("dragstart",(function(t){c.yc(n);var i=e.$implicit;return c.dc(3).handleDragStart(t,i)}))("dragend",(function(t){c.yc(n);var i=e.$implicit;return c.dc(3).handleDragEnded(t,i)})),c.Sb(1,"div",23),c.Nb(2,"div",24),c.Sb(3,"div",25),c.Sb(4,"img",26),c.Zb("error",(function(t){return c.yc(n),c.dc(3).handleImage(t)})),c.Rb(),c.Rb(),c.Gc(5,kx,2,0,"div",27),c.Gc(6,Sx,2,0,"div",28),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit;c.dc(2);var o=c.vc(11),r=c.dc();c.Ab(1),c.kc("ngClass",c.nc(6,Ax,(null==r.hoveredApp?null:r.hoveredApp.id)===i.id))("clTooltip",o)("clTooltipContext",i.name),c.Ab(3),c.kc("src",i.icon,c.Ac),c.Ab(1),c.kc("ngIf",r.appLibraryHelper.canAppBeChanged(i)||1===i.action_flag),c.Ab(1),c.kc("ngIf",r.newApps.includes(i.id))}}function Rx(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",19,20),c.Zb("drop",(function(t){return c.yc(n),c.dc(2).handleAppDrop(t)}))("dragover",(function(t){return c.yc(n),c.dc(2).handleDragOver(t)}))("dragleave",(function(t){return c.yc(n),c.dc(2).handleDragLeave(t)})),c.Gc(2,Ix,7,8,"div",21),c.Rb()}if(2&t){var i=c.dc(2);c.Eb("collapsed",i.isFolderCollapsed),c.Ab(2),c.kc("ngForOf",i.folderApps)}}function Tx(t,e){if(1&t&&(c.Sb(0,"div",32),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=e.$implicit;c.Ab(2),c.Jc(n)}}function Fx(t,e){if(1&t&&(c.Sb(0,"div",1),c.Sb(1,"div",2),c.Sb(2,"div",3),c.Nb(3,"i",4),c.Gc(4,Px,1,4,"cl-dropdown",5),c.Rb(),c.Sb(5,"div",6),c.Gc(6,Ox,2,0,"div",7),c.Gc(7,Mx,3,2,"ng-container",8),c.Rb(),c.Gc(8,_x,2,2,"div",9),c.Rb(),c.Gc(9,Rx,3,3,"div",10),c.Gc(10,Tx,3,1,"ng-template",null,11,c.Hc),c.Rb()),2&t){var n=c.dc();c.Ab(4),c.kc("ngIf",n.apps),c.Ab(2),c.kc("ngIf",!n.showSearch),c.Ab(1),c.kc("ngIf",n.showSearch),c.Ab(1),c.kc("ngIf",n.isScrollable),c.Ab(1),c.kc("ngIf",n.folderApps)}}var Ex=function(){function t(t,e,n,i,o,r,a){var s=this;this.appsHelper=t,this.appsService=e,this.dragService=n,this.appLibraryHelper=i,this.layoutService=o,this.nodeApi=r,this.translationHelper=a,this.apps=[],this.folderOptions=[],this.newApps=[],this.folderApps=[],this.isAllAppsSelected=!1,this.columns=1,this.isFolderCollapsed=!0,this.showSearch=!1,this.isScrollable=!1,this.subscriptions=[],this.subscriptions[0]=t.appsUpdated.subscribe((function(t){var e,n;s.apps=t.apps,n=s.selectedFolder?null===(e=s.apps.find((function(t){return t.id===s.selectedFolder})))||void 0===e?void 0:e.apps:s.apps.filter((function(t){return!s.appsHelper.isFolder(t)})),s.folderApps=n,s.getFolderOptions(),s.setChevronState(),setTimeout((function(){s.calculateGridColumns()}))})),this.subscriptions[1]=t.addAppsToFolder.subscribe((function(t){var e;if(t){i.isAllAppsSelected.next(!1);var n=s.apps.find((function(e){return e.id===t}));s.activeFolder=n,s.selectedFolder=null==n?void 0:n.id,s.folderApps=t?null===(e=s.apps.find((function(e){return e.id===t})))||void 0===e?void 0:e.apps:s.apps.filter((function(t){return!s.appsHelper.isFolder(t)})),s.handleSearch()}})),this.subscriptions[2]=i.addedApps.subscribe((function(t){s.newApps=t})),this.subscriptions[3]=i.isAllAppsSelected.subscribe((function(t){s.isAllAppsSelected=t,s.isAllAppsSelected&&(s.selectedFolder=void 0,s.folderApps=s.apps.filter((function(t){return!s.appsHelper.isFolder(t)})),s.handleSearch(),s.setChevronState())})),this.subscriptions[4]=n.draggedApp.subscribe((function(t){s.draggedApp=t})),this.subscriptions[5]=n.isDragging.subscribe((function(t){s.isDragging=t,s.isDragging&&s.isFolderCollapsed&&(s.isFolderCollapsed=!1)})),this.subscriptions[6]=o.windowResized.subscribe((function(t){s.setChevronState()})),this.subscriptions[7]=o.documentClicked.subscribe((function(t){var e;if(!s.searchValue&&s.showSearch){var n=t.target;n.classList.contains("search-icon")||n.classList.contains("fa-search")||(null===(e=n.parentElement)||void 0===e?void 0:e.classList.contains("fa-search"))||(s.showSearch=!1)}}))}return t.prototype.ngOnInit=function(){this.getFolderOptions(),this.activeFolder&&(this.selectedFolder=this.activeFolder.id)},t.prototype.ngAfterViewInit=function(){this.calculateGridColumns(),this.setChevronState()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getFolderOptions=function(){this.folderOptions=Object(le.e)(this.appsHelper.getAllUnlockedFolders(this.apps).map((function(t){return{label:t.name,value:t.id}})),[{label:"All Apps",value:void 0}])},t.prototype.handleFolderChange=function(t){var e=this;if(t){var n=this.apps.find((function(e){return e.id===t}));if(!n)return;this.appLibraryHelper.isAllAppsSelected.next(!1),this.folderApps=Object(le.e)(n.apps),this.appsHelper.addAppsToFolder.next(n.id)}else{this.appLibraryHelper.isAllAppsSelected.next(!0);var i=this.apps.filter((function(t){return!e.appsHelper.isFolder(t)}));this.folderApps=Object(le.e)(i),this.appsHelper.addAppsToFolder.next(void 0)}this.setChevronState()},t.prototype.handleAppDrop=function(t){var e,n,i,o=this;this.clearHoveredApp();var r=this.calculateDropPosition(t),a=this.selectedFolder?null===(e=this.apps.find((function(t){return t.id===o.selectedFolder})))||void 0===e?void 0:e.apps:this.apps;if(null==a?void 0:a.some((function(t){return t.id===o.draggedApp.id}))){for(var s=0,c=0;c<a.length;c++)if(a[c].id===this.draggedApp.id){s=c;break}return s===r||s===r-1?void this.clearHoveredApp():(a.splice(s,1),-1!==r?a.splice(r>s?r-1:r,0,this.draggedApp):a.push(this.draggedApp),void this.appLibraryHelper.reorderFolder(a,this.draggedApp))}this.appLibraryHelper.isAppAssigned(this.draggedApp)?(this.isAllAppsSelected&&this.appLibraryHelper.removeFromFolder(this.draggedApp,null===(n=this.appLibraryHelper.getAppFolder(this.draggedApp))||void 0===n?void 0:n.id,-1===r?this.apps.length-1:r),this.activeFolder&&this.appLibraryHelper.moveToFolder(this.draggedApp,this.activeFolder.id,-1===r?this.apps.length-1:r)):(this.appLibraryHelper.addApp(this.draggedApp,null===(i=this.appLibraryHelper.getAppFolder(this.draggedApp))||void 0===i?void 0:i.id,-1===r?this.apps.length-1:r),this.appLibraryHelper.addedApps.next(Object(le.e)(this.newApps,[this.draggedApp.id]))),this.dragService.isDragging.next(!1)},t.prototype.handleDragEnter=function(t,e){this.hoveredApp=e},t.prototype.handleShowSearch=function(){this.showSearch=!this.showSearch},t.prototype.handleInputFocus=function(){var t;this.showSearch&&(null===(t=this.inputContainer.inputElement)||void 0===t||t.focus())},t.prototype.handleFolderDropdown=function(){this.isFolderCollapsed=!this.isFolderCollapsed},t.prototype.handleSearch=function(){var t,e=this,n=this.isAllAppsSelected?this.apps.filter((function(t){return!e.appsHelper.isFolder(t)})):this.activeFolder.apps,i=null===(t=this.searchValue)||void 0===t?void 0:t.trim().toLocaleLowerCase();this.folderApps=n.filter((function(t){return t.name.toLocaleLowerCase().includes(null!=i?i:"")}))},t.prototype.handleImage=function(t){t.target.src=Re.a.coreCDN+"/assets/images/default-app-icon.png"},t.prototype.setChevronState=function(){var t=this;setTimeout((function(){t.folderContainer&&(t.isScrollable=t.folderContainer.nativeElement.scrollHeight>75)}))},t.prototype.handleAppRemove=function(t){var e=this;1!==t.action_flag?this.appLibraryHelper.removeApp(t):this.nodeApi.deleteApp(t).subscribe((function(t){Object(T.a)(300).subscribe((function(){e.appsService.getMyApps().pipe(Object(ze.a)()).subscribe((function(t){e.appsHelper.appsUpdated.next({apps:t,reload:!0}),e.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"common.app",verb:"common.deleted"})}))}))}))},t.prototype.calculateDropPosition=function(t){var e=t.clientX,n=t.clientY,i=t.currentTarget.querySelectorAll(".app-lib-folder-app"),o=i.length,r=1/0;return i.forEach((function(t,i){var a=t.getBoundingClientRect(),s=a.left+a.width/2,c=a.top+a.height/2,l=Math.abs(s-e),p=Math.abs(c-n);if(p<=30){var d=Math.sqrt(Math.pow(l,2)+Math.pow(p,2));d<r&&(r=d,o=n>c||n===c&&e>s?i+1:i)}})),r>55?-1:o},t.prototype.handleDragOver=function(t){t.preventDefault();var e=this.calculateDropPosition(t);this.hoveredApp!==this.folderApps[e]&&(this.hoveredApp=this.folderApps[e],this.clearHoveredApp(),this.updateHoveredApp())},t.prototype.updateHoveredApp=function(){var t=this.folderApps.indexOf(this.hoveredApp);if(t>-1){var e=document.querySelectorAll(".app-lib-folder-app")[t];if(e&&e.classList.add("shift-right"),t>0&&t%this.columns!=0){var n=document.querySelectorAll(".app-lib-folder-app")[t-1];n&&n.classList.add("shift-left")}}},t.prototype.clearHoveredApp=function(){document.querySelectorAll(".app-lib-folder-app.shift-left, .app-lib-folder-app.shift-right").forEach((function(t){t.classList.remove("shift-left","shift-right")}))},t.prototype.handleDragLeave=function(t){t.currentTarget.contains(t.relatedTarget)||this.clearHoveredApp()},t.prototype.calculateGridColumns=function(){var t,e=null===(t=this.folderContainer)||void 0===t?void 0:t.nativeElement;if(e){var n=e.querySelector(".app-lib-folder-app");n&&(this.columns=Math.floor((e.clientWidth+30)/(n.clientWidth+30)))}},t.prototype.handleDragStart=function(t,e){this.dragService.isDragging.next(!0),this.dragService.draggedApp.next(e)},t.prototype.handleDragEnded=function(t){this.dragService.isDragging.next(!1),this.dragService.draggedApp.next(void 0)},t.\u0275fac=function(e){return new(e||t)(c.Mb(Xt.a),c.Mb(je.a),c.Mb(Ky),c.Mb(we.a),c.Mb(We.G),c.Mb(Qt.a),c.Mb(Be.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["dynamic-library-folder"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(xx,!0),c.Nc(wx,!0)),2&t&&(c.uc(n=c.ac())&&(e.inputContainer=n.first),c.uc(n=c.ac())&&(e.folderContainer=n.first))},decls:1,vars:1,consts:[["class","library-folder-container",4,"ngIf"],[1,"library-folder-container"],[1,"folder-header"],[1,"folder-name"],[1,"fa-light","fa-folder-open","folder-icon"],["class","folder-dropdown cl-focusable","tabindex","0",3,"selection","options","showRemove","showSearch","selectionChange",4,"ngIf"],[1,"folder-search"],["class","search-icon cl-focusable","tabindex","0",3,"click","keydown.Enter","keydown.Space",4,"ngIf"],[4,"ngIf"],["class","folder-actions cl-focusable","tabindex","0",3,"collapsed","click",4,"ngIf"],["class","folder-applications custom-scroll",3,"collapsed","drop","dragover","dragleave",4,"ngIf"],["tooltip",""],["tabindex","0",1,"folder-dropdown","cl-focusable",3,"selection","options","showRemove","showSearch","selectionChange"],["tabindex","0",1,"search-icon","cl-focusable",3,"click","keydown.Enter","keydown.Space"],[1,"far","fa-search"],["tabindex","0",1,"app-folder-search",3,"icon","value","valueChange","click"],["inputContainer",""],["tabindex","0",1,"folder-actions","cl-focusable",3,"click"],[1,"fas","fa-chevron-down","dropdown-icon"],[1,"folder-applications","custom-scroll",3,"drop","dragover","dragleave"],["folderContainer",""],["class","app-image",3,"dragenter","dragstart","dragend",4,"ngFor","ngForOf"],[1,"app-image",3,"dragenter","dragstart","dragend"],["clLastFocused","",1,"cl-clip-img-ctnr","cl-focusable","app-lib-folder-app",3,"ngClass","clTooltip","clTooltipContext"],[1,"img-border","assigned"],[1,"img-border"],["alt","",3,"src","error"],["class","remove-icon",3,"click",4,"ngIf"],["class","new-app-flag",4,"ngIf"],[1,"remove-icon",3,"click"],[1,"fas","fa-times"],[1,"new-app-flag"],[1,"cl-tooltip"]],template:function(t,e){1&t&&c.Gc(0,Fx,12,5,"div",0),2&t&&c.kc("ngIf",e.apps)},directives:[i.l,We.t,We.C,i.k,We.F,i.j,We.Y],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;margin:30px 70px;border:1px solid #fff;border-radius:3px;box-shadow:0 0 10px 0 rgba(0,0,0,.14901960784313725)}[_nghost-%COMP%]   .library-folder-container[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content}[_nghost-%COMP%]   .library-folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]{width:100%;padding:30px 30px 15px}[_nghost-%COMP%]   .library-folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%], [_nghost-%COMP%]   .library-folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]   .folder-name[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center}[_nghost-%COMP%]   .library-folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]   .folder-name[_ngcontent-%COMP%]{gap:9px}[_nghost-%COMP%]   .library-folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]   .folder-name[_ngcontent-%COMP%]   .folder-icon[_ngcontent-%COMP%]{width:25px;height:25px;color:#333}[_nghost-%COMP%]   .library-folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]   .folder-name[_ngcontent-%COMP%]   .folder-dropdown[_ngcontent-%COMP%]{max-width:300px;margin-right:26px}[_nghost-%COMP%]   .library-folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]   .folder-search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{border:2px solid #ddd;border-radius:9px;padding:5px 7px}[_nghost-%COMP%]   .library-folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]   .folder-search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}[_nghost-%COMP%]   .library-folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]   .folder-search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]:hover{background-color:#ddd}[_nghost-%COMP%]   .library-folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]   .folder-actions[_ngcontent-%COMP%]{cursor:pointer;margin-left:auto}[_nghost-%COMP%]   .library-folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]   .folder-actions.collapsed[_ngcontent-%COMP%]{transition:transform .3s ease}[_nghost-%COMP%]   .library-folder-container[_ngcontent-%COMP%]   .folder-header[_ngcontent-%COMP%]   .folder-actions.collapsed[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{-ms-transform:rotate(180deg);transform:rotate(180deg)}[_nghost-%COMP%]   .library-folder-container[_ngcontent-%COMP%]   .folder-applications[_ngcontent-%COMP%]{min-height:75px;max-height:235px;width:100%;padding:0 20px 15px;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-pack:start;justify-content:start;justify-items:center;-ms-flex-align:center;align-items:center;gap:30px;transition:max-height .2s ease-in-out}[_nghost-%COMP%]   .library-folder-container[_ngcontent-%COMP%]   .folder-applications[_ngcontent-%COMP%]   .app-image[_ngcontent-%COMP%]{z-index:0}[_nghost-%COMP%]   .library-folder-container[_ngcontent-%COMP%]   .folder-applications[_ngcontent-%COMP%]   .app-image[_ngcontent-%COMP%]   .cl-clip-img-ctnr[_ngcontent-%COMP%]{cursor:default;height:55px;width:55px}[_nghost-%COMP%]   .library-folder-container[_ngcontent-%COMP%]   .folder-applications[_ngcontent-%COMP%]   .app-image[_ngcontent-%COMP%]   .img-border[_ngcontent-%COMP%]{position:absolute}[_nghost-%COMP%]   .library-folder-container[_ngcontent-%COMP%]   .folder-applications[_ngcontent-%COMP%]   .app-image[_ngcontent-%COMP%]   .img-border[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:55px;width:55px}[_nghost-%COMP%]   .library-folder-container[_ngcontent-%COMP%]   .folder-applications[_ngcontent-%COMP%]   .app-image[_ngcontent-%COMP%]   .remove-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:15px;height:15px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;border-radius:50%;background-color:var(--color-danger);cursor:pointer;opacity:0}[_nghost-%COMP%]   .library-folder-container[_ngcontent-%COMP%]   .folder-applications[_ngcontent-%COMP%]   .app-image[_ngcontent-%COMP%]   .remove-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:10px;height:10px;color:#fff}[_nghost-%COMP%]   .library-folder-container[_ngcontent-%COMP%]   .folder-applications[_ngcontent-%COMP%]   .app-image[_ngcontent-%COMP%]   .new-app-flag[_ngcontent-%COMP%]{position:absolute;bottom:0;right:-10px;padding:3px 5px;border-radius:5px;background-color:var(--color-primary);font-family:Poppins;font-size:12px;font-weight:900;color:#fcfcfc}[_nghost-%COMP%]   .library-folder-container[_ngcontent-%COMP%]   .folder-applications[_ngcontent-%COMP%]   .app-image[_ngcontent-%COMP%]:hover   .remove-icon[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .library-folder-container[_ngcontent-%COMP%]   .folder-applications.collapsed[_ngcontent-%COMP%]{max-height:75px}[_nghost-%COMP%]   .app-lib-folder-app[_ngcontent-%COMP%]{transition:transform .3s ease}[_nghost-%COMP%]   .app-lib-folder-app.shift-left[_ngcontent-%COMP%]{-ms-transform:translateX(-10px);transform:translateX(-10px)}[_nghost-%COMP%]   .app-lib-folder-app.shift-right[_ngcontent-%COMP%]{-ms-transform:translateX(10px);transform:translateX(10px)}"]}),t}();function Dx(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",2),c.Sb(1,"div",3),c.Zb("click",(function(){c.yc(n);var t=e.$implicit;return c.dc().handleCollectionSelect(t)})),c.Nb(2,"i",4),c.Ic(3),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(1),c.Eb("active",(null==o.activeCollection?null:o.activeCollection.Id)===i.Id),c.Ab(2),c.Kc(" ",i.Name," ")}}var Lx=function(){function t(t){var e=this;this.appLibraryHelperService=t,this.isListView=!1,this.subscriptions=[],this.subscriptions[0]=t.activeCollection.subscribe((function(t){return e.activeCollection=t})),this.subscriptions[1]=t.showListView.subscribe((function(t){return e.isListView=t}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.handleCollectionSelect=function(t){var e;(null===(e=this.activeCollection)||void 0===e?void 0:e.Id)!==t.Id&&this.appLibraryHelperService.activeCollection.next(t)},t.\u0275fac=function(e){return new(e||t)(c.Mb(we.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["dynamic-app-collections"]],inputs:{collections:"collections"},decls:2,vars:3,consts:[[1,"collections-container"],["class","collection cl-focusable",4,"ngFor","ngForOf"],[1,"collection","cl-focusable"],["role","button","tabindex","0",3,"click"],[1,"far","fa-books"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Gc(1,Dx,4,3,"div",1),c.Rb()),2&t&&(c.Eb("list-view",e.isListView),c.Ab(1),c.kc("ngForOf",e.collections))},directives:[i.k],styles:["[_nghost-%COMP%]   .collections-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:5px 20px;margin:30px 30px 0;padding-bottom:10px;border-bottom:1px solid #e6e6e6;font-family:Open Sans;font-size:calc(var(--font-modifier) * 14px);font-weight:800;color:#333}[_nghost-%COMP%]   .collections-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}[_nghost-%COMP%]   .collections-container[_ngcontent-%COMP%]   .collection[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], [_nghost-%COMP%]   .collections-container[_ngcontent-%COMP%]   .collection[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   .collections-container[_ngcontent-%COMP%]   .collection[_ngcontent-%COMP%]:hover{color:var(--color-primary)}[_nghost-%COMP%]   .collections-container.list-view[_ngcontent-%COMP%]{margin-bottom:20px;border-bottom:none}"]}),t}();function Nx(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",7),c.Sb(1,"cl-slide-toggle",8),c.Zb("toggledChange",(function(t){return c.yc(n),c.dc(2).input.sso=t})),c.Rb(),c.Sb(2,"p",9),c.Ic(3),c.Rb(),c.Sb(4,"span",10),c.Nb(5,"i",11),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.vc(8),r=c.dc();c.Ab(1),c.kc("toggled",r.input.sso),c.Ab(2),c.Kc(" ",i("appLibrary.addApp.newAppDetails.requestSSO")," "),c.Ab(1),c.kc("clTooltip",o)}}function Hx(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",12),c.Sb(1,"h2"),c.Ic(2),c.Rb(),c.Sb(3,"dynamic-app-library-app",13),c.Zb("click",(function(){return c.yc(n),c.dc(2).onSuggestionClick()})),c.Rb(),c.Rb()}if(2&t){var i=c.dc().$implicit,o=c.dc();c.Ab(2),c.Jc(i("appLibrary.addApp.newAppDetails.suggestionText")),c.Ab(1),c.Eb("assigned",o.appLibHelper.isAppAssigned(o.suggestedApp)),c.kc("app",o.suggestedApp)("showAddToFolder",!0)}}function Gx(t,e){if(1&t&&(c.Sb(0,"div",14),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=c.dc().$implicit;c.Ab(2),c.Jc(n("appLibrary.addApp.newAppDetails.requestSSO"))}}var Bx=function(t){return{type:"text","aria-label":t,required:!0,placeholder:"Brand New App"}},jx=function(t,e){return{focus:t,keydown:e}},Ux=function(t){return{type:"text","aria-label":t,required:!0,placeholder:"www.brandnewapp.com/newapp"}};function zx(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"cl-input",3),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().input.name=t}))("valueChange",(function(){return c.yc(n),c.dc().getSuggestions()})),c.Rb(),c.Sb(4,"cl-input",3),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().input.url=t})),c.Rb(),c.Gc(5,Nx,6,3,"div",4),c.Rb(),c.Gc(6,Hx,4,5,"div",5),c.Gc(7,Gx,3,1,"ng-template",null,6,c.Hc),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(3),c.kc("value",o.input.name)("label",i("apps.appName"))("attributes",c.nc(12,Bx,i("apps.appName")))("events",c.oc(14,jx,o.onInputFocus.bind(o,"name"),o.onKeydown.bind(o,"name")))("inputValidator",o.nameValidator.bind(o)),c.Ab(1),c.kc("value",o.input.url)("label",i("apps.appUrl"))("attributes",c.nc(17,Ux,i("apps.appUrl")))("events",c.oc(19,jx,o.onInputFocus.bind(o,"url"),o.onKeydown.bind(o,"url")))("inputValidator",o.urlValidator.bind(o)),c.Ab(1),c.kc("ngIf",o.userInfo&&"Student"!=o.userInfo.Role&&!o.permissions.tenantPermissions.appLibraryRequestSso),c.Ab(1),c.kc("ngIf",o.suggestedApp)}}var Vx=function(){function t(t,e,n,i,o,r){var a=this;this.appLibService=t,this.appsHelper=e,this.appLibHelper=n,this.translationHelper=i,this.sessionService=o,this.permissionsService=r,this.appSelected=new c.n,this.pageChange=new c.n,this.inputUpdated=new c.n,this.closed=new c.n,this.folderSelected=new c.n,this.openModal=new c.n,this.focused={name:!1,url:!1},this.typed={name:!1,url:!1},this.input={name:"",url:"",sso:!1},this.hasApp=!1,this.isLoading=!1,this.subscriptions=[],this.subscriptions[0]=e.appsUpdated.subscribe((function(t){return a.apps=e.flattenApps(t.apps)})),this.subscriptions[1]=n.appLibraryStatusUpdated.subscribe((function(t){return a.appLibraryStatus=t})),this.userInfo=o.getUserInfo(),this.subscriptions[2]=this.permissionsService.permissionsSub.subscribe((function(t){a.permissions=t})),this.subscriptions[3]=this.appLibHelper.collectionUpdated.subscribe((function(t){return a.activeCollection=t})),this.subscriptions[4]=this.appsHelper.appsUpdated.subscribe((function(t){a.allUserApps=t.apps,a.onAppsChange()})),this.subscriptions[5]=this.appLibHelper.activeApp.subscribe((function(t){a.app=t}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onAppsChange=function(){var t=this;this.app&&(this.hasApp=Boolean(Ce()(this.allUserApps,(function(e){return e.id===t.app.id}))))},t.prototype.getSuggestions=function(){var t=this;this.filterTimer&&this.filterTimer.unsubscribe(),this.filterTimer=Object(T.a)(500).subscribe((function(){""!==t.input.name.trim()?t.appLibService.getAddAppSuggestions(t.input.name).subscribe((function(e){t.suggestedApp=e})):t.suggestedApp=void 0}))},t.prototype.nameValidator=function(){var t=this;return!this.focused.name||!this.typed.name||""!==this.input.name.trim()&&!Ce()(this.apps,(function(e){return e.name.trim().toLowerCase()===t.input.name.trim().toLowerCase()}))},t.prototype.urlValidator=function(){return!this.focused.url||!this.typed.url||$e.a.isValidUrl(this.input.url)},t.prototype.areAppDetailsValid=function(){return""!==this.input.name.trim()&&$e.a.isValidUrl(this.input.url)},t.prototype.onInputFocus=function(t){this.focused[t]=!0},t.prototype.onKeydown=function(t){this.typed[t]=!0,this.inputUpdated.emit(this.input)},t.prototype.onCheckChange=function(){this.inputUpdated.emit(this.input)},t.prototype.onSuggestionClick=function(){this.appSelected.emit(this.suggestedApp)},t.prototype.goBack=function(){this.appLibraryStatus.globalAppLibraryEnabled?this.appLibHelper.currentViewUpdated.next(0):this.closed.emit(!0)},t.prototype.handleFolderSelection=function(t){t&&(this.onSuggestionClick(),this.selectedFolderId=t.id,this.folderSelected.emit(this.selectedFolderId),this.appLibHelper.moveToFolder(Object(le.a)(Object(le.a)({},this.suggestedApp),{id:this.selectedFolderId}),this.selectedFolderId))},t.prototype.handleAppRemove=function(){this.appLibHelper.removeApp(this.app)},t.prototype.resetInputs=function(){this.input.name="",this.input.url="",this.input.sso=!1},t.\u0275fac=function(e){return new(e||t)(c.Mb(Tc.a),c.Mb(Xt.a),c.Mb(we.a),c.Mb(Be.a),c.Mb(ae.a),c.Mb(Ie.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-new-app-details"]],inputs:{contextItem:"contextItem"},outputs:{appSelected:"appSelected",pageChange:"pageChange",inputUpdated:"inputUpdated",closed:"closed",folderSelected:"folderSelected",openModal:"openModal"},decls:1,vars:0,consts:[[4,"transloco"],[1,"flex-start","row-nowrap","outer-ctnr"],[1,"custom-scroll","flex-start","column-nowrap","app-details-input-ctnr"],[1,"app-name-input",3,"value","label","attributes","events","inputValidator","valueChange"],["class","flex-start-center",4,"ngIf"],["class","column-nowrap flex-start suggestions",4,"ngIf"],["tooltipDescription",""],[1,"flex-start-center"],[3,"toggled","toggledChange"],[1,"sso-label"],[3,"clTooltip"],[1,"far","fa-question-circle"],[1,"column-nowrap","flex-start","suggestions"],[1,"cl-app","app-library",3,"app","showAddToFolder","click"],[1,"cl-tooltip"]],template:function(t,e){1&t&&c.Gc(0,zx,9,22,"ng-container",0)},directives:[Te.c,We.C,i.l,We.Q,We.Y,RC],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;width:100%}.flex-start.row-nowrap.outer-ctnr[_ngcontent-%COMP%]{padding:35px 73px 0 0}h3[_ngcontent-%COMP%]{font-weight:700;font-size:calc(var(--font-modifier) * 18px)}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-bottom:20px}h2[_ngcontent-%COMP%]{font-weight:800;font-size:18px}p.sso-label[_ngcontent-%COMP%]{font-weight:600;font-size:13px}.app-details-input-ctnr[_ngcontent-%COMP%]{max-width:579px}cl-input[_ngcontent-%COMP%]{-ms-flex:0 0 62px;flex:0 0 62px;height:62px;margin-bottom:20px;width:100%;border-radius:5px}cl-slide-toggle[_ngcontent-%COMP%]{margin-right:10px}.cl-tooltip[_ngcontent-%COMP%]{visibility:hidden;max-width:200px;box-shadow:0 0 20px rgba(0,0,0,.25)}.custom-scroll[_ngcontent-%COMP%]{padding:0 35px 35px 50px;border-right:1px solid #ddd;-ms-flex-positive:2;flex-grow:2}.suggestions[_ngcontent-%COMP%]{padding-left:42px;-ms-flex-positive:1;flex-grow:1}.flex-start-center[_ngcontent-%COMP%]{margin-bottom:20px}.flex-start-center[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-left:12px;color:var(--color-primary)}.button[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 1px 1px var(--color-medium)}"]}),t}();function Zx(t,e){1&t&&c.Nb(0,"div",5)}function $x(t,e){if(1&t&&(c.Sb(0,"div",6),c.Sb(1,"p",7),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=c.dc();c.Ab(2),c.Jc(n.icon.name)}}var Wx=function(){function t(){this.selected=!1,this.showName=!0}return t.prototype.handleImage=function(t){t.target.src=Re.a.coreCDN+"/assets/images/default-app-icon.png"},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["app-icon"]],inputs:{icon:"icon",selected:"selected",showName:"showName"},decls:5,vars:4,consts:[[1,"cl-clip-img-ctnr"],["class","img-border assigned",4,"ngIf"],[1,"img-border"],[3,"src","alt","error"],["class","name",4,"ngIf"],[1,"img-border","assigned"],[1,"name"],[1,"custom-scroll"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Gc(1,Zx,1,0,"div",1),c.Sb(2,"div",2),c.Sb(3,"img",3),c.Zb("error",(function(t){return e.handleImage(t)})),c.Rb(),c.Rb(),c.Rb(),c.Gc(4,$x,3,1,"div",4)),2&t&&(c.Ab(1),c.kc("ngIf",e.selected),c.Ab(2),c.kc("src",e.icon.defaulturl,c.Ac)("alt",e.icon.name),c.Ab(1),c.kc("ngIf",e.showName))},directives:[i.l],styles:["div.name[_ngcontent-%COMP%]{margin-top:5px!important;height:auto!important}div.name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow-y:auto;height:100%;-ms-flex-align:baseline;align-items:baseline}"]}),t}(),Jx=["iconContainer"],qx=["focusable"];function Kx(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",26),c.Sb(2,"div",27),c.Sb(3,"div",28),c.Sb(4,"h4"),c.Ic(5),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Pb()),2&t){var n=c.dc(2).$implicit;c.Ab(5),c.Jc(n("common.noResults"))}}function Yx(t,e){if(1&t){var n=c.Tb();c.Sb(0,"div",29,30),c.Zb("click",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onSelectIcon(t)}))("keydown.Enter",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onSelectIcon(t)}))("keydown.Space",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).onSelectIcon(t)}))("navigate",(function(t){return c.yc(n),c.dc(3).nav(t)}))("focus",(function(){c.yc(n);var t=e.$implicit;return c.dc(3).itemFocus(t)})),c.Sb(2,"img",31),c.Zb("error",(function(t){return c.yc(n),c.dc(3).handleImage(t)})),c.Rb(),c.Sb(3,"div",27),c.Sb(4,"div",28),c.Sb(5,"h4"),c.Ic(6),c.Rb(),c.Rb(),c.Rb(),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(3);c.kc("id",i.name+"_opt")("customNavigation",!0),c.Bb("aria-selected",!!o.selectedIcon&&o.selectedIcon.id===i.id),c.Ab(2),c.kc("src",i.defaulturl,c.Ac),c.Ab(4),c.Jc(i.name)}}function Qx(t,e){if(1&t&&(c.Sb(0,"div",23),c.Gc(1,Kx,6,1,"ng-container",24),c.Gc(2,Yx,7,5,"div",25),c.Rb()),2&t){var n=c.dc(2);c.Ab(1),c.kc("ngIf",0===n.iconSearchResults.length),c.Ab(1),c.kc("ngForOf",n.iconSearchResults)}}function Xx(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-icon",32,30),c.Zb("click",(function(t){c.yc(n);var i=e.$implicit;return c.dc(2).onSelectIcon(i,t)}))("keydown.Space",(function(t){c.yc(n);var i=e.$implicit;return c.dc(2).onSelectIcon(i,t)}))("keydown.Enter",(function(t){c.yc(n);var i=e.$implicit;return c.dc(2).onSelectIcon(i,t)}))("navigate",(function(t){return c.yc(n),c.dc(2).nav(t)})),c.Rb()}if(2&t){var i=e.$implicit,o=c.dc(2);c.Eb("assigned",o.selectedIcon&&o.selectedIcon.id===i.id),c.kc("id",i.name)("icon",i)("selected",o.selectedIcon&&o.selectedIcon.id===i.id)("customNavigation",!0)}}function tw(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",33),c.Zb("click",(function(){return c.yc(n),c.dc(2).loadMore()})),c.Ic(1," Load More "),c.Rb()}}function ew(t,e){if(1&t&&(c.Sb(0,"h4",34),c.Nb(1,"i",35),c.Ic(2),c.Rb()),2&t){var n=c.dc(2);c.Ab(2),c.Jc(n.selectedFolderName)}}function nw(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-add-to-folder-button",36),c.Zb("onFolderSelection",(function(t){return c.yc(n),c.dc(2).handleFolderSelection(t)})),c.Rb()}2&t&&c.Cb("add-app-to-folder-button-modal")}function iw(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",37),c.Zb("click",(function(){return c.yc(n),c.dc(2).showFolder()})),c.Nb(1,"i",35),c.Ic(2),c.Rb()}if(2&t){var i=c.dc().$implicit;c.Ab(2),c.Kc(" ",i("appLibrary.addApp.showFolder")," ")}}var ow=function(t){return{"icon-selected":t}},rw=function(t,e){return{type:"text","aria-label":t,"aria-controls":"selectIconListbox","aria-autocomplete":"list","aria-activedescendant":e}};function aw(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"h3",3),c.Ic(4),c.Sb(5,"span",4),c.Ic(6,"*"),c.Rb(),c.Rb(),c.Sb(7,"div",5),c.Sb(8,"cl-input",6),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().iconSearch=t}))("valueChange",(function(){return c.yc(n),c.dc().onSearchValueChange()}))("keydown.arrowdown",(function(t){return c.yc(n),c.dc().inputNav(t)})),c.Rb(),c.Gc(9,Qx,3,2,"div",7),c.Rb(),c.Rb(),c.Rb(),c.Sb(10,"div",8,9),c.Zb("scrolled",(function(){return c.yc(n),c.dc().enableLoad()})),c.Gc(12,Xx,2,6,"app-icon",10),c.Sb(13,"div",11),c.Gc(14,tw,2,0,"button",12),c.Rb(),c.Rb(),c.Sb(15,"cl-modal",13),c.Zb("visibleChange",(function(t){return c.yc(n),c.dc().modalVisible=t})),c.Sb(16,"h3"),c.Ic(17),c.Rb(),c.Gc(18,ew,3,1,"h4",14),c.Sb(19,"div",15),c.Sb(20,"img",16),c.Zb("error",(function(t){return c.yc(n),c.dc().handleImage(t)})),c.Rb(),c.Sb(21,"p",17),c.Ic(22),c.Rb(),c.Nb(23,"i",18),c.Rb(),c.Sb(24,"div",19),c.Sb(25,"button",20),c.Zb("click",(function(){return c.yc(n),c.dc().handleCloseClick()})),c.Ic(26),c.Rb(),c.Gc(27,nw,1,2,"app-add-to-folder-button",21),c.Gc(28,iw,3,1,"button",22),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(1),c.kc("ngClass",c.nc(20,ow,!!o.selectedIcon)),c.Ab(3),c.Kc(" ",i("appLibrary.addApp.iconSelect.selectIcon")," "),c.Ab(3),c.Bb("aria-labelledby","iconSearchLabel")("aria-expanded",o.showResultsDrop),c.Ab(1),c.kc("value",o.iconSearch)("attributes",c.oc(22,rw,i("appLibrary.addApp.iconSelect.searchIcons"),!!o.focusedIcon&&o.focusedIcon.name+"_opt"))("icon","far fa-search"),c.Ab(1),c.kc("ngIf",o.showResultsDrop),c.Ab(1),c.kc("scrollWindow",!1),c.Ab(2),c.kc("ngForOf",o.icons)("ngForTrackBy",o.iconTrackBy),c.Ab(2),c.kc("ngIf",o.canLoad),c.Ab(1),c.kc("visible",o.modalVisible),c.Ab(2),c.Jc(i(o.addedSuccessfully?"appLibrary.addApp.successfullyAdded":"appLibrary.addApp.iconSelect.iconPreview")),c.Ab(1),c.kc("ngIf",o.addedSuccessfully),c.Ab(2),c.kc("src",o.iconPreviewUrl,c.Ac),c.Ab(2),c.Jc(o.iconPreviewName),c.Ab(4),c.Kc(" ",i(o.addedSuccessfully?"common.close":"common.back")," "),c.Ab(1),c.kc("ngIf",!o.addedSuccessfully),c.Ab(1),c.kc("ngIf",o.addedSuccessfully)}}var sw=function(){function t(t,e,n,i){var o=this;this.appLibService=t,this.appLibHelper=e,this.settingsHelper=n,this.layoutService=i,this.inputUpdated=new c.n,this.pageChange=new c.n,this.submitClick=new c.n,this.appSubmitted=new c.n,this.closed=new c.n,this.folderSelected=new c.n,this.showFolderClicked=new c.n,this.showResultsDrop=!1,this.pushItems=!1,this.iconFilters=new Lp({rows:100,page:1}),this.iconSearch="",this.canLoad=!1,this.modalVisible=!1,this.isLoading=!1,this.addedSuccessfully=!1,this.subscriptions=[],this.subscriptions[0]=i.windowResized.subscribe((function(t){return o.setIconSize()})),this.subscriptions[1]=i.documentClicked.subscribe((function(t){return o.onDocumentClick()}))}return t.prototype.ngOnInit=function(){this.getIcons()},t.prototype.ngAfterViewInit=function(){var t=this;Object(T.a)(0).subscribe((function(){return t.setIconSize()}))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.getIcons=function(){var t=this;this.appLibService.getIcons(this.iconFilters).subscribe((function(e){var n;t.pushItems?(n=t.icons).push.apply(n,e):t.icons=e}))},t.prototype.onPageScrolled=function(){this.pushItems=!0,this.iconFilters.page+=1,this.getIcons()},t.prototype.onSearchValueChange=function(){var t=this;this.subscriptions[2]&&this.subscriptions[2].unsubscribe(),this.subscriptions[2]=Object(T.a)(500).subscribe((function(){return t.onIconSearch()}))},t.prototype.onIconSearch=function(){var t=this;this.appLibService.searchIcons(this.iconSearch).subscribe((function(e){t.showResultsDrop=!0,t.iconSearchResults=e.slice(0,10)}))},t.prototype.onSelectIcon=function(t){this.selectedIcon=t,this.showResultsDrop=!1,this.inputUpdated.emit(this.selectedIcon)},t.prototype.onDocumentClick=function(){this.showResultsDrop=!1,this.focusedIcon=null},t.prototype.goBack=function(){this.pageChange.emit(0)},t.prototype.setIconSize=function(){if(this.iconContainer){var t=this.iconContainer.nativeElement.getBoundingClientRect(),e=t.width?t.width:t.right-t.left,n=this.settingsHelper.getScrollBarWidth();this.settingsHelper.updateAppMarginRule(".app-lib-full-margin",e-n-70,143,5)}},t.prototype.iconTrackBy=function(t){return t.id},t.prototype.submitApp=function(){this.appSubmitted.emit(!0)},t.prototype.nav=function(t){if(t.stopPropagation(),t.preventDefault(),this.iconList.length){var e=this.iconList.toArray();$e.a.keyboardJump(e,t,!0)}},t.prototype.inputNav=function(t){this.focusedIcon=this.selectedIcon?this.selectedIcon:this.iconSearchResults[0],this.iconList.length&&this.iconList.toArray()[0].nativeElement.focus()},t.prototype.itemFocus=function(t){this.focusedIcon=t},t.prototype.loadMore=function(){this.pushItems=!0,this.iconFilters.page+=1,this.getIcons(),$e.a.focusOnStoredElement()},t.prototype.enableLoad=function(){this.canLoad=!(this.iconList.length<this.iconFilters.offset+this.iconFilters.limit)},t.prototype.handleImage=function(t){t.target.src=Re.a.coreCDN+"/assets/images/default-app-icon.png"},t.prototype.addApp=function(){this.submitClick.emit()},t.prototype.openModal=function(){this.iconPreviewName=this.appDetails.name,this.iconPreviewUrl=this.selectedIcon.defaulturl,this.modalVisible=!0},t.prototype.onAppDetailsChange=function(t){this.appDetails=t},t.prototype.handleFolderSelection=function(t){t&&(this.selectedFolderId=t.id,this.selectedFolderName=t.name,this.folderSelected.emit(this.selectedFolderId),this.addedSuccessfully=!0)},t.prototype.handleAppRemove=function(){this.appLibHelper.removeApp(this.app)},t.prototype.showFolder=function(){this.showFolderClicked.emit(!0)},t.prototype.handleCloseClick=function(){this.addedSuccessfully=!1,this.modalVisible=!1},t.prototype.resetIcon=function(){this.selectedIcon=void 0},t.\u0275fac=function(e){return new(e||t)(c.Mb(Tc.a),c.Mb(we.a),c.Mb(re.a),c.Mb(We.G))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-icon-select"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(Jx,!0),c.Nc(qx,!0,c.l)),2&t&&(c.uc(n=c.ac())&&(e.iconContainer=n.first),c.uc(n=c.ac())&&(e.iconList=n))},inputs:{contextItem:"contextItem",appDetails:"appDetails"},outputs:{inputUpdated:"inputUpdated",pageChange:"pageChange",submitClick:"submitClick",appSubmitted:"appSubmitted",closed:"closed",folderSelected:"folderSelected",showFolderClicked:"showFolderClicked"},decls:1,vars:0,consts:[[4,"transloco"],[1,"top","flex-start-center",3,"ngClass"],[1,"header"],["id","iconSearchLabel"],[1,"required-star"],["role","combobox",1,"app-lib-input-ctnr"],[1,"left-icon","ng-pristine","icon-select-input-ctnr",3,"value","attributes","icon","valueChange","keydown.arrowdown"],["class","dropdown flex-start custom-scroll","id","selectIconListbox","role","listbox",4,"ngIf"],["infiniteScroll","",1,"icons","row-wrap","flex-start","custom-scroll",3,"scrollWindow","scrolled"],["iconContainer",""],["clLastFocused","","class","cl-app app-library app-lib-full-margin focusable-small cl-focusable icon-select","tabindex","0","role","button","clItem","",3,"id","icon","selected","assigned","customNavigation","click","keydown.Space","keydown.Enter","navigate",4,"ngFor","ngForOf","ngForTrackBy"],[1,"load-more"],["class","button button-primary",3,"click",4,"ngIf"],[1,"icon-preview",3,"visible","visibleChange"],["class","folder-confirmation",4,"ngIf"],[1,"icon-preview-container"],["alt","",1,"icon",3,"src","error"],[1,"icon-name"],[1,"far","fa-ellipsis-v"],[1,"buttons"],[1,"button","button-default",3,"click"],[3,"class","onFolderSelection",4,"ngIf"],["class","button button-success",3,"click",4,"ngIf"],["id","selectIconListbox","role","listbox",1,"dropdown","flex-start","custom-scroll"],[4,"ngIf"],["tabindex","0","class","suggestion flex-start-center","role","option button","clItem","",3,"id","customNavigation","click","keydown.Enter","keydown.Space","navigate","focus",4,"ngFor","ngForOf"],[1,"suggestion","flex-start-center"],[1,"text-ctnr","flex-start"],[1,"flex-start"],["tabindex","0","role","option button","clItem","",1,"suggestion","flex-start-center",3,"id","customNavigation","click","keydown.Enter","keydown.Space","navigate","focus"],["focusable",""],["alt","",3,"src","error"],["clLastFocused","","tabindex","0","role","button","clItem","",1,"cl-app","app-library","app-lib-full-margin","focusable-small","cl-focusable","icon-select",3,"id","icon","selected","customNavigation","click","keydown.Space","keydown.Enter","navigate"],[1,"button","button-primary",3,"click"],[1,"folder-confirmation"],[1,"fas","fa-folder-open"],[3,"onFolderSelection"],[1,"button","button-success",3,"click"]],template:function(t,e){1&t&&c.Gc(0,aw,29,25,"ng-container",0)},directives:[Te.c,i.j,We.C,i.l,Np.a,i.k,We.H,We.J,Wx,We.F,CC],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-ms-flex-pack:justify;justify-content:space-between;width:100%;height:100%;overflow:hidden}.custom-scroll[_ngcontent-%COMP%], .top[_ngcontent-%COMP%]{padding:0 50px}.top[_ngcontent-%COMP%]{width:100%;margin-bottom:22px}.top.icon-selected[_ngcontent-%COMP%]{max-height:calc(100% - 100px)}.top[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:60%}.top[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:600;font-size:calc(var(--font-modifier) * 26px);line-height:39px;margin-bottom:20px}.top[_ngcontent-%COMP%]   .app-lib-input-ctnr[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;-ms-flex-positive:0;flex-grow:0}.top[_ngcontent-%COMP%]   .selected-icon[_ngcontent-%COMP%]{height:-moz-min-content;height:min-content;text-align:center}.top[_ngcontent-%COMP%]   .selected-icon[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--color-primary)}.top[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{pointer-events:none;margin-bottom:0!important}app-icon.cl-app.app-library.icon-select[_ngcontent-%COMP%]{height:106px;width:84px;margin-left:0;margin-right:0;padding-top:5px}.icons[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;row-gap:27px;-moz-column-gap:32px;column-gap:32px;position:relative;width:100%;padding-top:22px;margin-bottom:44px}.icons[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{top:-20px;height:calc(100% + 30px)}.load-more[_ngcontent-%COMP%]{width:100%;padding:30px 0}.load-more[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 auto}.button[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 1px 1px linear-gradient(0deg,var(red),rgba(0,0,0,0));z-index:10}.buttons[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;padding:10px 35px;-ms-flex-negative:0;flex-shrink:0;margin-bottom:0}button[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%], p[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{margin-right:10px}.folder-confirmation[_ngcontent-%COMP%]{font-size:22px;-ms-flex-item-align:center;align-self:center;margin-top:20px;margin-bottom:-20px}.folder-confirmation[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-primary)}.required-star[_ngcontent-%COMP%]{color:var(--color-danger)}@media screen and (max-height:440px){[_nghost-%COMP%]{overflow-y:auto;overflow-x:hidden;display:block}.top[_ngcontent-%COMP%]{padding:10px 20px;max-height:170px!important}}"]}),t}(),cw=["newAppDetails"],lw=["iconSelectComponent"];function pw(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",1),c.Sb(2,"app-new-app-details",2,3),c.Zb("inputUpdated",(function(t){return c.yc(n),c.dc().appDetails=t}))("appSelected",(function(t){return c.yc(n),c.dc().appDetails=t}))("folderSelected",(function(t){return c.yc(n),c.dc().handleFolderSelected(t)}))("pageChange",(function(t){return c.yc(n),c.dc().changePage(t)}))("closed",(function(t){return c.yc(n),c.dc().closeSlideover(t)}))("openModal",(function(){return c.yc(n),c.vc(5).openModal()})),c.Rb(),c.Sb(4,"app-icon-select",4,5),c.Zb("inputUpdated",(function(t){return c.yc(n),c.dc().selectedIcon=t}))("submitClick",(function(){return c.yc(n),c.dc().newAppDetailsComponent.validateName(!0)}))("appSubmitted",(function(){return c.yc(n),c.dc().submitApp()}))("folderSelected",(function(t){return c.yc(n),c.dc().handleFolderSelected(t)}))("showFolderClicked",(function(){return c.yc(n),c.dc().showFolder()}))("pageChange",(function(t){return c.yc(n),c.dc().changePage(t)}))("closed",(function(){return c.yc(n),c.dc().closed.emit()})),c.Rb(),c.Sb(6,"div",6),c.Sb(7,"button",7),c.Zb("click",(function(){return c.yc(n),c.dc().goBack()})),c.Ic(8),c.Rb(),c.Sb(9,"button",8),c.Zb("click",(function(){return c.yc(n),c.dc().addApp()})),c.Ic(10),c.Rb(),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc();c.Ab(4),c.kc("appDetails",o.appDetails),c.Ab(4),c.Kc(" ",i("common.cancel")," "),c.Ab(1),c.kc("tabindex",void 0===o.selectedIcon?-1:0)("disabled",o.disableButton()),c.Ab(1),c.Kc(" ",i("appLibrary.addApp.addApp")," ")}}var dw=function(){function t(t,e,n,i,o){var r=this;this.appLibraryService=t,this.appLibraryHelperService=e,this.appsHelper=n,this.translationHelper=i,this.appsService=o,this.currentPageChanged=new c.n,this.appSubmitted=new c.n,this.closed=new c.n,this.appDetails={name:"",url:"",sso:!1},this.selectedIcon=void 0,this.customIconRequest={name:"",description:"",url:""},this.currentPage=0,this.requestedNewIcon=!1,this.apps=[],this.subscriptions=[],this.subscriptions[0]=n.appsUpdated.subscribe((function(t){r.apps=t.apps}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.changePage=function(t){this.currentPage=t,this.currentPageChanged.emit(this.currentPage)},t.prototype.closeSlideover=function(t){this.closed.emit(t)},t.prototype.submitApp=function(){var t=this,e=Object(le.a)(Object(le.a)({},this.appDetails),{icon:this.selectedIcon.defaulturl,requestedNewIcon:this.requestedNewIcon,iconName:this.customIconRequest.name,iconDescription:this.customIconRequest.description,iconUrl:this.customIconRequest.url});this.appLibraryService.submitAppRequest(e).subscribe((function(n){return Object(le.b)(t,void 0,void 0,(function(){var t;return Object(le.d)(this,(function(i){switch(i.label){case 0:if("reach_allowed_limit"===n)return this.translationHelper.translateAndAddGrowl({severity:"error",summary:"appLibrary.addApp.cantAdd",detail:"appLibrary.addApp.cantAddDetail"}),this.appSubmitted.emit(!0),[2];if(t=Object(le.a)(Object(le.a)({},e),{id:n.id}),this.apps.push(t),this.appsHelper.appsUpdated.next({apps:this.apps,reload:!1}),0===this.selectedFolderId)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.appLibraryHelperService.moveToFolder(t,this.selectedFolderId)];case 2:return i.sent(),[3,4];case 3:return i.sent(),this.translationHelper.translateAndAddGrowl({severity:"error",summary:"appLibrary.addApp.newAppDetails.folderError",detail:"appLibrary.addApp.newAppDetails.folderErrorDetail"}),this.refreshAppList(),[3,4];case 4:return[3,6];case 5:this.refreshAppList(),i.label=6;case 6:return[2]}}))}))})),this.resetForm()},t.prototype.refreshAppList=function(){var t=this;Object(T.a)(100).subscribe((function(){t.appsService.getMyApps().pipe(Object(ze.a)()).subscribe((function(e){t.appsHelper.appsUpdated.next({apps:e,reload:!0})}))}))},t.prototype.resetForm=function(){this.appDetails={name:"",url:"",sso:!1},this.selectedIcon=void 0,this.iconSelectComponent.resetIcon(),this.newAppDetailsComponent.resetInputs()},t.prototype.handleFolderSelected=function(t){this.selectedFolderId=t,this.submitApp()},t.prototype.disableButton=function(){var t,e;return!((null===(t=this.appDetails)||void 0===t?void 0:t.name.trim())&&(null===(e=this.appDetails)||void 0===e?void 0:e.url.trim())&&this.selectedIcon)},t.prototype.validateName=function(){var t=this;return Object(qa.find)(this.apps,(function(e){return e.name.trim().toLowerCase()===t.appDetails.name.trim().toLowerCase()}))?(this.translationHelper.translateAndAddGrowl({severity:"error",summary:"appLibrary.addApp.newAppDetails.cantUseName",detail:"appLibrary.addApp.newAppDetails.nameExists"}),!1):!!this.urlValidator()||(this.translationHelper.translateAndAddGrowl({severity:"error",summary:"appLibrary.addApp.newAppDetails.invalidUrl",detail:"appLibrary.addApp.newAppDetails.invalidUrlMessage"}),!1)},t.prototype.goBack=function(){this.currentPageChanged.emit(0)},t.prototype.addApp=function(){this.validateName()&&this.newAppDetailsComponent.openModal.emit()},t.prototype.urlValidator=function(){var t;return $e.a.isValidUrl(null===(t=this.appDetails)||void 0===t?void 0:t.url.trim())},t.prototype.showFolder=function(){this.appSubmitted.emit(!0)},t.prototype.clearInputs=function(){this.newAppDetailsComponent.resetInputs()},t.\u0275fac=function(e){return new(e||t)(c.Mb(Tc.a),c.Mb(we.a),c.Mb(Xt.a),c.Mb(Be.a),c.Mb(je.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["dynamic-app-add-app"]],viewQuery:function(t,e){var n;1&t&&(c.Nc(cw,!0),c.Nc(lw,!0)),2&t&&(c.uc(n=c.ac())&&(e.newAppDetailsComponent=n.first),c.uc(n=c.ac())&&(e.iconSelectComponent=n.first))},outputs:{currentPageChanged:"currentPageChanged",appSubmitted:"appSubmitted",closed:"closed"},decls:1,vars:0,consts:[[4,"transloco"],[1,"add-app-cont"],[3,"inputUpdated","appSelected","folderSelected","pageChange","closed","openModal"],["newAppDetails",""],[1,"icon-select",3,"appDetails","inputUpdated","submitClick","appSubmitted","folderSelected","showFolderClicked","pageChange","closed"],["iconSelectComponent",""],[1,"buttons"],[1,"button","button-default",3,"click"],[1,"button","button-primary",3,"tabindex","disabled","click"]],template:function(t,e){1&t&&c.Gc(0,pw,11,5,"ng-container",0)},directives:[Te.c,Vx,sw],styles:["[_nghost-%COMP%]{height:calc(100% - 80px);padding:0}.flex-container[_ngcontent-%COMP%], [_nghost-%COMP%]{display:-ms-flexbox;display:flex}.flex-container[_ngcontent-%COMP%]{-ms-flex-pack:justify;justify-content:space-between}.flex-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{-ms-flex:1;flex:1}.add-app-cont[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;overflow-y:auto;height:100%;box-sizing:border-box}.icon-select[_ngcontent-%COMP%]{width:100%;-ms-flex-positive:0;flex-grow:0}"]}),t}();function uw(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-add-to-folder-button",16),c.Zb("onFolderSelection",(function(t){return c.yc(n),c.dc(3).handleFolderSelection(t)})),c.Rb()}if(2&t){var i=c.dc(3);c.kc("isLoading",i.appLibHelper.actionPending[i.app.id])}}function gw(t,e){if(1&t&&(c.Sb(0,"span"),c.Ic(1),c.Rb()),2&t){var n=c.dc(2).$implicit;c.Ab(1),c.Kc(" ",n("common.remove")," ")}}function hw(t,e){1&t&&(c.Sb(0,"div"),c.Nb(1,"cl-progress-spinner",18),c.Rb()),2&t&&(c.Ab(1),c.kc("strokeColor","var(--color-danger)"))}function bw(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",17),c.Zb("click",(function(){return c.yc(n),c.dc(3).handleAppRemove()})),c.Gc(1,gw,2,1,"span",0),c.Gc(2,hw,2,1,"div",0),c.Rb()}if(2&t){var i=c.dc(3);c.Eb("disabled",!i.appLibHelper.canAppBeChanged(i.app)||i.appLibHelper.actionPending[i.app.id]),c.kc("disabled",!i.appLibHelper.canAppBeChanged(i.app)||i.appLibHelper.actionPending[i.app.id]),c.Ab(1),c.kc("ngIf",!i.appLibHelper.actionPending[i.app.id]),c.Ab(1),c.kc("ngIf",i.appLibHelper.actionPending[i.app.id])}}function fw(t,e){if(1&t&&(c.Sb(0,"div",19),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=e.$implicit;c.Ab(2),c.Jc(n)}}function mw(t,e){if(1&t&&(c.Qb(0),c.Sb(1,"div",2),c.Sb(2,"div",3),c.Nb(3,"dynamic-library-app-squircle",4),c.Sb(4,"div",5),c.Sb(5,"h3",6),c.Ic(6),c.ec(7,"title"),c.Rb(),c.Sb(8,"a",7),c.Ic(9),c.ec(10,"title"),c.Rb(),c.Gc(11,uw,1,1,"app-add-to-folder-button",8),c.Gc(12,bw,3,5,"button",9),c.Rb(),c.Rb(),c.Sb(13,"div",10),c.Sb(14,"h4"),c.Ic(15),c.Rb(),c.Sb(16,"p"),c.Ic(17),c.Rb(),c.Sb(18,"div",11),c.Nb(19,"i"),c.Sb(20,"p"),c.Ic(21),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(22,"div",12),c.Sb(23,"p",13),c.Ic(24),c.Rb(),c.Sb(25,"p",14),c.Ic(26),c.Rb(),c.Sb(27,"p",13),c.Ic(28),c.Rb(),c.Sb(29,"p",14),c.Ic(30),c.Rb(),c.Sb(31,"p",13),c.Ic(32),c.Rb(),c.Sb(33,"p",14),c.Ic(34),c.Rb(),c.Sb(35,"p",13),c.Ic(36),c.Rb(),c.Sb(37,"p",14),c.Ic(38),c.Rb(),c.Rb(),c.Gc(39,fw,3,1,"ng-template",null,15,c.Hc),c.Pb()),2&t){var n=e.$implicit,i=c.vc(40),o=c.dc(2);c.Ab(3),c.kc("app",o.app)("showFlags",!1)("candDrag",!1),c.Ab(2),c.kc("clTooltip",o.app.name.length>255?i:void 0)("clTooltipContext",o.app.name),c.Ab(1),c.Kc(" ",c.gc(7,35,o.app.name,255)," "),c.Ab(2),c.kc("href",o.app.url,c.Ac)("clTooltip",o.app.name.length>255?i:void 0)("clTooltipContext",o.app.url),c.Ab(1),c.Jc(c.gc(10,38,o.app.url,255)),c.Ab(2),c.kc("ngIf",!o.appLibHelper.isAppAssigned(o.app)),c.Ab(1),c.kc("ngIf",o.appLibHelper.isAppAssigned(o.app)),c.Ab(3),c.Jc(n("common.description").toUpperCase()),c.Ab(1),c.Eb("empty",!o.app.description),c.Ab(1),c.Kc(" ",o.app.description?o.app.description:n("appLibrary.appDetails.noDescription")," "),c.Ab(2),c.Cb("far fa-"+o.app.categoryicon),c.Ab(2),c.Jc(o.app.categoryname),c.Ab(3),c.Kc(" ",n("appLibrary.appDetails.type").toUpperCase()," "),c.Ab(1),c.Eb("empty",!o.app.type_name),c.Ab(1),c.Kc(" ",o.app.type_name?o.app.type_name:n("appLibrary.appDetails.noType")," "),c.Ab(2),c.Kc(" ",n("appLibrary.appDetails.privacy").toUpperCase()," "),c.Ab(1),c.Eb("empty",!o.app.privacyurl),c.Ab(1),c.Kc(" ",o.app.privacyurl?o.app.privacyurl:n("appLibrary.appDetails.noPrivacy")," "),c.Ab(2),c.Kc(" ",n("appLibrary.appDetails.terms").toUpperCase()," "),c.Ab(1),c.Eb("empty",!o.app.termsofserviceurl),c.Ab(1),c.Kc(" ",o.app.termsofserviceurl?o.app.termsofserviceurl:n("appLibrary.appDetails.noTerms")," "),c.Ab(2),c.Kc(" ",n("appLibrary.appDetails.dataSharing").toUpperCase()," "),c.Ab(1),c.Eb("empty",!o.app.datasharingurl),c.Ab(1),c.Kc(" ",o.app.datasharingurl?o.app.datasharingurl:n("appLibrary.appDetails.noDataSharing")," ")}}function vw(t,e){1&t&&(c.Qb(0),c.Gc(1,mw,41,41,"ng-container",1),c.Pb())}var yw=function(){function t(t,e){var n=this;this.appsHelper=t,this.appLibHelper=e,this.hasApp=!1,this.isLoading=!1,this.subscriptions=[],this.subscriptions[0]=this.appLibHelper.collectionUpdated.subscribe((function(t){return n.activeCollection=t})),this.subscriptions[1]=this.appsHelper.appsUpdated.subscribe((function(t){n.allUserApps=t.apps,n.onAppsChange()})),this.subscriptions[2]=this.appLibHelper.activeApp.subscribe((function(t){n.app=t}))}return t.prototype.ngOnChanges=function(t){t.app&&this.onAppsChange()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onAppsChange=function(){var t=this;this.app&&(this.hasApp=Boolean(Ce()(this.allUserApps,(function(e){return e.id===t.app.id}))))},t.prototype.handleFolderSelection=function(t){t&&(this.isLoading=!0,this.appLibHelper.addApp(this.app,t.id),this.isLoading=!1)},t.prototype.handleAppRemove=function(){this.appLibHelper.removeApp(this.app)},t.\u0275fac=function(e){return new(e||t)(c.Mb(Xt.a),c.Mb(we.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["dynamic-app-app-details"]],features:[c.yb],decls:1,vars:1,consts:[[4,"ngIf"],[4,"transloco"],[1,"app-detail-main"],[1,"app-header","container-border"],[3,"app","showFlags","candDrag"],[1,"app-name"],["clTooltipDirection","bottom",3,"clTooltip","clTooltipContext"],["clTooltipDirection","bottom",3,"href","clTooltip","clTooltipContext"],[3,"isLoading","onFolderSelection",4,"ngIf"],[3,"disabled","click",4,"ngIf"],[1,"app-description","container-border"],[1,"app-category"],[1,"app-detail-info","container-border"],[1,"detail-label"],[1,"detail-text"],["tooltipRef",""],[3,"isLoading","onFolderSelection"],[3,"disabled","click"],[3,"strokeColor"],[1,"cl-tooltip"]],template:function(t,e){1&t&&c.Gc(0,vw,2,0,"ng-container",0),2&t&&c.kc("ngIf",e.app)},directives:[i.l,Te.c,nC,We.Y,CC,We.M],pipes:[rn.a],styles:["[_nghost-%COMP%]{width:100%;height:-moz-min-content;height:min-content;padding:30px;-ms-flex-direction:row;flex-direction:row;gap:40px}[_nghost-%COMP%], [_nghost-%COMP%]   .app-detail-main[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}[_nghost-%COMP%]   .app-detail-main[_ngcontent-%COMP%]{min-width:50%;max-width:50%;-ms-flex-direction:column;flex-direction:column;gap:30px}[_nghost-%COMP%]   .app-detail-main[_ngcontent-%COMP%]   .app-header[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;gap:40px;padding:15px 15px 15px 30px;width:100%}[_nghost-%COMP%]   .app-detail-main[_ngcontent-%COMP%]   .app-header[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex:1;flex:1;min-width:0}[_nghost-%COMP%]   .app-detail-main[_ngcontent-%COMP%]   .app-header[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Poppins;font-size:calc(var(--font-modifier) * 24px);font-weight:600;margin-bottom:20px;word-wrap:break-word}[_nghost-%COMP%]   .app-detail-main[_ngcontent-%COMP%]   .app-header[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Open Sans;font-size:calc(var(--font-modifier) * 16px);font-weight:600;color:var(--color-primary);word-wrap:break-word;white-space:normal;margin-bottom:20px}[_nghost-%COMP%]   .app-detail-main[_ngcontent-%COMP%]   .app-header[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:87px;padding:5px 10px;border:2px solid var(--color-danger);border-radius:5px;color:var(--color-danger);font-family:Open Sans;font-size:calc(var(--font-modifier) * 13px);font-weight:700}[_nghost-%COMP%]   .app-detail-main[_ngcontent-%COMP%]   .app-header[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   cl-progress-spinner[_ngcontent-%COMP%]{width:15px;height:15px;margin:auto}[_nghost-%COMP%]   .app-detail-main[_ngcontent-%COMP%]   .app-header[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]   app-add-to-folder-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .app-detail-main[_ngcontent-%COMP%]   .app-header[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:auto;margin-left:auto}[_nghost-%COMP%]   .app-detail-main[_ngcontent-%COMP%]   .app-description[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .app-detail-main[_ngcontent-%COMP%]   .app-description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Open Sans;font-size:calc(var(--font-modifier) * 13px);font-weight:800;margin-bottom:5px}[_nghost-%COMP%]   .app-detail-main[_ngcontent-%COMP%]   .app-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Open Sans;font-size:calc(var(--font-modifier) * 14px);font-weight:400;word-wrap:break-word}[_nghost-%COMP%]   .app-detail-main[_ngcontent-%COMP%]   .app-description[_ngcontent-%COMP%]   .app-category[_ngcontent-%COMP%]{border:2px solid #313539;border-radius:19px;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:-moz-fit-content;width:fit-content;-ms-flex-align:center;align-items:center;gap:8px;padding:5px 15px;margin-top:60px}[_nghost-%COMP%]   .app-detail-main[_ngcontent-%COMP%]   .app-description[_ngcontent-%COMP%]   .app-category[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   .app-detail-main[_ngcontent-%COMP%]   .app-description[_ngcontent-%COMP%]   .app-category[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-family:Open Sans;font-size:calc(var(--font-modifier) * 14px);font-weight:700}[_nghost-%COMP%]   .app-detail-main[_ngcontent-%COMP%]   .app-description[_ngcontent-%COMP%]   .app-category[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}[_nghost-%COMP%]   .app-detail-info[_ngcontent-%COMP%]{height:100%;width:100%}[_nghost-%COMP%]   .app-detail-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Open Sans;font-size:calc(var(--font-modifier) * 14px);font-weight:400;word-wrap:break-word}[_nghost-%COMP%]   .app-detail-info[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:calc(var(--font-modifier) * 13px);font-weight:800;margin-bottom:5px}[_nghost-%COMP%]   .app-detail-info[_ngcontent-%COMP%]   .detail-text[_ngcontent-%COMP%]{margin-bottom:20px}[_nghost-%COMP%]   .container-border[_ngcontent-%COMP%]{border-radius:20px;box-shadow:0 -4px 15px 0 rgba(0,0,0,.0392156862745098);padding:30px}"]}),t}();function Cw(t,e){if(1&t&&c.Nb(0,"dynamic-app-sidenav",6),2&t){var n=c.dc(2);c.Eb("greyed-out",1===n.currentView),c.kc("categories",n.categories)("currentView",n.currentView)}}function xw(t,e){if(1&t){var n=c.Tb();c.Sb(0,"dynamic-app-library-header",10),c.Zb("closed",(function(){c.yc(n);var t=c.dc(3);return t.visible=!1,t.onVisibleChange()}))("onSearch",(function(t){return c.yc(n),c.dc(3).handleSearch(t)})),c.Rb()}if(2&t){var i=c.dc(3);c.kc("suggestedApps",i.suggestedApps)("currentView",i.currentView)("activeApp",i.activeApp)}}function ww(t,e){1&t&&c.Nb(0,"dynamic-library-folder")}function Pw(t,e){if(1&t&&c.Nb(0,"dynamic-app-collections",14),2&t){var n=c.dc(4);c.kc("collections",n.collections)}}function Ow(t,e){if(1&t){var n=c.Tb();c.Sb(0,"dynamic-app-main-display",15),c.Zb("loadMoreApps",(function(){return c.yc(n),c.dc(4).loadMoreApps()})),c.Rb()}if(2&t){var i=c.dc(4);c.kc("totalApps",i.totalLibSize)("isLoading",i.isLoading)}}function Mw(t,e){if(1&t){var n=c.Tb();c.Sb(0,"dynamic-app-add-app",16),c.Zb("appSubmitted",(function(){return c.yc(n),c.dc(4).onAppAdded()}))("currentPageChanged",(function(t){return c.yc(n),c.dc(4).updateCurrentView(t)}))("closed",(function(){return c.yc(n),c.dc(4).contextData.exitDoubleSlide()})),c.Rb()}if(2&t){var i=c.dc(4);c.kc("context",i.contextData)}}function _w(t,e){if(1&t&&(c.Qb(0),c.Gc(1,ww,1,0,"dynamic-library-folder",9),c.Gc(2,Pw,1,1,"dynamic-app-collections",11),c.Gc(3,Ow,1,2,"dynamic-app-main-display",12),c.Gc(4,Mw,1,1,"dynamic-app-add-app",13),c.Pb()),2&t){var n=c.dc(3);c.Ab(1),c.kc("ngIf",(n.activeFolder||n.isAllAppsSelected)&&0===n.currentView),c.Ab(1),c.kc("ngIf",n.collections&&0===n.currentView),c.Ab(1),c.kc("ngIf",0===n.currentView),c.Ab(1),c.kc("ngIf",1===n.currentView)}}function kw(t,e){1&t&&(c.Qb(0),c.Nb(1,"dynamic-app-app-details",17),c.Pb())}function Sw(t,e){if(1&t&&(c.Sb(0,"div",7),c.Gc(1,xw,1,3,"dynamic-app-library-header",8),c.Gc(2,_w,5,4,"ng-container",9),c.Gc(3,kw,2,0,"ng-container",9),c.Rb()),2&t){var n=c.dc(2);c.Ab(1),c.kc("ngIf",n.visible),c.Ab(1),c.kc("ngIf",!n.activeApp),c.Ab(1),c.kc("ngIf",n.activeApp)}}function Aw(t,e){if(1&t&&(c.Sb(0,"div",3),c.Gc(1,Cw,1,4,"dynamic-app-sidenav",4),c.Gc(2,Sw,4,3,"div",5),c.Rb()),2&t){var n=c.dc();c.Ab(1),c.kc("ngIf",n.visible),c.Ab(1),c.kc("ngIf",n.visible)}}function Iw(t,e){1&t&&c.Nb(0,"cl-progress-spinner",18),2&t&&c.kc("strokeColor","var(--color-primary)")}var Rw=function(){function t(t,e,n,i,o,r,a){var s=this;this.slideoverService=t,this.appsService=e,this.ele=n,this.appLibHelper=i,this.translocoService=o,this.appsHelper=r,this.cdr=a,this.currentView=0,this.visible=!1,this.collections=[],this.categories=[],this.isLoading=!1,this.suggestedApps=[],this.filterVal="",this.tableFilters=new Lp({limit:50,offset:0,term:""}),this.isDraggingApp=!1,this.defaultCollection={Id:-1,Name:"All Apps",TenantWide:!0},this.isInitLoading=!1,this.hasLoadedCategories=!1,this.hasLoaded=!1,this.subscriptions=[],this.subscriptions[0]=this.slideoverService.appLibrary.opened.subscribe((function(t){return s.initSlideover(t)})),this.subscriptions[1]=this.appLibHelper.currentViewUpdated.subscribe((function(t){return s.currentView=t})),this.subscriptions[2]=this.appLibHelper.filterUpdated.subscribe((function(t){s.filterVal=t,s.tableFilters.term=t})),this.subscriptions[3]=this.appLibHelper.activeCategory.subscribe((function(t){s.handleCategorySelect(t)})),this.subscriptions[4]=this.appLibHelper.activeCollection.subscribe((function(t){s.handleCollectionSelect(t)})),this.subscriptions[5]=this.appsHelper.appsUpdated.subscribe((function(t){s.currentApps=t.apps})),this.subscriptions[6]=this.appLibHelper.suggestionClicked.subscribe((function(t){s.tableFilters.term=t.ApplicationName,s.handleSuggestionClick()})),this.subscriptions[7]=i.appLibraryStatusUpdated.subscribe((function(t){s.appLibraryStatus=t,s.updateCollections()})),this.subscriptions[8]=r.addAppsToFolder.subscribe((function(t){s.activeFolder=s.currentApps.find((function(e){return e.id===t}))})),this.subscriptions[9]=i.activeApp.subscribe((function(t){s.activeApp=t})),this.subscriptions[10]=i.isAllAppsSelected.subscribe((function(t){s.isAllAppsSelected=t})),this.subscriptions[11]=i.apps.subscribe((function(t){s.apps=t.apps})),this.appLibHelper.collectionUpdated.next({Name:"All Apps",Id:-1,TenantWide:!0})}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.onVisibleChange=function(){this.visible||(this.appsHelper.addAppsToFolder.next(null),this.appLibHelper.activeCategory.next(void 0),this.appLibHelper.activeCollection.next(void 0),this.appLibHelper.activeApp.next(void 0),this.appsHelper.addAppsToFolder.next(void 0),this.appLibHelper.isAllAppsSelected.next(!1),this.appLibHelper.showListView.next(!1),this.suggestedApps=[],this.currentView=0,this.slideoverService.appLibrary.closed.next(!0),this.isInitLoading=!1)},t.prototype.initSlideover=function(t){var e=this;this.visible=!0,this.isInitLoading=!0,this.getApps(),this.getCategories(),Object(T.a)(330).subscribe((function(){var t;e.isInitLoading=!1,e.cdr.detectChanges(),null===(t=document.getElementById("app-library-input-search"))||void 0===t||t.focus()})),this.returnEle=t},t.prototype.onEscape=function(){this.visible&&(""!==this.filterVal?this.appLibHelper.filterUpdated.next(""):this.visible=!1)},t.prototype.getApps=function(){var t;this.isLoading=!0,this.activeCollection&&-1!==this.activeCollection.Id&&this.activeCategory?this.getAppsByCategoryAndCollection():this.activeCollection&&-1!==this.activeCollection.Id&&!this.activeCategory?this.getAppsByCollection():this.activeCollection&&-1!==(null===(t=this.activeCollection)||void 0===t?void 0:t.Id)||!this.activeCategory?this.getGeneralApps():this.getAppsByCategory()},t.prototype.getGeneralApps=function(){var t=this;this.appsService.getAppsForProfile(this.tableFilters).subscribe((function(e){return t.handleAppResponse(e)}))},t.prototype.getAppsByCollection=function(){var t=this;this.appsService.getAppsByCollection(this.activeCollection.Id,this.tableFilters).subscribe((function(e){return t.handleAppResponse(e)}))},t.prototype.getAppsByCategory=function(){var t=this;this.appsService.getAppsByCategory(this.activeCategory,this.tableFilters,this.educationId).subscribe((function(e){return t.handleAppResponse(e)}))},t.prototype.getAppsByCategoryAndCollection=function(){var t=this;this.appsService.getAppsByCategoryAndCollection(this.activeCollection,this.activeCategory,this.tableFilters,this.educationId).subscribe((function(e){return t.handleAppResponse(e)}))},t.prototype.handleAppResponse=function(t){var e;this.totalLibSize=t.totalRows,e=this.tableFilters.offset?Object(le.e)(this.apps,t.apps):t.apps,this.appLibHelper.apps.next({apps:e,totalApps:this.totalLibSize}),this.isLoading=!1},t.prototype.getCategories=function(){var t=this;this.appsService.getDashboard().subscribe((function(e){t.collections=e.enterprisecategories?Object(le.e)(e.enterprisecategories):[];var n=e.categorylist.categories.map((function(e){return e.name=t.translocoService.translate("appLibrary.categories."+e.name),e.isSubject=!1,e})),i=e.categorylist.subjects.map((function(e){return e.name=t.translocoService.translate("appLibrary.categories."+e.name),e.isSubject=!0,e}));t.categories=zv()(Object(le.e)(n,i),(function(t){return t.name})),t.educationId=e.categorylist.education_id,t.updateCollections()}))},t.prototype.updateCollections=function(){this.appLibraryStatus&&(!this.appLibraryStatus.globalAppLibraryEnabled||this.collections[0]&&-1===this.collections[0].Id?!this.appLibraryStatus.globalAppLibraryEnabled&&this.collections[0]&&-1===this.collections[0].Id&&this.collections.splice(0,1):this.collections=Object(le.e)([this.defaultCollection],this.collections),this.appLibHelper.activeCollection.next(this.collections[0]))},t.prototype.onAppAdded=function(){this.visible=!1,this.onVisibleChange()},t.prototype.focusMainDisplay=function(){this.mainDisplay.appContainer.nativeElement.focus()},t.prototype.handleSearch=function(t){this.getSuggestions(t),this.appLibHelper.filterUpdated.next(t),this.tableFilters.offset=0,this.getApps()},t.prototype.handleSuggestionClick=function(){this.tableFilters.offset=0,this.getApps()},t.prototype.getSuggestions=function(t){0!=t.length?this.activeCollection&&-1!==this.activeCollection.Id?this.getSearchTermAppsForCollection(t):this.getSearchTermApps(t):this.suggestedApps=[]},t.prototype.getSearchTermApps=function(t){var e=this;this.appsService.getSearchTermApps(t).subscribe((function(t){e.suggestedApps=t}))},t.prototype.getSearchTermAppsForCollection=function(t){var e=this;this.appsService.getSearchTermAppsForCollection(this.activeCollection.Id,t).subscribe((function(t){e.suggestedApps=t}))},t.prototype.handleCategorySelect=function(t){this.activeCategory=t,this.resetTableFilters(),this.getApps()},t.prototype.handleCollectionSelect=function(t){this.resetTableFilters(),this.activeCollection=t,this.appLibHelper.collectionUpdated.next(t),this.getApps()},t.prototype.loadMoreApps=function(){this.tableFilters.offset+=50,this.getApps()},t.prototype.resetTableFilters=function(){this.tableFilters.offset=0,this.tableFilters.limit=50,this.tableFilters.term="",this.appLibHelper.filterUpdated.next("")},t.prototype.handleDrag=function(t){this.isDraggingApp=t},t.prototype.updateCurrentView=function(t){this.currentView=t},t.\u0275fac=function(e){return new(e||t)(c.Mb(xe.a),c.Mb(Tc.a),c.Mb(c.l),c.Mb(we.a),c.Mb(Te.f),c.Mb(Xt.a),c.Mb(c.h))},t.\u0275cmp=c.Gb({type:t,selectors:[["dynamic-app-library"]],viewQuery:function(t,e){var n;1&t&&c.Nc(VC,!0),2&t&&c.uc(n=c.ac())&&(e.mainDisplay=n.first)},hostBindings:function(t,e){1&t&&c.Zb("keydown.escape",(function(){return e.onEscape()}),!1,c.wc)},decls:3,vars:7,consts:[["aria-labelledby","appLibTitle",1,"dynamic-app-library",3,"visible","initElement","width","showCloseIcon","clFocusTrap","visibleChange"],["class","dynamic-app-library-container",4,"ngIf"],["class","app-lib-spinner",3,"strokeColor",4,"ngIf"],[1,"dynamic-app-library-container"],[3,"categories","greyed-out","currentView",4,"ngIf"],["class","content-container",4,"ngIf"],[3,"categories","currentView"],[1,"content-container"],[3,"suggestedApps","currentView","activeApp","closed","onSearch",4,"ngIf"],[4,"ngIf"],[3,"suggestedApps","currentView","activeApp","closed","onSearch"],[3,"collections",4,"ngIf"],[3,"totalApps","isLoading","loadMoreApps",4,"ngIf"],[3,"context","appSubmitted","currentPageChanged","closed",4,"ngIf"],[3,"collections"],[3,"totalApps","isLoading","loadMoreApps"],[3,"context","appSubmitted","currentPageChanged","closed"],[1,"custom-scroll"],[1,"app-lib-spinner",3,"strokeColor"]],template:function(t,e){1&t&&(c.Sb(0,"cl-slideover",0),c.Zb("visibleChange",(function(t){return e.visible=t}))("visibleChange",(function(){return e.onVisibleChange()})),c.Gc(1,Aw,3,2,"div",1),c.Gc(2,Iw,1,1,"cl-progress-spinner",2),c.Rb()),2&t&&(c.kc("visible",e.visible)("initElement",e.returnEle)("width","80%")("showCloseIcon",!1)("clFocusTrap",e.visible),c.Ab(1),c.kc("ngIf",!e.isInitLoading),c.Ab(1),c.kc("ngIf",e.isInitLoading))},directives:[We.S,We.y,i.l,YC,Cx,Ex,Lx,VC,dw,yw,We.M],styles:["cl-slideover.dynamic-app-library .cl-slideover{--color-primary:#0054ff;overflow:hidden}cl-slideover.dynamic-app-library .cl-slideover .render-ctnr{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}cl-slideover.dynamic-app-library .cl-slideover .content-container{height:100%;width:100%;max-width:100%;overflow-x:hidden;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}cl-slideover.dynamic-app-library .cl-slideover button.close{top:5px;right:5px;padding:8px;margin:4px}cl-slideover.dynamic-app-library .cl-slideover cl-modal .cl-modal-ctnr .cl-modal{height:374px;width:636px;border-radius:25px;padding-bottom:0;overflow:visible}cl-slideover.dynamic-app-library .cl-slideover cl-modal .cl-modal-ctnr h3{font-family:Poppins,sans-serif;font-weight:700;font-size:26px;line-height:34px;margin-left:13px;margin-top:10px}cl-slideover.dynamic-app-library .cl-slideover cl-modal .cl-modal-ctnr .cl-modal-content{display:-ms-flexbox;display:flex}cl-slideover.dynamic-app-library .cl-slideover cl-modal .cl-modal-ctnr .cl-modal-content .icon-preview-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-item-align:center;align-self:center;border:1.6px solid #ddd;width:272px;height:97px;margin-top:44px;border-radius:12px}cl-slideover.dynamic-app-library .cl-slideover cl-modal .cl-modal-ctnr .cl-modal-content .icon-preview-container .icon{height:95px;width:97px;border-top-left-radius:12px;border-bottom-left-radius:12px;border-right:1px solid #ddd}cl-slideover.dynamic-app-library .cl-slideover cl-modal .cl-modal-ctnr .cl-modal-content .icon-preview-container .icon-name{font-family:Open Sans,sans-serif;font-weight:400;font-size:20px;line-height:28px;max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}cl-slideover.dynamic-app-library .cl-slideover cl-modal .cl-modal-ctnr .cl-modal-content .icon-preview-container .svg-inline--fa.fa-ellipsis-v{height:23px;margin-right:15px}cl-slideover.dynamic-app-library .cl-slideover div.app-lib-input-ctnr cl-input.app-search .input-ctnr input{border:0;padding-right:125px;opacity:.93;transition:opacity .2s linear}cl-slideover.dynamic-app-library .cl-slideover div.app-lib-input-ctnr cl-input.app-search .input-ctnr input:focus{opacity:1;border:1px solid var(--color-border-dark);box-shadow:0 0 10px rgba(0,0,0,.21)}cl-slideover.dynamic-app-library .cl-slideover div.app-lib-input-ctnr cl-input.app-search .input-ctnr>span.icon>svg{color:var(--color-primary)!important}cl-slideover.dynamic-app-library .cl-slideover .buttons{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-align:center;align-items:center;border-top:1px solid var(--color-border-dark);height:80px;width:100%;-ms-flex:0 0 80px;flex:0 0 80px;position:relative;padding:0 35px;margin-top:auto}cl-slideover.dynamic-app-library .cl-slideover .buttons .button-default{margin-right:auto}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library{width:82.5px;margin-top:10px}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library:focus,cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library:focus-within,cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library:hover{background-color:rgba(0,0,0,0)}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library:focus-within button,cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library:focus button,cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library:hover button{opacity:1}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library:focus:after{z-index:1}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library.assigned .cl-clip-img-ctnr:before{box-shadow:none}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library.assigned .flags{left:calc(100% - 4px)}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library.large{width:160px;height:160px;margin:0 30px 0 0}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library.large .cl-clip-img-ctnr{width:100%;height:100%}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library.large .cl-clip-img-ctnr:before{border-radius:50px}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library.large .cl-clip-img-ctnr.assigned:before{box-shadow:0 0 30px rgba(0,0,0,.3)}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library.large .cl-clip-img-ctnr .img-border.assigned{top:-3px;left:-3px}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library.large .cl-clip-img-ctnr .img-border img{width:144px;height:144px}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library.large .cl-clip-img-ctnr .key{right:-40px;top:-6px;height:59px;width:124px}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library.large .cl-clip-img-ctnr .key svg{width:20px;-ms-transform:translate(-2px,-5px) rotate(-135deg);transform:translate(-2px,-5px) rotate(-135deg)}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library button{border-radius:5px;padding:5px;margin-top:8px;width:80px;height:30px;font-weight:700;color:var(--color-primary);background-color:#fff;border:2px solid var(--color-primary);font-size:calc(var(--font-modifier) * 13px);transition:background-color .1s ease-in-out;min-width:unset}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library button:hover{background-color:#e0f4ff}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library button.remove{color:#da3939;border-color:#da3939}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library button.remove:hover{background-color:#fff1f1}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library .cl-clip-img-ctnr{margin-bottom:0;width:82.5px;height:80px}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library .cl-clip-img-ctnr .img-border img{width:82.5px;height:80px}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library .cl-clip-img-ctnr .img-border.assigned{position:absolute;width:calc(100% + 6px);height:calc(100% + 6px);top:-3px;left:-3px;clip-path:url(#squareCircle)}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library .cl-clip-img-ctnr:before{box-shadow:0 0 20px rgba(0,0,0,.2);width:calc(100% - 20px);height:calc(100% - 20px);top:10px;left:10px}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library .cl-clip-img-ctnr:hover:before{box-shadow:0 0 30px rgba(0,0,0,.5)}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library .name{background-color:rgba(0,0,0,0);-ms-flex-align:end;align-items:flex-end;-ms-flex-pack:center;justify-content:center;overflow:hidden;padding:0;margin-top:5px;-ms-flex:0 0 34px;flex:0 0 34px}cl-slideover.dynamic-app-library .cl-slideover .cl-app.app-library .name>p{height:28px;color:#333;font-size:calc(var(--font-modifier) * 14px);font-weight:600;line-height:14px;letter-spacing:0;overflow:hidden;text-overflow:ellipsis;white-space:normal;-ms-flex-align:end;align-items:flex-end;-ms-flex-pack:center;justify-content:center;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}cl-slideover.dynamic-app-library .cl-slideover icon.cl-app.app-library .name{margin-top:0}cl-slideover.dynamic-app-library .cl-slideover .app-lib-input-ctnr{position:relative;-ms-flex-positive:1;flex-grow:1;height:40px;margin-left:auto}cl-slideover.dynamic-app-library .cl-slideover .app-lib-input-ctnr cl-input{height:40px}cl-slideover.dynamic-app-library .cl-slideover .app-lib-input-ctnr button{position:absolute;top:15px;right:10px;height:20px;color:#0096ea;font-size:calc(var(--font-modifier) * 13px);font-weight:600}cl-slideover.dynamic-app-library .cl-slideover .app-lib-input-ctnr button>svg{margin-left:10px}cl-slideover.dynamic-app-library .cl-slideover .app-lib-input-ctnr .dropdown{position:absolute;top:100%;left:0;width:100%;background-color:#fff;padding:20px!important;box-shadow:0 15px 30px 0 rgba(0,0,0,.15);border-radius:5px;z-index:300;max-height:500px;-ms-flex-flow:column nowrap;flex-flow:column nowrap}cl-slideover.dynamic-app-library .cl-slideover .app-lib-input-ctnr .dropdown .suggestion{width:100%;height:60px;padding:10px;border-radius:5px;cursor:pointer}cl-slideover.dynamic-app-library .cl-slideover .app-lib-input-ctnr .dropdown .suggestion.active,cl-slideover.dynamic-app-library .cl-slideover .app-lib-input-ctnr .dropdown .suggestion:focus,cl-slideover.dynamic-app-library .cl-slideover .app-lib-input-ctnr .dropdown .suggestion:hover{background-color:#ddf0fe}cl-slideover.dynamic-app-library .cl-slideover .app-lib-input-ctnr .dropdown .suggestion img{width:40px;height:40px;border-radius:50%;margin-right:15px}cl-slideover.dynamic-app-library .cl-slideover .app-lib-input-ctnr .dropdown .suggestion .text-ctnr{-ms-flex-flow:column nowrap;flex-flow:column nowrap}cl-slideover.dynamic-app-library .cl-slideover .app-lib-input-ctnr .dropdown .suggestion .text-ctnr>div{margin-bottom:5px}cl-slideover.dynamic-app-library .cl-slideover .app-lib-input-ctnr .dropdown .suggestion .text-ctnr>div>*{font-size:calc(var(--font-modifier) * 13px);font-weight:600;letter-spacing:0}cl-slideover.dynamic-app-library .cl-slideover .app-lib-input-ctnr .dropdown .suggestion .text-ctnr>div svg{margin:0 5px 0 10px}cl-slideover.dynamic-app-library .cl-slideover .app-lib-input-ctnr .dropdown .suggestion .text-ctnr>div p,cl-slideover.dynamic-app-library .cl-slideover .app-lib-input-ctnr .dropdown .suggestion .text-ctnr>div svg{color:#0096ea}cl-slideover.dynamic-app-library .cl-slideover .app-lib-input-ctnr .dropdown .suggestion .text-ctnr p{font-size:calc(var(--font-modifier) * 12px)}cl-slideover.dynamic-app-library .cl-slideover cl-progress-spinner.app-lib-spinner{width:100px;height:100px;position:absolute;top:calc(50% - 50px);left:calc(50% - 50px);margin:auto}cl-slideover.dynamic-app-library .cl-slideover .dynamic-app-library-container{display:-ms-flexbox;display:flex;width:100%}cl-slideover.dynamic-app-library .cl-slideover .dynamic-app-library-container.hidden,cl-slideover.dynamic-app-library .cl-slideover .hidden{display:none}.greyed-out{filter:grayscale(100%);opacity:.5}"],encapsulation:2}),t}();function Tw(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-edit-bar",21),c.Zb("updateFocus",(function(t){return c.yc(n),c.dc(4).updateDescendant(t)})),c.ec(1,"async"),c.Rb()}if(2&t){var i=c.dc(4);c.kc("@unfoldInOut",void 0),c.Bb("aria-activedescendant",c.fc(1,2,i.activeOpt))}}function Fw(t,e){if(1&t&&(c.Sb(0,"div",18),c.Nb(1,"app-header",19),c.Gc(2,Tw,2,4,"app-edit-bar",20),c.Rb()),2&t){var n=c.dc(3);c.Eb("ready",n.isIdle),c.Ab(1),c.Eb("box-shadow",!n.isEditMode||(null==n.settings?null:n.settings.customUISettings.highContrastSelected)),c.kc("avatarUrl",n.avatarUrl),c.Ab(1),c.kc("ngIf",n.isEditMode)}}function Ew(t,e){1&t&&c.Nb(0,"app-sidenav")}function Dw(t,e){1&t&&c.Nb(0,"app-dynamic-sidenav")}function Lw(t,e){if(1&t&&(c.Qb(0),c.Gc(1,Fw,3,6,"div",15),c.Sb(2,"div"),c.Gc(3,Ew,1,0,"app-sidenav",3),c.Gc(4,Dw,1,0,"app-dynamic-sidenav",3),c.Sb(5,"div",16),c.ec(6,"async"),c.Ob(7,17),c.Rb(),c.Rb(),c.Pb()),2&t){c.dc();var n=c.vc(3),i=c.dc();c.Ab(1),c.kc("ngIf",i.isDynamicTheme),c.Ab(1),c.Eb("layout-ctnr",i.isIdle),c.Ab(1),c.kc("ngIf",(null==i.settings?null:i.settings.customUISettings.theme)===i.Themes.Professional),c.Ab(1),c.kc("ngIf",i.isDynamicTheme),c.Ab(1),c.Eb("collapsed",c.fc(6,8,i.sidenavCollapsed)),c.Ab(2),c.kc("ngTemplateOutlet",n)}}function Nw(t,e){if(1&t&&c.Nb(0,"div",30),2&t){var n=c.dc(3);c.kc("ngStyle",n.backgroundStyle)}}function Hw(t,e){if(1&t&&c.Nb(0,"app-header"),2&t){var n=c.dc(3);c.Eb("box-shadow",!n.isEditMode&&((null==n.settings?null:n.settings.customUISettings.theme)===n.Themes.Primary||(null==n.settings?null:n.settings.customUISettings.highContrastSelected)))}}function Gw(t,e){if(1&t){var n=c.Tb();c.Sb(0,"app-edit-bar",31),c.Zb("updateFocus",(function(t){return c.yc(n),c.dc(3).updateDescendant(t)})),c.ec(1,"async"),c.Rb()}if(2&t){var i=c.dc(3);c.Eb("move-down",i.isEditMode)("box-shadow",i.isEditMode&&((null==i.settings?null:i.settings.customUISettings.theme)===i.Themes.Primary||(null==i.settings?null:i.settings.customUISettings.highContrastSelected))),c.Bb("aria-activedescendant",c.fc(1,5,i.activeOpt))}}var Bw=function(t,e){return{"overflow-hidden":t,expand:e}};function jw(t,e){if(1&t&&(c.Sb(0,"div",32),c.Nb(1,"app-dynamic-apps-container",33),c.Nb(2,"app-dynamic-widgets-drawer"),c.Nb(3,"app-dynamic-widget-library"),c.Rb()),2&t){var n=c.dc(3);c.Ab(1),c.kc("ngClass",c.oc(2,Bw,n.slideoverOpen||!!n.activeFolder||n.notificationsIsVisible,n.isEditMode))("highAccessibleIcons",n.isAppIconStyleHorizontal)}}var Uw=function(t){return{"overflow-hidden":t}};function zw(t,e){if(1&t&&c.Nb(0,"app-apps-container",34),2&t){var n=c.dc(3);c.Eb("expand",n.isEditMode),c.kc("ngClass",c.nc(4,Uw,n.slideoverOpen||!!n.activeFolder))("clGrid",!0)}}function Vw(t,e){if(1&t){var n=c.Tb();c.Sb(0,"button",35),c.Zb("click",(function(){return c.yc(n),c.dc(3).openFeedback()})),c.Nb(1,"i",36),c.Ic(2),c.ec(3,"transloco"),c.Rb()}2&t&&(c.Ab(2),c.Kc(" ",c.fc(3,1,"feedback.help")," "))}function Zw(t,e){if(1&t&&c.Nb(0,"app-favorites-bar",37),2&t){var n=c.dc(3);c.Eb("move-down",n.isEditMode)}}function $w(t,e){1&t&&c.Nb(0,"app-dynamic-favorites-bar",38)}function Ww(t,e){if(1&t&&(c.Gc(0,Nw,1,1,"div",22),c.Gc(1,Hw,1,2,"app-header",23),c.Gc(2,Gw,2,7,"app-edit-bar",24),c.Gc(3,jw,4,5,"div",25),c.Gc(4,zw,1,6,"app-apps-container",26),c.Gc(5,Vw,4,3,"button",27),c.Gc(6,Zw,1,2,"app-favorites-bar",28),c.Gc(7,$w,1,0,"app-dynamic-favorites-bar",29)),2&t){var n=c.dc(2);c.kc("ngIf",n.settings),c.Ab(1),c.kc("ngIf",!n.isDynamicTheme),c.Ab(1),c.kc("ngIf",(null==n.settings?null:n.settings.customUISettings.theme)!==n.Themes.Professional&&!n.isDynamicTheme),c.Ab(1),c.kc("ngIf",n.isIdle&&n.isDynamicTheme),c.Ab(1),c.kc("ngIf",n.isIdle&&!n.isDynamicTheme),c.Ab(1),c.kc("ngIf",(null==n.settings.tenantSettings?null:n.settings.tenantSettings.reportAnIssueEnabled)&&(null==n.userInfo?null:n.userInfo.roleLevel)<=3),c.Ab(1),c.kc("ngIf",!n.isDynamicTheme),c.Ab(1),c.kc("ngIf",n.isDynamicTheme)}}var Jw=function(t){return{"show-accessibility":!1,"dynamic-theme":t}};function qw(t,e){if(1&t&&(c.Sb(0,"div",12),c.Gc(1,Lw,8,10,"ng-container",13),c.Gc(2,Ww,8,8,"ng-template",null,14,c.Hc),c.Rb()),2&t){var n=c.vc(3),i=c.dc();c.kc("ngClass",c.nc(3,Jw,i.isDynamicTheme)),c.Ab(1),c.kc("ngIf",(null==i.settings?null:i.settings.customUISettings.theme)===i.Themes.Professional||i.isDynamicTheme)("ngIfElse",n)}}function Kw(t,e){1&t&&c.Nb(0,"app-library")}function Yw(t,e){1&t&&c.Nb(0,"dynamic-app-library")}function Qw(t,e){if(1&t){var n=c.Tb();c.Qb(0),c.Sb(1,"div",39),c.Sb(2,"h1"),c.Ic(3),c.Rb(),c.Sb(4,"span",40),c.Nb(5,"i",41),c.Rb(),c.Rb(),c.Sb(6,"h3",42),c.Ic(7),c.Rb(),c.Sb(8,"div",43),c.Sb(9,"cl-input",44),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().passForm.pass=t})),c.Rb(),c.Sb(10,"cl-input",44),c.Zb("valueChange",(function(t){return c.yc(n),c.dc().passForm.confirm=t})),c.Rb(),c.Sb(11,"button",45),c.Zb("click",(function(){return c.yc(n),c.dc().closeModal()})),c.Ic(12),c.Rb(),c.Sb(13,"button",46),c.Zb("click",(function(){return c.yc(n),c.dc().verifyPassword()})),c.Ic(14),c.Rb(),c.Rb(),c.Pb()}if(2&t){var i=e.$implicit,o=c.dc(),r=c.vc(28);c.Ab(3),c.Jc(i("myProfile.security.networkPassword.activeDirectoryCredentials")),c.Ab(1),c.kc("clTooltip",r),c.Ab(3),c.Jc(i("myProfile.security.networkPassword.please")),c.Ab(2),c.kc("value",o.passForm.pass)("label",i("myProfile.general.password"))("showPasswordEye",!0),c.Ab(1),c.kc("value",o.passForm.confirm)("label",i("myProfile.general.passwordReset.confirmPassword"))("showPasswordEye",!0),c.Ab(2),c.Jc(i("common.cancel")),c.Ab(1),c.kc("disabled",""==o.passForm.pass||o.passForm.pass!==o.passForm.confirm),c.Ab(1),c.Jc(i("common.save"))}}function Xw(t,e){if(1&t&&(c.Sb(0,"div",48),c.Sb(1,"p"),c.Ic(2),c.Rb(),c.Rb()),2&t){var n=e.$implicit;c.Ab(2),c.Jc(n("myProfile.security.networkPassword.tooltip"))}}function tP(t,e){1&t&&c.Gc(0,Xw,3,1,"div",47)}function eP(t,e){1&t&&(c.cc(),c.Sb(0,"svg",49),c.Sb(1,"clipPath",50),c.Nb(2,"path",51),c.Rb(),c.Rb())}function nP(t,e){1&t&&(c.cc(),c.Sb(0,"svg",52),c.Sb(1,"clipPath",53),c.Nb(2,"path",54),c.Rb(),c.Rb())}var iP=[{path:"",component:function(){function t(t,e,n,i,o,r,a,s,c,l,p,d,u,g,h,b,f,m,v,x,w,P,O){var M=this;this.sessionService=t,this.nodeApi=e,this.appsHelper=n,this.feedbackService=i,this.translationHelper=o,this.whatsNewService=r,this.cdr=a,this.appLibHelper=s,this.settingsHelper=c,this.myProfileHelper=l,this.menuHelper=p,this.slideoverService=d,this.zone=u,this.tmsService=g,this.settingsService=h,this.tagsHelper=b,this.favoritesHelper=f,this.router=m,this.permissionsService=v,this.appsService=x,this.appHelper=w,this.notificationsHelper=P,this.renderer=O,this.Themes=Ee.a,this.isIdle=!1,this.sidenavCollapsed=new y.a((function(t){return t.next(null)})),this.initialized=!1,this.feedbackUser={},this.slideoverOpen=!1,this.feedbackOpen=!1,this.showAccessibilityBar=!1,this.backgroundStyle={"background-image":""},this.resetADVisible=!1,this.passForm={pass:"",confirm:""},this.usingTms=!1,this.isAppIconStyleHorizontal=!1,this.longIdle=!1,this.isStable=!1,this.isDynamicTheme=!1,this.notificationsIsVisible=!1,this.idleDebounceDuration=5,this.hasCompletedSessionInit=!1,this.isAupVisible=!1,this.subscriptions=[],this.notCompat=!0,this.securityWarningsShown=!1,this.activeOpt=new y.a((function(t){return t.next(null)})),this.accessibilityOptions={textSize:0,lightBackground:!1},this.accessibilityJumps=[{label:"Applications",value:{type:"selector",selector:"application, folder",noScroll:!0}},{label:"Favorites",value:{type:"selector",selector:"favorite",noScroll:!0}},{label:"Settings",value:{type:"function",handler:function(){return M.slideoverService.myProfile.opened.next({id:1})}}}],this.accessibilityActions=[{label:"Increase Text Size",icon:"far fa-search-plus",handler:this.increaseTextSize.bind(this)},{label:"Decrease Text Size",icon:"far fa-search-minus",handler:this.decreaseTextSize.bind(this)},{label:"High Contrast",icon:"far fa-adjust",handler:this.toggleHighContrast.bind(this)},{label:"Light Background",icon:"far fa-lightbulb",handler:this.toggleLightBackground.bind(this)},{label:"Reset",icon:"far fa-undo",handler:this.clearAccessibility.bind(this)}],this.initialUserSettings={isImpersonated:null,gwsToken:null},this.darkTheme=!1;var _=$e.a.getBrowser(),k=$e.a.getIOS();this.notCompat=!(_===ui.a.InternetExplorer||_===ui.a.Edge||_===ui.a.OperaMini||_===ui.a.Safari||k),this.subscriptions[0]=n.editModeChanged.subscribe((function(t){return M.isEditMode=t})),this.subscriptions[1]=i.closedSlideover.subscribe((function(t){M.feedbackOpen=!1,M.slideoverService.isOpenStateChange.next(!1),t.submitted&&M.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"growl.feedback",verb:"common.submitted"})})),this.subscriptions[2]=t.settingsUpdated.subscribe((function(t){var e;M.settings=t,M.isDynamicTheme=t.customUISettings.theme===Ee.a.Dynamic,M.accessibilityOptions=M.sessionService.getAccessibilityInfo(),M.accessibilityOptions||(M.accessibilityOptions={textSize:0,lightBackground:!1}),!M.idleTimer&&M.isStable&&M.createIdleTimer(!0),!M.idleDebounce&&M.isStable&&M.createIdleDebounce(!1),!M.initialized&&M.settings.customUISettings.showFirstTime&&M.appsHelper.welcomeVisibleChanged.next(!0),M.isAppIconStyleHorizontal="horizontal"===(null===(e=t.customUISettings)||void 0===e?void 0:e.appIconStyle),M.initialized=!0,M.hasCompletedSessionInit&&M.settingsHelper.setDropdownItems(!M.settings||M.settings.userInfo.roleLevel!==t.userInfo.roleLevel),M.setDarkTheme()})),this.subscriptions[3]=s.appLibraryStatusUpdated.subscribe((function(t){return M.appLibraryStatus=t})),this.subscriptions[4]=this.myProfileHelper.generalSettingsUpdated.subscribe((function(t){M.generalSettings=t,M.getPasswordRecoveryStatus()})),this.subscriptions[5]=c.backgroundStyleUpdated.subscribe((function(t){M.backgroundStyle=t})),this.subscriptions[6]=this.zone.runOutsideAngular((function(){return Object(C.a)(document,"keydown",{passive:!0}).pipe(Object(te.a)(100)).subscribe((function(t){M.isDynamicTheme||M.createIdleDebounce(!1)}))})),this.subscriptions[7]=this.zone.runOutsideAngular((function(){return Object(C.a)(document,"mousedown",{passive:!0}).pipe(Object(te.a)(100)).subscribe((function(t){M.isDynamicTheme||M.createIdleDebounce(!1)}))})),this.subscriptions[8]=c.themeUpdated.subscribe((function(t){M.isIdle=!1,M.isDynamicTheme=t===Ee.a.Dynamic,t===Ee.a.Dynamic?(M.onDynamicThemeRender(),M.favoritesHelper.getRecentlyUsedApps()):M.onDynamicThemeUnrender(),Object(T.a)(2e3).subscribe((function(){return M.setIdleCallback()}))})),this.subscriptions[9]=this.zone.onStable.asObservable().pipe(Object(ze.a)()).subscribe((function(t){return M.zone.run((function(){M.isStable=t,M.createIdleTimer(!1),M.createIdleDebounce(!1)}))})),this.subscriptions[10]=t.userInfoUpdated.subscribe((function(t){M.userInfo||(M.initialUserSettings.isImpersonated=t.isImpersonated),M.userInfo=t,M.sessionService.getGwsToken()&&M.handleUserInfo()})),this.subscriptions[11]=d.isOpenStateChange.subscribe((function(t){return M.slideoverOpen=t})),this.subscriptions[12]=n.activeFolderChanged.subscribe((function(t){return M.activeFolder=t})),this.subscriptions[13]=n.oauthUsed.subscribe((function(t){t||M.isValidSession()||(console.log("Invalid session, sending back to launchpad:"),M.sessionService.clear(),M.router.navigateByUrl("/oauth"))})),this.subscriptions[14]=c.snapshotRestored.subscribe((function(t){M.isIdle=t})),this.subscriptions[15]=n.resetIdleTimer.subscribe((function(t){M.createIdleTimer(!0)})),this.subscriptions[16]=P.openModalCount.subscribe((function(t){return M.openModalCount=t})),this.subscriptions[17]=P.visibilitySet.subscribe((function(t){M.isAupVisible&&!t||(M.notificationsIsVisible=t)})),this.subscriptions[18]=this.appsHelper.aupModalVisible.subscribe((function(t){M.isAupVisible=t})),this.subscriptions[19]=this.myProfileHelper.avatarUpdated.subscribe((function(t){M.avatarUrl=t})),this.sidenavCollapsed=c.sidenavCollapseChanged.pipe(Object(te.a)(50))}return t.prototype.ngOnInit=function(){var t=this;this.settingsService.startSession().subscribe((function(){t.settingsService.getSettingsOnPageLoad().subscribe((function(e){var n,i=e.settings,o=e.tags,r=e.favoritesApps;t.permissionsService.permissionsSub.next(e.myPermissions);var a=t.settingsHelper.validateSettings(i);t.sessionService.setGwsToken(a.userInfo.gwsToken),t.sessionService.setSettings(a),t.sessionService.setUserInfo(a.userInfo),t.settingsHelper.setCustomManifest(),t.settingsHelper.setSeasonalScript(),t.settingsHelper.setDropdownItems(!t.settings||t.settings.userInfo.roleLevel!==i.userInfo.roleLevel),t.appLibHelper.appLibraryStatusUpdated.next({appLibraryEnabled:a.userInfo.appLibraryEnabled,globalAppLibraryEnabled:a.userInfo.globalAppLibraryEnabled,canAddLibraryApp:a.userInfo.canAddLibraryApp}),i.customUISettings.theme===Ee.a.Dynamic&&(t.isDynamicTheme=!0,t.onDynamicThemeRender()),!(null===(n=t.initialUserSettings)||void 0===n?void 0:n.gwsToken)&&a.userInfo.gwsToken&&(t.initialUserSettings.gwsToken=a.userInfo.gwsToken),t.appsService.getMyApps().pipe(Object(ze.a)()).subscribe((function(e){t.appsHelper.oauthUsed.next(!0),t.appsHelper.appsUpdated.next({apps:e,reload:!0}),t.myApps=e,t.tagsHelper.tagsUpdated.next(o),t.favoritesHelper.validateAndSetFavorites(r),t.setIdleCallback(),t.attemptAutoLaunch(),i.customUISettings.theme===Ee.a.Dynamic&&t.favoritesHelper.getRecentlyUsedApps()})),t.handleUserInfo(),t.hasCompletedSessionInit=!0}))}))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.idleTimer&&this.idleTimer.unsubscribe()},t.prototype.onStorageChange=function(){var t,e,n=this.sessionService.getUserInfo();if(this.initialUserSettings){if(this.initialUserSettings&&!n){var i=null===(e=null===(t=this.settings)||void 0===t?void 0:t.buildingSettings)||void 0===e?void 0:e.loginUrl;window.location.href=Re.a.launchpadUrl+"/"+(i||"logout")}((null==n?void 0:n.isImpersonated)===!this.initialUserSettings.isImpersonated||JSON.parse(localStorage.getItem("impersonationEnded")))&&location.reload()}},t.prototype.onEscape=function(){this.menuHelper.closeAllMenus(),this.isEditMode&&this.appsHelper.editModeChanged.next(!1)},t.prototype.getMyApps=function(){var t=this;this.appsService.getMyApps().pipe(Object(ze.a)()).subscribe((function(e){t.myApps=e,t.appsHelper.appsUpdated.next({apps:t.myApps,reload:!0}),t.attemptAutoLaunch(),t.setIdleCallback()}))},t.prototype.getPasswordRecoveryStatus=function(){var t=this;this.userInfo&&this.generalSettings&&!this.userInfo.isImpersonated&&7!==this.generalSettings.UserType&&8!==this.generalSettings.UserType&&this.nodeApi.getPasswordRecoveryForceStatus().subscribe((function(e){e&&t.appsHelper.showForcePasswordRecovery.next(!0)}))},t.prototype.checkRecoveryQuestions=function(){var t=this;this.nodeApi.getCurrentRecoveryOptions().subscribe((function(e){e.secretquestions.length>0&&t.generalSettings.EnablePasswordOptions&&t.appsHelper.showRecoveryQuestionsWarning.next(!0)}),(function(t){return console.error(t)}))},t.prototype.checkMfa=function(){var t=this;this.nodeApi.getTwoFactor().subscribe((function(e){return(null==e?void 0:e.is_eanabled)?(null==e?void 0:e.is_eanabled)&&2===e.type?t.appsHelper.showMfaWarning.next({visible:!0,image:!0}):void 0:t.appsHelper.showMfaWarning.next({visible:!0,image:!1})}))},t.prototype.setIdleCallback=function(){var t=this;window.requestIdleCallback?window.requestIdleCallback((function(){return t.idleCallback()})):window.requestAnimationFrame((function(){return t.idleCallback()}))},t.prototype.idleCallback=function(){this.isIdle=!0,this.cdr.detectChanges(),this.getNotifications()},t.prototype.attemptAutoLaunch=function(){var t=this;if(this.myApps&&this.generalSettings&&window.postMessage&&this.generalSettings.IsEnableAutoLaunch){var e=[],n=this.settings.userInfo.isImpersonated&&this.permissions.tenantPermissions[Ie.a.FormPostAppsImp]?ne()(this.myApps,(function(e){return!t.appsHelper.formPostAppTypes.includes(e.type)})):this.myApps;if($e.a.checkAppsForAutoLaunch(e,n),0!==e.length)try{var i=JSON.stringify({type:"autolaunch",IdConfigBaseUrl:Re.a.launchpadUrl,data:e,gwstoken:this.sessionService.getGwsToken()}),o=btoa(i);window.postMessage(o,window.location.origin)}catch(r){console.warn("Could not auto-launch apps, caught error:",r)}}},t.prototype.checkAppsForAutoLaunch=function(t,e){for(var n=0,i=e;n<i.length;n++){var o=i[n];(o.admin_auto_launch||o.user_auto_launch)&&(delete o.appdesc,t.push(o)),o.apps&&this.checkAppsForAutoLaunch(t,o.apps)}},t.prototype.createIdleTimer=function(t){var e=this;if(void 0===t&&(t=!1),this.isStable&&(!this.idleTimer||t)&&"dev"!==Re.a.environment){this.idleTimer&&t&&this.idleTimer.unsubscribe();var n=6e4*this.settings.userInfo.sessionTimeout-5e3,i=new Date;this.sessionDuration=new Date(i.getTime()+n-6e4),this.idleTimer=Object(J.a)(1e3).subscribe((function(){var t=new Date;if(e.sessionDuration<=t){e.idleTimer.unsubscribe();var n=e.sessionDuration.getTime()+6e4;e.appHelper.sessionDuration.next(n),e.appsHelper.sessionTimedOut.next(!0)}})),this.longIdle&&this.createIdleDebounce()}},t.prototype.createIdleDebounce=function(t){var e=this;void 0===t&&(t=!1),(!this.idleDebounce||t||this.longIdle)&&((t||this.longIdle||!this.idleDebounce)&&(this.idleDebounce&&this.idleDebounce.unsubscribe(),this.idleDebounce=Object(T.a)(6e4*this.idleDebounceDuration).subscribe((function(){e.longIdle=!0}))),this.longIdle&&!t&&this.settingsService.resetSessionTimeout(),this.longIdle=!1)},t.prototype.getNotifications=function(){var t=this;Object(T.a)(500).subscribe((function(){return t.whatsNewService.getNotifications(t.sessionService.getBearerToken(),Re.a.productGuid,"prod"===Re.a.environment||"staging"===Re.a.environment?"prod":"beta")}))},t.prototype.openFeedback=function(){this.feedbackOpen=!0,this.slideoverService.isOpenStateChange.next(!0),this.feedbackService.openSlideover.next({token:this.sessionService.getBearerToken(),productGuid:Re.a.productGuid,environment:"prod"===Re.a.environment||"staging"===Re.a.environment?"prod":"beta"})},t.prototype.isValidSession=function(){return!!document.cookie&&document.cookie.split(";").map((function(t){return t.split("=")[0].trim()})).includes($e.a.COOKIE_KEY)},t.prototype.mapFeedbackUser=function(t){this.feedbackUser.Name=t.DisplayName,this.feedbackUser.Email=t.Email},t.prototype.toggleHighContrast=function(){var t=this;this.settings.customUISettings.highContrastSelected=!this.settings.customUISettings.highContrastSelected,setTimeout((function(){t.settingsService.setSettings(t.settings).subscribe((function(e){t.sessionService.setSettings(t.settings)}))}),0)},t.prototype.increaseTextSize=function(){this.accessibilityOptions.textSize<2&&(this.accessibilityOptions.textSize+=1,this.sessionService.setAccessibilityInfo(this.accessibilityOptions),this.sessionService.setSettings(this.settings))},t.prototype.decreaseTextSize=function(){this.accessibilityOptions.textSize>-2&&(this.accessibilityOptions.textSize-=1,this.sessionService.setAccessibilityInfo(this.accessibilityOptions),this.sessionService.setSettings(this.settings))},t.prototype.toggleLightBackground=function(){this.accessibilityOptions.lightBackground=!this.accessibilityOptions.lightBackground,this.sessionService.setAccessibilityInfo(this.accessibilityOptions),this.sessionService.setSettings(this.settings)},t.prototype.clearAccessibility=function(){var t=this;this.accessibilityOptions={textSize:0,lightBackground:!1},this.settings.customUISettings.highContrastSelected=!1,this.sessionService.setAccessibilityInfo(this.accessibilityOptions),setTimeout((function(){t.settingsService.setSettings(t.settings).subscribe((function(e){t.sessionService.setSettings(t.settings)}))}),0)},t.prototype.verifyPassword=function(){var t=this;this.usingTms?this.tmsService.updateNetwork(this.passForm.pass).subscribe((function(e){t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.credentials",verb:"common.edited"})}),(function(e){e.status>299?t.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.invalidCredentials",detail:"error.invalidCredentialsDetail"}):(t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.credentials",verb:"common.edited"}),t.resetADVisible=!1)})):this.nodeApi.verifyAd(this.passForm.pass).subscribe((function(e){e.Token||e.TWSToken||e.Password?(t.translationHelper.translateAndAddGenericGrowl({severity:"success"},{subject:"myProfile.passwords.credentials",verb:"common.edited"}),t.resetADVisible=!1):t.translationHelper.translateAndAddGrowl({severity:"error",summary:"error.invalidCredentials",detail:"error.invalidCredentialsDetail"})}))},t.prototype.updateDescendant=function(t){this.activeOpt=new y.a((function(e){return e.next(t)})).pipe(Object(te.a)(100))},t.prototype.closeModal=function(){this.resetADVisible=!1},t.prototype.whatsNewModalVisible=function(t){this.openModalCount=t?++this.openModalCount:--this.openModalCount,this.notificationsHelper.updateOpenModalCount(this.openModalCount)},t.prototype.onDynamicThemeRender=function(){this.renderer.removeClass(document.body,"cl-material"),this.renderer.addClass(document.body,"cl-material")},t.prototype.onDynamicThemeUnrender=function(){this.renderer.removeClass(document.body,"cl-material")},t.prototype.handleUserInfo=function(){var t=this;this.mapFeedbackUser(this.userInfo),this.tmsService.isUsingTms(this.userInfo.BuildingId).subscribe((function(e){t.sessionService.useTMSUpdated.next(e),t.userInfo.isADUser&&!t.userInfo.isImpersonated&&2!==t.userInfo.LoginSourceId&&(t.usingTms=e.useTMS,!1===e.IsAdUserValidationEnabled||(t.usingTms||3===t.userInfo.LoginSourceId&&e.ADFSServiceType?t.tmsService.verifyNetwork().subscribe((function(t){}),(function(e){(406===e.status||401===e.status&&e.error.message.includes("Password no longer valid"))&&(t.resetADVisible=!0)})):t.nodeApi.verifyAd().subscribe((function(e){e.body.UserDN||(t.resetADVisible=!0)}))))}),(function(t){console.log(t)})),this.getPasswordRecoveryStatus(),this.userInfo.roleLevel<=1&&!this.securityWarningsShown&&(this.securityWarningsShown=!0,this.checkRecoveryQuestions(),this.checkMfa())},t.prototype.setDarkTheme=function(){if(this.darkTheme=this.settings.customUISettings.darkTheme,window.localStorage.setItem("dark-theme",this.darkTheme?"true":"false"),!this.darkThemeLink){var t=this.renderer.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=yi.a.darkThemeUrl,t.media="all",this.darkThemeLink=t}this.darkTheme&&this.isDynamicTheme?(this.renderer.appendChild(document.head,this.darkThemeLink),this.renderer.addClass(document.documentElement,"dark-theme")):(this.renderer.removeChild(document.head,this.darkThemeLink),this.renderer.removeClass(document.documentElement,"dark-theme"))},t.\u0275fac=function(e){return new(e||t)(c.Mb(ae.a),c.Mb(Qt.a),c.Mb(Xt.a),c.Mb(We.x),c.Mb(Be.a),c.Mb(We.cb),c.Mb(c.h),c.Mb(we.a),c.Mb(re.a),c.Mb(Fe),c.Mb(Ze),c.Mb(xe.a),c.Mb(c.z),c.Mb(pi),c.Mb(di.a),c.Mb(se.a),c.Mb(pe.a),c.Mb(Wt.d),c.Mb(Ie.b),c.Mb(je.a),c.Mb(Xt.a),c.Mb(vi),c.Mb(c.E))},t.\u0275cmp=c.Gb({type:t,selectors:[["secure"]],hostBindings:function(t,e){1&t&&c.Zb("storage",(function(){return e.onStorageChange()}),!1,c.xc)("keydown.escape",(function(){return e.onEscape()}),!1,c.wc)},decls:31,vars:11,consts:[[3,"fadeOut"],[3,"visible","jumpLocations","accessibilityActions","visibleChange"],["class","main-content",3,"ngClass",4,"ngIf"],[4,"ngIf"],["id","context-menu"],[3,"userInfo"],[3,"isVisible"],[1,"small",3,"visible","visibleChange"],[4,"transloco"],["helpTooltip",""],["width","0","height","0","viewBox","0 0 100 100","preserveAspectRatio","none","style","position: absolute; top:0; left: 0",4,"ngIf"],["width","0","height","0","viewBox","0 0 91 91","fill","none","xmlns","http://www.w3.org/2000/svg","style","position: absolute; top:0; left: 0",4,"ngIf"],[1,"main-content",3,"ngClass"],[4,"ngIf","ngIfElse"],["regular",""],["class","header-container",3,"ready",4,"ngIf"],[1,"content-ctnr"],[3,"ngTemplateOutlet"],[1,"header-container"],[1,"dynamic-header",3,"avatarUrl"],["role","menubar","aria-label","A menu with shortcuts to customizable options","class","box-shadow",3,"updateFocus",4,"ngIf"],["role","menubar","aria-label","A menu with shortcuts to customizable options",1,"box-shadow",3,"updateFocus"],["id","background-container",3,"ngStyle",4,"ngIf"],[3,"box-shadow",4,"ngIf"],["role","menubar","aria-label","A menu with shortcuts to customizable options",3,"move-down","box-shadow","updateFocus",4,"ngIf"],["class","main-dynamic-content",4,"ngIf"],["tabindex","-1","class","custom-scroll","role","main","clKeyboardNav","",3,"ngClass","expand","clGrid",4,"ngIf"],["class","feedback-button","aria-label","Submit Feedback",3,"click",4,"ngIf"],["role","complementary",3,"move-down",4,"ngIf"],["tabindex","0",4,"ngIf"],["id","background-container",3,"ngStyle"],["role","menubar","aria-label","A menu with shortcuts to customizable options",3,"updateFocus"],[1,"main-dynamic-content"],["tabindex","0","role","main",1,"dynamic-apps","custom-scroll",3,"ngClass","highAccessibleIcons"],["tabindex","-1","role","main","clKeyboardNav","",1,"custom-scroll",3,"ngClass","clGrid"],["aria-label","Submit Feedback",1,"feedback-button",3,"click"],[1,"far","fa-comment-lines"],["role","complementary"],["tabindex","0"],[1,"modal-title"],[3,"clTooltip"],[1,"fas","fa-question-circle"],[1,"please"],[1,"modal-content"],[3,"value","label","showPasswordEye","valueChange"],[1,"button","button-default","cancel",3,"click"],[1,"button","button-success",3,"disabled","click"],["class","cl-tooltip",4,"transloco"],[1,"cl-tooltip"],["width","0","height","0","viewBox","0 0 100 100","preserveAspectRatio","none",2,"position","absolute","top","0","left","0"],["id","squareCircle","clipPathUnits","objectBoundingBox","transform","scale(0.01 0.01)"],["d","M49.9997 0.5C49.9999 0.5 50 0.5 50 0C50 0.5 50 0.5 50.0002 0.5L50.0012 0.5L50.0053 0.500004L50.0224 0.500036L50.0911 0.50029C50.1521 0.500581 50.243 0.501166 50.3623 0.502338C50.6008 0.504684 50.9526 0.509382 51.4039 0.518793C52.3067 0.537614 53.6076 0.575279 55.1977 0.650649C58.3786 0.801426 62.7132 1.10292 67.3311 1.70547C71.9514 2.30834 76.8418 3.21088 81.1393 4.55972C85.4506 5.91286 89.101 7.69592 91.3037 10.0213C93.2659 12.0928 94.7854 15.5953 95.9461 19.7637C97.102 23.9151 97.8837 28.6568 98.4114 33.1431C98.9388 37.6271 99.2111 41.8434 99.3514 44.9395C99.4216 46.4872 99.4587 47.7541 99.4783 48.6336C99.4881 49.0733 99.4936 49.4161 99.4965 49.6486C99.4971 49.6896 99.4975 49.7272 99.4979 49.7612C99.4986 49.8238 99.4991 49.8746 99.4994 49.9131L99.4999 49.9802L99.5 49.9969L99.5 49.9981V49.9991V50.0009V50.0019L99.5 50.0032L99.4999 50.0198L99.4994 50.0869C99.4989 50.1464 99.498 50.2351 99.4965 50.3514C99.4936 50.5839 99.4881 50.9267 99.4783 51.3664C99.4587 52.2459 99.4216 53.5128 99.3514 55.0605C99.2111 58.1566 98.9388 62.3729 98.4114 66.8569C97.8837 71.3432 97.102 76.0849 95.9461 80.2363C94.7854 84.4047 93.2659 87.9072 91.3037 89.9787C89.101 92.3041 85.4506 94.0871 81.1393 95.4403C76.8418 96.7891 71.9514 97.6917 67.3311 98.2945C62.7132 98.8971 58.3786 99.1986 55.1977 99.3493C53.6076 99.4247 52.3067 99.4624 51.4039 99.4812C50.9526 99.4906 50.6008 99.4953 50.3623 99.4977C50.243 99.4988 50.152 99.4994 50.0911 99.4997L50.0224 99.5L50.0053 99.5L50.0012 99.5H50.0002C50 99.5 50 99.5 50 100C50 99.5 49.9999 99.5 49.9997 99.5H49.9988L49.9946 99.5L49.9776 99.5L49.9089 99.4997C49.8479 99.4994 49.7569 99.4988 49.6377 99.4977C49.3991 99.4953 49.0474 99.4906 48.596 99.4812C47.6933 99.4624 46.3924 99.4247 44.8023 99.3493C41.6213 99.1986 37.2868 98.8971 32.6689 98.2945C28.0486 97.6917 23.1582 96.7891 18.8607 95.4403C14.5494 94.0871 10.899 92.3041 8.69633 89.9787C6.7341 87.9072 5.2146 84.4047 4.05392 80.2363C2.89797 76.0849 2.11626 71.3432 1.58858 66.8569C1.06116 62.3729 0.788906 58.1566 0.64857 55.0605C0.578418 53.5128 0.541267 52.2459 0.521657 51.3664C0.511852 50.9267 0.506434 50.5839 0.503468 50.3514C0.501986 50.2351 0.501116 50.1464 0.500618 50.0869L0.500119 50.0198L0.500021 50.0032L0.500001 50.0009V49.9991L0.500021 49.9969L0.500119 49.9802L0.500618 49.9131C0.501116 49.8536 0.501986 49.7649 0.503468 49.6486C0.506434 49.4161 0.511852 49.0733 0.521657 48.6336C0.541267 47.7541 0.578418 46.4872 0.64857 44.9395C0.788906 41.8434 1.06116 37.6271 1.58858 33.1431C2.11626 28.6568 2.89797 23.9151 4.05392 19.7637C5.2146 15.5953 6.7341 12.0928 8.69633 10.0213C10.899 7.69592 14.5494 5.91286 18.8607 4.55972C23.1582 3.21088 28.0486 2.30834 32.6689 1.70547C37.2868 1.10292 41.6213 0.801426 44.8023 0.650649C46.3924 0.575279 47.6933 0.537614 48.596 0.518793C49.0474 0.509382 49.3991 0.504684 49.6377 0.502338C49.7569 0.501166 49.8479 0.500581 49.9089 0.50029L49.9776 0.500036L49.9946 0.500004L49.9988 0.5L49.9997 0.5Z"],["width","0","height","0","viewBox","0 0 91 91","fill","none","xmlns","http://www.w3.org/2000/svg",2,"position","absolute","top","0","left","0"],["id","folderPath","clipPathUnits","objectBoundingBox","transform","scale(0.01 0.01)"],["d","M1.00037 5.99991C1.00243 37.6324 0.996094 86 0.996094 86C0.996276 88.9992 3.16836 90.9991 6.41973 91H6.42157L85.5746 90.9962C88.8272 90.996 90.9959 88.9928 90.9961 85.9932V85.9925L90.9961 12.9962C90.9959 9.99643 88.823 7.99633 85.5706 7.99617L53.046 7.99617L44.9139 0.996167C44.9139 0.996167 9.67465 0.996003 6.4218 0.996167C3.16894 0.996331 1.00018 2.99991 1.00037 5.99991Z"]],template:function(t,e){1&t&&(c.Nb(0,"app-app-loader",0),c.Sb(1,"cl-accessibility-menu",1),c.Zb("visibleChange",(function(t){return e.showAccessibilityBar=t})),c.Rb(),c.Gc(2,qw,4,5,"div",2),c.Gc(3,Kw,1,0,"app-library",3),c.Gc(4,Yw,1,0,"dynamic-app-library",3),c.Nb(5,"app-app-report"),c.Nb(6,"app-my-profile"),c.Nb(7,"app-app-two-factor-modal"),c.Nb(8,"app-context-menu",4),c.Nb(9,"app-delete-app-modal"),c.Nb(10,"app-edit-custom-app"),c.Nb(11,"app-create-folder"),c.Nb(12,"app-dynamic-create-folder"),c.Nb(13,"app-session-expired"),c.Nb(14,"app-unsupported-browser"),c.Nb(15,"app-add-tag"),c.Nb(16,"app-update-required"),c.Nb(17,"app-force-password-recovery"),c.Nb(18,"app-notes"),c.Nb(19,"app-app-info"),c.Nb(20,"cl-feedback",5),c.Sb(21,"cl-whats-new",6),c.Zb("isVisible",(function(t){return e.whatsNewModalVisible(t)})),c.Rb(),c.Nb(22,"app-initial-run-wizard"),c.Nb(23,"app-recovery-questions-modal"),c.Nb(24,"app-aup-modal"),c.Sb(25,"cl-modal",7),c.Zb("visibleChange",(function(t){return e.resetADVisible=t})),c.Gc(26,Qw,15,12,"ng-container",8),c.Rb(),c.Gc(27,tP,1,0,"ng-template",null,9,c.Hc),c.Gc(29,eP,3,0,"svg",10),c.Gc(30,nP,3,0,"svg",11)),2&t&&(c.kc("fadeOut",e.isIdle),c.Ab(1),c.kc("visible",e.showAccessibilityBar)("jumpLocations",e.accessibilityJumps)("accessibilityActions",e.accessibilityActions),c.Ab(1),c.kc("ngIf",e.settings),c.Ab(1),c.kc("ngIf",!e.isDynamicTheme&&e.appLibraryStatus&&e.appLibraryStatus.appLibraryEnabled),c.Ab(1),c.kc("ngIf",e.isDynamicTheme&&e.appLibraryStatus&&e.appLibraryStatus.appLibraryEnabled),c.Ab(16),c.kc("userInfo",e.feedbackUser),c.Ab(5),c.kc("visible",e.resetADVisible),c.Ab(4),c.kc("ngIf",e.notCompat),c.Ab(1),c.kc("ngIf",e.notCompat))},directives:[Ci.a,We.a,i.l,Mi,bl,op,Tp,Dp,Wp,Qp,sd,bd,md,Pd,Sd,Rd,Kd,nu,We.v,We.ab,ng,rg,Pg,We.H,Te.c,i.j,i.p,Pb,vf,Of,Yf,i.m,vm,xm,_m,li,We.E,qm,lv,qy,Rw,We.Y,We.C],pipes:[i.b,Te.e],styles:[".main-content[_ngcontent-%COMP%]{overflow:hidden}.content-ctnr[_ngcontent-%COMP%], .layout-ctnr[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;position:relative}.layout-ctnr[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]{width:100%;height:100%}.layout-ctnr[_ngcontent-%COMP%]{overflow:hidden}.content-ctnr[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]{-ms-flex-flow:column nowrap;flex-flow:column nowrap;transition:height .2s ease-in-out,transform .2s ease-in-out}.content-ctnr[_ngcontent-%COMP%]   .main-dynamic-content[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .main-dynamic-content[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;width:100%;height:100%;overflow:hidden}.content-ctnr[_ngcontent-%COMP%]   .main-dynamic-content[_ngcontent-%COMP%] > app-dynamic-apps-container[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .main-dynamic-content[_ngcontent-%COMP%] > app-dynamic-apps-container[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1}.main-content.show-accessibility[_ngcontent-%COMP%]{height:calc(100% - 50px)}.main-content.dynamic-theme[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{display:none;width:100%;height:auto;max-height:94px;transition:all .3s ease-in-out;position:relative;z-index:300}.main-content.dynamic-theme[_ngcontent-%COMP%]   .header-container.ready[_ngcontent-%COMP%]{display:block}.content-ctnr[_ngcontent-%COMP%]{-ms-flex:1 1 auto;flex:1 1 auto;max-width:calc(100% - 250px)}.content-ctnr.collapsed[_ngcontent-%COMP%]{max-width:calc(100% - 100px)}.accessibility-alert[_ngcontent-%COMP%]{position:absolute;bottom:-100px;left:-100px;opacity:0;pointer-events:none}cl-modal.small[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline}cl-modal.small[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline;margin-left:5px}cl-modal.small[_ngcontent-%COMP%]   .please[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:20px}cl-modal.small[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:100%}cl-modal.small[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-block;margin-top:20px}cl-modal.small[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:50px}cl-modal.small[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   cl-input[_ngcontent-%COMP%]{max-width:500px}"],data:{animation:[Object(Ke.j)("unfoldInOut",[Object(Ke.g)("in",Object(Ke.h)({transform:"translateY(0)"})),Object(Ke.i)("void => *",[Object(Ke.h)({transform:"translateY(-100%)"}),Object(Ke.e)(200)]),Object(Ke.i)("* => void",[Object(Ke.e)(200,Object(Ke.h)({transform:"translateY(-100%)"}))])])]}}),t}(),children:[{path:"home",component:li},{path:"",redirectTo:"home",pathMatch:"full"}]},{path:"**",redirectTo:"oauth"}],oP=function(){function t(t){this.customIconRegistry=t,this.customIconRegistry.registerIcons(We.db)}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)(c.Wb(We.o))},imports:[[Jt.AppLibraryModule,Kt,i.c,Yt.MyProfileModule,Wt.f.forChild(iP),qt.a,Te.d,We.X,We.n,$t],Jt.AppLibraryModule,Kt,Yt.MyProfileModule]}),t}()},ETIr:function(t,e,n){var i,o;t.exports=(i=n("Ib8C"),o=i.lib.WordArray,i.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,i=this._map;t.clamp();for(var o=[],r=0;r<n;r+=3)for(var a=(e[r>>>2]>>>24-r%4*8&255)<<16|(e[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|e[r+2>>>2]>>>24-(r+2)%4*8&255,s=0;s<4&&r+.75*s<n;s++)o.push(i.charAt(a>>>6*(3-s)&63));var c=i.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(t){var e=t.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var r=0;r<n.length;r++)i[n.charCodeAt(r)]=r}var a=n.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(e=s)}return function(t,e,n){for(var i=[],r=0,a=0;a<e;a++)if(a%4){var s=n[t.charCodeAt(a-1)]<<a%4*2,c=n[t.charCodeAt(a)]>>>6-a%4*2;i[r>>>2]|=(s|c)<<24-r%4*8,r++}return o.create(i,r)}(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},i.enc.Base64)},EbDI:function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},EwQA:function(t,e,n){var i=n("zZ0H");t.exports=function(t){return"function"==typeof t?t:i}},"F+F2":function(t,e,n){var i;t.exports=(i=n("Ib8C"),function(){if("function"==typeof ArrayBuffer){var t=i.lib.WordArray,e=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var n=t.byteLength,i=[],o=0;o<n;o++)i[o>>>2]|=t[o]<<24-o%4*8;e.call(this,i,n)}else e.apply(this,arguments)}).prototype=t}}(),i.lib.WordArray)},GRuw:function(t,e,n){var i,o,r,a,s,c;t.exports=(c=n("Ib8C"),n("lPiR"),o=(i=c).lib.WordArray,s=(r=i.algo).SHA224=(a=r.SHA256).extend({_doReset:function(){this._hash=new o.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=a._doFinalize.call(this);return t.sigBytes-=4,t}}),i.SHA224=a._createHelper(s),i.HmacSHA224=a._createHmacHelper(s),c.SHA224)},Ib8C:function(t,e,n){var i;t.exports=i=i||function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),i={},o=i.lib={},r=o.Base={extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=o.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes,o=t.sigBytes;if(this.clamp(),i%4)for(var r=0;r<o;r++)e[i+r>>>2]|=(n[r>>>2]>>>24-r%4*8&255)<<24-(i+r)%4*8;else for(r=0;r<o;r+=4)e[i+r>>>2]=n[r>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=r.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,i=[],o=function(e){e=e;var n=987654321,i=4294967295;return function(){var o=((n=36969*(65535&n)+(n>>16)&i)<<16)+(e=18e3*(65535&e)+(e>>16)&i)&i;return o/=4294967296,(o+=.5)*(t.random()>.5?1:-1)}},r=0;r<e;r+=4){var s=o(4294967296*(n||t.random()));n=987654071*s(),i.push(4294967296*s()|0)}return new a.init(i,e)}}),s=i.enc={},c=s.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],o=0;o<n;o++){var r=e[o>>>2]>>>24-o%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new a.init(n,e/2)}},l=s.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],o=0;o<n;o++)i.push(String.fromCharCode(e[o>>>2]>>>24-o%4*8&255));return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new a.init(n,e)}},p=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},d=o.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=p.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,i=n.words,o=n.sigBytes,r=this.blockSize,s=o/(4*r),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*r,l=t.min(4*c,o);if(c){for(var p=0;p<c;p+=r)this._doProcessBlock(i,p);var d=i.splice(0,c);n.sigBytes-=l}return new a.init(d,l)},clone:function(){var t=r.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),u=(o.Hasher=d.extend({cfg:r.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new u.HMAC.init(t,n).finalize(e)}}}),i.algo={});return i}(Math)},Ijbi:function(t,e,n){var i=n("WkPL");t.exports=function(t){if(Array.isArray(t))return i(t)}},K3mO:function(t,e,n){var i,o,r,a,s,c,l;t.exports=(l=n("Ib8C"),n("3y9D"),n("WYAk"),a=(o=(i=l).lib).WordArray,c=(s=i.algo).EvpKDF=(r=o.Base).extend({cfg:r.extend({keySize:4,hasher:s.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,i=n.hasher.create(),o=a.create(),r=o.words,s=n.keySize,c=n.iterations;r.length<s;){l&&i.update(l);var l=i.update(t).finalize(e);i.reset();for(var p=1;p<c;p++)l=i.finalize(l),i.reset();o.concat(l)}return o.sigBytes=4*s,o}}),i.EvpKDF=function(t,e,n){return c.create(n).compute(t,e)},l.EvpKDF)},KKcz:function(t,e,n){"use strict";var i=n("RIqP");Object.defineProperty(e,"__esModule",{value:!0}),e.sign=e.register=e.ensureSupport=e.isSupported=e.ErrorNames=e.ErrorCodes=void 0;var o=n("zLrd"),r=n("oNjS");Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return r.ErrorCodes}}),Object.defineProperty(e,"ErrorNames",{enumerable:!0,get:function(){return r.ErrorNames}});var a="undefined"!=typeof navigator&&!!navigator.userAgent,s=a&&navigator.userAgent.match(/Safari\//)&&!navigator.userAgent.match(/Chrome\//),c=a&&navigator.userAgent.match(/Safari\/(1[3456789])/)&&!navigator.userAgent.match(/Chrome\//),l=a&&/(Edge\/)|(edg\/)/i.test(navigator.userAgent),p=a&&/(MSIE 9|MSIE 10|rv:11.0)/i.test(navigator.userAgent),d=null;function u(){if(d)return d;var t=new Promise((function(t,e){function n(){t({u2f:null})}return a?s&&!c?n():void 0!==window.u2f&&"function"==typeof window.u2f.sign?t({u2f:window.u2f}):l||p||"http:"===location.protocol||"undefined"==typeof MessageChannel?n():void o.chromeApi.isSupported((function(e){e?t({u2f:o.chromeApi}):n()})):n()})).then((function(e){return d=e.u2f?t:null,e}));return t}function g(t){if(!t.u2f){if("http:"===location.protocol)throw new Error("U2F isn't supported over http, only https");throw new Error("U2F not supported")}}function h(t){return null!=t&&Array.isArray(t)?t:null==t?[]:Array.isArray(t)?i(t):[t]}e.isSupported=function(){return u().then((function(t){return!!t.u2f}))},e.ensureSupport=function(){return u().then(g)},e.register=function(t,e,n){var i=h(t);"number"==typeof e&&void 0===n&&(n=e,e=[]);var o=h(e);return u().then((function(t){g(t);var e=t.u2f;return new Promise((function(t,a){e.register(i[0].appId,i,o,(function(e){e.errorCode?a(r.makeError("Registration failed",e)):(delete e.errorCode,t(e))}),n)}))}))},e.sign=function(t,e){var n=h(t);return u().then((function(t){g(t);var o=t.u2f;return new Promise((function(t,a){var s,c=n[0].appId,l=n[0].challenge,p=(s=[]).concat.apply(s,i(n.map((function(t){var e=t.version,n=t.appId;return h(t.keyHandle).map((function(t){return{version:e,keyHandle:t,appId:n}}))}))));o.sign(c,l,p,(function(e){e.errorCode?a(r.makeError("Sign failed",e)):(delete e.errorCode,t(e))}),e)}))}))}},KmYQ:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("OLod"),i.pad.ZeroPadding={pad:function(t,e){var n=4*e;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var e=t.words,n=t.sigBytes-1;!(e[n>>>2]>>>24-n%4*8&255);)n--;t.sigBytes=n+1}},i.pad.ZeroPadding)},MlIO:function(t,e,n){var i,o,r,a,s;t.exports=(i=n("Ib8C"),r=(o=i.lib).Base,a=o.WordArray,(s=i.x64={}).Word=r.extend({init:function(t,e){this.high=t,this.low=e}}),s.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,n=[],i=0;i<e;i++){var o=t[i];n.push(o.high),n.push(o.low)}return a.create(n,this.sigBytes)},clone:function(){for(var t=r.clone.call(this),e=t.words=this.words.slice(0),n=e.length,i=0;i<n;i++)e[i]=e[i].clone();return t}}),i)},NFKh:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("MlIO"),n("F+F2"),n("qM6L"),n("ETIr"),n("cv67"),n("3y9D"),n("lPiR"),n("GRuw"),n("1uat"),n("uGsb"),n("5hvy"),n("ELcG"),n("WYAk"),n("e7zE"),n("K3mO"),n("OLod"),n("ALsQ"),n("9OqN"),n("qu8F"),n("S6kV"),n("gb/T"),n("qBft"),n("oRuE"),n("jO9C"),n("KmYQ"),n("uGxW"),n("bQjk"),n("wZgz"),n("pA7S"),n("w7YG"),n("E4JC"),n("PVpz"),i)},O7iK:function(t,e){t.exports=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var o=t[e];i[o[0]]=o[1]}return i}},OLod:function(t,e,n){var i,o,r,a,s,c,l,p,d,u,g,h,b,f,m,v,y,C;t.exports=(i=n("Ib8C"),n("K3mO"),void(i.lib.Cipher||(o=i,r=o.lib,a=r.Base,s=r.WordArray,c=r.BufferedBlockAlgorithm,l=o.enc.Base64,p=o.algo.EvpKDF,d=r.Cipher=c.extend({cfg:a.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?C:v}return function(e){return{encrypt:function(n,i,o){return t(i).encrypt(e,n,i,o)},decrypt:function(n,i,o){return t(i).decrypt(e,n,i,o)}}}}()}),r.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),u=o.mode={},g=r.BlockCipherMode=a.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),h=u.CBC=function(){var t=g.extend();function e(t,e,n){var i=this._iv;if(i){var o=i;this._iv=void 0}else o=this._prevBlock;for(var r=0;r<n;r++)t[e+r]^=o[r]}return t.Encryptor=t.extend({processBlock:function(t,n){var i=this._cipher,o=i.blockSize;e.call(this,t,n,o),i.encryptBlock(t,n),this._prevBlock=t.slice(n,n+o)}}),t.Decryptor=t.extend({processBlock:function(t,n){var i=this._cipher,o=i.blockSize,r=t.slice(n,n+o);i.decryptBlock(t,n),e.call(this,t,n,o),this._prevBlock=r}}),t}(),b=(o.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,i=n-t.sigBytes%n,o=i<<24|i<<16|i<<8|i,r=[],a=0;a<i;a+=4)r.push(o);var c=s.create(r,i);t.concat(c)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},r.BlockCipher=d.extend({cfg:d.cfg.extend({mode:h,padding:b}),reset:function(){d.reset.call(this);var t=this.cfg,e=t.iv,n=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=n.createEncryptor;else i=n.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==i?this._mode.init(this,e&&e.words):(this._mode=i.call(n,this,e&&e.words),this._mode.__creator=i)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4}),f=r.CipherParams=a.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),m=(o.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;if(n)var i=s.create([1398893684,1701076831]).concat(n).concat(e);else i=e;return i.toString(l)},parse:function(t){var e=l.parse(t),n=e.words;if(1398893684==n[0]&&1701076831==n[1]){var i=s.create(n.slice(2,4));n.splice(0,4),e.sigBytes-=16}return f.create({ciphertext:e,salt:i})}},v=r.SerializableCipher=a.extend({cfg:a.extend({format:m}),encrypt:function(t,e,n,i){i=this.cfg.extend(i);var o=t.createEncryptor(n,i),r=o.finalize(e),a=o.cfg;return f.create({ciphertext:r,key:n,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(n,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),y=(o.kdf={}).OpenSSL={execute:function(t,e,n,i){i||(i=s.random(8));var o=p.create({keySize:e+n}).compute(t,i),r=s.create(o.words.slice(e),4*n);return o.sigBytes=4*e,f.create({key:o,iv:r,salt:i})}},C=r.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:y}),encrypt:function(t,e,n,i){var o=(i=this.cfg.extend(i)).kdf.execute(n,t.keySize,t.ivSize);i.iv=o.iv;var r=v.encrypt.call(this,t,e,o.key,i);return r.mixIn(o),r},decrypt:function(t,e,n,i){i=this.cfg.extend(i),e=this._parse(e,i.format);var o=i.kdf.execute(n,t.keySize,t.ivSize,e.salt);return i.iv=o.iv,v.decrypt.call(this,t,e,o.key,i)}}))))},PVpz:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var t=i,e=t.lib.StreamCipher,n=[],o=[],r=[],a=t.algo.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var o=0;o<4;o++)s.call(this);for(o=0;o<8;o++)i[o]^=n[o+4&7];if(e){var r=e.words,a=r[0],c=r[1],l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),p=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),d=l>>>16|4294901760&p,u=p<<16|65535&l;for(i[0]^=l,i[1]^=d,i[2]^=p,i[3]^=u,i[4]^=l,i[5]^=d,i[6]^=p,i[7]^=u,o=0;o<4;o++)s.call(this)}},_doProcessBlock:function(t,e){var i=this._X;s.call(this),n[0]=i[0]^i[5]>>>16^i[3]<<16,n[1]=i[2]^i[7]>>>16^i[5]<<16,n[2]=i[4]^i[1]>>>16^i[7]<<16,n[3]=i[6]^i[3]>>>16^i[1]<<16;for(var o=0;o<4;o++)n[o]=16711935&(n[o]<<8|n[o]>>>24)|4278255360&(n[o]<<24|n[o]>>>8),t[e+o]^=n[o]},blockSize:4,ivSize:2});function s(){for(var t=this._X,e=this._C,n=0;n<8;n++)o[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var i=t[n]+e[n],a=65535&i,s=i>>>16;r[n]=((a*a>>>17)+a*s>>>15)+s*s^((4294901760&i)*i|0)+((65535&i)*i|0)}t[0]=r[0]+(r[7]<<16|r[7]>>>16)+(r[6]<<16|r[6]>>>16)|0,t[1]=r[1]+(r[0]<<8|r[0]>>>24)+r[7]|0,t[2]=r[2]+(r[1]<<16|r[1]>>>16)+(r[0]<<16|r[0]>>>16)|0,t[3]=r[3]+(r[2]<<8|r[2]>>>24)+r[1]|0,t[4]=r[4]+(r[3]<<16|r[3]>>>16)+(r[2]<<16|r[2]>>>16)|0,t[5]=r[5]+(r[4]<<8|r[4]>>>24)+r[3]|0,t[6]=r[6]+(r[5]<<16|r[5]>>>16)+(r[4]<<16|r[4]>>>16)|0,t[7]=r[7]+(r[6]<<8|r[6]>>>24)+r[5]|0}t.RabbitLegacy=e._createHelper(a)}(),i.RabbitLegacy)},Q0GO:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0});var r=n("KKcz");o(n("KKcz"),e),e.default=r},QIyF:function(t,e,n){var i=n("Kz5y");t.exports=function(){return i.Date.now()}},RIqP:function(t,e,n){var i=n("Ijbi"),o=n("EbDI"),r=n("ZhPi"),a=n("Bnag");t.exports=function(t){return i(t)||o(t)||r(t)||a()}},S6kV:function(t,e,n){var i,o,r;t.exports=(r=n("Ib8C"),n("OLod"),r.mode.OFB=(o=(i=r.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,o=this._iv,r=this._keystream;o&&(r=this._keystream=o.slice(0),this._iv=void 0),n.encryptBlock(r,0);for(var a=0;a<i;a++)t[e+a]^=r[a]}}),i.Decryptor=o,i),r.mode.OFB)},Te9D:function(t,e,n){var i=n("/kAC"),o=n("dt0z"),r=/[&<>"']/g,a=RegExp(r.source);t.exports=function(t){return(t=o(t))&&a.test(t)?t.replace(r,i):t}},WYAk:function(t,e,n){var i,o;t.exports=(i=n("Ib8C"),o=i.enc.Utf8,void(i.algo.HMAC=i.lib.Base.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=o.parse(e));var n=t.blockSize,i=4*n;e.sigBytes>i&&(e=t.finalize(e)),e.clamp();for(var r=this._oKey=e.clone(),a=this._iKey=e.clone(),s=r.words,c=a.words,l=0;l<n;l++)s[l]^=1549556828,c[l]^=909522486;r.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})))},WkPL:function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}},ZhPi:function(t,e,n){var i=n("WkPL");t.exports=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}},bNQv:function(t,e,n){var i=n("gFfm"),o=n("SKAX"),r=n("EwQA"),a=n("Z0cm");t.exports=function(t,e){return(a(t)?i:o)(t,r(e))}},bQjk:function(t,e,n){var i,o,r;t.exports=(r=n("Ib8C"),n("OLod"),i=r.lib.CipherParams,o=r.enc.Hex,r.format.Hex={stringify:function(t){return t.ciphertext.toString(o)},parse:function(t){var e=o.parse(t);return i.create({ciphertext:e})}},r.format.Hex)},cv67:function(t,e,n){var i;t.exports=(i=n("Ib8C"),function(t){var e=i,n=e.lib,o=n.WordArray,r=n.Hasher,a=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=a.MD5=r.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var i=e+n,o=t[i];t[i]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var r=this._hash.words,a=t[e+0],c=t[e+1],g=t[e+2],h=t[e+3],b=t[e+4],f=t[e+5],m=t[e+6],v=t[e+7],y=t[e+8],C=t[e+9],x=t[e+10],w=t[e+11],P=t[e+12],O=t[e+13],M=t[e+14],_=t[e+15],k=r[0],S=r[1],A=r[2],I=r[3];k=l(k,S,A,I,a,7,s[0]),I=l(I,k,S,A,c,12,s[1]),A=l(A,I,k,S,g,17,s[2]),S=l(S,A,I,k,h,22,s[3]),k=l(k,S,A,I,b,7,s[4]),I=l(I,k,S,A,f,12,s[5]),A=l(A,I,k,S,m,17,s[6]),S=l(S,A,I,k,v,22,s[7]),k=l(k,S,A,I,y,7,s[8]),I=l(I,k,S,A,C,12,s[9]),A=l(A,I,k,S,x,17,s[10]),S=l(S,A,I,k,w,22,s[11]),k=l(k,S,A,I,P,7,s[12]),I=l(I,k,S,A,O,12,s[13]),A=l(A,I,k,S,M,17,s[14]),k=p(k,S=l(S,A,I,k,_,22,s[15]),A,I,c,5,s[16]),I=p(I,k,S,A,m,9,s[17]),A=p(A,I,k,S,w,14,s[18]),S=p(S,A,I,k,a,20,s[19]),k=p(k,S,A,I,f,5,s[20]),I=p(I,k,S,A,x,9,s[21]),A=p(A,I,k,S,_,14,s[22]),S=p(S,A,I,k,b,20,s[23]),k=p(k,S,A,I,C,5,s[24]),I=p(I,k,S,A,M,9,s[25]),A=p(A,I,k,S,h,14,s[26]),S=p(S,A,I,k,y,20,s[27]),k=p(k,S,A,I,O,5,s[28]),I=p(I,k,S,A,g,9,s[29]),A=p(A,I,k,S,v,14,s[30]),k=d(k,S=p(S,A,I,k,P,20,s[31]),A,I,f,4,s[32]),I=d(I,k,S,A,y,11,s[33]),A=d(A,I,k,S,w,16,s[34]),S=d(S,A,I,k,M,23,s[35]),k=d(k,S,A,I,c,4,s[36]),I=d(I,k,S,A,b,11,s[37]),A=d(A,I,k,S,v,16,s[38]),S=d(S,A,I,k,x,23,s[39]),k=d(k,S,A,I,O,4,s[40]),I=d(I,k,S,A,a,11,s[41]),A=d(A,I,k,S,h,16,s[42]),S=d(S,A,I,k,m,23,s[43]),k=d(k,S,A,I,C,4,s[44]),I=d(I,k,S,A,P,11,s[45]),A=d(A,I,k,S,_,16,s[46]),k=u(k,S=d(S,A,I,k,g,23,s[47]),A,I,a,6,s[48]),I=u(I,k,S,A,v,10,s[49]),A=u(A,I,k,S,M,15,s[50]),S=u(S,A,I,k,f,21,s[51]),k=u(k,S,A,I,P,6,s[52]),I=u(I,k,S,A,h,10,s[53]),A=u(A,I,k,S,x,15,s[54]),S=u(S,A,I,k,c,21,s[55]),k=u(k,S,A,I,y,6,s[56]),I=u(I,k,S,A,_,10,s[57]),A=u(A,I,k,S,m,15,s[58]),S=u(S,A,I,k,O,21,s[59]),k=u(k,S,A,I,b,6,s[60]),I=u(I,k,S,A,w,10,s[61]),A=u(A,I,k,S,g,15,s[62]),S=u(S,A,I,k,C,21,s[63]),r[0]=r[0]+k|0,r[1]=r[1]+S|0,r[2]=r[2]+A|0,r[3]=r[3]+I|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,o=8*e.sigBytes;n[o>>>5]|=128<<24-o%32;var r=t.floor(i/4294967296),a=i;n[15+(o+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),n[14+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,l=0;l<4;l++){var p=c[l];c[l]=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8)}return s},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});function l(t,e,n,i,o,r,a){var s=t+(e&n|~e&i)+o+a;return(s<<r|s>>>32-r)+e}function p(t,e,n,i,o,r,a){var s=t+(e&i|n&~i)+o+a;return(s<<r|s>>>32-r)+e}function d(t,e,n,i,o,r,a){var s=t+(e^n^i)+o+a;return(s<<r|s>>>32-r)+e}function u(t,e,n,i,o,r,a){var s=t+(n^(e|~i))+o+a;return(s<<r|s>>>32-r)+e}e.MD5=r._createHelper(c),e.HmacMD5=r._createHmacHelper(c)}(Math),i.MD5)},e7zE:function(t,e,n){var i,o,r,a,s,c,l,p;t.exports=(p=n("Ib8C"),n("3y9D"),n("WYAk"),a=(o=(i=p).lib).WordArray,c=(s=i.algo).HMAC,l=s.PBKDF2=(r=o.Base).extend({cfg:r.extend({keySize:4,hasher:s.SHA1,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,i=c.create(n.hasher,t),o=a.create(),r=a.create([1]),s=o.words,l=r.words,p=n.keySize,d=n.iterations;s.length<p;){var u=i.update(e).finalize(r);i.reset();for(var g=u.words,h=g.length,b=u,f=1;f<d;f++){b=i.finalize(b),i.reset();for(var m=b.words,v=0;v<h;v++)g[v]^=m[v]}o.concat(u),l[0]++}return o.sigBytes=4*p,o}}),i.PBKDF2=function(t,e,n){return l.create(n).compute(t,e)},p.PBKDF2)},"gb/T":function(t,e,n){var i,o;t.exports=(o=n("Ib8C"),n("OLod"),o.mode.ECB=((i=o.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),i.Decryptor=i.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),i),o.mode.ECB)},jO9C:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("OLod"),i.pad.Iso97971={pad:function(t,e){t.concat(i.lib.WordArray.create([2147483648],1)),i.pad.ZeroPadding.pad(t,e)},unpad:function(t){i.pad.ZeroPadding.unpad(t),t.sigBytes--}},i.pad.Iso97971)},kGJw:function(t,e,n){var i=n("dt0z"),o=/[\\^$.*+?()[\]{}|]/g,r=RegExp(o.source);t.exports=function(t){return(t=i(t))&&r.test(t)?t.replace(o,"\\$&"):t}},lPiR:function(t,e,n){var i;t.exports=(i=n("Ib8C"),function(t){var e=i,n=e.lib,o=n.WordArray,r=n.Hasher,a=e.algo,s=[],c=[];!function(){function e(e){for(var n=t.sqrt(e),i=2;i<=n;i++)if(!(e%i))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var i=2,o=0;o<64;)e(i)&&(o<8&&(s[o]=n(t.pow(i,.5))),c[o]=n(t.pow(i,1/3)),o++),i++}();var l=[],p=a.SHA256=r.extend({_doReset:function(){this._hash=new o.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],o=n[1],r=n[2],a=n[3],s=n[4],p=n[5],d=n[6],u=n[7],g=0;g<64;g++){if(g<16)l[g]=0|t[e+g];else{var h=l[g-15],b=l[g-2];l[g]=((h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3)+l[g-7]+((b<<15|b>>>17)^(b<<13|b>>>19)^b>>>10)+l[g-16]}var f=i&o^i&r^o&r,m=u+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&p^~s&d)+c[g]+l[g];u=d,d=p,p=s,s=a+m|0,a=r,r=o,o=i,i=m+(((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+f)|0}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+r|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+p|0,n[6]=n[6]+d|0,n[7]=n[7]+u|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,o=8*e.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(o+64>>>9<<4)]=t.floor(i/4294967296),n[15+(o+64>>>9<<4)]=i,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=r._createHelper(p),e.HmacSHA256=r._createHmacHelper(p)}(Math),i.SHA256)},oNjS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeError=e.ErrorNames=e.ErrorCodes=void 0,e.ErrorCodes={OK:0,OTHER_ERROR:1,BAD_REQUEST:2,CONFIGURATION_UNSUPPORTED:3,DEVICE_INELIGIBLE:4,TIMEOUT:5},e.ErrorNames={0:"OK",1:"OTHER_ERROR",2:"BAD_REQUEST",3:"CONFIGURATION_UNSUPPORTED",4:"DEVICE_INELIGIBLE",5:"TIMEOUT"},e.makeError=function(t,n){var i=null!=n?n.errorCode:1,o=e.ErrorNames[""+i],r=new Error(t);return r.metaData={type:o,code:i},r}},oRuE:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("OLod"),i.pad.Iso10126={pad:function(t,e){var n=4*e,o=n-t.sigBytes%n;t.concat(i.lib.WordArray.random(o-1)).concat(i.lib.WordArray.create([o<<24],1))},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},i.pad.Iso10126)},oSXT:function(t,e,n){var i=n("LqpT"),o=n("XGnz"),r=n("ut/Y"),a=n("EA7m"),s=n("3L66"),c=n("RBan"),l=a((function(t,e){var n=c(e);return s(n)&&(n=void 0),s(t)?i(t,o(e,1,s,!0),r(n,2)):[]}));t.exports=l},pA7S:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var t=i,e=t.lib,n=e.WordArray,o=e.BlockCipher,r=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],p=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=r.DES=o.extend({_doReset:function(){for(var t=this._key.words,e=[],n=0;n<56;n++){var i=a[n]-1;e[n]=t[i>>>5]>>>31-i%32&1}for(var o=this._subKeys=[],r=0;r<16;r++){var l=o[r]=[],p=c[r];for(n=0;n<24;n++)l[n/6|0]|=e[(s[n]-1+p)%28]<<31-n%6,l[4+(n/6|0)]|=e[28+(s[n+24]-1+p)%28]<<31-n%6;for(l[0]=l[0]<<1|l[0]>>>31,n=1;n<7;n++)l[n]=l[n]>>>4*(n-1)+3;l[7]=l[7]<<5|l[7]>>>27}var d=this._invSubKeys=[];for(n=0;n<16;n++)d[n]=o[15-n]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,n){this._lBlock=t[e],this._rBlock=t[e+1],u.call(this,4,252645135),u.call(this,16,65535),g.call(this,2,858993459),g.call(this,8,16711935),u.call(this,1,1431655765);for(var i=0;i<16;i++){for(var o=n[i],r=this._lBlock,a=this._rBlock,s=0,c=0;c<8;c++)s|=l[c][((a^o[c])&p[c])>>>0];this._lBlock=a,this._rBlock=r^s}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,u.call(this,1,1431655765),g.call(this,8,16711935),g.call(this,2,858993459),u.call(this,16,65535),u.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function u(t,e){var n=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=n,this._lBlock^=n<<t}function g(t,e){var n=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=n,this._rBlock^=n<<t}t.DES=o._createHelper(d);var h=r.TripleDES=o.extend({_doReset:function(){var t=this._key.words;this._des1=d.createEncryptor(n.create(t.slice(0,2))),this._des2=d.createEncryptor(n.create(t.slice(2,4))),this._des3=d.createEncryptor(n.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=o._createHelper(h)}(),i.TripleDES)},qBft:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("OLod"),i.pad.AnsiX923={pad:function(t,e){var n=t.sigBytes,i=4*e,o=i-n%i,r=n+o-1;t.clamp(),t.words[r>>>2]|=o<<24-r%4*8,t.sigBytes+=o},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},i.pad.Ansix923)},qM6L:function(t,e,n){var i;t.exports=(i=n("Ib8C"),function(){var t=i.lib.WordArray,e=i.enc;function n(t){return t<<8&4278255360|t>>>8&16711935}e.Utf16=e.Utf16BE={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],o=0;o<n;o+=2)i.push(String.fromCharCode(e[o>>>2]>>>16-o%4*8&65535));return i.join("")},parse:function(e){for(var n=e.length,i=[],o=0;o<n;o++)i[o>>>1]|=e.charCodeAt(o)<<16-o%2*16;return t.create(i,2*n)}},e.Utf16LE={stringify:function(t){for(var e=t.words,i=t.sigBytes,o=[],r=0;r<i;r+=2){var a=n(e[r>>>2]>>>16-r%4*8&65535);o.push(String.fromCharCode(a))}return o.join("")},parse:function(e){for(var i=e.length,o=[],r=0;r<i;r++)o[r>>>1]|=n(e.charCodeAt(r)<<16-r%2*16);return t.create(o,2*i)}}}(),i.enc.Utf16)},qPyV:function(t,e,n){var i=n("ut/Y"),o=n("LGYb");t.exports=function(t,e){return t&&t.length?o(t,i(e,2)):[]}},qu8F:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("OLod"),i.mode.CTRGladman=function(){var t=i.lib.BlockCipherMode.extend();function e(t){if(255==(t>>24&255)){var e=t>>16&255,n=t>>8&255,i=255&t;255===e?(e=0,255===n?(n=0,255===i?i=0:++i):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=i}else t+=1<<24;return t}var n=t.Encryptor=t.extend({processBlock:function(t,n){var i=this._cipher,o=i.blockSize,r=this._iv,a=this._counter;r&&(a=this._counter=r.slice(0),this._iv=void 0),function(t){0===(t[0]=e(t[0]))&&(t[1]=e(t[1]))}(a);var s=a.slice(0);i.encryptBlock(s,0);for(var c=0;c<o;c++)t[n+c]^=s[c]}});return t.Decryptor=n,t}(),i.mode.CTRGladman)},sEfC:function(t,e,n){var i=n("GoyQ"),o=n("QIyF"),r=n("tLB3"),a=Math.max,s=Math.min;t.exports=function(t,e,n){var c,l,p,d,u,g,h=0,b=!1,f=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function v(e){var n=c,i=l;return c=l=void 0,h=e,d=t.apply(i,n)}function y(t){return h=t,u=setTimeout(x,e),b?v(t):d}function C(t){var n=t-g;return void 0===g||n>=e||n<0||f&&t-h>=p}function x(){var t=o();if(C(t))return w(t);u=setTimeout(x,function(t){var n=e-(t-g);return f?s(n,p-(t-h)):n}(t))}function w(t){return u=void 0,m&&c?v(t):(c=l=void 0,d)}function P(){var t=o(),n=C(t);if(c=arguments,l=this,g=t,n){if(void 0===u)return y(g);if(f)return clearTimeout(u),u=setTimeout(x,e),v(g)}return void 0===u&&(u=setTimeout(x,e)),d}return e=r(e)||0,i(n)&&(b=!!n.leading,p=(f="maxWait"in n)?a(r(n.maxWait)||0,e):p,m="trailing"in n?!!n.trailing:m),P.cancel=function(){void 0!==u&&clearTimeout(u),h=0,c=g=l=u=void 0},P.flush=function(){return void 0===u?d:w(o())},P}},uGsb:function(t,e,n){var i,o,r,a,s,c,l,p;t.exports=(p=n("Ib8C"),n("MlIO"),n("1uat"),r=(o=(i=p).x64).Word,a=o.WordArray,l=(s=i.algo).SHA384=(c=s.SHA512).extend({_doReset:function(){this._hash=new a.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var t=c._doFinalize.call(this);return t.sigBytes-=16,t}}),i.SHA384=c._createHelper(l),i.HmacSHA384=c._createHmacHelper(l),p.SHA384)},uGxW:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("OLod"),i.pad.NoPadding={pad:function(){},unpad:function(){}},i.pad.NoPadding)},w7YG:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var t=i,e=t.lib.StreamCipher,n=t.algo,o=n.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes,i=this._S=[],o=0;o<256;o++)i[o]=o;o=0;for(var r=0;o<256;o++){var a=o%n,s=i[o];i[o]=i[r=(r+i[o]+(e[a>>>2]>>>24-a%4*8&255))%256],i[r]=s}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=r.call(this)},keySize:8,ivSize:0});function r(){for(var t=this._S,e=this._i,n=this._j,i=0,o=0;o<4;o++){var r=t[e=(e+1)%256];t[e]=t[n=(n+t[e])%256],t[n]=r,i|=t[(t[e]+t[n])%256]<<24-8*o}return this._i=e,this._j=n,i}t.RC4=e._createHelper(o);var a=n.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)r.call(this)}});t.RC4Drop=e._createHelper(a)}(),i.RC4)},wZgz:function(t,e,n){var i;t.exports=(i=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var t=i,e=t.lib.BlockCipher,n=t.algo,o=[],r=[],a=[],s=[],c=[],l=[],p=[],d=[],u=[],g=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var n=0,i=0;for(e=0;e<256;e++){var h=i^i<<1^i<<2^i<<3^i<<4;o[n]=h=h>>>8^255&h^99,r[h]=n;var b,f=t[n],m=t[f],v=t[m];a[n]=(b=257*t[h]^16843008*h)<<24|b>>>8,s[n]=b<<16|b>>>16,c[n]=b<<8|b>>>24,l[n]=b,p[h]=(b=16843009*v^65537*m^257*f^16843008*n)<<24|b>>>8,d[h]=b<<16|b>>>16,u[h]=b<<8|b>>>24,g[h]=b,n?(n=f^t[t[t[v^f]]],i^=t[t[i]]):n=i=1}}();var h=[0,1,2,4,8,16,32,64,128,27,54],b=n.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,i=4*((this._nRounds=n+6)+1),r=this._keySchedule=[],a=0;a<i;a++)if(a<n)r[a]=e[a];else{var s=r[a-1];a%n?n>6&&a%n==4&&(s=o[s>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s]):(s=o[(s=s<<8|s>>>24)>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s],s^=h[a/n|0]<<24),r[a]=r[a-n]^s}for(var c=this._invKeySchedule=[],l=0;l<i;l++)a=i-l,s=l%4?r[a]:r[a-4],c[l]=l<4||a<=4?s:p[o[s>>>24]]^d[o[s>>>16&255]]^u[o[s>>>8&255]]^g[o[255&s]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,s,c,l,o)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,p,d,u,g,r),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,i,o,r,a,s){for(var c=this._nRounds,l=t[e]^n[0],p=t[e+1]^n[1],d=t[e+2]^n[2],u=t[e+3]^n[3],g=4,h=1;h<c;h++){var b=i[l>>>24]^o[p>>>16&255]^r[d>>>8&255]^a[255&u]^n[g++],f=i[p>>>24]^o[d>>>16&255]^r[u>>>8&255]^a[255&l]^n[g++],m=i[d>>>24]^o[u>>>16&255]^r[l>>>8&255]^a[255&p]^n[g++],v=i[u>>>24]^o[l>>>16&255]^r[p>>>8&255]^a[255&d]^n[g++];l=b,p=f,d=m,u=v}b=(s[l>>>24]<<24|s[p>>>16&255]<<16|s[d>>>8&255]<<8|s[255&u])^n[g++],f=(s[p>>>24]<<24|s[d>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^n[g++],m=(s[d>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&p])^n[g++],v=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[p>>>8&255]<<8|s[255&d])^n[g++],t[e]=b,t[e+1]=f,t[e+2]=m,t[e+3]=v},keySize:8});t.AES=e._createHelper(b)}(),i.AES)},xweI:function(t,e,n){var i=n("XGnz"),o=n("alwl"),r=n("EA7m"),a=n("mv/X"),s=r((function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),o(t,i(e,1),[])}));t.exports=s},zLrd:function(t,e){var n,i=i||{};t.exports.chromeApi=i,i.EXTENSION_ID="kmendfapggjehodndflmmgagdbamhnfd",i.MessageTypes={U2F_REGISTER_REQUEST:"u2f_register_request",U2F_REGISTER_RESPONSE:"u2f_register_response",U2F_SIGN_REQUEST:"u2f_sign_request",U2F_SIGN_RESPONSE:"u2f_sign_response",U2F_GET_API_VERSION_REQUEST:"u2f_get_api_version_request",U2F_GET_API_VERSION_RESPONSE:"u2f_get_api_version_response"},i.ErrorCodes={OK:0,OTHER_ERROR:1,BAD_REQUEST:2,CONFIGURATION_UNSUPPORTED:3,DEVICE_INELIGIBLE:4,TIMEOUT:5},i.getMessagePort=function(t){"undefined"!=typeof chrome&&chrome.runtime?chrome.runtime.sendMessage(i.EXTENSION_ID,{type:i.MessageTypes.U2F_SIGN_REQUEST,signRequests:[]},(function(){chrome.runtime.lastError?i.getIframePort_(t):i.getChromeRuntimePort_(t)})):i.isAndroidChrome_()?i.getAuthenticatorPort_(t):i.isIosChrome_()?i.getIosPort_(t):i.getIframePort_(t)},i.isAndroidChrome_=function(){var t=navigator.userAgent;return-1!=t.indexOf("Chrome")&&-1!=t.indexOf("Android")},i.isIosChrome_=function(){return["iPhone","iPad","iPod"].indexOf(navigator.platform)>-1},i.getChromeRuntimePort_=function(t){var e=chrome.runtime.connect(i.EXTENSION_ID,{includeTlsChannelId:!0});setTimeout((function(){t(new i.WrappedChromeRuntimePort_(e))}),0)},i.getAuthenticatorPort_=function(t){setTimeout((function(){t(new i.WrappedAuthenticatorPort_)}),0)},i.getIosPort_=function(t){setTimeout((function(){t(new i.WrappedIosPort_)}),0)},i.WrappedChromeRuntimePort_=function(t){this.port_=t},i.formatSignRequest_=function(t,e,o,r,a){if(void 0===n||n<1.1){for(var s=[],c=0;c<o.length;c++)s[c]={version:o[c].version,challenge:e,keyHandle:o[c].keyHandle,appId:t};return{type:i.MessageTypes.U2F_SIGN_REQUEST,signRequests:s,timeoutSeconds:r,requestId:a}}return{type:i.MessageTypes.U2F_SIGN_REQUEST,appId:t,challenge:e,registeredKeys:o,timeoutSeconds:r,requestId:a}},i.formatRegisterRequest_=function(t,e,o,r,a){if(void 0===n||n<1.1){for(var s=0;s<o.length;s++)o[s].appId=t;var c=[];for(s=0;s<e.length;s++)c[s]={version:e[s].version,challenge:o[0],keyHandle:e[s].keyHandle,appId:t};return{type:i.MessageTypes.U2F_REGISTER_REQUEST,signRequests:c,registerRequests:o,timeoutSeconds:r,requestId:a}}return{type:i.MessageTypes.U2F_REGISTER_REQUEST,appId:t,registerRequests:o,registeredKeys:e,timeoutSeconds:r,requestId:a}},i.WrappedChromeRuntimePort_.prototype.postMessage=function(t){this.port_.postMessage(t)},i.WrappedChromeRuntimePort_.prototype.addEventListener=function(t,e){var n=t.toLowerCase();"message"==n||"onmessage"==n?this.port_.onMessage.addListener((function(t){e({data:t})})):console.error("WrappedChromeRuntimePort only supports onMessage")},i.WrappedAuthenticatorPort_=function(){this.requestId_=-1,this.requestObject_=null},i.WrappedAuthenticatorPort_.prototype.postMessage=function(t){var e=i.WrappedAuthenticatorPort_.INTENT_URL_BASE_+";S.request="+encodeURIComponent(JSON.stringify(t))+";end";document.location=e},i.WrappedAuthenticatorPort_.prototype.getPortType=function(){return"WrappedAuthenticatorPort_"},i.WrappedAuthenticatorPort_.prototype.addEventListener=function(t,e){"message"==t.toLowerCase()?window.addEventListener("message",this.onRequestUpdate_.bind(this,e),!1):console.error("WrappedAuthenticatorPort only supports message")},i.WrappedAuthenticatorPort_.prototype.onRequestUpdate_=function(t,e){var n=JSON.parse(e.data),i=null;n.hasOwnProperty("data")&&(i=JSON.parse(n.data)),t({data:i})},i.WrappedAuthenticatorPort_.INTENT_URL_BASE_="intent:#Intent;action=com.google.android.apps.authenticator.AUTHENTICATE",i.WrappedIosPort_=function(){},i.WrappedIosPort_.prototype.postMessage=function(t){var e=JSON.stringify(t),n="u2f://auth?"+encodeURI(e);location.replace(n)},i.WrappedIosPort_.prototype.getPortType=function(){return"WrappedIosPort_"},i.WrappedIosPort_.prototype.addEventListener=function(t,e){"message"!==t.toLowerCase()&&console.error("WrappedIosPort only supports message")},i.getIframePort_=function(t){var e="chrome-extension://"+i.EXTENSION_ID,n=document.createElement("iframe");n.src=e+"/u2f-comms.html",n.setAttribute("style","display:none"),document.body.appendChild(n);var o=new MessageChannel,r=function(e){"ready"==e.data?(o.port1.removeEventListener("message",r),t(o.port1)):console.error('First event on iframe port was not "ready"')};o.port1.addEventListener("message",r),o.port1.start(),n.addEventListener("load",(function(){n.contentWindow.postMessage("init",e,[o.port2])}))},i.EXTENSION_TIMEOUT_SEC=30,i.port_=null,i.waitingForPort_=[],i.reqCounter_=0,i.callbackMap_={},i.getPortSingleton_=function(t){i.port_?t(i.port_):(0==i.waitingForPort_.length&&i.getMessagePort((function(t){for(i.port_=t,i.port_.addEventListener("message",i.responseHandler_);i.waitingForPort_.length;)i.waitingForPort_.shift()(i.port_)})),i.waitingForPort_.push(t))},i.responseHandler_=function(t){var e=t.data,n=e.requestId;if(n&&i.callbackMap_[n]){var o=i.callbackMap_[n];delete i.callbackMap_[n],o(e.responseData)}else console.error("Unknown or missing requestId in response.")},i.isSupported=function(t){var e=!1;function o(n){e||(e=!0,t(n))}i.getApiVersion((function(t){n=void 0===t.js_api_version?0:t.js_api_version,o(!0)})),setTimeout(o.bind(null,!1),1500)},i.sign=function(t,e,o,r,a){void 0===n?i.getApiVersion((function(s){n=void 0===s.js_api_version?0:s.js_api_version,console.log("Extension JS API Version: ",n),i.sendSignRequest(t,e,o,r,a)})):i.sendSignRequest(t,e,o,r,a)},i.sendSignRequest=function(t,e,n,o,r){i.getPortSingleton_((function(a){var s=++i.reqCounter_;i.callbackMap_[s]=o;var c=i.formatSignRequest_(t,e,n,void 0!==r?r:i.EXTENSION_TIMEOUT_SEC,s);a.postMessage(c)}))},i.register=function(t,e,o,r,a){void 0===n?i.getApiVersion((function(s){n=void 0===s.js_api_version?0:s.js_api_version,console.log("Extension JS API Version: ",n),i.sendRegisterRequest(t,e,o,r,a)})):i.sendRegisterRequest(t,e,o,r,a)},i.sendRegisterRequest=function(t,e,n,o,r){i.getPortSingleton_((function(a){var s=++i.reqCounter_;i.callbackMap_[s]=o;var c=i.formatRegisterRequest_(t,n,e,void 0!==r?r:i.EXTENSION_TIMEOUT_SEC,s);a.postMessage(c)}))},i.getApiVersion=function(t,e){i.getPortSingleton_((function(n){if(n.getPortType){var o;switch(n.getPortType()){case"WrappedIosPort_":case"WrappedAuthenticatorPort_":o=1.1;break;default:o=0}t({js_api_version:o})}else{var r=++i.reqCounter_;i.callbackMap_[r]=t,n.postMessage({type:i.MessageTypes.U2F_GET_API_VERSION_REQUEST,timeoutSeconds:void 0!==e?e:i.EXTENSION_TIMEOUT_SEC,requestId:r})}}))}}}]);